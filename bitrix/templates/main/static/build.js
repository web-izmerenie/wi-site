require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Basic modules wrapper
 *
 * @author Viacheslav Lotsmanov
 */
var $, b;
$ = require('jquery');
module.exports = {
  getVal: null,
  getLocalText: null,
  loadImg: null,
  dynamicApi: null,
  init: null
};
b = module.exports;
module.exports.init = function(cb){
  $(function(){
    var $html, required, GetVal, GetLocalText, LoadImg, DynamicApi, values, localization, $head, $curLink, timerId, href, $newLink, timeout, failCb;
    $html = $('html');
    required = {
      lang: $html.attr('lang')
    };
    GetVal = require('get-val');
    GetLocalText = require('get-local-text');
    LoadImg = require('load-img');
    DynamicApi = require('dynamic-api');
    values = require('./values');
    localization = require('./localization');
    b.getVal = new GetVal(values, required);
    b.getLocalText = new GetLocalText(localization, b.getVal('lang', true));
    b.loadImg = new LoadImg(b.getVal('load-img-timeout', true));
    b.dynamicApi = new DynamicApi(b.getVal('dynamic-api-interval', true));
    $head = $html.find('head');
    $curLink = $head.find('link.main-styles');
    if ($curLink.length <= 0 || !$curLink.attr('href')) {
      window.alert(b.getLocalText('err', 'styles', 'path-detect'));
    }
    timerId = null;
    href = $curLink.attr('href');
    $newLink = $('<link/>', {
      type: 'text/css',
      rel: 'stylesheet'
    });
    $newLink.load(function(){
      clearTimeout(timerId);
      b.getVal.set('styles-href', href);
      setTimeout(cb, 0);
    });
    timeout = (function(it){
      return it * 1000;
    })(
    b.getVal('styles-load-timeout', true));
    failCb = function(){
      window.alert(b.getLocalText('err', 'styles', 'load-timeout'));
    };
    timerId = setTimeout(failCb, timeout);
    $newLink.attr('href', href);
    $head.append($newLink);
  });
};
},{"./localization":15,"./values":33,"dynamic-api":"GEQ9xS","get-local-text":"kBfB95","get-val":"8ZOGhp","jquery":"IV5zFA","load-img":"CDS7yq"}],2:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * footer
 *
 * @author Viacheslav Lotsmanov
 */
require('./size-calculator');
require('./icons-generator');
},{"./icons-generator":3,"./size-calculator":4}],3:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * footer icons generator by SVG icons
 *
 * @author Viacheslav Lotsmanov
 */
var $, ref$, each, map, pairsToObj, Snap, $footer, $linksBlock;
$ = require('jquery');
ref$ = require('prelude'), each = ref$.each, map = ref$.map, pairsToObj = ref$.pairsToObj;
Snap = require('Snap.svg');
$footer = $('footer');
$linksBlock = $footer.find('.footer-links');
$linksBlock.find('ul>li').each(function(){
  var $li, $a, iconPath;
  $li = $(this);
  $a = $li.find('a');
  iconPath = $li.attr('data-icon');
  if (!iconPath) {
    return;
  }
  Snap.load(iconPath, function(f){
    var icon, inactive, active, both, fill, colors;
    icon = f.select('#icon').addClass('icon').attr({
      id: ''
    });
    inactive = function(it){
      return it.append(f);
    }(
    Snap());
    active = inactive.clone();
    both = [inactive, active];
    each(function(axis){
      each(function(it){
        it.attr(axis, it.select('svg').attr(axis));
      })(
      both);
    })(
    ['width', 'height']);
    fill = curry$(function(color, el){
      return each(function(it){
        if (it != null) {
          it.attr({
            fill: color
          });
        }
      })(
      function(it){
        return [it, it.selectAll('*')];
      }(
      function(it){
        return it.select('.icon');
      }(
      el)));
    });
    colors = pairsToObj(
    map(function(it){
      return [it, $a.find("ins." + it).css('color')];
    })(
    each(function(it){
      $a.append("<ins class='" + it + "' />");
    })(
    ['inactive', 'active'])));
    fill(colors.inactive)(
    inactive.attr({
      'class': 'inactive'
    }));
    fill(colors.active)(
    active.attr({
      'class': 'active'
    }));
    each(function(it){
      return it.appendTo($a.get(0));
    })(
    both);
  });
});
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{"Snap.svg":"DkwsM0","jquery":"IV5zFA","prelude":"iujHG2"}],4:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * size calculator for footer
 *
 * @author Viacheslav Lotsmanov
 */
var ref$, map, each, listsToObj, objToPairs, pairsToObj, Str, Obj, camelize, $, getVal, getRelScreenSize, sizeCalcHelpers, $w, $body, $footer, $text, $textP, $linksBlock, $prop, bindSuffix, widths, valsSrc, vals, calc;
ref$ = require('prelude'), map = ref$.map, each = ref$.each, listsToObj = ref$.listsToObj, objToPairs = ref$.objToPairs, pairsToObj = ref$.pairsToObj, Str = ref$.Str, Obj = ref$.Obj, camelize = ref$.camelize;
$ = require('jquery');
getVal = require('../basics').getVal;
getRelScreenSize = require('../get-rel-screen-size');
sizeCalcHelpers = require('../size-calc-helpers');
$w = $(window);
$body = $('body');
$footer = $('footer');
$text = $footer.find('.text');
$textP = $text.find('>p');
$linksBlock = $footer.find('.footer-links');
$prop = $body.find('>.top-part>.prop');
bindSuffix = '.footer-size-calc';
widths = getVal(
'responsive-widths');
valsSrc = getVal(
'footer');
vals = Obj.map(map(function(it){
  return listsToObj([it])(
  [valsSrc[it]]);
}))(
pairsToObj(
map(function(it){
  return [
    Str.unchars(
    map(Str.take(1))(
    it)), it
  ];
})(
[['small', 'middle'], ['middle', 'big']])));
calc = Obj.map(function(it){
  return Obj.map(it)(
  vals);
})(
pairsToObj(
map(function(it){
  return [it, sizeCalcHelpers[it]];
})(
map(camelize)(
['get-rel-vals', 'set-typical-sizes']))));
$w.on("resize" + bindSuffix, function(){
  var screenW, rangeKey;
  screenW = getRelScreenSize().screenW;
  if ($body.hasClass('loaded')) {
    (function(elKey, vals){
      vals = calc.getRelVals.mb(elKey)(vals);
      $footer.css({
        height: vals.height,
        marginTop: -vals.height
      });
      $prop.css({
        height: vals.height
      });
    }.call(this, 'footer', ['height']));
  }
  each(function(it){
    calc.setTypicalSizes.mb(it[0], it[1]);
  })(
  objToPairs(
  {
    'links': $linksBlock,
    'copyright-text-p': $textP
  }));
  rangeKey = function(){
    switch (false) {
    case !(screenW >= widths.middle):
      return 'mb';
    default:
      return 'sm';
    }
  }();
  each(function(it){
    calc.setTypicalSizes[rangeKey](it[0], it[1]);
  })(
  objToPairs(
  {
    'copyright-text-block': $text
  }));
});
$w.trigger("resize" + bindSuffix);
},{"../basics":1,"../get-rel-screen-size":5,"../size-calc-helpers":32,"jquery":"IV5zFA","prelude":"iujHG2"}],5:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * @author Viacheslav Lotsmanov
 */
var $, getVal, ratio, $w;
$ = require('jquery');
getVal = require('./basics').getVal;
ratio = getVal('workspace-ratio');
$w = $(window);
module.exports = function(){
  var screenW, screenWAbs, screenH, testH;
  screenW = $w.width();
  screenWAbs = screenW;
  screenH = $w.height();
  testH = (function(it){
    return it / ratio[0];
  })(
  (function(it){
    return it * ratio[1];
  })(
  screenW));
  if (testH > screenH) {
    screenW = (function(it){
      return it / ratio[1];
    })(
    (function(it){
      return it * ratio[0];
    })(
    screenH));
  }
  return {
    screenW: screenW,
    screenWAbs: screenWAbs,
    screenH: screenH
  };
};
},{"./basics":1,"jquery":"IV5zFA"}],6:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Has DOM-element by hash
 * Checking if element exists with id by specific hash (safe for correct jQuery selector).
 *
 * @author Viacheslav Lotsmanov
 */
var ref$, dropWhile, drop, $;
ref$ = require('prelude'), dropWhile = ref$.dropWhile, drop = ref$.drop;
$ = require('jquery');
module.exports = function(url){
  var hash, hashId, correctHash;
  hash = dropWhile((function(it){
    return it !== '#';
  }))(
  url);
  hashId = drop(1)(
  hash);
  correctHash = /^[a-zA-Z0-9-_]+$/.exec(hashId);
  if (!correctHash) {
    return false;
  }
  return $(hash).length > 0;
};
},{"jquery":"IV5zFA","prelude":"iujHG2"}],7:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Hash navigation watcher
 *
 * @author Viacheslav Lotsmanov
 */
var $, interval, bindSuffix, $w, timerId, lastRoute, watcher, init, destroy, out$ = typeof exports != 'undefined' && exports || this;
$ = require('jquery');
interval = 500;
bindSuffix = '.hash-nav-watcher';
$w = $(window);
timerId = null;
lastRoute = null;
watcher = function(){
  var currentRoute;
  currentRoute = window.location.hash.slice(1);
  if (currentRoute !== lastRoute) {
    $w.trigger('hash-navigated', currentRoute);
    lastRoute = currentRoute;
  }
};
out$.init = init = function(initRoute){
  initRoute == null && (initRoute = null);
  if (timerId != null) {
    throw new Error('Already initialized');
  }
  if (initRoute != null) {
    lastRoute = initRoute;
  }
  timerId = setInterval(watcher, interval);
  $w.on("hash-nav-handle" + bindSuffix, watcher);
};
out$.destroy = destroy = function(){
  $w.off("hash-nav-handle" + bindSuffix, watcher);
  clearInterval(timerId);
  timerId = null;
  lastRoute = null;
};
},{"jquery":"IV5zFA"}],8:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * detect current anchor by scroll
 *
 * @author Viacheslav Lotsmanov
 */
var $, jquery, ref$, all, map, pairsToObj, objToPairs, Obj, fold1, getVal, hasElByHash, $w, $html, $page, $body, $header, $menu, $nav, $navLinks, $heightHelper, $generalCards, $cards, mainPage, bindSuffix, pathname, curPageHashes, isCardHash, lastCardHash, hashHandler, scrollHandler;
$ = require('jquery');
jquery = require('jquery.timers');
ref$ = require('prelude'), all = ref$.all, map = ref$.map, pairsToObj = ref$.pairsToObj, objToPairs = ref$.objToPairs, Obj = ref$.Obj, fold1 = ref$.fold1;
getVal = require('../basics').getVal;
hasElByHash = require('../has-el-by-hash');
$w = $(window);
$html = $('html');
$page = $('html, body');
$body = $html.find('body');
$header = $body.find('header');
$menu = $header.find('.menu');
$nav = $menu.find('nav');
$navLinks = $nav.find('a');
$heightHelper = $header.find('.height-helper');
$generalCards = $body.find('.general-cards');
$cards = $generalCards.find('.card');
mainPage = $html.hasClass('general-page');
bindSuffix = '.header-menu-auto-detect-current-anchor';
pathname = window.location.pathname;
curPageHashes = pairsToObj(
(function(it){
  return it.concat(map(function(it){
    return [
      it.hash, {
        $section: $(it.hash),
        $navLink: $(it)
      }
    ];
  })(
  $navLinks));
})(
(function(it){
  return it.concat(map(function(it){
    var $section;
    $section = $(it);
    return [
      "#" + $section.attr('id'), {
        $section: $section,
        $navLink: null
      }
    ];
  })(
  $cards));
})(
[])));
isCardHash = compose$(function(it){
  return it.indexOf('#card-n');
}, (function(it){
  return it === 0;
}));
lastCardHash = null;
hashHandler = function(_, route){
  var routeWithHash;
  routeWithHash = "#" + route;
  if (isCardHash(
  routeWithHash)) {
    lastCardHash = routeWithHash;
  }
};
scrollHandler = function(){
  var st, stof, newHash, $navLink;
  if ($body.hasClass('scrolling')) {
    return;
  }
  st = $w.scrollTop();
  stof = st + $heightHelper.height();
  newHash = function(it){
    var hash;
    if (it == null) {
      return null;
    }
    hash = it[0];
    if (isCardHash(
    hash)) {
      return '#card-n0';
    } else {
      return hash;
    }
  }(
  fold1(function(a, b){
    if (b[1] >= a[1]) {
      return b;
    } else {
      return a;
    }
  })(
  objToPairs(
  Obj.filter((function(it){
    return it <= stof;
  }))(
  Obj.map(function(it){
    return it.$section.offset().top;
  })(
  Obj.filter(function(it){
    return it.$section.is(':visible');
  })(
  curPageHashes))))));
  if (newHash != null && newHash !== window.location.hash) {
    $navLinks.removeClass('active');
    $navLink = curPageHashes[newHash].$navLink;
    $nav.stopTime('header-size-calc');
    if ($navLink != null) {
      $navLink.addClass('active');
    }
    (function(it){
      var hashToSet;
      if (it) {
        hashToSet = (function(){
          switch (false) {
          case !(isCardHash(
          newHash) && lastCardHash != null):
            return lastCardHash;
          default:
            return newHash;
          }
        }());
        window.history.replaceState(null, null, hashToSet);
        $nav.oneTime(getVal(
        'animation-speed'), 'header-size-calc', function(){
          $w.trigger('scroll.header-size-calc');
        });
      }
    })(
    not$(
    all(isCardHash)(
    [newHash, window.location.hash])));
  }
};
$w.on("scroll" + bindSuffix, scrollHandler).on("resize" + bindSuffix, scrollHandler).on("hash-navigated" + bindSuffix, hashHandler);
$w.trigger("hash-navigated" + bindSuffix, window.location.hash.slice(1));
function compose$() {
  var functions = arguments;
  return function() {
    var i, result;
    result = functions[0].apply(this, arguments);
    for (i = 1; i < functions.length; ++i) {
      result = functions[i](result);
    }
    return result;
  };
}
function not$(x){ return !x; }
},{"../basics":1,"../has-el-by-hash":6,"jquery":"IV5zFA","jquery.timers":"s0jbHE","prelude":"iujHG2"}],9:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * show or hide header block by scroll
 *
 * @author Viacheslav Lotsmanov
 */
var $, $w, $html, $body, $header, $heightHelper, $cards, mainPage, bindSuffix, scrollHandler;
$ = require('jquery');
$w = $(window);
$html = $('html');
$body = $html.find('body');
$header = $body.find('header');
$heightHelper = $header.find('.height-helper');
$cards = $('.general-cards');
mainPage = $html.hasClass('general-page');
if (!mainPage) {
  $header.addClass('scroll-menu-active');
  return;
}
bindSuffix = '.header-menu-show-after-cards';
scrollHandler = function(){
  var st;
  st = $w.scrollTop() + $heightHelper.height();
  if (st >= $cards.height()) {
    $header.addClass('scroll-menu-active');
  } else {
    $header.removeClass('scroll-menu-active');
  }
};
$w.on("scroll" + bindSuffix, scrollHandler).on("resize" + bindSuffix, scrollHandler);
scrollHandler();
},{"jquery":"IV5zFA"}],10:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Header
 *
 * @author Viacheslav Lotsmanov
 */
var $, getVal, linkHandler, $html, $body, $header, $logo, $callMenu, $menu, $nav, $navLinks, mainPage, sizes, $helper;
$ = require('jquery');
getVal = require('../basics').getVal;
linkHandler = require('../link-handler');
$html = $('html');
$body = $html.find('body');
$header = $body.find('header');
$logo = $header.find('.logo');
$callMenu = $header.find('.call-menu');
$menu = $header.find('.menu');
$nav = $menu.find('nav');
$navLinks = $nav.find('a');
mainPage = $html.hasClass('general-page');
sizes = getVal('header');
$logo.click(linkHandler);
$helper = $('<div/>', {
  'class': 'centering-helper'
});
$nav.append($helper);
$callMenu.click(function(){
  if (mainPage && !$body.hasClass('loaded')) {
    return false;
  }
  if ($header.hasClass('menu-active')) {
    $header.removeClass('menu-active');
  } else {
    $nav.css('top', '');
    $header.addClass('menu-active');
  }
  $header.trigger('menu-state-changed');
  return false;
});
$navLinks.click(linkHandler);
require('./fixed-header-block');
require('./anchor-detector');
require('./size-calculator');
},{"../basics":1,"../link-handler":14,"./anchor-detector":8,"./fixed-header-block":9,"./size-calculator":11,"jquery":"IV5zFA"}],11:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * recalculating header size by workspace size
 *
 * @author Viacheslav Lotsmanov
 */
var ref$, map, camelize, listsToObj, reject, each, Obj, objToPairs, pairsToObj, $, getVal, relnum, getRelScreenSize, $w, $html, $head, $body, $header, $heightHelper, $fixedHeader, $bgHelper, $topPart, $allLogos, $cardN0Logo, $logo, $allLogosText, $allLogosImg, $logoText, $callMenu, $menu, $nav, $navItems, bindSuffix, subPage, widths, sizes, speed, getHeaderVals, getLogoVals, getCallMenuVals, getNavVals, normalScreenReset, updateSizeClass, slice$ = [].slice;
ref$ = require('prelude'), map = ref$.map, camelize = ref$.camelize, listsToObj = ref$.listsToObj, reject = ref$.reject, each = ref$.each, Obj = ref$.Obj, objToPairs = ref$.objToPairs, pairsToObj = ref$.pairsToObj;
$ = require('jquery');
getVal = require('../basics').getVal;
relnum = require('relative-number');
getRelScreenSize = require('../get-rel-screen-size');
require('jquery.transit');
$w = $(window);
$html = $('html');
$head = $html.find('head');
$body = $html.find('body');
$header = $body.find('header');
$heightHelper = $header.find('.height-helper');
$fixedHeader = $header.find('.fixed-header');
$bgHelper = $fixedHeader.find('.bg-helper');
$topPart = $body.find('.top-part');
$allLogos = $header.find('.logo');
$cardN0Logo = $header.find('>.logo');
$logo = $allLogos.not($cardN0Logo);
$allLogosText = $allLogos.find('.logo-text');
$allLogosImg = $allLogos.find('.logo-image');
$logoText = $logo.find('.logo-text');
$callMenu = $header.find('.call-menu');
$menu = $header.find('.menu');
$nav = $menu.find('nav');
$navItems = $nav.find('>.wrap>a, >.wrap>span');
bindSuffix = '.header-size-calc';
subPage = $html.hasClass('sub-page');
widths = getVal(
'responsive-widths');
sizes = getVal(
'header');
speed = (function(it){
  return it * 2;
})(
getVal(
'animation-speed'));
getHeaderVals = function(arg$){
  var helper, ref$, fixedHeader, screenW, relnumOpts, height, width;
  helper = (ref$ = arg$.helper) != null ? ref$ : false, fixedHeader = (ref$ = arg$.fixedHeader) != null ? ref$ : false;
  screenW = getRelScreenSize().screenW;
  relnumOpts = {
    relVal: screenW,
    relMin: widths.middle,
    relMax: widths.big
  };
  height = function(){
    switch (false) {
    case !(screenW >= widths.middle):
      return Math.round(relnum(importAll$(clone$(relnumOpts), {
        min: sizes.middle.height,
        max: sizes.big.height
      })));
    case !(screenW >= widths.small):
      return sizes.middle.height;
    case !helper:
      return sizes.small.helperHeight;
    case !fixedHeader:
      return '100%';
    default:
      return sizes.small.height;
    }
  }();
  width = screenW <= widths.small ? sizes.small.width : '100%';
  if (fixedHeader) {
    width = '100%';
  }
  return {
    width: width,
    height: height
  };
};
getLogoVals = function(){
  var screenW, relnumOpts, size, left, topMin, topMax, top, textVal, keys, text;
  screenW = getRelScreenSize().screenW;
  relnumOpts = {
    relVal: screenW,
    relMin: widths.middle,
    relMax: widths.big
  };
  size = function(){
    switch (false) {
    case !(screenW >= widths.middle):
      return Math.round(relnum(importAll$(clone$(relnumOpts), {
        min: sizes.middle.logo.size,
        max: sizes.big.logo.size
      })));
    case !(screenW >= widths.small):
      return Math.round(relnum(importAll$(clone$(relnumOpts), {
        relMin: widths.small,
        relMax: widths.middle,
        min: sizes.small.logo.size,
        max: sizes.middle.logo.size
      })));
    default:
      return sizes.small.logo.size;
    }
  }();
  left = sizes.all.logo.left;
  topMin = (function(it){
    return it / 2;
  })(
  (function(it){
    return it - sizes.middle.logo.size;
  })(
  sizes.middle.height));
  topMax = (function(it){
    return it / 2;
  })(
  (function(it){
    return it - sizes.big.logo.size;
  })(
  sizes.big.height));
  top = Math.round(relnum(importAll$(clone$(relnumOpts), {
    min: topMin,
    max: topMax
  })));
  textVal = function(key){
    switch (false) {
    case !(screenW >= widths.middle):
      return Math.round(relnum(importAll$(clone$(relnumOpts), {
        min: sizes.middle.logo.text[key],
        max: sizes.big.logo.text[key]
      })));
    case !(screenW >= widths.small):
      return Math.round(relnum(importAll$(clone$(relnumOpts), {
        relMin: widths.small,
        relMax: widths.middle,
        min: sizes.small.logo.text[key],
        max: sizes.middle.logo.text[key]
      })));
    default:
      return sizes.small.logo.text[key];
    }
  };
  keys = map(camelize)(
  ['margin-left', 'font-size', 'line-height']);
  text = listsToObj(keys)(
  map(textVal)(
  keys));
  return {
    size: size,
    left: left,
    top: top,
    text: text
  };
};
getCallMenuVals = function(){
  var screenW, relnumOpts, valCalc, keys;
  screenW = getRelScreenSize().screenW;
  relnumOpts = {
    relVal: screenW,
    relMin: widths.middle,
    relMax: widths.big
  };
  valCalc = function(key){
    switch (false) {
    case !(screenW >= widths.middle):
      return relnum(importAll$(clone$(relnumOpts), {
        min: sizes.middle.callMenu[key],
        max: sizes.big.callMenu[key]
      }));
    case !(screenW >= widths.small):
      return relnum(importAll$(clone$(relnumOpts), {
        relMin: widths.small,
        relMax: widths.middle,
        min: sizes.small.callMenu[key],
        max: sizes.middle.callMenu[key]
      }));
    default:
      return sizes.small.callMenu[key];
    }
  };
  keys = map(camelize)(
  ['right', 'top', 'scale']);
  return pairsToObj(
  map(function(it){
    if (it[0] !== 'scale') {
      it[1] = Math.round(it[1]);
    }
    return it;
  })(
  objToPairs(
  listsToObj(keys)(
  map(valCalc)(
  keys)))));
};
getNavVals = function(){
  var screenW, relnumOpts, res, valCalc, keys, top, itemCalc, item;
  screenW = getRelScreenSize().screenW;
  relnumOpts = {
    relVal: screenW,
    relMin: widths.middle,
    relMax: widths.big
  };
  res = {};
  valCalc = function(key){
    switch (false) {
    case !(screenW >= widths.middle):
      return Math.round(relnum(importAll$(clone$(relnumOpts), {
        min: sizes.middle.nav[key],
        max: sizes.big.nav[key]
      })));
    case !(screenW >= widths.small):
      return sizes.middle.nav[key];
    default:
      return sizes.small.nav[key];
    }
  };
  keys = map(camelize)(
  ['right']);
  importAll$(res, listsToObj(keys)(
  map(valCalc)(
  keys)));
  top = function(){
    switch (false) {
    case !(screenW >= widths.middle):
      return sizes.big.nav.top;
    case !(screenW >= widths.small):
      return sizes.middle.nav.top;
    default:
      return sizes.small.nav.top;
    }
  }();
  itemCalc = function(key){
    switch (false) {
    case !(screenW < widths.small && key === camelize(
    'padding-top')):
      return '';
    case !(screenW >= widths.middle):
      return Math.round(relnum(importAll$(clone$(relnumOpts), {
        min: sizes.middle.nav.item[key],
        max: sizes.big.nav.item[key]
      })));
    case !(screenW >= widths.small):
      return sizes.middle.nav.item[key];
    default:
      return sizes.small.nav.item[key];
    }
  };
  keys = map(camelize)(
  ['font-size', 'padding-top']);
  item = listsToObj(keys)(
  map(itemCalc)(
  keys));
  return importAll$(res, {
    top: top,
    item: item
  });
};
$header.on('menu-state-changed', function(){
  var screenW, lastClass, curClass, menuReset, css;
  if (!$body.hasClass('loaded')) {
    return;
  }
  screenW = getRelScreenSize().screenW;
  lastClass = $header.data('last-size-class');
  curClass = $body.data('size-class');
  if (screenW >= widths.small) {
    menuReset = {
      minWidth: '',
      maxWidth: '',
      width: ''
    };
    if ($header.hasClass('menu-active') || $header.hasClass('scroll-menu-active')) {
      css = {
        height: $heightHelper.height()
      };
    } else {
      css = {
        height: 0
      };
    }
    if (lastClass !== curClass) {
      $menu.stop().css(menuReset).css(css);
      $fixedHeader.stop().css(css);
    } else {
      $menu.stop().css(menuReset).transition(css, speed);
      $fixedHeader.stop().transition(css, speed);
    }
  } else {
    menuReset = {
      height: '100%',
      minWidth: 0,
      maxWidth: sizes.small.width
    };
    $fixedHeader.css({
      width: ''
    });
    if ($header.hasClass('menu-active')) {
      css = {
        width: sizes.small.width
      };
    } else {
      css = {
        width: 0
      };
    }
    if (lastClass !== curClass) {
      $menu.stop().css(menuReset).css(css);
      $fixedHeader.stop().css(css);
    } else {
      $menu.stop().css(menuReset).transition(css, speed);
      $fixedHeader.stop().transition(css);
    }
  }
  if (lastClass !== curClass) {
    $header.data('last-size-class', curClass);
  }
});
$w.on("scroll" + bindSuffix, function(){
  var logoVals, screenW, ls, ms;
  if (!$body.hasClass('loaded')) {
    return;
  }
  logoVals = getLogoVals();
  $cardN0Logo.css({
    top: logoVals.top + "px",
    left: logoVals.left + "px"
  });
  $callMenu.css({
    marginTop: 0
  });
  screenW = getRelScreenSize().screenW;
  if ($header.hasClass('scroll-menu-active')) {
    if (screenW >= widths.small) {
      $bgHelper.css({
        height: $heightHelper.height()
      });
    } else {
      $bgHelper.css({
        height: sizes.small.helperHeight
      });
      $cardN0Logo.css({
        left: sizes.small.logo.scroll.left + "px",
        top: sizes.small.logo.scroll.top + "px"
      });
      $callMenu.css({
        marginTop: sizes.small.callMenu.marginTop + "px"
      });
    }
  } else {
    $bgHelper.css({
      height: ''
    });
  }
  $header.trigger('menu-state-changed');
  switch (false) {
  case !(screenW >= widths.small):
    ls = $logo.width() + $logo.offset().left;
    ms = $nav.width() + (parseInt($nav.css('right'), 10) || 0);
    if ($header.width() - ls - ms <= 15) {
      $logo.addClass('no-text');
    } else {
      $logo.removeClass('no-text');
    }
    break;
  default:
    $logo.removeClass('no-text');
  }
});
normalScreenReset = function(){
  $fixedHeader.css({
    left: 0,
    right: 'auto',
    maxWidth: '',
    minWidth: ''
  });
  $logo.css({
    display: ''
  });
};
updateSizeClass = function(sizeCode){
  var sizes, sizeClassF;
  sizes = ['small', 'middle', 'big'];
  sizeClassF = (function(it){
    return it + '-size';
  });
  each(partialize$.apply($body, [$body.removeClass, [void 8], [0]]))(
  map(sizeClassF)(
  reject((function(it){
    return it === sizeCode;
  }))(
  sizes)));
  each(partialize$.apply($body, [$body.data, ['size-class', void 8], [1]]))(
  each(partialize$.apply($body, [$body.addClass, [void 8], [0]]))(
  map(sizeClassF)(
  [sizeCode])));
};
$w.on("resize" + bindSuffix, function(){
  var ref$, screenW, screenH, fixedHeader, headerHelper, logoVals, callMenuVals, navVals, relnumOpts;
  if (!$body.hasClass('loaded')) {
    return;
  }
  ref$ = getRelScreenSize(), screenW = ref$.screenW, screenH = ref$.screenH;
  if (screenW >= widths.small) {
    normalScreenReset();
  }
  fixedHeader = getHeaderVals({
    fixedHeader: true
  });
  headerHelper = getHeaderVals({
    helper: true
  });
  logoVals = getLogoVals();
  callMenuVals = getCallMenuVals();
  navVals = getNavVals();
  relnumOpts = {
    relVal: screenW
  };
  if (screenW >= widths.middle) {
    updateSizeClass('big');
  } else if (screenW >= widths.small) {
    updateSizeClass('middle');
  } else {
    updateSizeClass('small');
    $fixedHeader.css({
      left: 'auto',
      right: 0,
      maxWidth: fixedHeader.width,
      minWidth: 0
    });
    $logo.css({
      display: 'none'
    });
  }
  $heightHelper.css({
    height: headerHelper.height
  });
  $fixedHeader.css({
    width: fixedHeader.width,
    height: fixedHeader.height
  });
  if (subPage) {
    $topPart.css({
      paddingTop: headerHelper.height
    });
  }
  $logo.css({
    left: logoVals.left,
    top: logoVals.top
  });
  $allLogosImg.css({
    width: logoVals.size + "px",
    height: logoVals.size + "px"
  });
  $allLogosText.css({
    marginLeft: logoVals.text.marginLeft + "px",
    fontSize: logoVals.text.fontSize + "px",
    lineHeight: logoVals.text.lineHeight + "px"
  });
  $callMenu.css({
    right: callMenuVals.right + "px",
    top: callMenuVals.top + "px",
    transform: "scale(" + callMenuVals.scale + ")"
  });
  $nav.css({
    right: navVals.right + "px",
    top: navVals.top
  });
  $navItems.css({
    fontSize: navVals.item.fontSize + "px",
    lineHeight: (navVals.item.fontSize + 2) + "px",
    paddingTop: navVals.item.paddingTop
  });
  $header.css({
    height: 'auto'
  }).trigger('menu-state-changed');
  $w.trigger("scroll" + bindSuffix);
});
module.exports = {
  getHeaderVals: getHeaderVals,
  getLogoVals: getLogoVals
};
function importAll$(obj, src){
  for (var key in src) obj[key] = src[key];
  return obj;
}
function clone$(it){
  function fun(){} fun.prototype = it;
  return new fun;
}
function partialize$(f, args, where){
  var context = this;
  return function(){
    var params = slice$.call(arguments), i,
        len = params.length, wlen = where.length,
        ta = args ? args.concat() : [], tw = where ? where.concat() : [];
    for(i = 0; i < len; ++i) { ta[tw[0]] = params[i]; tw.shift(); }
    return len < wlen && len ?
      partialize$.apply(context, [f, ta, tw]) : f.apply(context, ta);
  };
}
},{"../basics":1,"../get-rel-screen-size":5,"jquery":"IV5zFA","jquery.transit":"dKxPCL","prelude":"iujHG2","relative-number":"0V6A5u"}],"s0jbHE":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {

; global.jQuery = require("jquery");
/**
 * jQuery.timers - Timer abstractions for jQuery
 * Written by Blair Mitchelmore (blair DOT mitchelmore AT gmail DOT com)
 * Licensed under the WTFPL (http://sam.zoy.org/wtfpl/).
 * Date: 2009/10/16
 *
 * @author Blair Mitchelmore
 * @version 1.2
 *
 **/

jQuery.fn.extend({
	everyTime: function(interval, label, fn, times) {
		return this.each(function() {
			jQuery.timer.add(this, interval, label, fn, times);
		});
	},
	oneTime: function(interval, label, fn) {
		return this.each(function() {
			jQuery.timer.add(this, interval, label, fn, 1);
		});
	},
	stopTime: function(label, fn) {
		return this.each(function() {
			jQuery.timer.remove(this, label, fn);
		});
	}
});

jQuery.extend({
	timer: {
		global: [],
		guid: 1,
		dataKey: "jQuery.timer",
		regex: /^([0-9]+(?:\.[0-9]*)?)\s*(.*s)?$/,
		powers: {
			// Yeah this is major overkill...
			'ms': 1,
			'cs': 10,
			'ds': 100,
			's': 1000,
			'das': 10000,
			'hs': 100000,
			'ks': 1000000
		},
		timeParse: function(value) {
			if (value == undefined || value == null)
				return null;
			var result = this.regex.exec(jQuery.trim(value.toString()));
			if (result[2]) {
				var num = parseFloat(result[1]);
				var mult = this.powers[result[2]] || 1;
				return num * mult;
			} else {
				return value;
			}
		},
		add: function(element, interval, label, fn, times) {
			var counter = 0;

			if (jQuery.isFunction(label)) {
				if (!times)
					times = fn;
				fn = label;
				label = interval;
			}

			interval = jQuery.timer.timeParse(interval);

			if (typeof interval != 'number' || isNaN(interval) || interval < 0)
				return;

			if (typeof times != 'number' || isNaN(times) || times < 0)
				times = 0;

			times = times || 0;

			var timers = jQuery.data(element, this.dataKey) || jQuery.data(element, this.dataKey, {});

			if (!timers[label])
				timers[label] = {};

			fn.timerID = fn.timerID || this.guid++;

			var handler = function() {
				if ((++counter > times && times !== 0) || fn.call(element, counter) === false)
					jQuery.timer.remove(element, label, fn);
			};

			handler.timerID = fn.timerID;

			if (!timers[label][fn.timerID])
				timers[label][fn.timerID] = window.setInterval(handler,interval);

			this.global.push( element );

		},
		remove: function(element, label, fn) {
			var timers = jQuery.data(element, this.dataKey), ret;

			if ( timers ) {

				if (!label) {
					for ( label in timers )
						this.remove(element, label, fn);
				} else if ( timers[label] ) {
					if ( fn ) {
						if ( fn.timerID ) {
							window.clearInterval(timers[label][fn.timerID]);
							delete timers[label][fn.timerID];
						}
					} else {
						for ( var fn in timers[label] ) {
							window.clearInterval(timers[label][fn]);
							delete timers[label][fn];
						}
					}

					for ( ret in timers[label] ) break;
					if ( !ret ) {
						ret = null;
						delete timers[label];
					}
				}

				for ( ret in timers ) break;
				if ( !ret )
					jQuery.removeData(element, this.dataKey);
			}
		}
	}
});

jQuery(window).bind("unload", function() {
	jQuery.each(jQuery.timer.global, function(index, item) {
		jQuery.timer.remove(item);
	});
});

}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":"IV5zFA"}],"jquery.timers":[function(require,module,exports){
module.exports=require('s0jbHE');
},{}],14:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Link handler module
 * Detect anchor in link and scrolling to anchor (if anchor on current page).
 *
 * @author Viacheslav Lotsmanov
 */
var empty, $, ref$, getLocalText, getVal, hasElByHash, $page, $html, $body, $header, $heightHelper, $navLinks, speed, scrolling;
empty = require('prelude').empty;
$ = require('jquery');
ref$ = require('./basics'), getLocalText = ref$.getLocalText, getVal = ref$.getVal;
hasElByHash = require('./has-el-by-hash');
$page = null;
$html = null;
$body = null;
$header = null;
$heightHelper = null;
$navLinks = null;
speed = (function(it){
  return it * 4;
})(
getVal(
'animation-speed'));
scrolling = false;
(function(it){
  module.exports = it;
})(function(){
  var href, pathname, hash, top;
  if (scrolling) {
    return false;
  }
  scrolling = true;
  if (!$html) {
    $page = $('html, body');
    $html = $('html');
    $body = $html.find('body');
    $header = $body.find('header');
    $heightHelper = $header.find('.height-helper');
    $navLinks = $header.find('.menu nav a');
  }
  $body.addClass('scrolling');
  href = this.href;
  pathname = this.pathname;
  hash = this.hash;
  if (empty(pathname)) {
    pathname = window.location.pathname;
  }
  if (pathname !== window.location.pathname) {
    return true;
  }
  if (!hasElByHash(hash)) {
    window.alert(getLocalText('err', 'detect-link-anchor', {
      '#LINK_HREF#': href
    }));
    scrolling = false;
    $body.removeClass('scrolling');
    return false;
  }
  $navLinks.each(function(){
    if (empty(this.pathname)) {
      this.pathname = window.location.pathname;
    }
    if (this.pathname !== pathname) {
      return;
    }
    if (this.pathname + this.hash === pathname + hash) {
      $(this).addClass('active');
    } else {
      $(this).removeClass('active');
    }
  });
  top = (function(it){
    return it + 1;
  })(
  (function(it){
    return it - $heightHelper.height();
  })(
  $(hash).offset().top));
  window.history.pushState(null, null, hash);
  $page.stop().animate({
    scrollTop: top
  }, speed, function(){
    (function(it){
      setTimeout(it, 100);
    })(function(){
      scrolling = false;
      $body.removeClass('scrolling');
    });
  });
  return false;
});
},{"./basics":1,"./has-el-by-hash":6,"jquery":"IV5zFA","prelude":"iujHG2"}],15:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Site localization
 *
 * @encoding utf-8
 * @author Viacheslav Lotsmanov
 */
module.exports = {
  'ru': {
    'err': {
      'styles': {
        'path-detect': 'Произошла ошибка при инициализации сайта.\n\nНе удалось обнаружить путь до файла стилей CSS.',
        'load-timeout': 'Произошла ошибка при инициализации сайта.\n\nИстекло время ожидания загрузки CSS стилей сайта.',
        'xhr-load': 'Произошла ошибка при инициализации сайта.\n\nНе удалось загрузить стили сайта.\n\nКод ошибки: #ERROR_CODE#'
      },
      'preload-img': 'Произошла ошибка при инициализации сайта.\n\nНе удалось осуществить загрузку изображения.\n\nПуть до изображения: "#IMAGE_SRC#"\n\nКод ошибки: #ERROR_CODE#',
      'preload-img-timeout': 'Произошла ошибка при инициализации сайта.\n\nНе удалось осуществить загрузку изображения.\n\nИстекло время ожидания.\n\nПуть до изображения: "#IMAGE_SRC#"',
      'detect-link-anchor': 'Произошла ошибка при попытке определить целевое назначение ссылки.\n\nНе обнаружен блок для перехода по ссылке.\n\nСсылка: "#LINK_HREF#"',
      'google-map-load-api': 'Произошла ошибка при попытке загрузить API Google map.\n\nОшибка: #ERROR_CODE#',
      'yandex-map-not-enough-data': 'Недостаточно данных для построения карты.',
      'not-implemented-yet': 'Ещё не реализовано.',
      'ajax': {
        'required-field': "Не заполнено обязательное поле",
        'incorrect-field': "Поле заполнено некорректно",
        'unknown-error': "Неизвестная ошибка в ответе от сервера."
      }
    },
    'forms': {
      'feedback-success-msgbox': 'Спасибо! Ваше сообщение успешно отправлено.'
    }
  }
};
},{}],16:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Main module
 *
 * @author Viacheslav Lotsmanov
 */
var dropWhile, $, Modernizr, init, hasElByHash, hashNavWatcher, hash;
dropWhile = require('prelude').dropWhile;
$ = require('jquery');
Modernizr = require('modernizr');
init = require('./basics').init;
hasElByHash = require('./has-el-by-hash');
hashNavWatcher = require('./hash-nav-watcher');
hash = dropWhile((function(it){
  return it !== '#';
}))(
window.location.hash);
if (hash.length > 1) {
  window.location.hash = '#/' < !-$;
  if (hasElByHash(hash)) {
    $('html, body').scrollTop(0);
  } else {
    window.location.hash = hash;
  }
}
init(function(){
  var $html, $body, $header, $helper, linkHandler, goToAnchor;
  $html = $('html');
  $body = $html.find('body');
  $header = $body.find('header');
  $helper = $('<div>', {
    'class': 'height-helper'
  });
  $header.append($helper);
  if (hasElByHash(hash)) {
    linkHandler = require('./link-handler');
    $('html, body').scrollTop(0);
    goToAnchor = function(){
      var $link;
      $link = $('<a/>', {
        href: window.location.pathname + hash
      });
      $link.click(linkHandler).trigger('click');
    };
    if ($html.hasClass('general-page')) {
      $html.data('go-to-anchor', goToAnchor);
    } else {
      goToAnchor();
    }
  }
  require('./header/header');
  require('./footer/footer');
  if ($html.hasClass('sub-page')) {
    $body.addClass('loaded');
    $(window).trigger('resize');
  }
  hashNavWatcher.init(hash);
  if ($html.hasClass('general-page')) {
    require('./pages/general');
  }
  if ($html.hasClass('blog-page')) {
    require('./pages/blog');
  }
});
},{"./basics":1,"./footer/footer":2,"./has-el-by-hash":6,"./hash-nav-watcher":7,"./header/header":10,"./link-handler":14,"./pages/blog":17,"./pages/general":20,"jquery":"IV5zFA","modernizr":"AXjHJu","prelude":"iujHG2"}],17:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Blog page behavior
 *
 * @author Viacheslav Lotsmanov
 */
var $, getLocalText, sizeCalculator, iconsGenerator, $s, $topLine, $searchForm, $searchFormQ;
$ = require('jquery');
getLocalText = require('../basics').getLocalText;
sizeCalculator = require('./blog/size-calculator');
iconsGenerator = require('./blog/icons-generator');
$s = $('.blog');
$topLine = $s.find('.top-line');
$searchForm = $topLine.find('form.search-form');
$searchFormQ = $searchForm.find('input:text');
(function(it){
  return $searchFormQ.on('change', it).on('focus', it).on('blur', it).trigger('change');
})(
function(){
  if (!!$(this).val()) {
    $(this).addClass('has-value');
  } else {
    $(this).removeClass('has-value');
  }
});
$searchForm.on('submit', function(){
  window.alert(getLocalText('err', 'not-implemented-yet'));
  return false;
});
},{"../basics":1,"./blog/icons-generator":18,"./blog/size-calculator":19,"jquery":"IV5zFA"}],18:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * icons generator for blog page
 *
 * @author Viacheslav Lotsmanov
 */
var $, each, Snap, $s, $topLine, $rssLink;
$ = require('jquery');
each = require('prelude').each;
Snap = require('Snap.svg');
$s = $('.blog');
$topLine = $s.find('.top-line');
$rssLink = $topLine.find('.rss-link');
(function(){
  var iconPath, $i, color;
  iconPath = $rssLink.attr('data-icon');
  if (!iconPath) {
    return;
  }
  $i = $('<i/>', {
    'class': 'icon'
  });
  $i.appendTo($rssLink);
  color = $i.css('color');
  if (!color) {
    return;
  }
  return Snap.load(iconPath, function(f){
    var icon;
    icon = f.select('#icon').addClass('icon').attr({
      id: ''
    });
    each(function(it){
      if (it != null) {
        it.attr({
          fill: color
        });
      }
    })(
    function(it){
      return [it, it.selectAll('*')];
    }(
    function(it){
      return it.select('.icon');
    }(
    function(it){
      return it.appendTo($i[0]);
    }(
    function(it){
      return it.append(f);
    }(
    Snap())))));
  });
})();
},{"Snap.svg":"DkwsM0","jquery":"IV5zFA","prelude":"iujHG2"}],19:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * size calculator for blog page elements
 *
 * @author Viacheslav Lotsmanov
 */
var ref$, map, each, listsToObj, objToPairs, pairsToObj, Str, Obj, camelize, $, getVal, getRelScreenSize, sizeCalcHelpers, relnum, $w, $body, $s, $topLine, $searchForm, $contentZone, $cols, $colLeft, $colRight, $colRightTags, $colRightTagsHeader, $posts, $postsItems, $postsItemsTitle, $postsItemsFirst, $postsItemsFirstTitle, $postsItemsWithoutFirst, $postsItemsWithoutFirstTitle, $postsTextFont, $separateLine, $separateLineBackLink, $socialButtonsBlock, $socialButtonsUl, isList, isDetail, bindSuffix, widths, valsSrc, listSizes, vals, calc, listSpaceCalc;
ref$ = require('prelude'), map = ref$.map, each = ref$.each, listsToObj = ref$.listsToObj, objToPairs = ref$.objToPairs, pairsToObj = ref$.pairsToObj, Str = ref$.Str, Obj = ref$.Obj, camelize = ref$.camelize;
$ = require('jquery');
getVal = require('../../basics').getVal;
getRelScreenSize = require('../../get-rel-screen-size');
sizeCalcHelpers = require('../../size-calc-helpers');
relnum = require('relative-number');
$w = $(window);
$body = $('body');
$s = $('.blog');
$topLine = $s.find('.top-line');
$searchForm = $topLine.find('form.search-form');
$contentZone = $s.find('.content-zone');
$cols = $contentZone.find('>.col');
$colLeft = $contentZone.find('>.col-left');
$colRight = $contentZone.find('>.col-right');
$colRightTags = $colRight.find('.tags');
$colRightTagsHeader = $colRightTags.find('h3');
$posts = $colLeft.find('ul.posts');
$postsItems = $posts.find('>li');
$postsItemsTitle = $postsItems.find('h3');
$postsItemsFirst = $posts.find('>li:first');
$postsItemsFirstTitle = $postsItemsFirst.find('h3');
$postsItemsWithoutFirst = function(it){
  Array.prototype.shift.call(it);
  return it;
}(
$posts.find('>li'));
$postsItemsWithoutFirstTitle = $postsItemsWithoutFirst.find('h3');
$postsTextFont = $postsItems.find('time, .text');
$separateLine = $colLeft.find('.separate-line');
$separateLineBackLink = $separateLine.find('>.back-link');
$socialButtonsBlock = $separateLine.find('>.buttons');
$socialButtonsUl = $socialButtonsBlock.find('>ul');
isList = $s.hasClass('blog-list');
isDetail = $s.hasClass('blog-detail');
bindSuffix = '.blog-page-sizes-calc';
widths = getVal(
'responsive-widths');
valsSrc = getVal(
'blog-page');
listSizes = getVal(
'blog-list-sizes');
vals = Obj.map(map(function(it){
  return listsToObj([it])(
  [valsSrc[it]]);
}))(
pairsToObj(
map(function(it){
  return [
    Str.unchars(
    map(Str.take(1))(
    it)), it
  ];
})(
[['small', 'middle'], ['middle', 'big']])));
calc = Obj.map(function(it){
  return Obj.map(it)(
  vals);
})(
pairsToObj(
map(function(it){
  return [it, sizeCalcHelpers[it]];
})(
map(camelize)(
['get-rel-vals', 'set-typical-sizes']))));
listSpaceCalc = curry$(function(w, it){
  (function(it){
    $posts.css({
      marginLeft: "-" + it + "px",
      width: (w + it) + "px"
    });
  })(
  function(it){
    $postsItems.css({
      marginLeft: it + "px"
    });
    return it;
  }(
  (function(it){
    return it / 100;
  })(
  (function(it){
    return it * w;
  })(
  it))));
});
(function(it){
  $w.on("resize" + bindSuffix, it).trigger("resize" + bindSuffix);
})(function(){
  var ref$, screenW, screenWAbs, rangeKey, w;
  ref$ = getRelScreenSize(), screenW = ref$.screenW, screenWAbs = ref$.screenWAbs;
  rangeKey = function(){
    switch (false) {
    case !(screenW >= widths.middle):
      return 'mb';
    default:
      return 'sm';
    }
  }();
  each(function(it){
    calc.setTypicalSizes.sm(it[0], it[1]);
  })(
  objToPairs(
  {
    'blog': $s
  }));
  (function(f){
    each(f)(
    objToPairs(
    {
      'top-line': $topLine,
      'col-right': $searchForm,
      'col-right-tags-header': $colRightTagsHeader,
      'post-item': $postsItems,
      'post-title-font': $postsItemsTitle,
      'post-text-font': $postsTextFont
    }));
    if (isList) {
      each(f)(
      objToPairs(
      {
        'post-special-title-font': $postsItemsFirstTitle
      }));
    }
    each(f)(
    objToPairs(
    {
      'col-left': $colLeft,
      'col-right': $colRight
    }));
  }.call(this, function(it){
    calc.setTypicalSizes.mb(it[0], it[1]);
  }));
  $colLeft.css({
    width: $contentZone.width() - $colRight.width()
  });
  w = $colLeft.width();
  $socialButtonsUl.css({
    width: ($separateLine.width() - $separateLineBackLink.innerWidth()) + "px"
  });
  (function(){
    $posts.css({
      marginLeft: '',
      width: ''
    });
    $postsItems.css({
      marginLeft: '',
      width: ''
    });
    switch (false) {
    case !(screenWAbs >= 1400):
      $postsItems.css({
        width: listSizes.postItemWidth * w / 100 + "px"
      });
      if (isList) {
        $postsItemsFirst.css({
          width: listSizes.postSpecialWidth * w / 100 + "px"
        });
      }
      listSpaceCalc(w)(
      listSizes.postSpacePercent);
      break;
    default:
      $postsItems.css({
        width: listSizes.postItemWidthS * w / 100 + "px"
      });
      if (isList) {
        $postsItemsFirst.css({
          width: w + "px"
        });
      }
      listSpaceCalc(w)(
      listSizes.postSpacePercentS);
    }
  })();
});
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{"../../basics":1,"../../get-rel-screen-size":5,"../../size-calc-helpers":32,"jquery":"IV5zFA","prelude":"iujHG2","relative-number":"0V6A5u"}],20:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General page behavior
 *
 * @author Viacheslav Lotsmanov
 */
var isType, $, ref$, getVal, getLocalText, loadImg, dynamicApi, preload, linkHandler, hasElByHash, sizeCalculator, bindBefore, bindAfter, getYandexMapsApiUrl, $w, $html, $page, $body, $header, $logo, $logoImg, $cardsWrap, $cardsBgs, $cardN0, $cardN0Bg, $cardN0Next, speed, logoVals, loadingAnimation, initAllOtherSections, cardN0ParallaxInit, cardN0NextButtonJitterInit, loadingLoop, preloadCb, LoadImg, imgSrc;
isType = require('prelude').isType;
$ = require('jquery');
ref$ = require('../basics'), getVal = ref$.getVal, getLocalText = ref$.getLocalText, loadImg = ref$.loadImg, dynamicApi = ref$.dynamicApi;
preload = require('../preload');
linkHandler = require('../link-handler');
hasElByHash = require('../has-el-by-hash');
sizeCalculator = require('../header/size-calculator');
ref$ = require('./general/scroll-restore'), bindBefore = ref$.bindBefore, bindAfter = ref$.bindAfter;
getYandexMapsApiUrl = require('./general/contacts').getYandexMapsApiUrl;
require('jquery.transit');
$w = $(window);
$html = $('html');
$page = $('html, body');
$body = $html.find('body');
$header = $body.find('header');
$logo = $header.find('>.logo');
$logoImg = $logo.find('img');
$cardsWrap = $body.find('.general-cards');
$cardsBgs = $cardsWrap.find('.backgrounds');
$cardN0 = $cardsWrap.find('.card-n0');
$cardN0Bg = $cardsBgs.find('.card-bg-n0 .bg-pattern');
$cardN0Next = $cardN0.find('.next');
speed = (function(it){
  return it * 4;
})(
getVal('animation-speed'));
logoVals = sizeCalculator.getLogoVals();
loadingAnimation = true;
bindBefore();
initAllOtherSections = function(){
  var cardsInit, contactsInit;
  $body.addClass('loaded');
  $page.scrollTop(0);
  require('./general/size-calculator');
  cardsInit = require('./general/cards/cards').init;
  require('./general/portfolio');
  require('./general/team');
  require('./general/reviews');
  contactsInit = require('./general/contacts').init;
  cardsInit(function(){
    var goToAnchor;
    contactsInit();
    $w.trigger('resize.header-size-calc').trigger('resize');
    bindAfter();
    goToAnchor = $html.data('go-to-anchor');
    if (isType('Function')(
    goToAnchor)) {
      goToAnchor();
    }
  });
};
$cardN0Next.click(linkHandler);
cardN0ParallaxInit = function(){
  var cardN0BgParallaxBindSuffix;
  cardN0BgParallaxBindSuffix = '.card-n0-bg-parallax';
  $w.on("scroll" + cardN0BgParallaxBindSuffix, function(){
    var st, val;
    st = $w.scrollTop();
    if (st > $cardN0.height()) {
      return;
    }
    val = st / 2;
    $cardN0Bg.css('background-position', "center " + val + "px");
  });
  $w.on("resize" + cardN0BgParallaxBindSuffix, function(){
    $w.trigger("scroll" + cardN0BgParallaxBindSuffix);
  });
  $w.trigger("resize" + cardN0BgParallaxBindSuffix);
};
cardN0NextButtonJitterInit = function(){
  var speed, wait, jitter;
  speed = 800;
  wait = 5000;
  jitter = function(){
    $cardN0Next.css({
      top: 0
    });
    setTimeout(function(){
      $cardN0Next.stop().transition({
        top: '-30px'
      }, speed, function(){
        $cardN0Next.stop().transition({
          top: 0
        }, speed, function(){
          jitter();
        });
      });
    }, wait);
  };
  jitter();
};
loadingLoop = function(){
  if (!loadingAnimation) {
    return;
  }
  $logoImg.transition({
    rotate: '360deg'
  }, speed, 'linear', function(){
    if (!loadingAnimation) {
      return;
    }
    $logoImg.css({
      rotate: '0deg'
    });
    loadingLoop();
  });
};
preloadCb = function(){
  cardN0ParallaxInit();
  cardN0NextButtonJitterInit();
  loadingAnimation = false;
  $logoImg.stop().transition({
    rotate: '360deg'
  }, speed, 'linear', function(){
    $cardN0Bg.stop().transition({
      opacity: 1,
      scale: 1
    }, speed, 'in-out', function(){
      var vals;
      $logo.addClass('logo-move');
      vals = {
        left: logoVals.left,
        top: logoVals.top,
        translate: ['0%', '0%']
      };
      $logo.stop().transition(vals, speed, 'in-out', initAllOtherSections);
    });
  });
};
$logoImg.css({
  width: logoVals.size,
  height: logoVals.size
});
LoadImg = require('load-img');
imgSrc = $logoImg.attr('src');
loadImg(imgSrc, function(err, img){
  if (err) {
    if (err instanceof LoadImg.exceptions.Timeout) {
      window.alert(getLocalText('err', 'preload-img-timeout', {
        '#IMAGE_SRC#': imgSrc
      }));
      return;
    }
    window.alert(getLocalText('err', 'preload-img', {
      '#ERROR_CODE#': err.toString(),
      '#IMAGE_SRC#': imgSrc
    }));
    return;
  }
  loadingLoop();
  preload(preloadCb);
});
},{"../basics":1,"../has-el-by-hash":6,"../header/size-calculator":11,"../link-handler":14,"../preload":31,"./general/cards/cards":23,"./general/contacts":25,"./general/portfolio":26,"./general/reviews":27,"./general/scroll-restore":28,"./general/size-calculator":29,"./general/team":30,"jquery":"IV5zFA","jquery.transit":"dKxPCL","load-img":"CDS7yq","prelude":"iujHG2"}],21:[function(require,module,exports){
// Generated by LiveScript 1.3.1
var $, ref$, reject, filter, flip, all, map, each, getVal, $w, $generalCards, $bgsWrap, $cardsWrap, $cards, $bgs, bindSuffix, animSpeed, parseIntFlip, delay, isCardRoute, isCardVisible, isAnimating, lastCardRoute, lastRoutedCardNum, healCardsWrap, onNavigated, init, replace$ = ''.replace, out$ = typeof exports != 'undefined' && exports || this;
$ = require('jquery');
ref$ = require('prelude'), reject = ref$.reject, filter = ref$.filter, flip = ref$.flip, all = ref$.all, map = ref$.map, each = ref$.each;
getVal = require('../../../basics').getVal;
$w = $(window);
$generalCards = $('.general-cards');
$bgsWrap = $generalCards.find('.backgrounds');
$cardsWrap = $generalCards.find('.cards');
$cards = $cardsWrap.find('.card');
$bgs = $(
reject(function(it){
  return $(it).hasClass('.card-bg-n0');
})(
$bgsWrap.find('.card-bg')));
bindSuffix = '.cards-navigator';
animSpeed = (function(it){
  return it * 4;
})(
getVal('animation-speed'));
$cards.css({
  opacity: 0,
  left: '0%',
  top: '0%',
  zIndex: 3
});
parseIntFlip = flip(
parseInt);
delay = flip(
setTimeout)(0);
isCardRoute = compose$(function(it){
  return it.indexOf('card-n');
}, (function(it){
  return it === 0;
}));
isCardVisible = function(it){
  return it.data('is-visible');
};
isAnimating = false;
lastCardRoute = null;
lastRoutedCardNum = null;
healCardsWrap = function(){
  $cardsWrap.scrollTop(0).scrollLeft(0);
};
onNavigated = function(_, route){
  var routedCardNum, animCards;
  if (!isCardRoute(
  route)) {
    return;
  }
  healCardsWrap();
  lastCardRoute = route;
  if (isAnimating) {
    return;
  }
  routedCardNum = parseIntFlip(10)(
  replace$.call(route, /^card-n/, ''));
  $bgs.removeClass('active');
  $bgs.filter("[data-card-num=" + routedCardNum + "]").addClass('active');
  $cards.data('animation-complete', true);
  animCards = filter(function(it){
    return it != null;
  })(map(function(it){
    var $card, cardNum, animOpts;
    $card = $(it);
    cardNum = parseIntFlip(10)(
    (function(it){
      return replace$.call(it, /^card-n/, '');
    })(
    $card.attr('id')));
    animOpts = function(){
      if (routedCardNum === cardNum) {
        if (isCardVisible(
        $card)) {
          return null;
        }
        if (cardNum !== 0) {
          $card.css({
            left: cardNum > (lastRoutedCardNum != null ? lastRoutedCardNum : 0) ? '100%' : '-100%'
          });
        } else if (lastRoutedCardNum != null) {
          $card.css({
            top: '-100%'
          });
        }
        return import$({
          opacity: 1
        }, cardNum === 0
          ? {
            top: '0%'
          }
          : {
            left: '0%'
          });
      } else {
        if (!isCardVisible(
        $card)) {
          return null;
        }
        return import$({
          opacity: 0
        }, cardNum === 0
          ? {
            top: '-100%'
          }
          : {
            left: cardNum < routedCardNum ? '-100%' : '100%'
          });
      }
    }();
    if (animOpts == null) {
      return null;
    }
    $card.data('animation-complete', false);
    return function(){
      $card.transition(animOpts, animSpeed, 'in-out', function(){
        $card.css(animOpts).css({
          zIndex: animOpts.opacity === 1 ? 4 : 3
        }).data('is-visible', animOpts.opacity === 1).data('animation-complete', true);
        healCardsWrap();
        if (all(function(it){
          return $(it).data('animation-complete');
        })(
        $cards)) {
          isAnimating = false;
          lastRoutedCardNum = routedCardNum;
          if (lastCardRoute !== route) {
            delay(
            function(){
              $w.trigger("hash-navigated" + bindSuffix, window.location.hash.slice(1));
            });
          }
        }
      });
    };
  })(
  $cards));
  if (animCards.length > 0) {
    isAnimating = true;
    each(delay)(
    animCards);
  }
  healCardsWrap();
};
out$.init = init = function(cb){
  healCardsWrap();
  $w.on("resize" + bindSuffix, healCardsWrap);
  $w.on("hash-navigated" + bindSuffix, onNavigated);
  $w.trigger("hash-navigated" + bindSuffix, window.location.hash.slice(1));
  delay(
  cb);
};
function compose$() {
  var functions = arguments;
  return function() {
    var i, result;
    result = functions[0].apply(this, arguments);
    for (i = 1; i < functions.length; ++i) {
      result = functions[i](result);
    }
    return result;
  };
}
function import$(obj, src){
  var own = {}.hasOwnProperty;
  for (var key in src) if (own.call(src, key)) obj[key] = src[key];
  return obj;
}
},{"../../../basics":1,"jquery":"IV5zFA","prelude":"iujHG2"}],22:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General page cards switcher control
 *
 * @author Viacheslav Lotsmanov
 */
var $, ref$, each, map, Obj, objToPairs, pairsToObj, reject, Str, camelize, Snap, getVal, $w, sClass, bindSuffix, h, offsetX, centerY, circleR, pointR, animSpeed, animCurve, setJqProps, getLineX1, repos, onResize, onNavigated, init, replace$ = ''.replace, out$ = typeof exports != 'undefined' && exports || this;
$ = require('jquery');
ref$ = require('prelude'), each = ref$.each, map = ref$.map, Obj = ref$.Obj, objToPairs = ref$.objToPairs, pairsToObj = ref$.pairsToObj, reject = ref$.reject, Str = ref$.Str, camelize = ref$.camelize;
Snap = require('Snap.svg');
getVal = require('../../../basics').getVal;
$w = $(window);
sClass = 'cards-switcher';
bindSuffix = '.cards-switcher';
h = 50;
offsetX = 25;
centerY = Math.round(
h / 2);
circleR = 22;
pointR = 5;
animSpeed = (function(it){
  return it * 4;
})(
getVal('animation-speed'));
animCurve = mina.easeinout;
setJqProps = function(it){
  return each(function(it){
    return it.$node = $(it.node);
  })(
  it);
};
getLineX1 = curry$(function(lineW, links, idx){
  return (function(it){
    return it + offsetX;
  })(
  (function(it){
    return it * idx;
  })(
  function(it){
    return lineW / it;
  }(
  (function(it){
    return it - 1;
  })(
  links.length))));
});
repos = function(arg$){
  var s, elems, links, totalW, lineW, i$, len$, idx, _, className;
  s = arg$.s, elems = arg$.elems, links = arg$.links, totalW = arg$.totalW, lineW = arg$.lineW;
  totalW == null && (totalW = s.$node.width());
  lineW == null && (lineW = (function(it){
    return it - offsetX * 2;
  })(
  totalW));
  (function(x){
    var i$, x$, ref$, len$, results$ = [];
    elems.line.stop().animate({
      x1: x
    }, animSpeed, animCurve);
    elems.darkLine.stop().animate({
      x2: x
    }, animSpeed, animCurve);
    for (i$ = 0, len$ = (ref$ = elems.allBigCircles).length; i$ < len$; ++i$) {
      x$ = ref$[i$];
      results$.push(x$.stop().animate({
        cx: x
      }, animSpeed, animCurve));
    }
    return results$;
  })(
  getLineX1(lineW, links)(
  s.activeIdx));
  for (i$ = 0, len$ = links.length; i$ < len$; ++i$) {
    idx = i$;
    _ = links[i$];
    className = elems.points[idx].attr('class');
    if (idx <= s.activeIdx) {
      if (className.indexOf('dark') === -1) {
        elems.points[idx].attr({
          'class': className + " dark"
        });
      }
    } else {
      if (className.indexOf('dark') !== -1) {
        elems.points[idx].attr({
          'class': (replace$.call(className, /dark/g, '')).replace(/ +/g, ' ')
        });
      }
    }
  }
};
onResize = function(arg$){
  var s, elems, links, totalW, lineW, i$, len$, idx, _;
  s = arg$.s, elems = arg$.elems, links = arg$.links;
  totalW = s.$node.width();
  lineW = (function(it){
    return it - offsetX * 2;
  })(
  totalW);
  elems.line.attr({
    x2: totalW - offsetX
  });
  for (i$ = 0, len$ = links.length; i$ < len$; ++i$) {
    idx = i$;
    _ = links[i$];
    fn$(
    getLineX1(lineW, links)(
    idx));
  }
  repos({
    s: s,
    elems: elems,
    links: links,
    totalW: totalW,
    lineW: lineW
  });
  function fn$(x){
    var i$, x$, ref$, len$;
    for (i$ = 0, len$ = (ref$ = elems.points[idx].els).length; i$ < len$; ++i$) {
      x$ = ref$[i$];
      x$.attr({
        cx: x
      });
    }
    elems.numbers[idx].attr({
      x: x
    });
  }
};
onNavigated = function(arg$, _, route){
  var s, elems, links, className, idx, x;
  s = arg$.s, elems = arg$.elems, links = arg$.links;
  className = s.attr('class');
  idx = links.indexOf("#" + route);
  if (idx === -1) {
    s.activeIdx = 0;
    if (className.indexOf('invisible') === -1) {
      s.attr({
        'class': className + " invisible"
      });
    }
  } else {
    s.activeIdx = idx;
    if (className.indexOf('invisible') !== -1) {
      s.attr({
        'class': (replace$.call(className, /invisible/g, '')).replace(/ +/g, ' ')
      });
    }
  }
  each(function(it){
    it[0].attr({
      'class': (replace$.call(it[1], /selected/g, '')).replace(/ +/g, ' ')
    });
  })(
  map(function(it){
    return [it, it.attr('class')];
  })(
  elems.points));
  x = elems.points[s.activeIdx];
  x.attr({
    'class': x.attr('class') + " selected"
  });
  repos({
    s: s,
    elems: elems,
    links: links
  });
};
out$.init = init = function(cb){
  var $cardsWrap, $controls, links, s, elems;
  $cardsWrap = $('.general-cards');
  $controls = $cardsWrap.find('.controls');
  links = $controls.find("ul." + sClass + " li a").get().map(function(it){
    return $(it).attr('href');
  }).map(function(it){
    return replace$.call(it, /^[^#]+/, '');
  });
  $controls.find("ul." + sClass).remove();
  s = Snap(0, h);
  s.attr({
    'class': sClass + " invisible"
  });
  s.$node = $(s.node);
  elems = {};
  elems.numbers = links.map(function(_, idx){
    return s.text(offsetX, centerY + 1, (idx + 1) + "").attr({
      'class': 'text-number'
    });
  });
  elems.numbersMask = s.circle(offsetX, centerY, circleR).attr({
    'class': 'numbers-mask'
  });
  (function(it){
    return it.attr({
      'class': 'numbers-group',
      mask: elems.numbersMask
    });
  })(
  s.group.apply(s, elems.numbers));
  elems.pointStrokeFixer = s.rect(0, 0, '100%', '100%').attr({
    opacity: 0
  });
  elems.darkLine = s.line(offsetX, centerY, offsetX, centerY).attr({
    'class': 'dark-line'
  });
  elems.line = s.line(offsetX, centerY, offsetX, centerY).attr({
    'class': 'line'
  });
  elems.points = map(function(link){
    var list;
    list = [
      s.circle(0, centerY, pointR).attr({
        'class': 'point'
      }), s.circle(0, centerY, circleR).attr({
        'class': 'big-point'
      })
    ];
    return function(it){
      return it.attr({
        'class': 'points-group'
      });
    }(
    function(it){
      return it.click(function(){
        if (window.location.hash !== link) {
          window.location.hash = link;
        }
        $w.trigger('hash-nav-handle');
      });
    }(
    function(it){
      it.els = list;
      return it;
    }(
    s.group.apply(s, list))));
  })(
  links);
  elems.markerMaskBg = s.rect(0, 0, '100%', '100%').attr({
    'class': 'marker-mask-bg'
  });
  elems.markerMaskC = s.circle(offsetX, centerY, circleR).attr({
    'class': 'marker-mask-c'
  });
  elems.markerMaskG = s.group(elems.markerMaskBg, elems.markerMaskC);
  elems.opacityGroup = function(it){
    return it.attr({
      'class': 'opacity-group',
      mask: elems.markerMaskG
    });
  }(
  s.group.apply(s, (function(it){
    return it.concat(elems.points);
  })(
  [elems.pointStrokeFixer, elems.darkLine, elems.line])));
  elems.marker = s.circle(offsetX, centerY, circleR).attr({
    'class': 'marker'
  });
  setJqProps(
  (function(it){
    return it.concat(Obj.values(
    elems.points));
  })(
  (function(it){
    return it.concat(map(function(it){
      return it[1];
    })(
    reject(function(it){
      return in$(it[0], ['points']);
    })(
    objToPairs(
    elems))));
  })(
  [s])));
  elems.allBigCircles = ['marker', 'marker-mask-c', 'numbers-mask'].map(function(it){
    return elems[camelize(it)];
  });
  s.appendTo($controls.get(0));
  s.$node.on("newsize" + bindSuffix, onResize.bind(null, {
    s: s,
    elems: elems,
    links: links
  }));
  $w.on("hash-navigated" + bindSuffix, onNavigated.bind(null, {
    s: s,
    elems: elems,
    links: links
  }));
  $w.trigger("hash-navigated" + bindSuffix, window.location.hash.slice(1));
  setTimeout(cb, 0);
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
function in$(x, xs){
  var i = -1, l = xs.length >>> 0;
  while (++i < l) if (x === xs[i]) return true;
  return false;
}
},{"../../../basics":1,"Snap.svg":"DkwsM0","jquery":"IV5zFA","prelude":"iujHG2"}],23:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General page "cards" section
 *
 * @author Viacheslav Lotsmanov
 */
var init, out$ = typeof exports != 'undefined' && exports || this;
out$.init = init = function(cb){
  var cardsSwitcher, sizeCalculator, cardsNavigator;
  cardsSwitcher = require('./cards-switcher');
  sizeCalculator = require('./size-calculator');
  cardsNavigator = require('./cards-navigator');
  cardsSwitcher.init(function(){
    sizeCalculator.init(function(){
      cardsNavigator.init(function(){
        if (cb != null) {
          cb();
        }
      });
    });
  });
};
},{"./cards-navigator":21,"./cards-switcher":22,"./size-calculator":24}],24:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General page cards size calculator
 *
 * @author Viacheslav Lotsmanov
 */
var $, ref$, map, each, Str, pairsToObj, Obj, listsToObj, camelize, getVal, getRelScreenSize, sizeCalcHelpers, $w, sClass, bindSuffix, widths, valsSrc, vals, calc, onResize, init, out$ = typeof exports != 'undefined' && exports || this;
$ = require('jquery');
ref$ = require('prelude'), map = ref$.map, each = ref$.each, Str = ref$.Str, pairsToObj = ref$.pairsToObj, Obj = ref$.Obj, listsToObj = ref$.listsToObj, camelize = ref$.camelize;
getVal = require('../../../basics').getVal;
getRelScreenSize = require('../../../get-rel-screen-size');
sizeCalcHelpers = require('../../../size-calc-helpers');
$w = $(window);
sClass = 'cards-switcher';
bindSuffix = '.cards-switcher';
widths = getVal(
'responsive-widths');
valsSrc = getVal(
'general-page');
vals = Obj.map(map(function(it){
  return listsToObj([it])(
  [valsSrc[it]]);
}))(
pairsToObj(
map(function(it){
  return [
    Str.unchars(
    map(Str.take(1))(
    it)), map(camelize)(
    it)
  ];
})(
[['extra-small', 'small'], ['small', 'middle'], ['middle', 'big']])));
calc = Obj.map(function(it){
  return Obj.map(it)(
  vals);
})(
pairsToObj(
map(function(it){
  return [it, sizeCalcHelpers[it]];
})(
map(camelize)(
['get-rel-vals']))));
onResize = function(arg$){
  var $cardsSwitcher, screenW, rangeKey;
  $cardsSwitcher = arg$.$cardsSwitcher;
  screenW = getRelScreenSize().screenW;
  rangeKey = function(){
    switch (false) {
    case !(screenW >= widths.small):
      return 'sm';
    case !(screenW >= widths.middle):
      return 'mb';
    default:
      return 'es';
    }
  }();
  (function(elName, vals){
    vals = calc.getRelVals[rangeKey](elName)(vals);
    $cardsSwitcher.attr({
      width: vals.width
    }).css({
      bottom: vals.bottom + "px"
    });
  }.call(this, 'cards-switcher', ['width', 'bottom']));
  $cardsSwitcher.trigger("newsize" + bindSuffix);
};
out$.init = init = function(cb){
  var $cardsWrap, $controls, $cardsSwitcher;
  $cardsWrap = $('.general-cards');
  $controls = $cardsWrap.find('.controls');
  $cardsSwitcher = $controls.find("svg." + sClass);
  $w.on("resize" + bindSuffix, onResize.bind(null, {
    $cardsSwitcher: $cardsSwitcher
  }));
  cb();
};
},{"../../../basics":1,"../../../get-rel-screen-size":5,"../../../size-calc-helpers":32,"jquery":"IV5zFA","prelude":"iujHG2"}],25:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General page "contacts" section behavior
 *
 * @author Viacheslav Lotsmanov
 */
var $, ref$, Obj, isType, Num, Str, dynamicApi, getVal, getLocalText;
$ = require('jquery');
ref$ = require('prelude'), Obj = ref$.Obj, isType = ref$.isType, Num = ref$.Num, Str = ref$.Str;
ref$ = require('../../basics'), dynamicApi = ref$.dynamicApi, getVal = ref$.getVal, getLocalText = ref$.getLocalText;
(function(it){
  module.exports.init = it;
})(function(){
  $('.contacts').each(function(i){
    var $s, $head, $address, $second, $form, $inputsLabels, $inputs, isResponseValid, gmaps, $map, $marker, $posY, $posX, $markY, $markX, $zoom, $icon, styles, map;
    $s = $(this);
    $head = $s.find('.head');
    $address = $s.find('address');
    $second = $s.find('.second');
    $form = $second.find('form');
    $inputsLabels = $form.find('label.text, label.textarea');
    $inputs = $inputsLabels.find('input, textarea');
    (function(it){
      return $inputs.on('change', it).on('focus', it).on('blur', it).trigger('change');
    })(
    function(){
      if (!!$(this).val()) {
        $(this).addClass('has-value');
      } else {
        $(this).removeClass('has-value');
      }
    });
    isResponseValid = function(it){
      var err;
      if (!$.isPlainObject(it)) {
        err = new Error("Incorrect JSON response: '" + it + "'");
        window.alert(err.message);
        console.error(err);
        return false;
      }
      return true;
    };
    $form.on('reset', function(){
      $inputsLabels.trigger('remove-error-message');
      $inputs.val('').trigger('blur');
    });
    $form.on('submit', function(){
      if ($form.hasClass('process')) {
        return false;
      }
      $form.addClass('process');
      $inputsLabels.trigger('remove-error-message');
      $.ajax({
        url: '/feedback-post.json',
        dataType: 'json',
        method: 'POST',
        cache: false,
        async: true,
        data: $form.serialize()
      }).success(function(json, textStatus, jqXHR){
        if (!isResponseValid(json)) {
          return;
        }
        if (json.status === 'success') {
          window.alert(getLocalText('forms', 'feedback-success-msgbox'));
          $form.trigger('reset');
        } else {
          window.alert(getLocalText('err', 'ajax', 'unknown-error'));
        }
      }).error(function(jqXHR, textStatus, errorThrown){
        var json, ref$;
        json = jqXHR.responseJSON;
        if (!isResponseValid(json)) {
          return;
        }
        if (json.status === 'error' && ((ref$ = json.errorCode) === 'required-fields' || ref$ === 'incorrect-fields') && json.fields != null) {
          json.fields.forEach(function(field){
            var $input, $label;
            $input = $form.find("input[name='" + field + "'], textarea[name='" + field + "']");
            $label = $input.closest('label');
            $label.addClass('error');
            $label.data('error-message-jq-el', $('<div/>', {
              'class': 'error-message'
            })).data('error-message-jq-el').html(getLocalText('err', 'ajax', json.errorCode.slice(0, -1)));
            $label.append($label.data('error-message-jq-el')).on('remove-error-message', function(){
              $input.off('focus.error-message-hide');
              $label.off('remove-error-message').removeClass('error');
              $label.data('error-message-jq-el').animate({
                opacity: 0
              }, getVal('animation-speed'), function(){
                var $input, $label;
                $(this).remove();
                $input = void 8;
                $label = void 8;
              });
            });
            $input.on('focus.error-message-hide', function(){
              return $label.trigger('remove-error-message');
            });
          });
        } else {
          window.alert(getLocalText('err', 'ajax', 'unknown-error'));
        }
      }).complete(function(){
        $form.removeClass('process');
      });
      return false;
    });
    gmaps = require('gmaps');
    $map = $s.find('.map');
    $marker = $map.find('img.marker');
    $posY = $map.data('pos-y');
    $posX = $map.data('pos-x');
    $markY = $map.data('mark-y');
    $markX = $map.data('mark-x');
    $zoom = $map.data('zoom');
    $icon = $map.find('.marker').attr('src');
    styles = [
      {
        "featureType": 'all',
        "elementType": 'labels.text.fill',
        "stylers": [{
          "color": '#ffffff'
        }]
      }, {
        "featureType": 'all',
        "elementType": 'labels.text.stroke',
        "stylers": [
          {
            "visibility": 'on'
          }, {
            "color": '#2e3537'
          }, {
            "weight": 2
          }, {
            "gamma": 0.84
          }
        ]
      }, {
        "featureType": 'all',
        "elementType": 'labels.icon',
        "stylers": [{
          "visibility": 'off'
        }]
      }, {
        "featureType": 'administrative',
        "elementType": 'geometry',
        "stylers": [{
          "weight": 0.6
        }]
      }, {
        "featureType": 'landscape',
        "elementType": 'geometry',
        "stylers": [{
          "color": '#4c6374'
        }]
      }, {
        "featureType": 'poi',
        "elementType": 'geometry',
        "stylers": [{
          "color": '#667f90'
        }]
      }, {
        "featureType": 'poi.park',
        "elementType": 'geometry',
        "stylers": [{
          "color": '#667f90'
        }]
      }, {
        "featureType": 'road',
        "elementType": 'geometry',
        "stylers": [
          {
            "color": '#264258'
          }, {
            "lightness": -37
          }
        ]
      }, {
        "featureType": 'transit',
        "elementType": 'geometry',
        "stylers": [{
          "color": '#5b7283'
        }]
      }, {
        "featureType": 'water',
        "elementType": 'geometry',
        "stylers": [{
          "color": '#66bcf7'
        }]
      }
    ];
    map = new GMaps({
      div: $map.selector,
      lat: $posY,
      lng: $posX,
      zoom: $zoom,
      zoomControl: true,
      zoomControlOptions: {
        position: google.maps.ControlPosition.LEFT_CENTER
      },
      mapTypeControl: false,
      scaleControl: false,
      scrollwheel: false
    });
    map.addMarker({
      lat: $markY,
      lng: $markX,
      icon: $icon
    });
    map.setOptions({
      styles: styles
    });
  });
});
},{"../../basics":1,"gmaps":"iAECyH","jquery":"IV5zFA","prelude":"iujHG2"}],26:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General page "portfolio" section behavior
 *
 * @author Viacheslav Lotsmanov
 */
var $, $w, $s, $header, $heightHelper, $elems, $moreBlock, $more;
$ = require('jquery');
$w = $(window);
$s = $('.portfolio');
$header = $('header');
$heightHelper = $header.find('.height-helper');
$elems = $s.find('ul>li');
$moreBlock = $s.find('.more-block');
$more = $moreBlock.find('>a');
$more.click(function(){
  return false;
});
(function(){
  var bindSuffix, scrollHandler;
  bindSuffix = '.general-page-portfolio-show-elements-by-scroll';
  scrollHandler = function(){
    var scrollVal, i$, ref$, len$, item, $item;
    scrollVal = $w.scrollTop() + $w.height();
    for (i$ = 0, len$ = (ref$ = $elems).length; i$ < len$; ++i$) {
      item = ref$[i$];
      $item = $(item);
      if (scrollVal > $item.offset().top) {
        $item.addClass('visible');
      } else {
        $item.removeClass('visible');
      }
    }
  };
  $w.on("scroll" + bindSuffix, scrollHandler).on("resize" + bindSuffix, scrollHandler);
  scrollHandler();
})();
},{"jquery":"IV5zFA"}],27:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General page "reviews" section behavior
 *
 * @author Viacheslav Lotsmanov
 */
var $, $s, $list, $listElems, $listLinks;
$ = require('jquery');
require('jquery-kinetic');
require('smooth-div');
require('modernizr');
$s = $('.reviews');
$list = $s.find('ul.reviews-list');
$listElems = $list.find('>li');
$listLinks = $listElems.find('a');
(function(){
  var width, marginX, space, sum;
  width = 0;
  marginX = 0;
  space = 0;
  if ($listElems.length > 0) {
    width = $listElems.first().width();
    marginX = parseInt($listElems.first().css('margin-left'), 10);
    if ($listElems.length > 1) {
      space = parseInt($listElems.last().css('margin-left'), 10);
    }
  }
  sum = (function(it){
    return it + space * ($listElems.length - 1);
  })(
  (function(it){
    return it + marginX * 2;
  })(
  width * $listElems.length));
  if (sum > $list.width()) {
    return $list.scrollLeft((function(it){
      return it / 2;
    })(
    (function(it){
      return it - $list.width();
    })(
    sum)));
  }
})();
$listLinks.on('focus', function(){
  $listElems.removeClass('focused');
  $(this).closest('li').addClass('focused');
}).on('blur', function(){
  $(this).closest('li').removeClass('focused');
});
$list.smoothDivScroll(Modernizr.touch
  ? {
    touchScrolling: true,
    hotSpotScrolling: false
  }
  : {
    touchScrolling: false,
    hotSpotScrolling: true,
    hotSpotScrollingStep: 5,
    hotSpotMouseDownSpeedBooster: 1
  });
},{"jquery":"IV5zFA","jquery-kinetic":"/tm0Rs","modernizr":"AXjHJu","smooth-div":"I8oxXi"}],28:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Scroll restore helper after window resize
 *
 * @author Viacheslav Lotsmanov
 */
var ref$, map, find, $, $w, $d, $header, $heightHelper, sections, bindSuffix, $lastElem, lastElemPos;
ref$ = require('prelude'), map = ref$.map, find = ref$.find;
$ = require('jquery');
$w = $(window);
$d = $(document);
$header = $('header');
$heightHelper = $header.find('.height-helper');
sections = map(function(it){
  return $(it);
})(
map(function(it){
  return "#" + it;
})(
['card-n0', 'portfolio', 'team']));
bindSuffix = '.general-page-scroll-restore';
$lastElem = null;
lastElemPos = 0;
module.exports.bindBefore = function(){
  $w.on("resize" + bindSuffix, function(){
    var st;
    st = $w.scrollTop() + $heightHelper.height();
    $lastElem = find(function(it){
      return st >= it.offset().top && st < it.offset().top + it.height();
    })(
    sections);
    if ($lastElem == null) {
      return lastElemPos = 0;
    }
    lastElemPos = (function(it){
      return it / $lastElem.height();
    })(
    (function(it){
      return it * 100;
    })(
    (function(it){
      return it - $lastElem.offset().top;
    })(
    st)));
  });
};
module.exports.bindAfter = function(){
  $w.on("resize" + bindSuffix, function(){
    if ($lastElem == null) {
      return;
    }
    $d.scrollTop((function(it){
      return it + (function(it){
        return it / 100;
      })(
      (function(it){
        return it * $lastElem.height();
      })(
      lastElemPos));
    })(
    (function(it){
      return it - $heightHelper.height();
    })(
    $lastElem.offset().top)));
  });
};
},{"jquery":"IV5zFA","prelude":"iujHG2"}],29:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General page dynamic size calculator
 *
 * @author Viacheslav Lotsmanov
 */
var $, ref$, map, each, objToPairs, listsToObj, Str, pairsToObj, Obj, camelize, getVal, getRelScreenSize, sizeCalcHelpers, $w, $html, $body, $topPart, headersN1, headersN2, maps, $cards, $cardsList, $cardN0, $cardN0Next, $cardN0NextIcon, $portfolio, $portfolioTitleBlock, $portfolioTitleBlockH2, $portfolioTitleBlockH3, $portfolioUlLi, $portfolioUlLiText, $portfolioUlLiTextH3, $portfolioUlLiTextH4, $portfolioUlLiTextH3H4, $portfolioMoreBlockA, $portfolioMoreBlockAIcon, $team, $contacts, $contactsHead, $contactsH2, $contactsH2Img, $contactsSecond, $contactsCols, $contactsColN1, $contactsColN2, $contactsColN1Phone, $contactsColN1Email, $contactsColN1Address, $contactsColN2Form, $contactsColN2LabelSubmit, $contactsColN2Labels, $contactsColN2LabelsText, $contactsColN2Inputs, $contactsColN2Textarea, $contactsColN2LabelsSpan, contactsFontN1, contactsFontN2, contactsColN1Items, $header, $heightHelper, bindSuffix, widths, valsSrc, vals, calc;
$ = require('jquery');
ref$ = require('prelude'), map = ref$.map, each = ref$.each, objToPairs = ref$.objToPairs, listsToObj = ref$.listsToObj, Str = ref$.Str, pairsToObj = ref$.pairsToObj, Obj = ref$.Obj, camelize = ref$.camelize;
getVal = require('../../basics').getVal;
getRelScreenSize = require('../../get-rel-screen-size');
sizeCalcHelpers = require('../../size-calc-helpers');
$w = $(window);
$html = $('html');
$body = $html.find('body');
$topPart = $body.find('>.top-part');
headersN1 = [];
headersN2 = [];
maps = [];
$cards = $('.general-cards');
$cardsList = $cards.children();
$cardN0 = $cards.find('.card-n0');
$cardN0Next = $cardN0.find('.next');
$cardN0NextIcon = $cardN0Next.find('>span');
headersN1.push($cardN0.find('h1'));
headersN2.push($cardN0.find('h2'));
$portfolio = $('.portfolio');
$portfolioTitleBlock = $portfolio.find('.title-block');
$portfolioTitleBlockH2 = $portfolioTitleBlock.find('h2');
$portfolioTitleBlockH3 = $portfolioTitleBlock.find('h3');
$portfolioUlLi = $portfolio.find('>ul>li');
$portfolioUlLiText = $portfolioUlLi.find('.text');
$portfolioUlLiTextH3 = $portfolioUlLiText.find('h3');
$portfolioUlLiTextH4 = $portfolioUlLiText.find('h4');
$portfolioUlLiTextH3H4 = $portfolioUlLiText.find('h3+h4');
$portfolioMoreBlockA = $portfolio.find('.more-block>a');
$portfolioMoreBlockAIcon = $portfolioMoreBlockA.find('i.a, i.b');
$team = $('.team');
headersN1.push($team.find('h1'));
headersN2.push($team.find('h2'));
$contacts = $('.contacts');
$contactsHead = $contacts.find('.head');
$contactsH2 = $contactsHead.find('h2');
$contactsH2Img = $contactsH2.find('img');
maps.push($contacts.find('.map'));
$contactsSecond = $contacts.find('.second');
$contactsCols = $contactsSecond.find('.col');
$contactsColN1 = $contactsCols.first();
$contactsColN2 = $contactsCols.last();
$contactsColN1Phone = $contactsColN1.find('.phone');
$contactsColN1Email = $contactsColN1.find('.email');
$contactsColN1Address = $contactsColN1.find('address');
$contactsColN2Form = $contactsColN2.find('form');
$contactsColN2LabelSubmit = $contactsColN2Form.find('label.submit');
$contactsColN2Labels = $contactsColN2Form.find('label:not(.submit)');
Array.prototype.shift.call($contactsColN2Labels);
$contactsColN2LabelsText = $contactsColN2Form.find('label.text');
$contactsColN2Inputs = $contactsColN2Form.find('label.text input, label.textarea textarea');
$contactsColN2Textarea = $contactsColN2Form.find('label.textarea textarea');
$contactsColN2LabelsSpan = $contactsColN2Form.find('label.text span, label.textarea span');
contactsFontN1 = [$contactsColN1Phone, $contactsColN1Email];
contactsFontN2 = [$contactsColN1Address, $contactsColN2Inputs, $contactsColN2LabelsSpan];
contactsColN1Items = [$contactsColN1Phone, $contactsColN1Email, $contactsColN1Address];
$header = $body.find('header');
$heightHelper = $header.find('.height-helper');
bindSuffix = '.general-page-size-calculator';
widths = getVal(
'responsive-widths');
valsSrc = getVal(
'general-page');
vals = Obj.map(map(function(it){
  return listsToObj([it])(
  [valsSrc[it]]);
}))(
pairsToObj(
map(function(it){
  return [
    Str.unchars(
    map(Str.take(1))(
    it)), it
  ];
})(
[['small', 'middle'], ['middle', 'big']])));
calc = Obj.map(function(it){
  return Obj.map(it)(
  vals);
})(
pairsToObj(
map(function(it){
  return [it, sizeCalcHelpers[it]];
})(
map(camelize)(
['get-rel-vals', 'set-typical-sizes', 'set-typical-sizes-to-array']))));
$w.on("resize" + bindSuffix, function(){
  var screenW, headerOffset, wH, rangeKey;
  screenW = getRelScreenSize().screenW;
  headerOffset = $heightHelper.height();
  wH = $w.height();
  rangeKey = function(){
    switch (false) {
    case !(screenW >= widths.middle):
      return 'mb';
    default:
      return 'sm';
    }
  }();
  (function(elKey){
    (function(vals){
      vals = calc.getRelVals.mb(elKey)(vals);
      $cardN0NextIcon.css({
        marginTop: vals.iconTop + "px",
        transform: "scale(" + vals.scale + ")"
      });
    }.call(this, ['icon-top', 'scale']));
    (function(vals){
      vals = calc.getRelVals.mb(elKey)(vals);
      $cardN0Next.css({
        width: vals.size + "px",
        height: vals.size + "px",
        borderRadius: vals.size / 2 + "px",
        marginTop: vals.marginTop + "px"
      });
    }.call(this, ['size', 'margin-top']));
  }.call(this, 'next'));
  each(function(it){
    calc.setTypicalSizesToArray.mb(it[0], it[1]);
  })(
  objToPairs(
  {
    'header-n1': headersN1,
    'header-n2': headersN2
  }));
  each(function(it){
    calc.setTypicalSizes.mb(it[0], it[1]);
  })(
  objToPairs(
  {
    'portfolio-title-block': $portfolioTitleBlock,
    'portfolio-title-block-h2': $portfolioTitleBlockH2,
    'portfolio-title-block-h3': $portfolioTitleBlockH3,
    'portfolio-ul-li': $portfolioUlLi,
    'portfolio-ul-li-text-h3': $portfolioUlLiTextH3,
    'portfolio-ul-li-text-h4': $portfolioUlLiTextH4,
    'portfolio-ul-li-text-h3-h4': $portfolioUlLiTextH3H4,
    'portfolio-more-block-a': $portfolioMoreBlockA,
    'contacts-head': $contactsHead,
    'contacts-h2': $contactsH2
  }));
  (function(elKey, vals){
    vals = calc.getRelVals.mb(elKey)(vals);
    $portfolioMoreBlockAIcon.css({
      transform: "translateX(50%) scale(" + vals.scale + ")"
    });
  }.call(this, 'portfolio-more-block-a-icon', ['scale']));
  (function(elKey, vals){
    vals = calc.getRelVals.mb(elKey)(vals);
    $contactsH2Img.css({
      transform: "scale(" + vals.scale + ")"
    });
  }.call(this, 'contacts-h2-img', ['scale']));
  each(function(it){
    calc.setTypicalSizesToArray.mb(it[0], it[1]);
  })(
  objToPairs(
  {
    'contacts-col-n1-items': contactsColN1Items
  }));
  each(function(it){
    calc.setTypicalSizesToArray[rangeKey](it[0], it[1]);
  })(
  objToPairs(
  {
    'contacts-second-font-n1': contactsFontN1,
    'contacts-second-font-n2': contactsFontN2,
    'contacts-col-n1': $contactsColN1,
    'contacts-col-n2': $contactsColN2,
    'contacts-col-n2-label-submit': $contactsColN2LabelSubmit,
    'contacts-col-n2-label': $contactsColN2Labels,
    'contacts-col-n2-label-text': $contactsColN2LabelsText,
    'contacts-col-n2-textarea': $contactsColN2Textarea,
    'contacts-col-n2-span': $contactsColN2LabelsSpan
  }));
  $cards.css({
    height: wH
  });
  $cardsList.css({
    height: wH
  });
  $team.css({
    height: wH - headerOffset
  });
  $topPart.css({
    height: 'auto'
  });
  each(function(it){
    it.trigger('resize-map');
  })(
  maps);
});
$w.trigger("resize" + bindSuffix);
},{"../../basics":1,"../../get-rel-screen-size":5,"../../size-calc-helpers":32,"jquery":"IV5zFA","prelude":"iujHG2"}],30:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General page "team" section behavior
 *
 * @author Viacheslav Lotsmanov
 */
var $, $s, $peopleList, $peopleListElems, $peopleLinks, $links;
$ = require('jquery');
require('jquery-kinetic');
require('smooth-div');
require('modernizr');
$s = $('.team');
$peopleList = $s.find('ul.people');
$peopleListElems = $peopleList.find('>li');
$peopleLinks = $peopleListElems.find('>a');
(function(){
  var $list, $elems, sum;
  $list = $peopleList;
  $elems = $peopleList.find('>li');
  if (!($elems.length > 0)) {
    return;
  }
  sum = (function(it){
    return it + parseInt($elems.last().css('margin-right'), 10);
  })(
  (function(it){
    return it + $elems.first().width();
  })(
  (function(it){
    return it + parseInt($elems.first().css('margin-left'), 10);
  })(
  0)));
  if ($elems.length > 1) {
    sum += (function(it){
      return it + parseInt($elems.last().css('margin-left'), 10);
    })(
    $elems.last().width());
  }
  Array.prototype.shift.call($elems);
  Array.prototype.pop.call($elems);
  $elems.each(function(){
    var this$ = this;
    sum += function(it){
      return it + $(this$).width();
    }(
    parseInt($(this).css('margin-left'), 10));
  });
  if (sum > $list.width()) {
    return $list.scrollLeft((function(it){
      return it / 2;
    })(
    (function(it){
      return it - $list.width();
    })(
    sum)));
  }
})();
$links = $s.find('ul.people>li>a');
$links.on('click', function(e){
  return e.preventDefault();
});
$peopleListElems.on('mouseenter', function(){
  $links.blur();
});
$peopleLinks.each(function(){
  var $link;
  $link = $(this);
  $(this).find('img').each(function(){
    var $img, $toLoad;
    $img = $(this);
    $toLoad = $('<img/>').on('load', function(){
      $link.css({
        height: $img.height()
      });
      $img.css({
        bottom: -5
      }).addClass('loaded');
    }).attr('src', $img.attr('src'));
    $peopleList.smoothDivScroll(Modernizr.touch
      ? {
        touchScrolling: true,
        hotSpotScrolling: false
      }
      : {
        touchScrolling: false,
        hotSpotScrolling: true,
        hotSpotScrollingStep: 5,
        hotSpotMouseDownSpeedBooster: 1
      });
  });
});
},{"jquery":"IV5zFA","jquery-kinetic":"/tm0Rs","modernizr":"AXjHJu","smooth-div":"I8oxXi"}],31:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * Images preloading module
 * See icons.styl
 *
 * @author Viacheslav Lotsmanov
 */
var ref$, unique, difference, empty, isType, $, getLocalText, loadImg, getVal, error, addPreloadToDom, loadedCb, success;
ref$ = require('prelude'), unique = ref$.unique, difference = ref$.difference, empty = ref$.empty, isType = ref$.isType;
$ = require('jquery');
ref$ = require('./basics'), getLocalText = ref$.getLocalText, loadImg = ref$.loadImg, getVal = ref$.getVal;
error = function(xhr, status, err){
  if (err === 'timeout') {
    window.alert(getLocalText('err', 'styles', 'load-timeout'));
  } else {
    window.alert(getLocalText('err', 'styles', 'xhr-load', {
      '#ERROR_CODE#': err
    }));
  }
};
addPreloadToDom = function($master, className){
  var $newEl;
  $newEl = $('<ins/>', {
    'class': className
  });
  $master.append($newEl);
};
loadedCb = function(cb, loadedList, matches){
  matches = unique(
  matches);
  loadedList = unique(
  loadedList);
  if (empty(
  difference(matches, loadedList))) {
    setTimeout(cb, 0);
  }
};
success = function(data, cb){
  var matches, $master, i$, len$, className, loadedList, LoadImg, src;
  matches = data.match(/(?!\.)(preload-[^\s\{]+)/g);
  if (!isType('Array')) {
    setTimeout(cb, 0);
    return;
  }
  $master = $('<div/>', {
    'class': 'preloaders'
  });
  for (i$ = 0, len$ = matches.length; i$ < len$; ++i$) {
    className = matches[i$];
    $master.append($('<ins/>', {
      'class': className
    }));
  }
  $('body').append($master);
  loadedList = [];
  LoadImg = require('load-img');
  for (i$ = 0, len$ = matches.length; i$ < len$; ++i$) {
    className = matches[i$];
    src = $master.find("." + className).css('background-image').trim().replace(/^url\((.*?)\)$/i, '$1').trim().replace(/^'(.*?)'$/, '$1').replace(/^"(.*?)"$/, '$1');
    loadImg(src, (fn$.call(this, src, className)));
  }
  function fn$(src, className){
    return function(err, img){
      if (err) {
        if (err instanceof LoadImg.exceptions.Timeout) {
          window.alert(getLocalText('err', 'preload-img-timeout', {
            '#IMAGE_SRC#': src
          }));
          return;
        }
        window.alert(getLocalText('err', 'preload-img', {
          '#ERROR_CODE#': err.toString(),
          '#IMAGE_SRC#': src
        }));
        return;
      }
      loadedList.push(className);
      loadedCb(cb, loadedList, matches);
    };
  }
};
module.exports = function(cb){
  $.ajax({
    cache: true,
    url: getVal('styles-href'),
    dataType: 'text',
    timeout: (function(it){
      return it * 1000;
    })(
    getVal('styles-load-timeout')),
    type: 'GET',
    success: function(data){
      success(data, cb);
    },
    error: error
  });
};
},{"./basics":1,"jquery":"IV5zFA","load-img":"CDS7yq","prelude":"iujHG2"}],32:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * size calculators helpers
 *
 * @author Viacheslav Lotsmanov
 */
var $, ref$, map, each, camelize, listsToObj, Obj, objToPairs, pairsToObj, at, relnum, getRelScreenSize, getVal, widths, getRel, getRelval, getElVals, getRelVals, setTypicalSizes, setTypicalSizesToArray;
$ = require('jquery');
ref$ = require('prelude'), map = ref$.map, each = ref$.each, camelize = ref$.camelize, listsToObj = ref$.listsToObj, Obj = ref$.Obj, objToPairs = ref$.objToPairs, pairsToObj = ref$.pairsToObj, at = ref$.at;
relnum = require('relative-number');
getRelScreenSize = require('./get-rel-screen-size');
getVal = require('./basics').getVal;
widths = getVal(
'responsive-widths');
getRel = function(it){
  return function(it){
    return widths[it];
  }(
  at(0)(
  Obj.keys(
  it)));
};
getRelval = curry$(function(vals, min, max){
  var screenW;
  screenW = getRelScreenSize().screenW;
  return relnum({
    relVal: screenW,
    relMin: getRel(
    vals[0]),
    relMax: getRel(
    vals[1]),
    min: min,
    max: max
  });
});
getElVals = curry$(function(elKey, val){
  return function(it){
    return it[camelize(
    elKey)];
  }(
  at(0)(
  Obj.values(
  val)));
});
getRelVals = curry$(function(vals, elKey, keys){
  var getElValsC, from, to;
  getElValsC = getElVals(elKey);
  from = getElValsC(
  vals[0]);
  to = getElValsC(
  vals[1]);
  return pairsToObj(
  map(function(it){
    if (it[0] !== 'scale') {
      it[1] = Math.round(it[1]);
    }
    return it;
  })(
  objToPairs(
  listsToObj(map(camelize)(
  keys))(
  map(function(it){
    return getRelval(vals, from[it], to[it]);
  })(
  map(camelize)(
  keys))))));
});
setTypicalSizes = curry$(function(vals, elKey, el){
  (function(it){
    return $(el).css(it);
  })(
  Obj.map((function(it){
    return it + 'px';
  }))(
  getRelVals(vals, elKey)(
  Obj.keys(
  function(it){
    return it[camelize(
    elKey)];
  }(
  at(0)(
  Obj.values(
  vals[0])))))));
});
setTypicalSizesToArray = curry$(function(vals, elKey, arr){
  var css;
  css = Obj.map((function(it){
    return it + 'px';
  }))(
  getRelVals(vals, elKey)(
  Obj.keys(
  function(it){
    return it[camelize(
    elKey)];
  }(
  at(0)(
  Obj.values(
  vals[0]))))));
  each(function(it){
    return $(it).css(css);
  })(
  arr);
});
module.exports = {
  getRelval: getRelval,
  getRelVals: getRelVals,
  setTypicalSizes: setTypicalSizes,
  setTypicalSizesToArray: setTypicalSizesToArray
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{"./basics":1,"./get-rel-screen-size":5,"jquery":"IV5zFA","prelude":"iujHG2","relative-number":"0V6A5u"}],33:[function(require,module,exports){
// Generated by LiveScript 1.3.1
/**
 * General values
 *
 * @author Viacheslav Lotsmanov
 */
module.exports.values = {
  'animation-speed': 200,
  'styles-load-timeout': 30,
  'load-img-timeout': 15,
  'dynamic-api-interval': 500,
  'yandex-maps-api-lang': {
    ru: 'ru_RU',
    en: 'en_US'
  },
  'workspace-ratio': [1920, 1100],
  'responsive-widths': {
    extraSmall: 460,
    small: 840,
    middle: 1000,
    big: 1920
  },
  'header': {
    all: {
      logo: {
        left: 29
      }
    },
    extraSmall: {},
    small: {
      width: 220,
      height: 96,
      helperHeight: 70,
      logo: {
        size: 41,
        text: {
          marginLeft: 14,
          fontSize: 16,
          lineHeight: 18
        },
        scroll: {
          left: 29,
          top: 15
        }
      },
      callMenu: {
        right: 22,
        top: 21,
        scale: 0.74,
        marginTop: -14
      },
      nav: {
        top: 0,
        right: 0,
        item: {
          fontSize: 15,
          paddingTop: 41
        }
      }
    },
    middle: {
      height: 96,
      logo: {
        size: 41,
        text: {
          marginLeft: 14,
          fontSize: 16,
          lineHeight: 18
        }
      },
      callMenu: {
        right: 22,
        top: 21,
        scale: 0.74
      },
      nav: {
        top: 0,
        right: 99,
        item: {
          fontSize: 15,
          paddingTop: 41
        }
      }
    },
    big: {
      height: 112,
      logo: {
        size: 55,
        text: {
          marginLeft: 19,
          fontSize: 22,
          lineHeight: 24
        }
      },
      callMenu: {
        right: 29,
        top: 28,
        scale: 1.0
      },
      nav: {
        top: 0,
        right: 113,
        item: {
          fontSize: 18,
          paddingTop: 45
        }
      }
    }
  },
  'footer': {
    extraSmall: {},
    small: {
      copyrightTextBlock: {
        marginTop: 64,
        paddingLeft: 40
      }
    },
    middle: {
      footer: {
        height: 161
      },
      links: {
        marginTop: 45
      },
      copyrightTextBlock: {
        marginTop: 64,
        paddingLeft: 60
      },
      copyrightTextP: {
        fontSize: 14,
        lineHeight: 16
      }
    },
    big: {
      footer: {
        height: 191
      },
      links: {
        marginTop: 55
      },
      copyrightTextBlock: {
        marginTop: 74,
        paddingLeft: 60
      },
      copyrightTextP: {
        fontSize: 16,
        lineHeight: 18
      }
    }
  },
  'general-page': {
    extraSmall: {
      cardsSwitcher: {
        width: 420,
        bottom: 63
      },
      cardsSwitcherActiveLine: {
        opacity: 1
      }
    },
    small: {
      cardsSwitcher: {
        width: 670,
        bottom: 63
      },
      cardsSwitcherActiveLine: {
        opacity: 1
      },
      contactsSecondFontN1: {
        fontSize: 24,
        lineHeight: 26
      },
      contactsSecondFontN2: {
        fontSize: 16,
        lineHeight: 24
      },
      contactsColN1: {
        paddingTop: 48,
        paddingBottom: 50,
        paddingLeft: 38
      },
      contactsColN2: {
        paddingRight: 40,
        paddingTop: 40,
        paddingBottom: 50
      },
      contactsColN2LabelSubmit: {
        marginTop: 20
      },
      contactsColN2Label: {
        marginTop: 10
      },
      contactsColN2LabelText: {
        height: 45
      },
      contactsColN2Textarea: {
        minHeight: 125,
        paddingTop: 11,
        paddingBottom: 11
      },
      contactsColN2Span: {
        lineHeight: 45
      }
    },
    middle: {
      headerN1: {
        fontSize: 51,
        lineHeight: 50
      },
      headerN2: {
        fontSize: 16,
        lineHeight: 18,
        paddingTop: 22
      },
      next: {
        size: 69,
        marginTop: 42,
        scale: 0.69,
        iconTop: 2
      },
      cardsSwitcher: {
        width: 890,
        bottom: 50
      },
      cardsSwitcherActiveLine: {
        opacity: 0.7
      },
      portfolioTitleBlock: {
        paddingBottom: 56
      },
      portfolioTitleBlockH2: {
        fontSize: 41,
        lineHeight: 43,
        paddingTop: 68
      },
      portfolioTitleBlockH3: {
        fontSize: 18,
        lineHeight: 20,
        paddingTop: 22
      },
      portfolioUlLi: {
        height: 209
      },
      portfolioUlLiTextH3: {
        fontSize: 33,
        lineHeight: 35
      },
      portfolioUlLiTextH4: {
        fontSize: 16,
        lineHeight: 18
      },
      portfolioUlLiTextH3H4: {
        paddingTop: 10
      },
      portfolioMoreBlockA: {
        fontSize: 18,
        lineHeight: 20,
        paddingTop: 99,
        marginTop: 51,
        marginBottom: 40
      },
      portfolioMoreBlockAIcon: {
        scale: 0.65
      },
      contactsHead: {
        height: 380
      },
      contactsH2: {
        top: 79
      },
      contactsH2Img: {
        scale: 0.767
      },
      contactsSecondFontN1: {
        fontSize: 30,
        lineHeight: 32
      },
      contactsSecondFontN2: {
        fontSize: 17,
        lineHeight: 24
      },
      contactsColN1Items: {
        paddingLeft: 45
      },
      contactsColN1: {
        paddingTop: 48,
        paddingBottom: 60,
        paddingLeft: 38
      },
      contactsColN2: {
        paddingRight: 40,
        paddingTop: 40,
        paddingBottom: 60
      },
      contactsColN2LabelSubmit: {
        marginTop: 20
      },
      contactsColN2Label: {
        marginTop: 10
      },
      contactsColN2LabelText: {
        height: 50
      },
      contactsColN2Textarea: {
        minHeight: 130,
        paddingTop: 12,
        paddingBottom: 12
      },
      contactsColN2Span: {
        lineHeight: 50
      }
    },
    big: {
      headerN1: {
        fontSize: 72,
        lineHeight: 73
      },
      headerN2: {
        fontSize: 24,
        lineHeight: 26,
        paddingTop: 31
      },
      next: {
        size: 100,
        marginTop: 62,
        scale: 1.0,
        iconTop: 3
      },
      cardsSwitcher: {
        width: 1410,
        bottom: 150
      },
      cardsSwitcherActiveLine: {
        opacity: 0.7
      },
      portfolioTitleBlock: {
        paddingBottom: 103
      },
      portfolioTitleBlockH2: {
        fontSize: 62,
        lineHeight: 64,
        paddingTop: 106
      },
      portfolioTitleBlockH3: {
        fontSize: 22,
        lineHeight: 24,
        paddingTop: 29
      },
      portfolioUlLi: {
        height: 330
      },
      portfolioUlLiTextH3: {
        fontSize: 52,
        lineHeight: 54
      },
      portfolioUlLiTextH4: {
        fontSize: 22,
        lineHeight: 24
      },
      portfolioUlLiTextH3H4: {
        paddingTop: 19
      },
      portfolioMoreBlockA: {
        fontSize: 24,
        lineHeight: 26,
        paddingTop: 126,
        marginTop: 110,
        marginBottom: 64
      },
      portfolioMoreBlockAIcon: {
        scale: 1.0
      },
      contactsHead: {
        height: 485
      },
      contactsH2: {
        top: 133
      },
      contactsH2Img: {
        scale: 1.0
      },
      contactsSecondFontN1: {
        fontSize: 33,
        lineHeight: 35
      },
      contactsSecondFontN2: {
        fontSize: 21,
        lineHeight: 26
      },
      contactsColN1Items: {
        paddingLeft: 60
      },
      contactsColN1: {
        paddingTop: 48,
        paddingBottom: 90,
        paddingLeft: 58
      },
      contactsColN2: {
        paddingRight: 60,
        paddingTop: 50,
        paddingBottom: 90
      },
      contactsColN2LabelSubmit: {
        marginTop: 30
      },
      contactsColN2Label: {
        marginTop: 20
      },
      contactsColN2LabelText: {
        height: 50
      },
      contactsColN2Textarea: {
        minHeight: 130,
        paddingTop: 12,
        paddingBottom: 12
      },
      contactsColN2Span: {
        lineHeight: 50
      }
    }
  },
  'blog-page': {
    extraSmall: {},
    small: {
      blog: {
        paddingLeft: 38,
        paddingRight: 38
      }
    },
    middle: {
      blog: {
        paddingLeft: 43,
        paddingRight: 43
      },
      topLine: {
        height: 79
      },
      colLeft: {
        paddingRight: 57,
        paddingBottom: 44
      },
      colRight: {
        width: 287
      },
      colRightTagsHeader: {
        fontSize: 21,
        lineHeight: 23,
        paddingTop: 49
      },
      postItem: {
        paddingTop: 32
      },
      postTextFont: {
        fontSize: 14,
        lineHeight: 20
      },
      postSpecialTitleFont: {
        fontSize: 36,
        lineHeight: 38
      },
      postTitleFont: {
        fontSize: 21,
        lineHeight: 22
      },
      socialButtonsBlock: {
        width: 360
      }
    },
    big: {
      topLine: {
        height: 85
      },
      colLeft: {
        paddingRight: 83,
        paddingBottom: 84
      },
      colRight: {
        width: 317
      },
      colRightTagsHeader: {
        fontSize: 24,
        lineHeight: 26,
        paddingTop: 56
      },
      postItem: {
        paddingTop: 40
      },
      postTextFont: {
        fontSize: 16,
        lineHeight: 22
      },
      postSpecialTitleFont: {
        fontSize: 42,
        lineHeight: 44
      },
      postTitleFont: {
        fontSize: 24,
        lineHeight: 26
      },
      socialButtonsBlock: {
        width: 679
      }
    }
  },
  'blog-list-sizes': {
    postSpacePercent: 3.84,
    postSpacePercentS: 5.08,
    postItemWidth: 30.76,
    postItemWidthS: 47.36,
    postSpecialWidth: 65.38
  }
};
module.exports.required = ['lang', 'styles-href'];
},{}],"T2mFLw":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {

; global.jQuery = require("jquery");
/*! jQuery UI - v1.10.3 - 2013-10-28
* http://jqueryui.com
* Includes: jquery.ui.widget.js, jquery.ui.effect.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */

(function(e,t){var i=0,s=Array.prototype.slice,a=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(n){}a(t)},e.widget=function(i,s,a){var n,r,o,h,l={},u=i.split(".")[0];i=i.split(".")[1],n=u+"-"+i,a||(a=s,s=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[u]=e[u]||{},r=e[u][i],o=e[u][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),h=new s,h.options=e.widget.extend({},h.options),e.each(a,function(i,a){return e.isFunction(a)?(l[i]=function(){var e=function(){return s.prototype[i].apply(this,arguments)},t=function(e){return s.prototype[i].apply(this,e)};return function(){var i,s=this._super,n=this._superApply;return this._super=e,this._superApply=t,i=a.apply(this,arguments),this._super=s,this._superApply=n,i}}(),t):(l[i]=a,t)}),o.prototype=e.widget.extend(h,{widgetEventPrefix:r?h.widgetEventPrefix:i},l,{constructor:o,namespace:u,widgetName:i,widgetFullName:n}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var a,n,r=s.call(arguments,1),o=0,h=r.length;h>o;o++)for(a in r[o])n=r[o][a],r[o].hasOwnProperty(a)&&n!==t&&(i[a]=e.isPlainObject(n)?e.isPlainObject(i[a])?e.widget.extend({},i[a],n):e.widget.extend({},n):n);return i},e.widget.bridge=function(i,a){var n=a.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,h=s.call(arguments,1),l=this;return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,o?this.each(function(){var s,a=e.data(this,n);return a?e.isFunction(a[r])&&"_"!==r.charAt(0)?(s=a[r].apply(a,h),s!==a&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,n);t?t.option(r||{})._init():e.data(this,n,new a(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var a,n,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},a=i.split("."),i=a.shift(),a.length){for(n=o[i]=e.widget.extend({},this.options[i]),r=0;a.length-1>r;r++)n[a[r]]=n[a[r]]||{},n=n[a[r]];if(i=a.pop(),s===t)return n[i]===t?null:n[i];n[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,a){var n,r=this;"boolean"!=typeof i&&(a=s,s=i,i=!1),a?(s=n=e(s),this.bindings=this.bindings.add(s)):(a=s,s=this.element,n=this.widget()),e.each(a,function(a,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);var l=a.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?n.delegate(c,u,h):s.bind(u,h)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var a,n,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(a in n)a in i||(i[a]=n[a]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,a,n){"string"==typeof a&&(a={effect:a});var r,o=a?a===!0||"number"==typeof a?i:a.effect||i:t;a=a||{},"number"==typeof a&&(a={duration:a}),r=!e.isEmptyObject(a),a.complete=n,a.delay&&s.delay(a.delay),r&&e.effects&&e.effects.effect[o]?s[t](a):o!==t&&s[o]?s[o](a.duration,a.easing,n):s.queue(function(i){e(this)[t](),n&&n.call(s[0]),i()})}})})(jQuery);(function(e,t){var i="ui-effects-";e.effects={effect:{}},function(e,t){function i(e,t,i){var s=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),a=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,n){var r,o=n.re.exec(i),h=o&&n.parse(o),l=n.space||"rgba";return h?(r=s[l](h),s[u[l].cache]=r[u[l].cache],a=s._rgba=r._rgba,!1):t}),a.length?("0,0,0,0"===a.join()&&e.extend(a,n.transparent),s):n[i]}function a(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var n,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",o=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,a){return new e.Color.fn.parse(t,i,s,a)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(a,r,o,h){if(a===t)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=e(a).css(r),r=t);var c=this,d=e.type(a),p=this._rgba=[];return r!==t&&(a=[a,r,o,h],d="array"),"string"===d?this.parse(s(a)||n._default):"array"===d?(f(u.rgba.props,function(e,t){p[t.idx]=i(a[t.idx],t)}),this):"object"===d?(a instanceof l?f(u,function(e,t){a[t.cache]&&(c[t.cache]=a[t.cache].slice())}):f(u,function(t,s){var n=s.cache;f(s.props,function(e,t){if(!c[n]&&s.to){if("alpha"===e||null==a[e])return;c[n]=s.to(c._rgba)}c[n][t.idx]=i(a[e],t,!0)}),c[n]&&0>e.inArray(null,c[n].slice(0,3))&&(c[n][3]=1,s.from&&(c._rgba=s.from(c[n])))}),this):t},is:function(e){var i=l(e),s=!0,a=this;return f(u,function(e,n){var r,o=i[n.cache];return o&&(r=a[n.cache]||n.to&&n.to(a._rgba)||[],f(n.props,function(e,i){return null!=o[i.idx]?s=o[i.idx]===r[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),a=s._space(),n=u[a],r=0===this.alpha()?l("transparent"):this,o=r[n.cache]||n.to(r._rgba),h=o.slice();return s=s[n.cache],f(n.props,function(e,a){var n=a.idx,r=o[n],l=s[n],u=c[a.type]||{};null!==l&&(null===r?h[n]=l:(u.mod&&(l-r>u.mod/2?r+=u.mod:r-l>u.mod/2&&(r-=u.mod)),h[n]=i((l-r)*t+r,a)))}),this[a](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),a=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*a[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,a=e[1]/255,n=e[2]/255,r=e[3],o=Math.max(s,a,n),h=Math.min(s,a,n),l=o-h,u=o+h,c=.5*u;return t=h===o?0:s===o?60*(a-n)/l+360:a===o?60*(n-s)/l+120:60*(s-a)/l+240,i=0===l?0:.5>=c?l/u:l/(2-u),[Math.round(t)%360,i,c,null==r?1:r]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],n=e[3],r=.5>=s?s*(1+i):s+i-s*i,o=2*s-r;return[Math.round(255*a(o,r,t+1/3)),Math.round(255*a(o,r,t)),Math.round(255*a(o,r,t-1/3)),n]},f(u,function(s,a){var n=a.props,r=a.cache,h=a.to,u=a.from;l.fn[s]=function(s){if(h&&!this[r]&&(this[r]=h(this._rgba)),s===t)return this[r].slice();var a,o=e.type(s),c="array"===o||"object"===o?s:arguments,d=this[r].slice();return f(n,function(e,t){var s=c["object"===o?e:t.idx];null==s&&(s=d[t.idx]),d[t.idx]=i(s,t)}),u?(a=l(u(d)),a[r]=d,a):l(d)},f(n,function(t,i){l.fn[t]||(l.fn[t]=function(a){var n,r=e.type(a),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===r?u:("function"===r&&(a=a.call(this,u),r=e.type(a)),null==a&&i.empty?this:("string"===r&&(n=o.exec(a),n&&(a=u+parseFloat(n[2])*("+"===n[1]?1:-1))),l[i.idx]=a,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,a){var n,r,o="";if("transparent"!==a&&("string"!==e.type(a)||(n=s(a)))){if(a=l(n||a),!d.rgba&&1!==a._rgba[3]){for(r="backgroundColor"===i?t.parentNode:t;(""===o||"transparent"===o)&&r&&r.style;)try{o=e.css(r,"backgroundColor"),r=r.parentNode}catch(h){}a=a.blend(o&&"transparent"!==o?o:"_default")}a=a.toRgbaString()}try{t.style[i]=a}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(r),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var i,s,a=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(a&&a.length&&a[0]&&a[a[0]])for(s=a.length;s--;)i=a[s],"string"==typeof a[i]&&(n[e.camelCase(i)]=a[i]);else for(i in a)"string"==typeof a[i]&&(n[i]=a[i]);return n}function s(t,i){var s,a,r={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(r[s]=a));return r}var a=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,n,r,o){var h=e.speed(n,r,o);return this.queue(function(){var n,r=e(this),o=r.attr("class")||"",l=h.children?r.find("*").addBack():r;l=l.map(function(){var t=e(this);return{el:t,start:i(this)}}),n=function(){e.each(a,function(e,i){t[i]&&r[i+"Class"](t[i])})},n(),l=l.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",o),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){n(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(i,s,a,n){return s?e.effects.animateClass.call(this,{add:i},s,a,n):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,a,n){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,a,n):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(i){return function(s,a,n,r,o){return"boolean"==typeof a||a===t?n?e.effects.animateClass.call(this,a?{add:s}:{remove:s},n,r,o):i.apply(this,arguments):e.effects.animateClass.call(this,{toggle:s},a,n,r)}}(e.fn.toggleClass),switchClass:function(t,i,s,a,n){return e.effects.animateClass.call(this,{add:i,remove:t},s,a,n)}})}(),function(){function s(t,i,s,a){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(a=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(a=s,s=i,i={}),e.isFunction(s)&&(a=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=a||i.complete,t}function a(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.3",save:function(e,t){for(var s=0;t.length>s;s++)null!==t[s]&&e.data(i+t[s],e[0].style[t[s]])},restore:function(e,s){var a,n;for(n=0;s.length>n;n++)null!==s[n]&&(a=e.data(i+s[n]),a===t&&(a=""),e.css(s[n],a))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),a={width:t.width(),height:t.height()},n=document.activeElement;try{n.id}catch(r){n=document.body}return t.wrap(s),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(a),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,a){return a=a||{},e.each(i,function(e,i){var n=t.cssUnit(i);n[0]>0&&(a[i]=n[0]*s+n[1])}),a}}),e.fn.extend({effect:function(){function t(t){function s(){e.isFunction(n)&&n.call(a[0]),e.isFunction(t)&&t()}var a=e(this),n=i.complete,o=i.mode;(a.is(":hidden")?"hide"===o:"show"===o)?(a[o](),s()):r.call(a[0],i,s)}var i=s.apply(this,arguments),a=i.mode,n=i.queue,r=e.effects.effect[i.effect];return e.fx.off||!r?a?this[a](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):n===!1?this.each(t):this.queue(n||"fx",t)},show:function(e){return function(t){if(a(t))return e.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(t){if(a(t))return e.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(t){if(a(t)||"boolean"==typeof t)return e.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()})(jQuery);
}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":"IV5zFA"}],"jquery-ui":[function(require,module,exports){
module.exports=require('T2mFLw');
},{}],"/tm0Rs":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
/*! jquery.kinetic - v1.8.2 - 2013-03-23 http://the-taylors.org/jquery.kinetic 
 * Copyright (c) 2013 Dave Taylor; Licensed MIT */
(function(t){"use strict";var e={cursor:"move",decelerate:!0,triggerHardware:!1,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},n="kinetic-settings",i="kinetic-active";window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()),t.support=t.support||{},t.extend(t.support,{touch:"ontouchend"in document});var o=function(){return!1},c=function(t,e){return 0===Math.floor(Math.abs(t))?0:t*e},l=function(t,e){var n=t;return t>0?t>e&&(n=e):0-e>t&&(n=0-e),n},s=function(t,e){this.removeClass(t.movingClass.up).removeClass(t.movingClass.down).removeClass(t.movingClass.left).removeClass(t.movingClass.right).removeClass(t.deceleratingClass.up).removeClass(t.deceleratingClass.down).removeClass(t.deceleratingClass.left).removeClass(t.deceleratingClass.right),t.velocity>0&&this.addClass(e.right),0>t.velocity&&this.addClass(e.left),t.velocityY>0&&this.addClass(e.down),0>t.velocityY&&this.addClass(e.up)},a=function(t,e){e.velocity=0,e.velocityY=0,e.decelerate=!0,"function"==typeof e.stopped&&e.stopped.call(t,e)},r=function(t,e){var n=t[0];e.x&&n.scrollWidth>0?(n.scrollLeft=e.scrollLeft=n.scrollLeft+e.velocity,Math.abs(e.velocity)>0&&(e.velocity=e.decelerate?c(e.velocity,e.slowdown):e.velocity)):e.velocity=0,e.y&&n.scrollHeight>0?(n.scrollTop=e.scrollTop=n.scrollTop+e.velocityY,Math.abs(e.velocityY)>0&&(e.velocityY=e.decelerate?c(e.velocityY,e.slowdown):e.velocityY)):e.velocityY=0,s.call(t,e,e.deceleratingClass),"function"==typeof e.moved&&e.moved.call(t,e),Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0?window.requestAnimationFrame(function(){r(t,e)}):a(t,e)},u=function(e){var i=t.kinetic.callMethods[e],o=Array.prototype.slice.call(arguments);i&&this.each(function(){var e=o.slice(1),c=t(this).data(n);e.unshift(c),i.apply(this,e)})},v=function(e,n){e[0],t.support.touch?e.bind("touchstart",n.events.touchStart).bind("touchend",n.events.inputEnd).bind("touchmove",n.events.touchMove):e.mousedown(n.events.inputDown).mouseup(n.events.inputEnd).mousemove(n.events.inputMove),e.click(n.events.inputClick).scroll(n.events.scroll).bind("selectstart",o).bind("dragstart",n.events.dragStart)},d=function(e,n){e[0],t.support.touch?e.unbind("touchstart",n.events.touchStart).unbind("touchend",n.events.inputEnd).unbind("touchmove",n.events.touchMove):e.unbind("mousedown",n.events.inputDown).unbind("mouseup",n.events.inputEnd).unbind("mousemove",n.events.inputMove).unbind("scroll",n.events.scroll),e.unbind("click",n.events.inputClick).unbind("selectstart",o),e.unbind("dragstart",n.events.dragStart)},f=function(o){this.addClass(i).each(function(){var i=this,c=t(this);if(!c.data(n)){var a,u,d,f,p=t.extend({},e,o),m=!1,h=!1,g=!1,w=1e3/p.throttleFPS;p.velocity=0,p.velocityY=0;var y=function(){a=!1,u=!1,g=!1};t(document).mouseup(y).click(y);var C=function(){p.velocity=l(m-a,p.maxvelocity),p.velocityY=l(h-u,p.maxvelocity)},b=function(e){return t.isFunction(p.filterTarget)?p.filterTarget.call(i,e)!==!1:!0},k=function(t,e){g=!0,p.velocity=m=0,p.velocityY=h=0,a=t,u=e},Y=function(){a&&m&&p.decelerate===!1&&(p.decelerate=!0,C(),a=m=g=!1,r(c,p))},D=function(e,n){(!d||new Date>new Date(d.getTime()+w))&&(d=new Date,g&&(a||u)&&(f&&(t(f).blur(),f=null,c.focus()),p.decelerate=!1,p.velocity=p.velocityY=0,c[0].scrollLeft=p.scrollLeft=p.x?c[0].scrollLeft-(e-a):c[0].scrollLeft,c[0].scrollTop=p.scrollTop=p.y?c[0].scrollTop-(n-u):c[0].scrollTop,m=a,h=u,a=e,u=n,C(),s.call(c,p,p.movingClass),"function"==typeof p.moved&&p.moved.call(c,p)))};p.events={touchStart:function(t){var e;b(t.target)&&(e=t.originalEvent.touches[0],k(e.clientX,e.clientY),t.stopPropagation())},touchMove:function(t){var e;g&&(e=t.originalEvent.touches[0],D(e.clientX,e.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){b(t.target)&&(k(t.clientX,t.clientY),f=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){Y(),f=null,t.preventDefault&&t.preventDefault()},inputMove:function(t){g&&(D(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof p.moved&&p.moved.call(c,p),t.preventDefault&&t.preventDefault()},inputClick:function(t){return Math.abs(p.velocity)>0?(t.preventDefault(),!1):void 0},dragStart:function(){return f?!1:void 0}},v(c,p),c.data(n,p).css("cursor",p.cursor),p.triggerHardware&&c.css({"-webkit-transform":"translate3d(0,0,0)","-webkit-perspective":"1000","-webkit-backface-visibility":"hidden"})}})};t.kinetic={settingsKey:n,callMethods:{start:function(e,n){var i=t(this);e=t.extend(e,n),e&&(e.decelerate=!1,r(i,e))},end:function(e){t(this),e&&(e.decelerate=!0)},stop:function(e){var n=t(this);a(n,e)},detach:function(e){var n=t(this);d(n,e),n.removeClass(i).css("cursor","")},attach:function(e){var n=t(this);v(n,e),n.addClass(i).css("cursor","move")}}},t.fn.kinetic=function(t){return"string"==typeof t?u.apply(this,arguments):f.call(this,t),this}})(window.jQuery||window.Zepto);
}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"jquery-kinetic":[function(require,module,exports){
module.exports=require('/tm0Rs');
},{}],"l1Sd/F":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.4
 *
 * Requires: 1.2.2+
 */
(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){module.exports=e}else{e(jQuery)}})(function(e){function o(t){var n=t||window.event,s=[].slice.call(arguments,1),o=0,u=0,a=0,f=0,l=0,c;t=e.event.fix(n);t.type="mousewheel";if(n.wheelDelta){o=n.wheelDelta}if(n.detail){o=n.detail*-1}a=o;if(n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS){a=0;u=o*-1}if(n.deltaY){a=n.deltaY*-1;o=a}if(n.deltaX){u=n.deltaX;o=u*-1}if(n.wheelDeltaY!==undefined){a=n.wheelDeltaY}if(n.wheelDeltaX!==undefined){u=n.wheelDeltaX*-1}f=Math.abs(o);if(!r||f<r){r=f}l=Math.max(Math.abs(a),Math.abs(u));if(!i||l<i){i=l}c=o>0?"floor":"ceil";o=Math[c](o/r);u=Math[c](u/i);a=Math[c](a/i);s.unshift(t,o,u,a);return(e.event.dispatch||e.event.handle).apply(this,s)}var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"];var n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];var r,i;if(e.event.fixHooks){for(var s=t.length;s;){e.event.fixHooks[t[--s]]=e.event.mouseHooks}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=n.length;e;){this.addEventListener(n[--e],o,false)}}else{this.onmousewheel=o}},teardown:function(){if(this.removeEventListener){for(var e=n.length;e;){this.removeEventListener(n[--e],o,false)}}else{this.onmousewheel=null}}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})
}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"jquery-mousewheel-source":[function(require,module,exports){
module.exports=require('l1Sd/F');
},{}],"smooth-div":[function(require,module,exports){
module.exports=require('I8oxXi');
},{}],"I8oxXi":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {

; global.jQuery = require("jquery");
require("jquery-ui");
require("jquery-mousewheel");
require("jquery-kinetic");
/*
 * jQuery SmoothDivScroll 1.3
 *
 * Copyright (c) 2013 Thomas Kahn
 * Licensed under the GPL license.
 *
 * http://www.smoothdivscroll.com/
 */
 
 (function($){$.widget("thomaskahn.smoothDivScroll",{options:{scrollingHotSpotLeftClass:"scrollingHotSpotLeft",scrollingHotSpotRightClass:"scrollingHotSpotRight",scrollingHotSpotLeftVisibleClass:"scrollingHotSpotLeftVisible",scrollingHotSpotRightVisibleClass:"scrollingHotSpotRightVisible",scrollableAreaClass:"scrollableArea",scrollWrapperClass:"scrollWrapper",hiddenOnStart:false,getContentOnLoad:{},countOnlyClass:"",startAtElementId:"",hotSpotScrolling:true,hotSpotScrollingStep:15,hotSpotScrollingInterval:10,hotSpotMouseDownSpeedBooster:3,visibleHotSpotBackgrounds:"hover",hotSpotsVisibleTime:5000,easingAfterHotSpotScrolling:true,easingAfterHotSpotScrollingDistance:10,easingAfterHotSpotScrollingDuration:300,easingAfterHotSpotScrollingFunction:"easeOutQuart",mousewheelScrolling:"",mousewheelScrollingStep:70,easingAfterMouseWheelScrolling:true,easingAfterMouseWheelScrollingDuration:300,easingAfterMouseWheelScrollingFunction:"easeOutQuart",manualContinuousScrolling:false,autoScrollingMode:"",autoScrollingDirection:"endlessLoopRight",autoScrollingStep:1,autoScrollingInterval:10,touchScrolling:false,scrollToAnimationDuration:1000,scrollToEasingFunction:"easeOutQuart"},_create:function(){var self=this,o=this.options,el=this.element;el.data("scrollWrapper",el.find("."+o.scrollWrapperClass));el.data("scrollingHotSpotRight",el.find("."+o.scrollingHotSpotRightClass));el.data("scrollingHotSpotLeft",el.find("."+o.scrollingHotSpotLeftClass));el.data("scrollableArea",el.find("."+o.scrollableAreaClass));if(el.data("scrollingHotSpotRight").length>0){el.data("scrollingHotSpotRight").detach()}if(el.data("scrollingHotSpotLeft").length>0){el.data("scrollingHotSpotLeft").detach()}if(el.data("scrollableArea").length===0&&el.data("scrollWrapper").length===0){el.wrapInner("<div class='"+o.scrollableAreaClass+"'>").wrapInner("<div class='"+o.scrollWrapperClass+"'>");el.data("scrollWrapper",el.find("."+o.scrollWrapperClass));el.data("scrollableArea",el.find("."+o.scrollableAreaClass))}else if(el.data("scrollWrapper").length===0){el.wrapInner("<div class='"+o.scrollWrapperClass+"'>");el.data("scrollWrapper",el.find("."+o.scrollWrapperClass))}else if(el.data("scrollableArea").length===0){el.data("scrollWrapper").wrapInner("<div class='"+o.scrollableAreaClass+"'>");el.data("scrollableArea",el.find("."+o.scrollableAreaClass))}if(el.data("scrollingHotSpotRight").length===0){el.prepend("<div class='"+o.scrollingHotSpotRightClass+"'></div>");el.data("scrollingHotSpotRight",el.find("."+o.scrollingHotSpotRightClass))}else{el.prepend(el.data("scrollingHotSpotRight"))}if(el.data("scrollingHotSpotLeft").length===0){el.prepend("<div class='"+o.scrollingHotSpotLeftClass+"'></div>");el.data("scrollingHotSpotLeft",el.find("."+o.scrollingHotSpotLeftClass))}else{el.prepend(el.data("scrollingHotSpotLeft"))}el.data("speedBooster",1);el.data("scrollXPos",0);el.data("hotSpotWidth",el.data("scrollingHotSpotLeft").innerWidth());el.data("scrollableAreaWidth",0);el.data("startingPosition",0);el.data("rightScrollingInterval",null);el.data("leftScrollingInterval",null);el.data("autoScrollingInterval",null);el.data("hideHotSpotBackgroundsInterval",null);el.data("previousScrollLeft",0);el.data("pingPongDirection","right");el.data("getNextElementWidth",true);el.data("swapAt",null);el.data("startAtElementHasNotPassed",true);el.data("swappedElement",null);el.data("originalElements",el.data("scrollableArea").children(o.countOnlyClass));el.data("visible",true);el.data("enabled",true);el.data("scrollableAreaHeight",el.data("scrollableArea").height());el.data("scrollerOffset",el.offset());if(o.touchScrolling&&el.data("enabled")){el.data("scrollWrapper").kinetic({y:false,moved:function(settings){if(o.manualContinuousScrolling){if(el.data("scrollWrapper").scrollLeft()<=0){self._checkContinuousSwapLeft()}else{self._checkContinuousSwapRight()}}self._trigger("touchMoved")},stopped:function(settings){el.data("scrollWrapper").stop(true,false);self.stopAutoScrolling();self._trigger("touchStopped")}})}el.data("scrollingHotSpotRight").bind("mousemove",function(e){if(o.hotSpotScrolling){var x=e.pageX-$(this).offset().left;el.data("scrollXPos",Math.round((x/el.data("hotSpotWidth"))*o.hotSpotScrollingStep));if(el.data("scrollXPos")===Infinity||el.data("scrollXPos")<1){el.data("scrollXPos",1)}}});el.data("scrollingHotSpotRight").bind("mouseover",function(){if(o.hotSpotScrolling){el.data("scrollWrapper").stop(true,false);self.stopAutoScrolling();el.data("rightScrollingInterval",setInterval(function(){if(el.data("scrollXPos")>0&&el.data("enabled")){el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+(el.data("scrollXPos")*el.data("speedBooster")));if(o.manualContinuousScrolling){self._checkContinuousSwapRight()}self._showHideHotSpots()}},o.hotSpotScrollingInterval));self._trigger("mouseOverRightHotSpot")}});el.data("scrollingHotSpotRight").bind("mouseout",function(){if(o.hotSpotScrolling){clearInterval(el.data("rightScrollingInterval"));el.data("scrollXPos",0);if(o.easingAfterHotSpotScrolling&&el.data("enabled")){el.data("scrollWrapper").animate({scrollLeft:el.data("scrollWrapper").scrollLeft()+o.easingAfterHotSpotScrollingDistance},{duration:o.easingAfterHotSpotScrollingDuration,easing:o.easingAfterHotSpotScrollingFunction})}}});el.data("scrollingHotSpotRight").bind("mousedown",function(){el.data("speedBooster",o.hotSpotMouseDownSpeedBooster)});$("body").bind("mouseup",function(){el.data("speedBooster",1)});el.data("scrollingHotSpotLeft").bind("mousemove",function(e){if(o.hotSpotScrolling){var x=el.data("hotSpotWidth")-(e.pageX-$(this).offset().left);el.data("scrollXPos",Math.round((x/el.data("hotSpotWidth"))*o.hotSpotScrollingStep));if(el.data("scrollXPos")===Infinity||el.data("scrollXPos")<1){el.data("scrollXPos",1)}}});el.data("scrollingHotSpotLeft").bind("mouseover",function(){if(o.hotSpotScrolling){el.data("scrollWrapper").stop(true,false);self.stopAutoScrolling();el.data("leftScrollingInterval",setInterval(function(){if(el.data("scrollXPos")>0&&el.data("enabled")){el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-(el.data("scrollXPos")*el.data("speedBooster")));if(o.manualContinuousScrolling){self._checkContinuousSwapLeft()}self._showHideHotSpots()}},o.hotSpotScrollingInterval));self._trigger("mouseOverLeftHotSpot")}});el.data("scrollingHotSpotLeft").bind("mouseout",function(){if(o.hotSpotScrolling){clearInterval(el.data("leftScrollingInterval"));el.data("scrollXPos",0);if(o.easingAfterHotSpotScrolling&&el.data("enabled")){el.data("scrollWrapper").animate({scrollLeft:el.data("scrollWrapper").scrollLeft()-o.easingAfterHotSpotScrollingDistance},{duration:o.easingAfterHotSpotScrollingDuration,easing:o.easingAfterHotSpotScrollingFunction})}}});el.data("scrollingHotSpotLeft").bind("mousedown",function(){el.data("speedBooster",o.hotSpotMouseDownSpeedBooster)});el.data("scrollableArea").mousewheel(function(event,delta,deltaX,deltaY){if(el.data("enabled")&&o.mousewheelScrolling.length>0){var pixels;if(o.mousewheelScrolling==="vertical"&&deltaY!==0){self.stopAutoScrolling();event.preventDefault();pixels=Math.round((o.mousewheelScrollingStep*deltaY)*-1);self.move(pixels)}else if(o.mousewheelScrolling==="horizontal"&&deltaX!==0){self.stopAutoScrolling();event.preventDefault();pixels=Math.round((o.mousewheelScrollingStep*deltaX)*-1);self.move(pixels)}else if(o.mousewheelScrolling==="allDirections"){self.stopAutoScrolling();event.preventDefault();pixels=Math.round((o.mousewheelScrollingStep*delta)*-1);self.move(pixels)}}});if(o.mousewheelScrolling){el.data("scrollingHotSpotLeft").add(el.data("scrollingHotSpotRight")).mousewheel(function(event){event.preventDefault()})}$(window).bind("resize",function(){self._showHideHotSpots();self._trigger("windowResized")});if(!(jQuery.isEmptyObject(o.getContentOnLoad))){self[o.getContentOnLoad.method](o.getContentOnLoad.content,o.getContentOnLoad.manipulationMethod,o.getContentOnLoad.addWhere,o.getContentOnLoad.filterTag)}if(o.hiddenOnStart){self.hide()}$(window).load(function(){if(!(o.hiddenOnStart)){self.recalculateScrollableArea()}if((o.autoScrollingMode.length>0)&&!(o.hiddenOnStart)){self.startAutoScrolling()}if(o.autoScrollingMode!=="always"){switch(o.visibleHotSpotBackgrounds){case"always":self.showHotSpotBackgrounds();break;case"onStart":self.showHotSpotBackgrounds();el.data("hideHotSpotBackgroundsInterval",setTimeout(function(){self.hideHotSpotBackgrounds(250)},o.hotSpotsVisibleTime));break;case"hover":el.mouseenter(function(event){if(o.hotSpotScrolling){event.stopPropagation();self.showHotSpotBackgrounds(250)}}).mouseleave(function(event){if(o.hotSpotScrolling){event.stopPropagation();self.hideHotSpotBackgrounds(250)}});break;default:break}}self._showHideHotSpots();self._trigger("setupComplete")})},_init:function(){var self=this,el=this.element;self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("initializationComplete")},_setOption:function(key,value){var self=this,o=this.options,el=this.element;o[key]=value;if(key==="hotSpotScrolling"){if(value===true){self._showHideHotSpots()}else{el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide()}}else if(key==="autoScrollingStep"||key==="easingAfterHotSpotScrollingDistance"||key==="easingAfterHotSpotScrollingDuration"||key==="easingAfterMouseWheelScrollingDuration"){o[key]=parseInt(value,10)}else if(key==="autoScrollingInterval"){o[key]=parseInt(value,10);self.startAutoScrolling()}},showHotSpotBackgrounds:function(fadeSpeed){var self=this,el=this.element,o=this.options;if(fadeSpeed!==undefined){el.data("scrollingHotSpotLeft").addClass(o.scrollingHotSpotLeftVisibleClass);el.data("scrollingHotSpotRight").addClass(o.scrollingHotSpotRightVisibleClass);el.data("scrollingHotSpotLeft").add(el.data("scrollingHotSpotRight")).fadeTo(fadeSpeed,0.35)}else{el.data("scrollingHotSpotLeft").addClass(o.scrollingHotSpotLeftVisibleClass);el.data("scrollingHotSpotLeft").removeAttr("style");el.data("scrollingHotSpotRight").addClass(o.scrollingHotSpotRightVisibleClass);el.data("scrollingHotSpotRight").removeAttr("style")}self._showHideHotSpots()},hideHotSpotBackgrounds:function(fadeSpeed){var el=this.element,o=this.options;if(fadeSpeed!==undefined){el.data("scrollingHotSpotLeft").fadeTo(fadeSpeed,0.0,function(){el.data("scrollingHotSpotLeft").removeClass(o.scrollingHotSpotLeftVisibleClass)});el.data("scrollingHotSpotRight").fadeTo(fadeSpeed,0.0,function(){el.data("scrollingHotSpotRight").removeClass(o.scrollingHotSpotRightVisibleClass)})}else{el.data("scrollingHotSpotLeft").removeClass(o.scrollingHotSpotLeftVisibleClass).removeAttr("style");el.data("scrollingHotSpotRight").removeClass(o.scrollingHotSpotRightVisibleClass).removeAttr("style")}},_showHideHotSpots:function(){var self=this,el=this.element,o=this.options;if(!(o.hotSpotScrolling)){el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide()}else{if(o.hotSpotScrolling&&o.autoScrollingMode!=="always"&&el.data("autoScrollingInterval")!==null){el.data("scrollingHotSpotLeft").show();el.data("scrollingHotSpotRight").show()}else if(o.autoScrollingMode!=="always"&&o.hotSpotScrolling){if(el.data("scrollableAreaWidth")<=(el.data("scrollWrapper").innerWidth())){el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide()}else if(el.data("scrollWrapper").scrollLeft()===0){el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").show();self._trigger("scrollerLeftLimitReached");clearInterval(el.data("leftScrollingInterval"));el.data("leftScrollingInterval",null)}else if(el.data("scrollableAreaWidth")<=(el.data("scrollWrapper").innerWidth()+el.data("scrollWrapper").scrollLeft())){el.data("scrollingHotSpotLeft").show();el.data("scrollingHotSpotRight").hide();self._trigger("scrollerRightLimitReached");clearInterval(el.data("rightScrollingInterval"));el.data("rightScrollingInterval",null)}else{el.data("scrollingHotSpotLeft").show();el.data("scrollingHotSpotRight").show()}}else{el.data("scrollingHotSpotLeft").hide();el.data("scrollingHotSpotRight").hide()}}},_setElementScrollPosition:function(method,element){var el=this.element,o=this.options,tempScrollPosition=0;switch(method){case"first":el.data("scrollXPos",0);return true;case"start":if(o.startAtElementId!==""){if(el.data("scrollableArea").has("#"+o.startAtElementId)){tempScrollPosition=$("#"+o.startAtElementId).position().left;el.data("scrollXPos",tempScrollPosition);return true}}return false;case"last":el.data("scrollXPos",(el.data("scrollableAreaWidth")-el.data("scrollWrapper").innerWidth()));return true;case"number":if(!(isNaN(element))){tempScrollPosition=el.data("scrollableArea").children(o.countOnlyClass).eq(element-1).position().left;el.data("scrollXPos",tempScrollPosition);return true}return false;case"id":if(element.length>0){if(el.data("scrollableArea").has("#"+element)){tempScrollPosition=$("#"+element).position().left;el.data("scrollXPos",tempScrollPosition);return true}}return false;default:return false}},jumpToElement:function(jumpTo,element){var self=this,el=this.element;if(el.data("enabled")){if(self._setElementScrollPosition(jumpTo,element)){el.data("scrollWrapper").scrollLeft(el.data("scrollXPos"));self._showHideHotSpots();switch(jumpTo){case"first":self._trigger("jumpedToFirstElement");break;case"start":self._trigger("jumpedToStartElement");break;case"last":self._trigger("jumpedToLastElement");break;case"number":self._trigger("jumpedToElementNumber",null,{"elementNumber":element});break;case"id":self._trigger("jumpedToElementId",null,{"elementId":element});break;default:break}}}},scrollToElement:function(scrollTo,element){var self=this,el=this.element,o=this.options,autoscrollingWasRunning=false;if(el.data("enabled")){if(self._setElementScrollPosition(scrollTo,element)){if(el.data("autoScrollingInterval")!==null){self.stopAutoScrolling();autoscrollingWasRunning=true}el.data("scrollWrapper").stop(true,false);el.data("scrollWrapper").animate({scrollLeft:el.data("scrollXPos")},{duration:o.scrollToAnimationDuration,easing:o.scrollToEasingFunction,complete:function(){if(autoscrollingWasRunning){self.startAutoScrolling()}self._showHideHotSpots();switch(scrollTo){case"first":self._trigger("scrolledToFirstElement");break;case"start":self._trigger("scrolledToStartElement");break;case"last":self._trigger("scrolledToLastElement");break;case"number":self._trigger("scrolledToElementNumber",null,{"elementNumber":element});break;case"id":self._trigger("scrolledToElementId",null,{"elementId":element});break;default:break}}})}}},move:function(pixels){var self=this,el=this.element,o=this.options;el.data("scrollWrapper").stop(true,true);if((pixels<0&&el.data("scrollWrapper").scrollLeft()>0)||(pixels>0&&el.data("scrollableAreaWidth")>(el.data("scrollWrapper").innerWidth()+el.data("scrollWrapper").scrollLeft()))||o.manualContinuousScrolling){var scrollLength=el.data("scrollableArea").width()-el.data("scrollWrapper").width();var sOffset=el.data("scrollWrapper").scrollLeft()+pixels;if(sOffset<0){var forceSwapElementLeft=function(){el.data("swappedElement",el.data("scrollableArea").children(":last").detach());el.data("scrollableArea").prepend(el.data("swappedElement"));el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+el.data("swappedElement").outerWidth(true))};while(sOffset<0){forceSwapElementLeft();sOffset=el.data("scrollableArea").children(":first").outerWidth(true)+sOffset}}else if(sOffset-scrollLength>0){var forceSwapElementRight=function(){el.data("swappedElement",el.data("scrollableArea").children(":first").detach());el.data("scrollableArea").append(el.data("swappedElement"));var wrapperLeft=el.data("scrollWrapper").scrollLeft();el.data("scrollWrapper").scrollLeft(wrapperLeft-el.data("swappedElement").outerWidth(true))};while(sOffset-scrollLength>0){forceSwapElementRight();sOffset=sOffset-el.data("scrollableArea").children(":last").outerWidth(true)}}if(o.easingAfterMouseWheelScrolling){el.data("scrollWrapper").animate({scrollLeft:el.data("scrollWrapper").scrollLeft()+pixels},{duration:o.easingAfterMouseWheelScrollingDuration,easing:o.easingAfterMouseWheelFunction,complete:function(){self._showHideHotSpots();if(o.manualContinuousScrolling){if(pixels>0){self._checkContinuousSwapRight()}else{self._checkContinuousSwapLeft()}}}})}else{el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+pixels);self._showHideHotSpots();if(o.manualContinuousScrolling){if(pixels>0){self._checkContinuousSwapRight()}else{self._checkContinuousSwapLeft()}}}}},getFlickrContent:function(content,manipulationMethod){var self=this,el=this.element;$.getJSON(content,function(data){var flickrImageSizes=[{size:"small square",pixels:75,letter:"_s"},{size:"thumbnail",pixels:100,letter:"_t"},{size:"small",pixels:240,letter:"_m"},{size:"medium",pixels:500,letter:""},{size:"medium 640",pixels:640,letter:"_z"},{size:"large",pixels:1024,letter:"_b"}];var loadedFlickrImages=[];var imageIdStringBuffer=[];var startingIndex;var numberOfFlickrItems=data.items.length;var loadedFlickrImagesCounter=0;if(el.data("scrollableAreaHeight")<=75){startingIndex=0}else if(el.data("scrollableAreaHeight")<=100){startingIndex=1}else if(el.data("scrollableAreaHeight")<=240){startingIndex=2}else if(el.data("scrollableAreaHeight")<=500){startingIndex=3}else if(el.data("scrollableAreaHeight")<=640){startingIndex=4}else{startingIndex=5}$.each(data.items,function(index,item){loadFlickrImage(item,startingIndex)});function loadFlickrImage(item,sizeIndex){var path=item.media.m;var imgSrc=path.replace("_m",flickrImageSizes[sizeIndex].letter);var tempImg=$("<img />").attr("src",imgSrc);tempImg.load(function(){if(this.height<el.data("scrollableAreaHeight")){if((sizeIndex+1)<flickrImageSizes.length){loadFlickrImage(item,sizeIndex+1)}else{addImageToLoadedImages(this)}}else{addImageToLoadedImages(this)}if(loadedFlickrImagesCounter===numberOfFlickrItems){switch(manipulationMethod){case"addFirst":el.data("scrollableArea").children(":first").before(loadedFlickrImages);break;case"addLast":el.data("scrollableArea").children(":last").after(loadedFlickrImages);break;default:el.data("scrollableArea").html(loadedFlickrImages);break}self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("addedFlickrContent",null,{"addedElementIds":imageIdStringBuffer})}})}function addImageToLoadedImages(imageObj){var widthScalingFactor=el.data("scrollableAreaHeight")/imageObj.height;var tempWidth=Math.round(imageObj.width*widthScalingFactor);var tempIdArr=$(imageObj).attr("src").split("/");var lastElemIndex=(tempIdArr.length-1);tempIdArr=tempIdArr[lastElemIndex].split(".");$(imageObj).attr("id",tempIdArr[0]);$(imageObj).css({"height":el.data("scrollableAreaHeight"),"width":tempWidth});imageIdStringBuffer.push(tempIdArr[0]);loadedFlickrImages.push(imageObj);loadedFlickrImagesCounter++}})},getAjaxContent:function(content,manipulationMethod,filterTag){var self=this,el=this.element;$.ajaxSetup({cache:false});$.get(content,function(data){var filteredContent;if(filterTag!==undefined){if(filterTag.length>0){filteredContent=$("<div>").html(data).find(filterTag)}else{filteredContent=content}}else{filteredContent=data}switch(manipulationMethod){case"addFirst":el.data("scrollableArea").children(":first").before(filteredContent);break;case"addLast":el.data("scrollableArea").children(":last").after(filteredContent);break;default:el.data("scrollableArea").html(filteredContent);break}self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("addedAjaxContent")})},getHtmlContent:function(content,manipulationMethod,filterTag){var self=this,el=this.element;var filteredContent;if(filterTag!==undefined){if(filterTag.length>0){filteredContent=$("<div>").html(content).find(filterTag)}else{filteredContent=content}}else{filteredContent=content}switch(manipulationMethod){case"addFirst":el.data("scrollableArea").children(":first").before(filteredContent);break;case"addLast":el.data("scrollableArea").children(":last").after(filteredContent);break;default:el.data("scrollableArea").html(filteredContent);break}self.recalculateScrollableArea();self._showHideHotSpots();self._trigger("addedHtmlContent")},recalculateScrollableArea:function(){var tempScrollableAreaWidth=0,foundStartAtElement=false,o=this.options,el=this.element;el.data("scrollableArea").children(o.countOnlyClass).each(function(){if((o.startAtElementId.length>0)&&(($(this).attr("id"))===o.startAtElementId)){el.data("startingPosition",tempScrollableAreaWidth);foundStartAtElement=true}tempScrollableAreaWidth=tempScrollableAreaWidth+$(this).outerWidth(true)});if(!(foundStartAtElement)){el.data("startAtElementId","")}el.data("scrollableAreaWidth",tempScrollableAreaWidth);el.data("scrollableArea").width(el.data("scrollableAreaWidth"));el.data("scrollWrapper").scrollLeft(el.data("startingPosition"));el.data("scrollXPos",el.data("startingPosition"))},getScrollerOffset:function(){var el=this.element;return el.data("scrollWrapper").scrollLeft()},stopAutoScrolling:function(){var self=this,el=this.element;if(el.data("autoScrollingInterval")!==null){clearInterval(el.data("autoScrollingInterval"));el.data("autoScrollingInterval",null);self._showHideHotSpots();self._trigger("autoScrollingStopped")}},startAutoScrolling:function(){var self=this,el=this.element,o=this.options;if(el.data("enabled")){self._showHideHotSpots();clearInterval(el.data("autoScrollingInterval"));el.data("autoScrollingInterval",null);self._trigger("autoScrollingStarted");el.data("autoScrollingInterval",setInterval(function(){if(!(el.data("visible"))||(el.data("scrollableAreaWidth")<=(el.data("scrollWrapper").innerWidth()))){clearInterval(el.data("autoScrollingInterval"));el.data("autoScrollingInterval",null)}else{el.data("previousScrollLeft",el.data("scrollWrapper").scrollLeft());switch(o.autoScrollingDirection){case"right":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+o.autoScrollingStep);if(el.data("previousScrollLeft")===el.data("scrollWrapper").scrollLeft()){self._trigger("autoScrollingRightLimitReached");self.stopAutoScrolling()}break;case"left":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-o.autoScrollingStep);if(el.data("previousScrollLeft")===el.data("scrollWrapper").scrollLeft()){self._trigger("autoScrollingLeftLimitReached");self.stopAutoScrolling()}break;case"backAndForth":if(el.data("pingPongDirection")==="right"){el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+(o.autoScrollingStep))}else{el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-(o.autoScrollingStep))}if(el.data("previousScrollLeft")===el.data("scrollWrapper").scrollLeft()){if(el.data("pingPongDirection")==="right"){el.data("pingPongDirection","left");self._trigger("autoScrollingRightLimitReached")}else{el.data("pingPongDirection","right");self._trigger("autoScrollingLeftLimitReached")}}break;case"endlessLoopRight":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+o.autoScrollingStep);self._checkContinuousSwapRight();break;case"endlessLoopLeft":el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()-o.autoScrollingStep);self._checkContinuousSwapLeft();break;default:break}}},o.autoScrollingInterval))}},_checkContinuousSwapRight:function(){var el=this.element,o=this.options;if(el.data("getNextElementWidth")){if((o.startAtElementId.length>0)&&(el.data("startAtElementHasNotPassed"))){el.data("swapAt",$("#"+o.startAtElementId).outerWidth(true));el.data("startAtElementHasNotPassed",false)}else{el.data("swapAt",el.data("scrollableArea").children(":first").outerWidth(true))}el.data("getNextElementWidth",false)}if(el.data("swapAt")<=el.data("scrollWrapper").scrollLeft()){el.data("swappedElement",el.data("scrollableArea").children(":first").detach());el.data("scrollableArea").append(el.data("swappedElement"));var wrapperLeft=el.data("scrollWrapper").scrollLeft();el.data("scrollWrapper").scrollLeft(wrapperLeft-el.data("swappedElement").outerWidth(true));el.data("getNextElementWidth",true)}},_checkContinuousSwapLeft:function(){var el=this.element,o=this.options;if(el.data("getNextElementWidth")){if((o.startAtElementId.length>0)&&(el.data("startAtElementHasNotPassed"))){el.data("swapAt",$("#"+o.startAtElementId).outerWidth(true));el.data("startAtElementHasNotPassed",false)}else{el.data("swapAt",el.data("scrollableArea").children(":first").outerWidth(true))}el.data("getNextElementWidth",false)}if(el.data("scrollWrapper").scrollLeft()===0){el.data("swappedElement",el.data("scrollableArea").children(":last").detach());el.data("scrollableArea").prepend(el.data("swappedElement"));el.data("scrollWrapper").scrollLeft(el.data("scrollWrapper").scrollLeft()+el.data("swappedElement").outerWidth(true));el.data("getNextElementWidth",true)}},restoreOriginalElements:function(){var self=this,el=this.element;el.data("scrollableArea").html(el.data("originalElements"));self.recalculateScrollableArea();self.jumpToElement("first")},show:function(){var el=this.element;el.data("visible",true);el.show()},hide:function(){var el=this.element;el.data("visible",false);el.hide()},enable:function(){var el=this.element;if(this.options.touchScrolling){el.data("scrollWrapper").kinetic('attach')}el.data("enabled",true)},disable:function(){var self=this,el=this.element;self.stopAutoScrolling();clearInterval(el.data("rightScrollingInterval"));clearInterval(el.data("leftScrollingInterval"));clearInterval(el.data("hideHotSpotBackgroundsInterval"));if(this.options.touchScrolling){el.data("scrollWrapper").kinetic('detach')}el.data("enabled",false)},destroy:function(){var self=this,el=this.element;self.stopAutoScrolling();clearInterval(el.data("rightScrollingInterval"));clearInterval(el.data("leftScrollingInterval"));clearInterval(el.data("hideHotSpotBackgroundsInterval"));el.data("scrollingHotSpotRight").unbind("mouseover");el.data("scrollingHotSpotRight").unbind("mouseout");el.data("scrollingHotSpotRight").unbind("mousedown");el.data("scrollingHotSpotLeft").unbind("mouseover");el.data("scrollingHotSpotLeft").unbind("mouseout");el.data("scrollingHotSpotLeft").unbind("mousedown");el.unbind("mousenter");el.unbind("mouseleave");el.data("scrollingHotSpotRight").remove();el.data("scrollingHotSpotLeft").remove();el.data("scrollableArea").remove();el.data("scrollWrapper").remove();el.html(el.data("originalElements"));$.Widget.prototype.destroy.apply(this,arguments)}})})(jQuery);

}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":"IV5zFA","jquery-kinetic":"/tm0Rs","jquery-mousewheel":"DvbOHx","jquery-ui":"T2mFLw"}],"DkwsM0":[function(require,module,exports){
(function (global){
(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {
// Snap.svg 0.3.0
// 
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
// 
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
// 
// http://www.apache.org/licenses/LICENSE-2.0
// 
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// 
// build: 2014-06-03
!function(a){var b,c,d="0.4.2",e="hasOwnProperty",f=/[\.\/]/,g=/\s*,\s*/,h="*",i=function(a,b){return a-b},j={n:{}},k=function(){for(var a=0,b=this.length;b>a;a++)if("undefined"!=typeof this[a])return this[a]},l=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},m=function(a,d){a=String(a);var e,f=c,g=Array.prototype.slice.call(arguments,2),h=m.listeners(a),j=0,n=[],o={},p=[],q=b;p.firstDefined=k,p.lastDefined=l,b=a,c=0;for(var r=0,s=h.length;s>r;r++)"zIndex"in h[r]&&(n.push(h[r].zIndex),h[r].zIndex<0&&(o[h[r].zIndex]=h[r]));for(n.sort(i);n[j]<0;)if(e=o[n[j++]],p.push(e.apply(d,g)),c)return c=f,p;for(r=0;s>r;r++)if(e=h[r],"zIndex"in e)if(e.zIndex==n[j]){if(p.push(e.apply(d,g)),c)break;do if(j++,e=o[n[j]],e&&p.push(e.apply(d,g)),c)break;while(e)}else o[e.zIndex]=e;else if(p.push(e.apply(d,g)),c)break;return c=f,b=q,p};m._events=j,m.listeners=function(a){var b,c,d,e,g,i,k,l,m=a.split(f),n=j,o=[n],p=[];for(e=0,g=m.length;g>e;e++){for(l=[],i=0,k=o.length;k>i;i++)for(n=o[i].n,c=[n[m[e]],n[h]],d=2;d--;)b=c[d],b&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},m.on=function(a,b){if(a=String(a),"function"!=typeof b)return function(){};for(var c=a.split(g),d=0,e=c.length;e>d;d++)!function(a){for(var c,d=a.split(f),e=j,g=0,h=d.length;h>g;g++)e=e.n,e=e.hasOwnProperty(d[g])&&e[d[g]]||(e[d[g]]={n:{}});for(e.f=e.f||[],g=0,h=e.f.length;h>g;g++)if(e.f[g]==b){c=!0;break}!c&&e.f.push(b)}(c[d]);return function(a){+a==+a&&(b.zIndex=+a)}},m.f=function(a){var b=[].slice.call(arguments,1);return function(){m.apply(null,[a,null].concat(b).concat([].slice.call(arguments,0)))}},m.stop=function(){c=1},m.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},m.nts=function(){return b.split(f)},m.off=m.unbind=function(a,b){if(!a)return void(m._events=j={n:{}});var c=a.split(g);if(c.length>1)for(var d=0,i=c.length;i>d;d++)m.off(c[d],b);else{c=a.split(f);var k,l,n,d,i,o,p,q=[j];for(d=0,i=c.length;i>d;d++)for(o=0;o<q.length;o+=n.length-2){if(n=[o,1],k=q[o].n,c[d]!=h)k[c[d]]&&n.push(k[c[d]]);else for(l in k)k[e](l)&&n.push(k[l]);q.splice.apply(q,n)}for(d=0,i=q.length;i>d;d++)for(k=q[d];k.n;){if(b){if(k.f){for(o=0,p=k.f.length;p>o;o++)if(k.f[o]==b){k.f.splice(o,1);break}!k.f.length&&delete k.f}for(l in k.n)if(k.n[e](l)&&k.n[l].f){var r=k.n[l].f;for(o=0,p=r.length;p>o;o++)if(r[o]==b){r.splice(o,1);break}!r.length&&delete k.n[l].f}}else{delete k.f;for(l in k.n)k.n[e](l)&&k.n[l].f&&delete k.n[l].f}k=k.n}}},m.once=function(a,b){var c=function(){return m.unbind(a,c),b.apply(this,arguments)};return m.on(a,c)},m.version=d,m.toString=function(){return"You are running Eve "+d},"undefined"!=typeof module&&module.exports?module.exports=m:"function"==typeof define&&define.amd?define("eve",[],function(){return m}):a.eve=m}(this),function(a,b){"function"==typeof define&&define.amd?define(["eve"],function(c){return b(a,c)}):b(a,a.eve)}(this,function(a,b){var c=function(b){var c={},d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,16)},e=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},f=0,g="M"+(+new Date).toString(36),h=function(){return g+(f++).toString(36)},i=Date.now||function(){return+new Date},j=function(a){var b=this;if(null==a)return b.s;var c=b.s-a;b.b+=b.dur*c,b.B+=b.dur*c,b.s=a},k=function(a){var b=this;return null==a?b.spd:void(b.spd=a)},l=function(a){var b=this;return null==a?b.dur:(b.s=b.s*a/b.dur,void(b.dur=a))},m=function(){var a=this;delete c[a.id],a.update(),b("mina.stop."+a.id,a)},n=function(){var a=this;a.pdif||(delete c[a.id],a.update(),a.pdif=a.get()-a.b)},o=function(){var a=this;a.pdif&&(a.b=a.get()-a.pdif,delete a.pdif,c[a.id]=a)},p=function(){var a,b=this;if(e(b.start)){a=[];for(var c=0,d=b.start.length;d>c;c++)a[c]=+b.start[c]+(b.end[c]-b.start[c])*b.easing(b.s)}else a=+b.start+(b.end-b.start)*b.easing(b.s);b.set(a)},q=function(){var a=0;for(var e in c)if(c.hasOwnProperty(e)){var f=c[e],g=f.get();a++,f.s=(g-f.b)/(f.dur/f.spd),f.s>=1&&(delete c[e],f.s=1,a--,function(a){setTimeout(function(){b("mina.finish."+a.id,a)})}(f)),f.update()}a&&d(q)},r=function(a,b,e,f,g,i,s){var t={id:h(),start:a,end:b,b:e,s:0,dur:f-e,spd:1,get:g,set:i,easing:s||r.linear,status:j,speed:k,duration:l,stop:m,pause:n,resume:o,update:p};c[t.id]=t;var u,v=0;for(u in c)if(c.hasOwnProperty(u)&&(v++,2==v))break;return 1==v&&d(q),t};return r.time=i,r.getById=function(a){return c[a]||null},r.linear=function(a){return a},r.easeout=function(a){return Math.pow(a,1.7)},r.easein=function(a){return Math.pow(a,.48)},r.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var b=.48-a/1.04,c=Math.sqrt(.1734+b*b),d=c-b,e=Math.pow(Math.abs(d),1/3)*(0>d?-1:1),f=-c-b,g=Math.pow(Math.abs(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},r.backin=function(a){if(1==a)return 1;var b=1.70158;return a*a*((b+1)*a-b)},r.backout=function(a){if(0==a)return 0;a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},r.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1},r.bounce=function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b},a.mina=r,r}("undefined"==typeof b?function(){}:b),d=function(){function d(a,b){if(a){if(a.tagName)return y(a);if(f(a,"array")&&d.set)return d.set.apply(d,a);if(a instanceof u)return a;if(null==b)return a=z.doc.querySelector(a),y(a)}return a=null==a?"100%":a,b=null==b?"100%":b,new x(a,b)}function e(a,b){if(b){if("#text"==a&&(a=z.doc.createTextNode(b.text||"")),"string"==typeof a&&(a=e(a)),"string"==typeof b)return"xlink:"==b.substring(0,6)?a.getAttributeNS(W,b.substring(6)):"xml:"==b.substring(0,4)?a.getAttributeNS(X,b.substring(4)):a.getAttribute(b);for(var c in b)if(b[A](c)){var d=B(b[c]);d?"xlink:"==c.substring(0,6)?a.setAttributeNS(W,c.substring(6),d):"xml:"==c.substring(0,4)?a.setAttributeNS(X,c.substring(4),d):a.setAttribute(c,d):a.removeAttribute(c)}}else a=z.doc.createElementNS(X,a);return a}function f(a,b){return b=B.prototype.toLowerCase.call(b),"finite"==b?isFinite(a):"array"==b&&(a instanceof Array||Array.isArray&&Array.isArray(a))?!0:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||L.call(a).slice(8,-1).toLowerCase()==b}function h(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[A](c)&&(b[c]=h(a[c]));return b}function i(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function j(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("␀"),g=d.cache=d.cache||{},h=d.count=d.count||[];return g[A](f)?(i(h,f),c?c(g[f]):g[f]):(h.length>=1e3&&delete g[h.shift()],h.push(f),g[f]=a.apply(b,e),c?c(g[f]):g[f])}return d}function k(a,b,c,d,e,f){if(null==e){var g=a-c,h=b-d;return g||h?(180+180*E.atan2(-h,-g)/I+360)%360:0}return k(a,b,e,f)-k(c,d,e,f)}function l(a){return a%360*I/180}function m(a){return 180*a/I%360}function n(a){var b=[];return a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,c,d){return d=d.split(/\s*,\s*|\s+/),"rotate"==c&&1==d.length&&d.push(0,0),"scale"==c&&(d.length>2?d=d.slice(0,2):2==d.length&&d.push(0,0),1==d.length&&d.push(d[0],0,0)),b.push("skewX"==c?["m",1,0,E.tan(l(d[0])),1,0,0]:"skewY"==c?["m",1,E.tan(l(d[0])),0,1,0,0]:[c.charAt(0)].concat(d)),a}),b}function o(a,b){var c=eb(a),e=new d.Matrix;if(c)for(var f=0,g=c.length;g>f;f++){var h,i,j,k,l,m=c[f],n=m.length,o=B(m[0]).toLowerCase(),p=m[0]!=o,q=p?e.invert():0;"t"==o&&2==n?e.translate(m[1],0):"t"==o&&3==n?p?(h=q.x(0,0),i=q.y(0,0),j=q.x(m[1],m[2]),k=q.y(m[1],m[2]),e.translate(j-h,k-i)):e.translate(m[1],m[2]):"r"==o?2==n?(l=l||b,e.rotate(m[1],l.x+l.width/2,l.y+l.height/2)):4==n&&(p?(j=q.x(m[2],m[3]),k=q.y(m[2],m[3]),e.rotate(m[1],j,k)):e.rotate(m[1],m[2],m[3])):"s"==o?2==n||3==n?(l=l||b,e.scale(m[1],m[n-1],l.x+l.width/2,l.y+l.height/2)):4==n?p?(j=q.x(m[2],m[3]),k=q.y(m[2],m[3]),e.scale(m[1],m[1],j,k)):e.scale(m[1],m[1],m[2],m[3]):5==n&&(p?(j=q.x(m[3],m[4]),k=q.y(m[3],m[4]),e.scale(m[1],m[2],j,k)):e.scale(m[1],m[2],m[3],m[4])):"m"==o&&7==n&&e.add(m[1],m[2],m[3],m[4],m[5],m[6])}return e}function p(a,b){if(null==b){var c=!0;if(b=a.node.getAttribute("linearGradient"==a.type||"radialGradient"==a.type?"gradientTransform":"pattern"==a.type?"patternTransform":"transform"),!b)return new d.Matrix;b=n(b)}else b=d._.rgTransform.test(b)?B(b).replace(/\.{3}|\u2026/g,a._.transform||J):n(b),f(b,"array")&&(b=d.path?d.path.toString.call(b):B(b)),a._.transform=b;var e=o(b,a.getBBox(1));return c?e:void(a.matrix=e)}function q(a){var b=a.node.ownerSVGElement&&y(a.node.ownerSVGElement)||a.node.parentNode&&y(a.node.parentNode)||d.select("svg")||d(0,0),c=b.select("defs"),e=null==c?!1:c.node;return e||(e=w("defs",b.node).node),e}function r(a){return a.node.ownerSVGElement&&y(a.node.ownerSVGElement)||d.select("svg")}function s(a,b,c){function d(a){if(null==a)return J;if(a==+a)return a;e(j,{width:a});try{return j.getBBox().width}catch(b){return 0}}function f(a){if(null==a)return J;if(a==+a)return a;e(j,{height:a});try{return j.getBBox().height}catch(b){return 0}}function g(d,e){null==b?i[d]=e(a.attr(d)||0):d==b&&(i=e(null==c?a.attr(d)||0:c))}var h=r(a).node,i={},j=h.querySelector(".svg---mgr");switch(j||(j=e("rect"),e(j,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),h.appendChild(j)),a.type){case"rect":g("rx",d),g("ry",f);case"image":g("width",d),g("height",f);case"text":g("x",d),g("y",f);break;case"circle":g("cx",d),g("cy",f),g("r",d);break;case"ellipse":g("cx",d),g("cy",f),g("rx",d),g("ry",f);break;case"line":g("x1",d),g("x2",d),g("y1",f),g("y2",f);break;case"marker":g("refX",d),g("markerWidth",d),g("refY",f),g("markerHeight",f);break;case"radialGradient":g("fx",d),g("fy",f);break;case"tspan":g("dx",d),g("dy",f);break;default:g(b,d)}return h.removeChild(j),i}function t(a){f(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var b=0,c=0,d=this.node;this[b];)delete this[b++];for(b=0;b<a.length;b++)"set"==a[b].type?a[b].forEach(function(a){d.appendChild(a.node)}):d.appendChild(a[b].node);var e=d.childNodes;for(b=0;b<e.length;b++)this[c++]=y(e[b]);return this}function u(a){if(a.snap in Y)return Y[a.snap];var b,c=this.id=V();try{b=a.ownerSVGElement}catch(d){}if(this.node=a,b&&(this.paper=new x(b)),this.type=a.tagName,this.anims={},this._={transform:[]},a.snap=c,Y[c]=this,"g"==this.type&&(this.add=t),this.type in{g:1,mask:1,pattern:1})for(var e in x.prototype)x.prototype[A](e)&&(this[e]=x.prototype[e])}function v(a){this.node=a}function w(a,b){var c=e(a);b.appendChild(c);var d=y(c);return d}function x(a,b){var c,d,f,g=x.prototype;if(a&&"svg"==a.tagName){if(a.snap in Y)return Y[a.snap];var h=a.ownerDocument;c=new u(a),d=a.getElementsByTagName("desc")[0],f=a.getElementsByTagName("defs")[0],d||(d=e("desc"),d.appendChild(h.createTextNode("Created with Snap")),c.node.appendChild(d)),f||(f=e("defs"),c.node.appendChild(f)),c.defs=f;for(var i in g)g[A](i)&&(c[i]=g[i]);c.paper=c.root=c}else c=w("svg",z.doc.body),e(c.node,{height:b,version:1.1,width:a,xmlns:X});return c}function y(a){return a?a instanceof u||a instanceof v?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new x(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new x(a.contentDocument.getElementsByTagName("svg")[0]):new u(a):a}d.version="0.3.0",d.toString=function(){return"Snap v"+this.version},d._={};var z={win:a,doc:a.document};d._.glob=z;var A="hasOwnProperty",B=String,C=parseFloat,D=parseInt,E=Math,F=E.max,G=E.min,H=E.abs,I=(E.pow,E.PI),J=(E.round,""),K=" ",L=Object.prototype.toString,M=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,N="	\n\f\r   ᠎             　\u2028\u2029",O=(d._.separator=new RegExp("[,"+N+"]+"),new RegExp("["+N+"]","g"),new RegExp("["+N+"]*,["+N+"]*")),P={hs:1,rg:1},Q=new RegExp("([a-z])["+N+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+N+"]*,?["+N+"]*)+)","ig"),R=new RegExp("([rstm])["+N+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+N+"]*,?["+N+"]*)+)","ig"),S=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+N+"]*,?["+N+"]*","ig"),T=0,U="S"+(+new Date).toString(36),V=function(){return U+(T++).toString(36)},W="http://www.w3.org/1999/xlink",X="http://www.w3.org/2000/svg",Y={},Z=d.url=function(a){return"url('#"+a+"')"};d._.$=e,d._.id=V,d.format=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return B(b).replace(a,function(a,b){return c(a,b,d)})}}(),d._.clone=h,d._.cacher=j,d.rad=l,d.deg=m,d.angle=k,d.is=f,d.snapTo=function(a,b,c){if(c=f(c,"finite")?c:10,f(a,"array")){for(var d=a.length;d--;)if(H(a[d]-b)<=c)return a[d]}else{a=+a;var e=b%a;if(c>e)return b-e;if(e>a-c)return b-e+a}return b},d.getRGB=j(function(a){if(!a||(a=B(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:bb};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:bb};if(!(P[A](a.toLowerCase().substring(0,2))||"#"==a.charAt())&&(a=$(a)),!a)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:bb};var b,c,e,g,h,i,j=a.match(M);return j?(j[2]&&(e=D(j[2].substring(5),16),c=D(j[2].substring(3,5),16),b=D(j[2].substring(1,3),16)),j[3]&&(e=D((h=j[3].charAt(3))+h,16),c=D((h=j[3].charAt(2))+h,16),b=D((h=j[3].charAt(1))+h,16)),j[4]&&(i=j[4].split(O),b=C(i[0]),"%"==i[0].slice(-1)&&(b*=2.55),c=C(i[1]),"%"==i[1].slice(-1)&&(c*=2.55),e=C(i[2]),"%"==i[2].slice(-1)&&(e*=2.55),"rgba"==j[1].toLowerCase().slice(0,4)&&(g=C(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100)),j[5]?(i=j[5].split(O),b=C(i[0]),"%"==i[0].slice(-1)&&(b/=100),c=C(i[1]),"%"==i[1].slice(-1)&&(c/=100),e=C(i[2]),"%"==i[2].slice(-1)&&(e/=100),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsba"==j[1].toLowerCase().slice(0,4)&&(g=C(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),d.hsb2rgb(b,c,e,g)):j[6]?(i=j[6].split(O),b=C(i[0]),"%"==i[0].slice(-1)&&(b/=100),c=C(i[1]),"%"==i[1].slice(-1)&&(c/=100),e=C(i[2]),"%"==i[2].slice(-1)&&(e/=100),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsla"==j[1].toLowerCase().slice(0,4)&&(g=C(i[3])),i[3]&&"%"==i[3].slice(-1)&&(g/=100),d.hsl2rgb(b,c,e,g)):(b=G(E.round(b),255),c=G(E.round(c),255),e=G(E.round(e),255),g=G(F(g,0),1),j={r:b,g:c,b:e,toString:bb},j.hex="#"+(16777216|e|c<<8|b<<16).toString(16).slice(1),j.opacity=f(g,"finite")?g:1,j)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:bb}},d),d.hsb=j(function(a,b,c){return d.hsb2rgb(a,b,c).hex}),d.hsl=j(function(a,b,c){return d.hsl2rgb(a,b,c).hex}),d.rgb=j(function(a,b,c,d){if(f(d,"finite")){var e=E.round;return"rgba("+[e(a),e(b),e(c),+d.toFixed(2)]+")"}return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)});var $=function(a){var b=z.doc.getElementsByTagName("head")[0]||z.doc.getElementsByTagName("svg")[0],c="rgb(255, 0, 0)";return($=j(function(a){if("red"==a.toLowerCase())return c;b.style.color=c,b.style.color=a;var d=z.doc.defaultView.getComputedStyle(b,J).getPropertyValue("color");return d==c?null:d}))(a)},_=function(){return"hsb("+[this.h,this.s,this.b]+")"},ab=function(){return"hsl("+[this.h,this.s,this.l]+")"},bb=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},cb=function(a,b,c){if(null==b&&f(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(c=a.b,b=a.g,a=a.r),null==b&&f(a,string)){var e=d.getRGB(a);a=e.r,b=e.g,c=e.b}return(a>1||b>1||c>1)&&(a/=255,b/=255,c/=255),[a,b,c]},db=function(a,b,c,e){a=E.round(255*a),b=E.round(255*b),c=E.round(255*c);var g={r:a,g:b,b:c,opacity:f(e,"finite")?e:1,hex:d.rgb(a,b,c),toString:bb};return f(e,"finite")&&(g.opacity=e),g};d.color=function(a){var b;return f(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=d.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):f(a,"object")&&"h"in a&&"s"in a&&"l"in a?(b=d.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.opacity=1,a.hex=b.hex):(f(a,"string")&&(a=d.getRGB(a)),f(a,"object")&&"r"in a&&"g"in a&&"b"in a&&!("error"in a)?(b=d.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=d.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1,a.error=1)),a.toString=bb,a},d.hsb2rgb=function(a,b,c,d){f(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,g,h,i,j;return a=a%360/60,j=c*b,i=j*(1-H(a%2-1)),e=g=h=c-j,a=~~a,e+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],db(e,g,h,d)},d.hsl2rgb=function(a,b,c,d){f(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,g,h,i,j;return a=a%360/60,j=2*b*(.5>c?c:1-c),i=j*(1-H(a%2-1)),e=g=h=c-j/2,a=~~a,e+=[j,i,0,0,i,j][a],g+=[i,j,j,i,0,0][a],h+=[0,0,i,j,j,i][a],db(e,g,h,d)},d.rgb2hsb=function(a,b,c){c=cb(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=F(a,b,c),g=f-G(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:_}},d.rgb2hsl=function(a,b,c){c=cb(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=F(a,b,c),h=G(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:ab}},d.parsePathString=function(a){if(!a)return null;var b=d.path(a);if(b.arr)return d.path.clone(b.arr);var c={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];return f(a,"array")&&f(a[0],"array")&&(e=d.path.clone(a)),e.length||B(a).replace(Q,function(a,b,d){var f=[],g=b.toLowerCase();if(d.replace(S,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(e.push([b].concat(f.splice(0,2))),g="l",b="m"==b?"l":"L"),"o"==g&&1==f.length&&e.push([b,f[0]]),"r"==g)e.push([b].concat(f));else for(;f.length>=c[g]&&(e.push([b].concat(f.splice(0,c[g]))),c[g]););}),e.toString=d.path.toString,b.arr=d.path.clone(e),e};var eb=d.parseTransformString=function(a){if(!a)return null;var b=[];return f(a,"array")&&f(a[0],"array")&&(b=d.path.clone(a)),b.length||B(a).replace(R,function(a,c,d){{var e=[];c.toLowerCase()}d.replace(S,function(a,b){b&&e.push(+b)}),b.push([c].concat(e))}),b.toString=d.path.toString,b};d._.svgTransform2string=n,d._.rgTransform=new RegExp("^[a-z]["+N+"]*-?\\.?\\d","i"),d._.transform2matrix=o,d._unit2px=s;z.doc.contains||z.doc.compareDocumentPosition?function(a,b){var c=9==a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a==d||!(!d||1!=d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b;)if(b=b.parentNode,b==a)return!0;return!1};d._.getSomeDefs=q,d._.getSomeSVG=r,d.select=function(a){return y(z.doc.querySelector(a))},d.selectAll=function(a){for(var b=z.doc.querySelectorAll(a),c=(d.set||Array)(),e=0;e<b.length;e++)c.push(y(b[e]));return c},setInterval(function(){for(var a in Y)if(Y[A](a)){var b=Y[a],c=b.node;("svg"!=b.type&&!c.ownerSVGElement||"svg"==b.type&&(!c.parentNode||"ownerSVGElement"in c.parentNode&&!c.ownerSVGElement))&&delete Y[a]}},1e4),function(a){function g(a){function b(a,b){var c=e(a.node,b);c=c&&c.match(g),c=c&&c[2],c&&"#"==c.charAt()&&(c=c.substring(1),c&&(i[c]=(i[c]||[]).concat(function(c){var d={};d[b]=Z(c),e(a.node,d)})))}function c(a){var b=e(a.node,"xlink:href");b&&"#"==b.charAt()&&(b=b.substring(1),b&&(i[b]=(i[b]||[]).concat(function(b){a.attr("xlink:href","#"+b)})))}for(var d,f=a.selectAll("*"),g=/^\s*url\(("|'|)(.*)\1\)\s*$/,h=[],i={},j=0,k=f.length;k>j;j++){d=f[j],b(d,"fill"),b(d,"stroke"),b(d,"filter"),b(d,"mask"),b(d,"clip-path"),c(d);var l=e(d.node,"id");l&&(e(d.node,{id:d.id}),h.push({old:l,id:d.id}))}for(j=0,k=h.length;k>j;j++){var m=i[h[j].old];if(m)for(var n=0,o=m.length;o>n;n++)m[n](h[j].id)}}function h(a,b,c){return function(d){var e=d.slice(a,b);return 1==e.length&&(e=e[0]),c?c(e):e}}function i(a){return function(){var b=a?"<"+this.type:"",c=this.node.attributes,d=this.node.childNodes;if(a)for(var e=0,f=c.length;f>e;e++)b+=" "+c[e].name+'="'+c[e].value.replace(/"/g,'\\"')+'"';if(d.length){for(a&&(b+=">"),e=0,f=d.length;f>e;e++)3==d[e].nodeType?b+=d[e].nodeValue:1==d[e].nodeType&&(b+=y(d[e]).toString());a&&(b+="</"+this.type+">")}else a&&(b+="/>");return b}}a.attr=function(a,c){{var d=this;d.node}if(!a)return d;if(f(a,"string")){if(!(arguments.length>1))return b("snap.util.getattr."+a,d).firstDefined();var e={};e[a]=c,a=e}for(var g in a)a[A](g)&&b("snap.util.attr."+g,d,a[g]);return d},a.getBBox=function(a){if(!d.Matrix||!d.path)return this.node.getBBox();var b=this,c=new d.Matrix;if(b.removed)return d._.box();for(;"use"==b.type;)if(a||(c=c.add(b.transform().localMatrix.translate(b.attr("x")||0,b.attr("y")||0))),b.original)b=b.original;else{var e=b.attr("xlink:href");b=b.original=b.node.ownerDocument.getElementById(e.substring(e.indexOf("#")+1))}var f=b._,g=d.path.get[b.type]||d.path.get.deflt;try{return a?(f.bboxwt=g?d.path.getBBox(b.realPath=g(b)):d._.box(b.node.getBBox()),d._.box(f.bboxwt)):(b.realPath=g(b),b.matrix=b.transform().localMatrix,f.bbox=d.path.getBBox(d.path.map(b.realPath,c.add(b.matrix))),d._.box(f.bbox))}catch(h){return d._.box()}};var j=function(){return this.string};a.transform=function(a){var b=this._;if(null==a){for(var c,f=this,g=new d.Matrix(this.node.getCTM()),h=p(this),i=[h],k=new d.Matrix,l=h.toTransformString(),m=B(h)==B(this.matrix)?B(b.transform):l;"svg"!=f.type&&(f=f.parent());)i.push(p(f));for(c=i.length;c--;)k.add(i[c]);return{string:m,globalMatrix:g,totalMatrix:k,localMatrix:h,diffMatrix:g.clone().add(h.invert()),global:g.toTransformString(),total:k.toTransformString(),local:l,toString:j}}return a instanceof d.Matrix?this.matrix=a:p(this,a),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?e(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?e(this.node,{patternTransform:this.matrix}):e(this.node,{transform:this.matrix})),this},a.parent=function(){return y(this.node.parentNode)},a.append=a.add=function(a){if(a){if("set"==a.type){var b=this;return a.forEach(function(a){b.add(a)}),this}a=y(a),this.node.appendChild(a.node),a.paper=this.paper}return this},a.appendTo=function(a){return a&&(a=y(a),a.append(this)),this},a.prepend=function(a){if(a){if("set"==a.type){var b,c=this;return a.forEach(function(a){b?b.after(a):c.prepend(a),b=a}),this}a=y(a);var d=a.parent();this.node.insertBefore(a.node,this.node.firstChild),this.add&&this.add(),a.paper=this.paper,this.parent()&&this.parent().add(),d&&d.add()}return this},a.prependTo=function(a){return a=y(a),a.prepend(this),this},a.before=function(a){if("set"==a.type){var b=this;return a.forEach(function(a){var c=a.parent();b.node.parentNode.insertBefore(a.node,b.node),c&&c.add()}),this.parent().add(),this}a=y(a);var c=a.parent();return this.node.parentNode.insertBefore(a.node,this.node),this.parent()&&this.parent().add(),c&&c.add(),a.paper=this.paper,this},a.after=function(a){a=y(a);var b=a.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node),this.parent()&&this.parent().add(),b&&b.add(),a.paper=this.paper,this},a.insertBefore=function(a){a=y(a);var b=this.parent();return a.node.parentNode.insertBefore(this.node,a.node),this.paper=a.paper,b&&b.add(),a.parent()&&a.parent().add(),this},a.insertAfter=function(a){a=y(a);var b=this.parent();return a.node.parentNode.insertBefore(this.node,a.node.nextSibling),this.paper=a.paper,b&&b.add(),a.parent()&&a.parent().add(),this},a.remove=function(){var a=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,a&&a.add(),this},a.select=function(a){return y(this.node.querySelector(a))},a.selectAll=function(a){for(var b=this.node.querySelectorAll(a),c=(d.set||Array)(),e=0;e<b.length;e++)c.push(y(b[e]));return c},a.asPX=function(a,b){return null==b&&(b=this.attr(a)),+s(this,a,b)},a.use=function(){var a,b=this.node.id;return b||(b=this.id,e(this.node,{id:b})),a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?w(this.type,this.node.parentNode):w("use",this.node.parentNode),e(a.node,{"xlink:href":"#"+b}),a.original=this,a};var k=/\S+/g;a.addClass=function(a){var b,c,d,e,f=(a||"").match(k)||[],g=this.node,h=g.className.baseVal,i=h.match(k)||[];if(f.length){for(b=0;d=f[b++];)c=i.indexOf(d),~c||i.push(d);e=i.join(" "),h!=e&&(g.className.baseVal=e)}return this},a.removeClass=function(a){var b,c,d,e,f=(a||"").match(k)||[],g=this.node,h=g.className.baseVal,i=h.match(k)||[];if(i.length){for(b=0;d=f[b++];)c=i.indexOf(d),~c&&i.splice(c,1);e=i.join(" "),h!=e&&(g.className.baseVal=e)}return this},a.hasClass=function(a){var b=this.node,c=b.className.baseVal,d=c.match(k)||[];return!!~d.indexOf(a)},a.toggleClass=function(a,b){if(null!=b)return b?this.addClass(a):this.removeClass(a);var c,d,e,f,g=(a||"").match(k)||[],h=this.node,i=h.className.baseVal,j=i.match(k)||[];for(c=0;e=g[c++];)d=j.indexOf(e),~d?j.splice(d,1):j.push(e);return f=j.join(" "),i!=f&&(h.className.baseVal=f),this},a.clone=function(){var a=y(this.node.cloneNode(!0));return e(a.node,"id")&&e(a.node,{id:a.id}),g(a),a.insertAfter(this),a},a.toDefs=function(){var a=q(this);return a.appendChild(this.node),this},a.pattern=a.toPattern=function(a,b,c,d){var g=w("pattern",q(this));return null==a&&(a=this.getBBox()),f(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,a=a.x),e(g.node,{x:a,y:b,width:c,height:d,patternUnits:"userSpaceOnUse",id:g.id,viewBox:[a,b,c,d].join(" ")}),g.node.appendChild(this.node),g},a.marker=function(a,b,c,d,g,h){var i=w("marker",q(this));return null==a&&(a=this.getBBox()),f(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,g=a.refX||a.cx,h=a.refY||a.cy,a=a.x),e(i.node,{viewBox:[a,b,c,d].join(K),markerWidth:c,markerHeight:d,orient:"auto",refX:g||0,refY:h||0,id:i.id}),i.node.appendChild(this.node),i};var l=function(a,b,d,e){"function"!=typeof d||d.length||(e=d,d=c.linear),this.attr=a,this.dur=b,d&&(this.easing=d),e&&(this.callback=e)};d._.Animation=l,d.animation=function(a,b,c,d){return new l(a,b,c,d)},a.inAnim=function(){var a=this,b=[];for(var c in a.anims)a.anims[A](c)&&!function(a){b.push({anim:new l(a._attrs,a.dur,a.easing,a._callback),mina:a,curStatus:a.status(),status:function(b){return a.status(b)},stop:function(){a.stop()}})}(a.anims[c]);return b},d.animate=function(a,d,e,f,g,h){"function"!=typeof g||g.length||(h=g,g=c.linear);var i=c.time(),j=c(a,d,i,i+f,c.time,e,g);return h&&b.once("mina.finish."+j.id,h),j},a.stop=function(){for(var a=this.inAnim(),b=0,c=a.length;c>b;b++)a[b].stop();return this},a.animate=function(a,d,e,g){"function"!=typeof e||e.length||(g=e,e=c.linear),a instanceof l&&(g=a.callback,e=a.easing,d=e.dur,a=a.attr);var i,j,k,m,n=[],o=[],p={},q=this;for(var r in a)if(a[A](r)){q.equal?(m=q.equal(r,B(a[r])),i=m.from,j=m.to,k=m.f):(i=+q.attr(r),j=+a[r]);var s=f(i,"array")?i.length:1;p[r]=h(n.length,n.length+s,k),n=n.concat(i),o=o.concat(j)}var t=c.time(),u=c(n,o,t,t+d,c.time,function(a){var b={};for(var c in p)p[A](c)&&(b[c]=p[c](a));q.attr(b)},e);return q.anims[u.id]=u,u._attrs=a,u._callback=g,b("snap.animcreated."+q.id,u),b.once("mina.finish."+u.id,function(){delete q.anims[u.id],g&&g.call(q)}),b.once("mina.stop."+u.id,function(){delete q.anims[u.id]}),q};var m={};a.data=function(a,c){var e=m[this.id]=m[this.id]||{};if(0==arguments.length)return b("snap.data.get."+this.id,this,e,null),e;if(1==arguments.length){if(d.is(a,"object")){for(var f in a)a[A](f)&&this.data(f,a[f]);return this}return b("snap.data.get."+this.id,this,e[a],a),e[a]}return e[a]=c,b("snap.data.set."+this.id,this,c,a),this},a.removeData=function(a){return null==a?m[this.id]={}:m[this.id]&&delete m[this.id][a],this},a.outerSVG=a.toString=i(1),a.innerSVG=i()}(u.prototype),d.parse=function(a){var b=z.doc.createDocumentFragment(),c=!0,d=z.doc.createElement("div");if(a=B(a),a.match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",c=!1),d.innerHTML=a,a=d.getElementsByTagName("svg")[0])if(c)b=a;else for(;a.firstChild;)b.appendChild(a.firstChild);return d.innerHTML=J,new v(b)},v.prototype.select=u.prototype.select,v.prototype.selectAll=u.prototype.selectAll,d.fragment=function(){for(var a=Array.prototype.slice.call(arguments,0),b=z.doc.createDocumentFragment(),c=0,e=a.length;e>c;c++){var f=a[c];f.node&&f.node.nodeType&&b.appendChild(f.node),f.nodeType&&b.appendChild(f),"string"==typeof f&&b.appendChild(d.parse(f).node)}return new v(b)},d._.make=w,d._.wrap=y,x.prototype.el=function(a,b){var c=w(a,this.node);return b&&c.attr(b),c},b.on("snap.util.getattr",function(){var a=b.nt();a=a.substring(a.lastIndexOf(".")+1);var c=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return fb[A](c)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(c):e(this.node,a)});var fb={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};b.on("snap.util.attr",function(a){var c=b.nt(),d={};c=c.substring(c.lastIndexOf(".")+1),d[c]=a;var f=c.replace(/-(\w)/gi,function(a,b){return b.toUpperCase()}),g=c.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});fb[A](g)?this.node.style[f]=null==a?J:a:e(this.node,d)}),function(){}(x.prototype),d.ajax=function(a,c,d,e){var g=new XMLHttpRequest,h=V();if(g){if(f(c,"function"))e=d,d=c,c=null;else if(f(c,"object")){var i=[];for(var j in c)c.hasOwnProperty(j)&&i.push(encodeURIComponent(j)+"="+encodeURIComponent(c[j]));c=i.join("&")}return g.open(c?"POST":"GET",a,!0),c&&(g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.setRequestHeader("Content-type","application/x-www-form-urlencoded")),d&&(b.once("snap.ajax."+h+".0",d),b.once("snap.ajax."+h+".200",d),b.once("snap.ajax."+h+".304",d)),g.onreadystatechange=function(){4==g.readyState&&b("snap.ajax."+h+"."+g.status,e,g)},4==g.readyState?g:(g.send(c),g)}},d.load=function(a,b,c){d.ajax(a,function(a){var e=d.parse(a.responseText);c?b.call(c,e):b(e)})};var gb=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,h=e.clientLeft||d.clientLeft||0,i=b.top+(g.win.pageYOffset||e.scrollTop||d.scrollTop)-f,j=b.left+(g.win.pageXOffset||e.scrollLeft||d.scrollLeft)-h;return{y:i,x:j}};return d.getElementByPoint=function(a,b){var c=this,d=(c.canvas,z.doc.elementFromPoint(a,b));if(z.win.opera&&"svg"==d.tagName){var e=gb(d),f=d.createSVGRect();f.x=a-e.x,f.y=b-e.y,f.width=f.height=1;var g=d.getIntersectionList(f,null);g.length&&(d=g[g.length-1])}return d?y(d):null},d.plugin=function(a){a(d,u,x,z,v)},z.win.Snap=d,d}();return d.plugin(function(a){function b(a,b,d,e,f,g){return null==b&&"[object SVGMatrix]"==c.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,void(this.f=a.f)):void(null!=a?(this.a=+a,this.b=+b,this.c=+d,this.d=+e,this.e=+f,this.f=+g):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var c=Object.prototype.toString,d=String,e=Math,f="";!function(c){function g(a){return a[0]*a[0]+a[1]*a[1]
}function h(a){var b=e.sqrt(g(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}c.add=function(a,c,d,e,f,g){var h,i,j,k,l=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[a,d,f],[c,e,g],[0,0,1]];for(a&&a instanceof b&&(n=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),h=0;3>h;h++)for(i=0;3>i;i++){for(k=0,j=0;3>j;j++)k+=m[h][j]*n[j][i];l[h][i]=k}return this.a=l[0][0],this.b=l[1][0],this.c=l[0][1],this.d=l[1][1],this.e=l[0][2],this.f=l[1][2],this},c.invert=function(){var a=this,c=a.a*a.d-a.b*a.c;return new b(a.d/c,-a.b/c,-a.c/c,a.a/c,(a.c*a.f-a.d*a.e)/c,(a.b*a.e-a.a*a.f)/c)},c.clone=function(){return new b(this.a,this.b,this.c,this.d,this.e,this.f)},c.translate=function(a,b){return this.add(1,0,0,1,a,b)},c.scale=function(a,b,c,d){return null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d),this},c.rotate=function(b,c,d){b=a.rad(b),c=c||0,d=d||0;var f=+e.cos(b).toFixed(9),g=+e.sin(b).toFixed(9);return this.add(f,g,-g,f,c,d),this.add(1,0,0,1,-c,-d)},c.x=function(a,b){return a*this.a+b*this.c+this.e},c.y=function(a,b){return a*this.b+b*this.d+this.f},c.get=function(a){return+this[d.fromCharCode(97+a)].toFixed(4)},c.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},c.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},c.determinant=function(){return this.a*this.d-this.b*this.c},c.split=function(){var b={};b.dx=this.e,b.dy=this.f;var c=[[this.a,this.c],[this.b,this.d]];b.scalex=e.sqrt(g(c[0])),h(c[0]),b.shear=c[0][0]*c[1][0]+c[0][1]*c[1][1],c[1]=[c[1][0]-c[0][0]*b.shear,c[1][1]-c[0][1]*b.shear],b.scaley=e.sqrt(g(c[1])),h(c[1]),b.shear/=b.scaley,this.determinant()<0&&(b.scalex=-b.scalex);var d=-c[0][1],f=c[1][1];return 0>f?(b.rotate=a.deg(e.acos(f)),0>d&&(b.rotate=360-b.rotate)):b.rotate=a.deg(e.asin(d)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},c.toTransformString=function(a){var b=a||this.split();return+b.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[+b.dx.toFixed(4),+b.dy.toFixed(4)]:f)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:f)+(b.rotate?"r"+[+b.rotate.toFixed(4),0,0]:f))}}(b.prototype),a.Matrix=b,a.matrix=function(a,c,d,e,f,g){return new b(a,c,d,e,f,g)}}),d.plugin(function(a,c,d,e,f){function g(d){return function(e){if(b.stop(),e instanceof f&&1==e.node.childNodes.length&&("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,n(this).appendChild(e),e=l(e)),e instanceof c)if("radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type){e.node.id||p(e.node,{id:e.id});var g=q(e.node.id)}else g=e.attr(d);else if(g=a.color(e),g.error){var h=a(n(this).ownerSVGElement).gradient(e);h?(h.node.id||p(h.node,{id:h.id}),g=q(h.node.id)):g=e}else g=r(g);var i={};i[d]=g,p(this.node,i),this.node.style[d]=t}}function h(a){b.stop(),a==+a&&(a+="px"),this.node.style.fontSize=a}function i(a){for(var b=[],c=a.childNodes,d=0,e=c.length;e>d;d++){var f=c[d];3==f.nodeType&&b.push(f.nodeValue),"tspan"==f.tagName&&b.push(1==f.childNodes.length&&3==f.firstChild.nodeType?f.firstChild.nodeValue:i(f))}return b}function j(){return b.stop(),this.node.style.fontSize}var k=a._.make,l=a._.wrap,m=a.is,n=a._.getSomeDefs,o=/^url\(#?([^)]+)\)$/,p=a._.$,q=a.url,r=String,s=a._.separator,t="";b.on("snap.util.attr.mask",function(a){if(a instanceof c||a instanceof f){if(b.stop(),a instanceof f&&1==a.node.childNodes.length&&(a=a.node.firstChild,n(this).appendChild(a),a=l(a)),"mask"==a.type)var d=a;else d=k("mask",n(this)),d.node.appendChild(a.node);!d.node.id&&p(d.node,{id:d.id}),p(this.node,{mask:q(d.id)})}}),function(a){b.on("snap.util.attr.clip",a),b.on("snap.util.attr.clip-path",a),b.on("snap.util.attr.clipPath",a)}(function(a){if(a instanceof c||a instanceof f){if(b.stop(),"clipPath"==a.type)var d=a;else d=k("clipPath",n(this)),d.node.appendChild(a.node),!d.node.id&&p(d.node,{id:d.id});p(this.node,{"clip-path":q(d.id)})}}),b.on("snap.util.attr.fill",g("fill")),b.on("snap.util.attr.stroke",g("stroke"));var u=/^([lr])(?:\(([^)]*)\))?(.*)$/i;b.on("snap.util.grad.parse",function(a){a=r(a);var b=a.match(u);if(!b)return null;var c=b[1],d=b[2],e=b[3];return d=d.split(/\s*,\s*/).map(function(a){return+a==a?+a:a}),1==d.length&&0==d[0]&&(d=[]),e=e.split("-"),e=e.map(function(a){a=a.split(":");var b={color:a[0]};return a[1]&&(b.offset=parseFloat(a[1])),b}),{type:c,params:d,stops:e}}),b.on("snap.util.attr.d",function(c){b.stop(),m(c,"array")&&m(c[0],"array")&&(c=a.path.toString.call(c)),c=r(c),c.match(/[ruo]/i)&&(c=a.path.toAbsolute(c)),p(this.node,{d:c})})(-1),b.on("snap.util.attr.#text",function(a){b.stop(),a=r(a);for(var c=e.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(c)})(-1),b.on("snap.util.attr.path",function(a){b.stop(),this.attr({d:a})})(-1),b.on("snap.util.attr.class",function(a){b.stop(),this.node.className.baseVal=a})(-1),b.on("snap.util.attr.viewBox",function(a){var c;c=m(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):m(a,"array")?a.join(" "):a,p(this.node,{viewBox:c}),b.stop()})(-1),b.on("snap.util.attr.transform",function(a){this.transform(a),b.stop()})(-1),b.on("snap.util.attr.r",function(a){"rect"==this.type&&(b.stop(),p(this.node,{rx:a,ry:a}))})(-1),b.on("snap.util.attr.textpath",function(a){if(b.stop(),"text"==this.type){var d,e,f;if(!a&&this.textPath){for(e=this.textPath;e.node.firstChild;)this.node.appendChild(e.node.firstChild);return e.remove(),void delete this.textPath}if(m(a,"string")){var g=n(this),h=l(g.parentNode).path(a);g.appendChild(h.node),d=h.id,h.attr({id:d})}else a=l(a),a instanceof c&&(d=a.attr("id"),d||(d=a.id,a.attr({id:d})));if(d)if(e=this.textPath,f=this.node,e)e.attr({"xlink:href":"#"+d});else{for(e=p("textPath",{"xlink:href":"#"+d});f.firstChild;)e.appendChild(f.firstChild);f.appendChild(e),this.textPath=l(e)}}})(-1),b.on("snap.util.attr.text",function(a){if("text"==this.type){for(var c=this.node,d=function(a){var b=p("tspan");if(m(a,"array"))for(var c=0;c<a.length;c++)b.appendChild(d(a[c]));else b.appendChild(e.doc.createTextNode(a));return b.normalize&&b.normalize(),b};c.firstChild;)c.removeChild(c.firstChild);for(var f=d(a);f.firstChild;)c.appendChild(f.firstChild)}b.stop()})(-1),b.on("snap.util.attr.fontSize",h)(-1),b.on("snap.util.attr.font-size",h)(-1),b.on("snap.util.getattr.transform",function(){return b.stop(),this.transform()})(-1),b.on("snap.util.getattr.textpath",function(){return b.stop(),this.textPath})(-1),function(){function c(c){return function(){b.stop();var d=e.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return"none"==d?d:a(e.doc.getElementById(d.match(o)[1]))}}function d(a){return function(c){b.stop();var d="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==c||!c)return void(this.node.style[d]="none");if("marker"==c.type){var e=c.node.id;return e||p(c.node,{id:c.id}),void(this.node.style[d]=q(e))}}}b.on("snap.util.getattr.marker-end",c("end"))(-1),b.on("snap.util.getattr.markerEnd",c("end"))(-1),b.on("snap.util.getattr.marker-start",c("start"))(-1),b.on("snap.util.getattr.markerStart",c("start"))(-1),b.on("snap.util.getattr.marker-mid",c("mid"))(-1),b.on("snap.util.getattr.markerMid",c("mid"))(-1),b.on("snap.util.attr.marker-end",d("end"))(-1),b.on("snap.util.attr.markerEnd",d("end"))(-1),b.on("snap.util.attr.marker-start",d("start"))(-1),b.on("snap.util.attr.markerStart",d("start"))(-1),b.on("snap.util.attr.marker-mid",d("mid"))(-1),b.on("snap.util.attr.markerMid",d("mid"))(-1)}(),b.on("snap.util.getattr.r",function(){return"rect"==this.type&&p(this.node,"rx")==p(this.node,"ry")?(b.stop(),p(this.node,"rx")):void 0})(-1),b.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){b.stop();var a=i(this.node);return 1==a.length?a[0]:a}})(-1),b.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),b.on("snap.util.getattr.viewBox",function(){b.stop();var c=p(this.node,"viewBox");return c?(c=c.split(s),a._.box(+c[0],+c[1],+c[2],+c[3])):void 0})(-1),b.on("snap.util.getattr.points",function(){var a=p(this.node,"points");return b.stop(),a?a.split(s):void 0})(-1),b.on("snap.util.getattr.path",function(){var a=p(this.node,"d");return b.stop(),a})(-1),b.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),b.on("snap.util.getattr.fontSize",j)(-1),b.on("snap.util.getattr.font-size",j)(-1)}),d.plugin(function(){function a(a){return a}function c(a){return function(b){return+b.toFixed(3)+a}}var d={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},e=String,f=/[a-z]+$/i,g=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;b.on("snap.util.attr",function(a){var c=e(a).match(g);if(c){var h=b.nt(),i=h.substring(h.lastIndexOf(".")+1),j=this.attr(i),k={};b.stop();var l=c[3]||"",m=j.match(f),n=d[c[1]];if(m&&m==l?a=n(parseFloat(j),+c[2]):(j=this.asPX(i),a=n(this.asPX(i),this.asPX(i,c[2]+l))),isNaN(j)||isNaN(a))return;k[i]=a,this.attr(k)}})(-10),b.on("snap.util.equal",function(h,i){var j=e(this.attr(h)||""),k=e(i).match(g);if(k){b.stop();var l=k[3]||"",m=j.match(f),n=d[k[1]];return m&&m==l?{from:parseFloat(j),to:n(parseFloat(j),+k[2]),f:c(m)}:(j=this.asPX(h),{from:j,to:n(j,this.asPX(h,k[2]+l)),f:a})}})(-10)}),d.plugin(function(a,c,d,e){var f=d.prototype,g=a.is;f.rect=function(a,b,c,d,e,f){var h;return null==f&&(f=e),g(a,"object")&&"[object Object]"==a?h=a:null!=a&&(h={x:a,y:b,width:c,height:d},null!=e&&(h.rx=e,h.ry=f)),this.el("rect",h)},f.circle=function(a,b,c){var d;return g(a,"object")&&"[object Object]"==a?d=a:null!=a&&(d={cx:a,cy:b,r:c}),this.el("circle",d)};var h=function(){function a(){this.parentNode.removeChild(this)}return function(b,c){var d=e.doc.createElement("img"),f=e.doc.body;d.style.cssText="position:absolute;left:-9999em;top:-9999em",d.onload=function(){c.call(d),d.onload=d.onerror=null,f.removeChild(d)},d.onerror=a,f.appendChild(d),d.src=b}}();f.image=function(b,c,d,e,f){var i=this.el("image");if(g(b,"object")&&"src"in b)i.attr(b);else if(null!=b){var j={"xlink:href":b,preserveAspectRatio:"none"};null!=c&&null!=d&&(j.x=c,j.y=d),null!=e&&null!=f?(j.width=e,j.height=f):h(b,function(){a._.$(i.node,{width:this.offsetWidth,height:this.offsetHeight})}),a._.$(i.node,j)}return i},f.ellipse=function(a,b,c,d){var e;return g(a,"object")&&"[object Object]"==a?e=a:null!=a&&(e={cx:a,cy:b,rx:c,ry:d}),this.el("ellipse",e)},f.path=function(a){var b;return g(a,"object")&&!g(a,"array")?b=a:a&&(b={d:a}),this.el("path",b)},f.group=f.g=function(a){var b=this.el("g");return 1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0)),b},f.svg=function(a,b,c,d,e,f,h,i){var j={};return g(a,"object")&&null==b?j=a:(null!=a&&(j.x=a),null!=b&&(j.y=b),null!=c&&(j.width=c),null!=d&&(j.height=d),null!=e&&null!=f&&null!=h&&null!=i&&(j.viewBox=[e,f,h,i])),this.el("svg",j)},f.mask=function(a){var b=this.el("mask");return 1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0)),b},f.ptrn=function(a,b,c,d,e,f,h,i){if(g(a,"object"))var j=a;else arguments.length?(j={},null!=a&&(j.x=a),null!=b&&(j.y=b),null!=c&&(j.width=c),null!=d&&(j.height=d),null!=e&&null!=f&&null!=h&&null!=i&&(j.viewBox=[e,f,h,i])):j={patternUnits:"userSpaceOnUse"};return this.el("pattern",j)},f.use=function(a){if(null!=a){{make("use",this.node)}return a instanceof c&&(a.attr("id")||a.attr({id:ID()}),a=a.attr("id")),this.el("use",{"xlink:href":a})}return c.prototype.use.call(this)},f.text=function(a,b,c){var d={};return g(a,"object")?d=a:null!=a&&(d={x:a,y:b,text:c||""}),this.el("text",d)},f.line=function(a,b,c,d){var e={};return g(a,"object")?e=a:null!=a&&(e={x1:a,x2:c,y1:b,y2:d}),this.el("line",e)},f.polyline=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b={};return g(a,"object")&&!g(a,"array")?b=a:null!=a&&(b={points:a}),this.el("polyline",b)},f.polygon=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var b={};return g(a,"object")&&!g(a,"array")?b=a:null!=a&&(b={points:a}),this.el("polygon",b)},function(){function c(){return this.selectAll("stop")}function d(b,c){var d=j("stop"),e={offset:+c+"%"};return b=a.color(b),e["stop-color"]=b.hex,b.opacity<1&&(e["stop-opacity"]=b.opacity),j(d,e),this.node.appendChild(d),this}function e(){if("linearGradient"==this.type){var b=j(this.node,"x1")||0,c=j(this.node,"x2")||1,d=j(this.node,"y1")||0,e=j(this.node,"y2")||0;return a._.box(b,d,math.abs(c-b),math.abs(e-d))}var f=this.node.cx||.5,g=this.node.cy||.5,h=this.node.r||0;return a._.box(f-h,g-h,2*h,2*h)}function g(a,c){function d(a,b){for(var c=(b-l)/(a-m),d=m;a>d;d++)g[d].offset=+(+l+c*(d-m)).toFixed(2);m=a,l=b}var e,f=b("snap.util.grad.parse",null,c).firstDefined();if(!f)return null;f.params.unshift(a),e="l"==f.type.toLowerCase()?h.apply(0,f.params):i.apply(0,f.params),f.type!=f.type.toLowerCase()&&j(e.node,{gradientUnits:"userSpaceOnUse"});var g=f.stops,k=g.length,l=0,m=0;k--;for(var n=0;k>n;n++)"offset"in g[n]&&d(n,g[n].offset);for(g[k].offset=g[k].offset||100,d(k,g[k].offset),n=0;k>=n;n++){var o=g[n];e.addStop(o.color,o.offset)}return e}function h(b,f,g,h,i){var k=a._.make("linearGradient",b);return k.stops=c,k.addStop=d,k.getBBox=e,null!=f&&j(k.node,{x1:f,y1:g,x2:h,y2:i}),k}function i(b,f,g,h,i,k){var l=a._.make("radialGradient",b);return l.stops=c,l.addStop=d,l.getBBox=e,null!=f&&j(l.node,{cx:f,cy:g,r:h}),null!=i&&null!=k&&j(l.node,{fx:i,fy:k}),l}var j=a._.$;f.gradient=function(a){return g(this.defs,a)},f.gradientLinear=function(a,b,c,d){return h(this.defs,a,b,c,d)},f.gradientRadial=function(a,b,c,d,e){return i(this.defs,a,b,c,d,e)},f.toString=function(){var b,c=this.node.ownerDocument,d=c.createDocumentFragment(),e=c.createElement("div"),f=this.node.cloneNode(!0);return d.appendChild(e),e.appendChild(f),a._.$(f,{xmlns:"http://www.w3.org/2000/svg"}),b=e.innerHTML,d.removeChild(d.firstChild),b},f.clear=function(){for(var a,b=this.node.firstChild;b;)a=b.nextSibling,"defs"!=b.tagName?b.parentNode.removeChild(b):f.clear.call({node:b}),b=a}}()}),d.plugin(function(a,b){function c(a){var b=c.ps=c.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[K](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]}function d(a,b,c,d){return null==a&&(a=b=c=d=0),null==b&&(b=a.y,c=a.width,d=a.height,a=a.x),{x:a,y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:N.min(c,d)/2,r2:N.max(c,d)/2,r0:N.sqrt(c*c+d*d)/2,path:w(a,b,c,d),vb:[a,b,c,d].join(" ")}}function e(){return this.join(",").replace(L,"$1")}function f(a){var b=J(a);return b.toString=e,b}function g(a,b,c,d,e,f,g,h,j){return null==j?n(a,b,c,d,e,f,g,h):i(a,b,c,d,e,f,g,h,o(a,b,c,d,e,f,g,h,j))}function h(c,d){function e(a){return+(+a).toFixed(3)}return a._.cacher(function(a,f,h){a instanceof b&&(a=a.attr("d")),a=E(a);for(var j,k,l,m,n,o="",p={},q=0,r=0,s=a.length;s>r;r++){if(l=a[r],"M"==l[0])j=+l[1],k=+l[2];else{if(m=g(j,k,l[1],l[2],l[3],l[4],l[5],l[6]),q+m>f){if(d&&!p.start){if(n=g(j,k,l[1],l[2],l[3],l[4],l[5],l[6],f-q),o+=["C"+e(n.start.x),e(n.start.y),e(n.m.x),e(n.m.y),e(n.x),e(n.y)],h)return o;p.start=o,o=["M"+e(n.x),e(n.y)+"C"+e(n.n.x),e(n.n.y),e(n.end.x),e(n.end.y),e(l[5]),e(l[6])].join(),q+=m,j=+l[5],k=+l[6];continue}if(!c&&!d)return n=g(j,k,l[1],l[2],l[3],l[4],l[5],l[6],f-q)}q+=m,j=+l[5],k=+l[6]}o+=l.shift()+l}return p.end=o,n=c?q:d?p:i(j,k,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,a._.clone)}function i(a,b,c,d,e,f,g,h,i){var j=1-i,k=R(j,3),l=R(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*N.atan2(q-s,r-t)/O;return{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}}function j(b,c,e,f,g,h,i,j){a.is(b,"array")||(b=[b,c,e,f,g,h,i,j]);var k=D.apply(null,b);return d(k.min.x,k.min.y,k.max.x-k.min.x,k.max.y-k.min.y)}function k(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function l(a,b){return a=d(a),b=d(b),k(b,a.x,a.y)||k(b,a.x2,a.y)||k(b,a.x,a.y2)||k(b,a.x2,a.y2)||k(a,b.x,b.y)||k(a,b.x2,b.y)||k(a,b.x,b.y2)||k(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)}function m(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function n(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:0>i?0:i;for(var j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],n=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],o=0,p=0;k>p;p++){var q=j*l[p]+j,r=m(q,a,c,e,g),s=m(q,b,d,f,h),t=r*r+s*s;o+=n[p]*N.sqrt(t)}return j*o}function o(a,b,c,d,e,f,g,h,i){if(!(0>i||n(a,b,c,d,e,f,g,h)<i)){var j,k=1,l=k/2,m=k-l,o=.01;for(j=n(a,b,c,d,e,f,g,h,m);S(j-i)>o;)l/=2,m+=(i>j?1:-1)*l,j=n(a,b,c,d,e,f,g,h,m);return m}}function p(a,b,c,d,e,f,g,h){if(!(Q(a,c)<P(e,g)||P(a,c)>Q(e,g)||Q(b,d)<P(f,h)||P(b,d)>Q(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(!(n<+P(a,c).toFixed(2)||n>+Q(a,c).toFixed(2)||n<+P(e,g).toFixed(2)||n>+Q(e,g).toFixed(2)||o<+P(b,d).toFixed(2)||o>+Q(b,d).toFixed(2)||o<+P(f,h).toFixed(2)||o>+Q(f,h).toFixed(2)))return{x:l,y:m}}}}function q(a,b,c){var d=j(a),e=j(b);if(!l(d,e))return c?0:[];for(var f=n.apply(0,a),g=n.apply(0,b),h=~~(f/8),k=~~(g/8),m=[],o=[],q={},r=c?0:[],s=0;h+1>s;s++){var t=i.apply(0,a.concat(s/h));m.push({x:t.x,y:t.y,t:s/h})}for(s=0;k+1>s;s++)t=i.apply(0,b.concat(s/k)),o.push({x:t.x,y:t.y,t:s/k});for(s=0;h>s;s++)for(var u=0;k>u;u++){var v=m[s],w=m[s+1],x=o[u],y=o[u+1],z=S(w.x-v.x)<.001?"y":"x",A=S(y.x-x.x)<.001?"y":"x",B=p(v.x,v.y,w.x,w.y,x.x,x.y,y.x,y.y);if(B){if(q[B.x.toFixed(4)]==B.y.toFixed(4))continue;q[B.x.toFixed(4)]=B.y.toFixed(4);var C=v.t+S((B[z]-v[z])/(w[z]-v[z]))*(w.t-v.t),D=x.t+S((B[A]-x[A])/(y[A]-x[A]))*(y.t-x.t);C>=0&&1>=C&&D>=0&&1>=D&&(c?r++:r.push({x:B.x,y:B.y,t1:C,t2:D}))}}return r}function r(a,b){return t(a,b)}function s(a,b){return t(a,b,1)}function t(a,b,c){a=E(a),b=E(b);for(var d,e,f,g,h,i,j,k,l,m,n=c?0:[],o=0,p=a.length;p>o;o++){var r=a[o];if("M"==r[0])d=h=r[1],e=i=r[2];else{"C"==r[0]?(l=[d,e].concat(r.slice(1)),d=l[6],e=l[7]):(l=[d,e,d,e,h,i,h,i],d=h,e=i);for(var s=0,t=b.length;t>s;s++){var u=b[s];if("M"==u[0])f=j=u[1],g=k=u[2];else{"C"==u[0]?(m=[f,g].concat(u.slice(1)),f=m[6],g=m[7]):(m=[f,g,f,g,j,k,j,k],f=j,g=k);var v=q(l,m,c);if(c)n+=v;else{for(var w=0,x=v.length;x>w;w++)v[w].segment1=o,v[w].segment2=s,v[w].bez1=l,v[w].bez2=m;n=n.concat(v)}}}}}return n}function u(a,b,c){var d=v(a);return k(d,b,c)&&t(a,[["M",b,c],["H",d.x2+10]],1)%2==1}function v(a){var b=c(a);if(b.bbox)return J(b.bbox);if(!a)return d();a=E(a);for(var e,f=0,g=0,h=[],i=[],j=0,k=a.length;k>j;j++)if(e=a[j],"M"==e[0])f=e[1],g=e[2],h.push(f),i.push(g);else{var l=D(f,g,e[1],e[2],e[3],e[4],e[5],e[6]);h=h.concat(l.min.x,l.max.x),i=i.concat(l.min.y,l.max.y),f=e[5],g=e[6]}var m=P.apply(0,h),n=P.apply(0,i),o=Q.apply(0,h),p=Q.apply(0,i),q=d(m,n,o-m,p-n);return b.bbox=J(q),q}function w(a,b,c,d,f){if(f)return[["M",+a+ +f,b],["l",c-2*f,0],["a",f,f,0,0,1,f,f],["l",0,d-2*f],["a",f,f,0,0,1,-f,f],["l",2*f-c,0],["a",f,f,0,0,1,-f,-f],["l",0,2*f-d],["a",f,f,0,0,1,f,-f],["z"]];var g=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];return g.toString=e,g}function x(a,b,c,d,f){if(null==f&&null==d&&(d=c),a=+a,b=+b,c=+c,d=+d,null!=f)var g=Math.PI/180,h=a+c*Math.cos(-d*g),i=a+c*Math.cos(-f*g),j=b+c*Math.sin(-d*g),k=b+c*Math.sin(-f*g),l=[["M",h,j],["A",c,c,0,+(f-d>180),0,i,k]];else l=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]];return l.toString=e,l}function y(b){var d=c(b),g=String.prototype.toLowerCase;if(d.rel)return f(d.rel);a.is(b,"array")&&a.is(b&&b[0],"array")||(b=a.parsePathString(b));var h=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=b[0][1],j=b[0][2],k=i,l=j,m++,h.push(["M",i,j]));for(var n=m,o=b.length;o>n;n++){var p=h[n]=[],q=b[n];if(q[0]!=g.call(q[0]))switch(p[0]=g.call(q[0]),p[0]){case"a":p[1]=q[1],p[2]=q[2],p[3]=q[3],p[4]=q[4],p[5]=q[5],p[6]=+(q[6]-i).toFixed(3),p[7]=+(q[7]-j).toFixed(3);break;case"v":p[1]=+(q[1]-j).toFixed(3);break;case"m":k=q[1],l=q[2];default:for(var r=1,s=q.length;s>r;r++)p[r]=+(q[r]-(r%2?i:j)).toFixed(3)}else{p=h[n]=[],"m"==q[0]&&(k=q[1]+i,l=q[2]+j);for(var t=0,u=q.length;u>t;t++)h[n][t]=q[t]}var v=h[n].length;switch(h[n][0]){case"z":i=k,j=l;break;case"h":i+=+h[n][v-1];break;case"v":j+=+h[n][v-1];break;default:i+=+h[n][v-2],j+=+h[n][v-1]}}return h.toString=e,d.rel=f(h),h}function z(b){var d=c(b);if(d.abs)return f(d.abs);if(I(b,"array")&&I(b&&b[0],"array")||(b=a.parsePathString(b)),!b||!b.length)return[["M",0,0]];var g,h=[],i=0,j=0,k=0,l=0,m=0;"M"==b[0][0]&&(i=+b[0][1],j=+b[0][2],k=i,l=j,m++,h[0]=["M",i,j]);for(var n,o,p=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),q=m,r=b.length;r>q;q++){if(h.push(n=[]),o=b[q],g=o[0],g!=g.toUpperCase())switch(n[0]=g.toUpperCase(),n[0]){case"A":n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=+o[6]+i,n[7]=+o[7]+j;break;case"V":n[1]=+o[1]+j;break;case"H":n[1]=+o[1]+i;break;case"R":for(var s=[i,j].concat(o.slice(1)),t=2,u=s.length;u>t;t++)s[t]=+s[t]+i,s[++t]=+s[t]+j;h.pop(),h=h.concat(G(s,p));break;case"O":h.pop(),s=x(i,j,o[1],o[2]),s.push(s[0]),h=h.concat(s);break;case"U":h.pop(),h=h.concat(x(i,j,o[1],o[2],o[3])),n=["U"].concat(h[h.length-1].slice(-2));break;case"M":k=+o[1]+i,l=+o[2]+j;default:for(t=1,u=o.length;u>t;t++)n[t]=+o[t]+(t%2?i:j)}else if("R"==g)s=[i,j].concat(o.slice(1)),h.pop(),h=h.concat(G(s,p)),n=["R"].concat(o.slice(-2));else if("O"==g)h.pop(),s=x(i,j,o[1],o[2]),s.push(s[0]),h=h.concat(s);else if("U"==g)h.pop(),h=h.concat(x(i,j,o[1],o[2],o[3])),n=["U"].concat(h[h.length-1].slice(-2));else for(var v=0,w=o.length;w>v;v++)n[v]=o[v];if(g=g.toUpperCase(),"O"!=g)switch(n[0]){case"Z":i=+k,j=+l;break;case"H":i=n[1];break;case"V":j=n[1];break;case"M":k=n[n.length-2],l=n[n.length-1];default:i=n[n.length-2],j=n[n.length-1]}}return h.toString=e,d.abs=f(h),h}function A(a,b,c,d){return[a,b,c,d,c,d]}function B(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]}function C(b,c,d,e,f,g,h,i,j,k){var l,m=120*O/180,n=O/180*(+f||0),o=[],p=a._.cacher(function(a,b,c){var d=a*N.cos(c)-b*N.sin(c),e=a*N.sin(c)+b*N.cos(c);return{x:d,y:e}});if(k)y=k[0],z=k[1],w=k[2],x=k[3];else{l=p(b,c,-n),b=l.x,c=l.y,l=p(i,j,-n),i=l.x,j=l.y;var q=(N.cos(O/180*f),N.sin(O/180*f),(b-i)/2),r=(c-j)/2,s=q*q/(d*d)+r*r/(e*e);s>1&&(s=N.sqrt(s),d=s*d,e=s*e);var t=d*d,u=e*e,v=(g==h?-1:1)*N.sqrt(S((t*u-t*r*r-u*q*q)/(t*r*r+u*q*q))),w=v*d*r/e+(b+i)/2,x=v*-e*q/d+(c+j)/2,y=N.asin(((c-x)/e).toFixed(9)),z=N.asin(((j-x)/e).toFixed(9));y=w>b?O-y:y,z=w>i?O-z:z,0>y&&(y=2*O+y),0>z&&(z=2*O+z),h&&y>z&&(y-=2*O),!h&&z>y&&(z-=2*O)}var A=z-y;if(S(A)>m){var B=z,D=i,E=j;z=y+m*(h&&z>y?1:-1),i=w+d*N.cos(z),j=x+e*N.sin(z),o=C(i,j,d,e,f,0,h,D,E,[z,B,w,x])}A=z-y;var F=N.cos(y),G=N.sin(y),H=N.cos(z),I=N.sin(z),J=N.tan(A/4),K=4/3*d*J,L=4/3*e*J,M=[b,c],P=[b+K*G,c-L*F],Q=[i+K*I,j-L*H],R=[i,j];if(P[0]=2*M[0]-P[0],P[1]=2*M[1]-P[1],k)return[P,Q,R].concat(o);o=[P,Q,R].concat(o).join().split(",");for(var T=[],U=0,V=o.length;V>U;U++)T[U]=U%2?p(o[U-1],o[U],n).y:p(o[U],o[U+1],n).x;return T}function D(a,b,c,d,e,f,g,h){for(var i,j,k,l,m,n,o,p,q=[],r=[[],[]],s=0;2>s;++s)if(0==s?(j=6*a-12*c+6*e,i=-3*a+9*c-9*e+3*g,k=3*c-3*a):(j=6*b-12*d+6*f,i=-3*b+9*d-9*f+3*h,k=3*d-3*b),S(i)<1e-12){if(S(j)<1e-12)continue;l=-k/j,l>0&&1>l&&q.push(l)}else o=j*j-4*k*i,p=N.sqrt(o),0>o||(m=(-j+p)/(2*i),m>0&&1>m&&q.push(m),n=(-j-p)/(2*i),n>0&&1>n&&q.push(n));for(var t,u=q.length,v=u;u--;)l=q[u],t=1-l,r[0][u]=t*t*t*a+3*t*t*l*c+3*t*l*l*e+l*l*l*g,r[1][u]=t*t*t*b+3*t*t*l*d+3*t*l*l*f+l*l*l*h;return r[0][v]=a,r[1][v]=b,r[0][v+1]=g,r[1][v+1]=h,r[0].length=r[1].length=v+2,{min:{x:P.apply(0,r[0]),y:P.apply(0,r[1])},max:{x:Q.apply(0,r[0]),y:Q.apply(0,r[1])}}}function E(a,b){var d=!b&&c(a);if(!b&&d.curve)return f(d.curve);for(var e=z(a),g=b&&z(b),h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=(function(a,b,c){var d,e;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"].concat(C.apply(0,[b.x,b.y].concat(a.slice(1))));break;case"S":"C"==c||"S"==c?(d=2*b.x-b.bx,e=2*b.y-b.by):(d=b.x,e=b.y),a=["C",d,e].concat(a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y),a=["C"].concat(B(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"].concat(B(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(A(b.x,b.y,a[1],a[2]));break;case"H":a=["C"].concat(A(b.x,b.y,a[1],b.y));break;case"V":a=["C"].concat(A(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"].concat(A(b.x,b.y,b.X,b.Y))}return a}),k=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)m[b]="A",g&&(n[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1),r=Q(e.length,g&&g.length||0)}},l=function(a,b,c,d,f){a&&b&&"M"==a[f][0]&&"M"!=b[f][0]&&(b.splice(f,0,["M",d.x,d.y]),c.bx=0,c.by=0,c.x=a[f][1],c.y=a[f][2],r=Q(e.length,g&&g.length||0))},m=[],n=[],o="",p="",q=0,r=Q(e.length,g&&g.length||0);r>q;q++){e[q]&&(o=e[q][0]),"C"!=o&&(m[q]=o,q&&(p=m[q-1])),e[q]=j(e[q],h,p),"A"!=m[q]&&"C"==o&&(m[q]="C"),k(e,q),g&&(g[q]&&(o=g[q][0]),"C"!=o&&(n[q]=o,q&&(p=n[q-1])),g[q]=j(g[q],i,p),"A"!=n[q]&&"C"==o&&(n[q]="C"),k(g,q)),l(e,g,h,i,q),l(g,e,i,h,q);var s=e[q],t=g&&g[q],u=s.length,v=g&&t.length;h.x=s[u-2],h.y=s[u-1],h.bx=M(s[u-4])||h.x,h.by=M(s[u-3])||h.y,i.bx=g&&(M(t[v-4])||i.x),i.by=g&&(M(t[v-3])||i.y),i.x=g&&t[v-2],i.y=g&&t[v-1]}return g||(d.curve=f(e)),g?[e,g]:e}function F(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=E(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a}function G(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}var H=b.prototype,I=a.is,J=a._.clone,K="hasOwnProperty",L=/,?([a-z]),?/gi,M=parseFloat,N=Math,O=N.PI,P=N.min,Q=N.max,R=N.pow,S=N.abs,T=h(1),U=h(),V=h(0,1),W=a._unit2px,X={path:function(a){return a.attr("path")},circle:function(a){var b=W(a);return x(b.cx,b.cy,b.r)},ellipse:function(a){var b=W(a);return x(b.cx||0,b.cy||0,b.rx,b.ry)},rect:function(a){var b=W(a);return w(b.x||0,b.y||0,b.width,b.height,b.rx,b.ry)},image:function(a){var b=W(a);return w(b.x||0,b.y||0,b.width,b.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){var b=a.node.getBBox();return w(b.x,b.y,b.width,b.height)}};a.path=c,a.path.getTotalLength=T,a.path.getPointAtLength=U,a.path.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return V(a,b).end;var d=V(a,c,1);return b?V(d,b).end:d},H.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},H.getPointAtLength=function(a){return U(this.attr("d"),a)},H.getSubpath=function(b,c){return a.path.getSubpath(this.attr("d"),b,c)},a._.box=d,a.path.findDotsAtSegment=i,a.path.bezierBBox=j,a.path.isPointInsideBBox=k,a.path.isBBoxIntersect=l,a.path.intersection=r,a.path.intersectionNumber=s,a.path.isPointInside=u,a.path.getBBox=v,a.path.get=X,a.path.toRelative=y,a.path.toAbsolute=z,a.path.toCubic=E,a.path.map=F,a.path.toString=e,a.path.clone=f}),d.plugin(function(a){var d=Math.max,e=Math.min,f=function(a){if(this.items=[],this.bindings={},this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)a[b]&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},g=f.prototype;g.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],a&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},g.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},g.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this},g.animate=function(d,e,f,g){"function"!=typeof f||f.length||(g=f,f=c.linear),d instanceof a._.Animation&&(g=d.callback,f=d.easing,e=f.dur,d=d.attr);var h=arguments;if(a.is(d,"array")&&a.is(h[h.length-1],"array"))var i=!0;var j,k=function(){j?this.b=j:j=this.b},l=0,m=g&&function(){l++==this.length&&g.call(this)};return this.forEach(function(a,c){b.once("snap.animcreated."+a.id,k),i?h[c]&&a.animate.apply(a,h[c]):a.animate(d,e,f,m)})},g.remove=function(){for(;this.length;)this.pop().remove();return this},g.bind=function(a,b,c){var d={};if("function"==typeof b)this.bindings[a]=b;else{var e=c||a;this.bindings[a]=function(a){d[e]=a,b.attr(d)}}return this},g.attr=function(a){var b={};for(var c in a)this.bindings[c]?this.bindings[c](a[c]):b[c]=a[c];for(var d=0,e=this.items.length;e>d;d++)this.items[d].attr(b);return this},g.clear=function(){for(;this.length;)this.pop()},g.splice=function(a,b){a=0>a?d(this.length+a,0):a,b=d(0,e(this.length-a,b));var c,g=[],h=[],i=[];for(c=2;c<arguments.length;c++)i.push(arguments[c]);for(c=0;b>c;c++)h.push(this[a+c]);for(;c<this.length-a;c++)g.push(this[a+c]);var j=i.length;for(c=0;c<j+g.length;c++)this.items[a+c]=this[a+c]=j>c?i[c]:g[c-j];for(c=this.items.length=this.length-=b-j;this[c];)delete this[c++];return new f(h)},g.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0;return!1},g.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},g.getBBox=function(){for(var a=[],b=[],c=[],f=[],g=this.items.length;g--;)if(!this.items[g].removed){var h=this.items[g].getBBox();a.push(h.x),b.push(h.y),c.push(h.x+h.width),f.push(h.y+h.height)}return a=e.apply(0,a),b=e.apply(0,b),c=d.apply(0,c),f=d.apply(0,f),{x:a,y:b,x2:c,y2:f,width:c-a,height:f-b,cx:a+(c-a)/2,cy:b+(f-b)/2}},g.clone=function(a){a=new f;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},g.toString=function(){return"Snap‘s set"},g.type="set",a.set=function(){var a=new f;return arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0)),a}}),d.plugin(function(a,c){function d(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function e(b,c,e){c=m(c).replace(/\.{3}|\u2026/g,b),b=a.parseTransformString(b)||[],c=a.parseTransformString(c)||[];for(var f,g,h,k,l=Math.max(b.length,c.length),n=[],o=[],p=0;l>p;p++){if(h=b[p]||d(c[p]),k=c[p]||d(h),h[0]!=k[0]||"r"==h[0].toLowerCase()&&(h[2]!=k[2]||h[3]!=k[3])||"s"==h[0].toLowerCase()&&(h[3]!=k[3]||h[4]!=k[4])){b=a._.transform2matrix(b,e()),c=a._.transform2matrix(c,e()),n=[["m",b.a,b.b,b.c,b.d,b.e,b.f]],o=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break}for(n[p]=[],o[p]=[],f=0,g=Math.max(h.length,k.length);g>f;f++)f in h&&(n[p][f]=h[f]),f in k&&(o[p][f]=k[f])}return{from:j(n),to:j(o),f:i(n)}}function f(a){return a}function g(a){return function(b){return+b.toFixed(3)+a}}function h(b){return a.rgb(b[0],b[1],b[2])}function i(a){var b,c,d,e,f,g,h=0,i=[];for(b=0,c=a.length;c>b;b++){for(f="[",g=['"'+a[b][0]+'"'],d=1,e=a[b].length;e>d;d++)g[d]="val["+h++ +"]";
f+=g+"]",i[b]=f}return Function("val","return Snap.path.toString.call(["+i+"])")}function j(a){for(var b=[],c=0,d=a.length;d>c;c++)for(var e=1,f=a[c].length;f>e;e++)b.push(a[c][e]);return b}var k={},l=/[a-z]+$/i,m=String;k.stroke=k.fill="colour",c.prototype.equal=function(a,c){return b("snap.util.equal",this,a,c).firstDefined()},b.on("snap.util.equal",function(b,c){var d,n,o=m(this.attr(b)||""),p=this;if(o==+o&&c==+c)return{from:+o,to:+c,f:f};if("colour"==k[b])return d=a.color(o),n=a.color(c),{from:[d.r,d.g,d.b,d.opacity],to:[n.r,n.g,n.b,n.opacity],f:h};if("transform"==b||"gradientTransform"==b||"patternTransform"==b)return c instanceof a.Matrix&&(c=c.toTransformString()),a._.rgTransform.test(c)||(c=a._.svgTransform2string(c)),e(o,c,function(){return p.getBBox(1)});if("d"==b||"path"==b)return d=a.path.toCubic(o,c),{from:j(d[0]),to:j(d[1]),f:i(d[0])};if("points"==b)return d=m(o).split(a._.separator),n=m(c).split(a._.separator),{from:d,to:n,f:function(a){return a}};aUnit=o.match(l);var q=m(c).match(l);return aUnit&&aUnit==q?{from:parseFloat(o),to:parseFloat(c),f:g(aUnit)}:{from:this.asPX(b),to:this.asPX(b,c),f:f}})}),d.plugin(function(a,c,d,e){for(var f=c.prototype,g="hasOwnProperty",h=("createTouch"in e.doc),i=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],j={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},k=(function(a,b){var c="y"==a?"scrollTop":"scrollLeft",d=b&&b.node?b.node.ownerDocument:e.doc;return d[c in d.documentElement?"documentElement":"body"][c]}),l=function(){this.returnValue=!1},m=function(){return this.originalEvent.preventDefault()},n=function(){this.cancelBubble=!0},o=function(){return this.originalEvent.stopPropagation()},p=function(){return e.doc.addEventListener?function(a,b,c,d){var e=h&&j[b]?j[b]:b,f=function(e){var f=k("y",d),i=k("x",d);if(h&&j[g](b))for(var l=0,n=e.targetTouches&&e.targetTouches.length;n>l;l++)if(e.targetTouches[l].target==a||a.contains(e.targetTouches[l].target)){var p=e;e=e.targetTouches[l],e.originalEvent=p,e.preventDefault=m,e.stopPropagation=o;break}var q=e.clientX+i,r=e.clientY+f;return c.call(d,e,q,r)};return b!==e&&a.addEventListener(b,f,!1),a.addEventListener(e,f,!1),function(){return b!==e&&a.removeEventListener(b,f,!1),a.removeEventListener(e,f,!1),!0}}:e.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||d.node.ownerDocument.window.event;var b=k("y",d),e=k("x",d),f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||l,a.stopPropagation=a.stopPropagation||n,c.call(d,a,f,g)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}:void 0}(),q=[],r=function(a){for(var c,d=a.clientX,e=a.clientY,f=k("y"),g=k("x"),i=q.length;i--;){if(c=q[i],h){for(var j,l=a.touches&&a.touches.length;l--;)if(j=a.touches[l],j.identifier==c.el._drag.id||c.el.node.contains(j.target)){d=j.clientX,e=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();{var m=c.el.node;m.nextSibling,m.parentNode,m.style.display}d+=g,e+=f,b("snap.drag.move."+c.el.id,c.move_scope||c.el,d-c.el._drag.x,e-c.el._drag.y,d,e,a)}},s=function(c){a.unmousemove(r).unmouseup(s);for(var d,e=q.length;e--;)d=q[e],d.el._drag={},b("snap.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,c);q=[]},t=i.length;t--;)!function(b){a[b]=f[b]=function(c,d){return a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:p(this.node||document,b,c,d||this)})),this},a["un"+b]=f["un"+b]=function(a){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==b&&(c[d].f==a||!a))return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}}(i[t]);f.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},f.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var u=[];f.drag=function(c,d,e,f,g,h){function i(i,j,k){(i.originalEvent||i).preventDefault(),this._drag.x=j,this._drag.y=k,this._drag.id=i.identifier,!q.length&&a.mousemove(r).mouseup(s),q.push({el:this,move_scope:f,start_scope:g,end_scope:h}),d&&b.on("snap.drag.start."+this.id,d),c&&b.on("snap.drag.move."+this.id,c),e&&b.on("snap.drag.end."+this.id,e),b("snap.drag.start."+this.id,g||f||this,j,k,i)}if(!arguments.length){var j;return this.drag(function(a,b){this.attr({transform:j+(j?"T":"t")+[a,b]})},function(){j=this.transform().local})}return this._drag={},u.push({el:this,start:i}),this.mousedown(i),this},f.undrag=function(){for(var c=u.length;c--;)u[c].el==this&&(this.unmousedown(u[c].start),u.splice(c,1),b.unbind("snap.drag.*."+this.id));return!u.length&&a.unmousemove(r).unmouseup(s),this}}),d.plugin(function(a,c,d){var e=(c.prototype,d.prototype),f=/^\s*url\((.+)\)/,g=String,h=a._.$;a.filter={},e.filter=function(b){var d=this;"svg"!=d.type&&(d=d.paper);var e=a.parse(g(b)),f=a._.id(),i=(d.node.offsetWidth,d.node.offsetHeight,h("filter"));return h(i,{id:f,filterUnits:"userSpaceOnUse"}),i.appendChild(e.node),d.defs.appendChild(i),new c(i)},b.on("snap.util.getattr.filter",function(){b.stop();var c=h(this.node,"filter");if(c){var d=g(c).match(f);return d&&a.select(d[1])}}),b.on("snap.util.attr.filter",function(d){if(d instanceof c&&"filter"==d.type){b.stop();var e=d.node.id;e||(h(d.node,{id:d.id}),e=d.id),h(this.node,{filter:a.url(e)})}d&&"none"!=d||(b.stop(),this.node.removeAttribute("filter"))}),a.filter.blur=function(b,c){null==b&&(b=2);var d=null==c?b:[b,c];return a.format('<feGaussianBlur stdDeviation="{def}"/>',{def:d})},a.filter.blur.toString=function(){return this()},a.filter.shadow=function(b,c,d,e,f){return"string"==typeof d&&(e=d,f=e,d=4),"string"!=typeof e&&(f=e,e="#000"),e=e||"#000",null==d&&(d=4),null==f&&(f=1),null==b&&(b=0,c=2),null==c&&(c=b),e=a.color(e),a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:e,dx:b,dy:c,blur:d,opacity:f})},a.filter.shadow.toString=function(){return this()},a.filter.grayscale=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-b),b:.7152-.7152*(1-b),c:.0722-.0722*(1-b),d:.2126-.2126*(1-b),e:.7152+.2848*(1-b),f:.0722-.0722*(1-b),g:.2126-.2126*(1-b),h:.0722+.9278*(1-b)})},a.filter.grayscale.toString=function(){return this()},a.filter.sepia=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-b),b:.769-.769*(1-b),c:.189-.189*(1-b),d:.349-.349*(1-b),e:.686+.314*(1-b),f:.168-.168*(1-b),g:.272-.272*(1-b),h:.534-.534*(1-b),i:.131+.869*(1-b)})},a.filter.sepia.toString=function(){return this()},a.filter.saturate=function(b){return null==b&&(b=1),a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-b})},a.filter.saturate.toString=function(){return this()},a.filter.hueRotate=function(b){return b=b||0,a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:b})},a.filter.hueRotate.toString=function(){return this()},a.filter.invert=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:b,amount2:1-b})},a.filter.invert.toString=function(){return this()},a.filter.brightness=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:b})},a.filter.brightness.toString=function(){return this()},a.filter.contrast=function(b){return null==b&&(b=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:b,amount2:.5-b/2})},a.filter.contrast.toString=function(){return this()}}),d});
; browserify_shim__define__module__export__(typeof Snap != "undefined" ? Snap : window.Snap);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"Snap.svg":[function(require,module,exports){
module.exports=require('DkwsM0');
},{}],"gmaps":[function(require,module,exports){
module.exports=require('iAECyH');
},{}],"iAECyH":[function(require,module,exports){
(function (global){
(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {
"use strict";!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(["jquery","googlemaps!"],b):a.GMaps=b()}(this,function(){var a=function(a,b){var c;if(a===b)return a;for(c in b)a[c]=b[c];return a},b=function(a,b){var c,d=Array.prototype.slice.call(arguments,2),e=[],f=a.length;if(Array.prototype.map&&a.map===Array.prototype.map)e=Array.prototype.map.call(a,function(a){var c=d.slice(0);return c.splice(0,0,a),b.apply(this,c)});else for(c=0;f>c;c++)callback_params=d,callback_params.splice(0,0,a[c]),e.push(b.apply(this,callback_params));return e},c=function(a){var b,c=[];for(b=0;b<a.length;b++)c=c.concat(a[b]);return c},d=function(a,b){var c=a[0],d=a[1];return b&&(c=a[1],d=a[0]),new google.maps.LatLng(c,d)},f=function(a,b){var c;for(c=0;c<a.length;c++)a[c]instanceof google.maps.LatLng||(a[c].length>0&&"object"==typeof a[c][0]?a[c]=f(a[c],b):a[c]=d(a[c],b));return a},g=function(a,b){var c,d=a.replace(".","");return c="jQuery"in this&&b?$("."+d,b)[0]:document.getElementsByClassName(d)[0]},h=function(a,b){var c,a=a.replace("#","");return c="jQuery"in window&&b?$("#"+a,b)[0]:document.getElementById(a)},i=function(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return[b,c]},j=function(b){if("object"!=typeof window.google||!window.google.maps)return"object"==typeof window.console&&window.console.error&&console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js."),function(){};var c=document,d=function(b){if(!this)return new d(b);b.zoom=b.zoom||15,b.mapType=b.mapType||"roadmap";var e,f=function(a,b){return void 0===a?b:a},j=this,k=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],l=["mousemove","mouseout","mouseover"],m=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],n=b.el||b.div,o=b.markerClusterer,p=google.maps.MapTypeId[b.mapType.toUpperCase()],q=new google.maps.LatLng(b.lat,b.lng),r=f(b.zoomControl,!0),s=b.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},t=s.style||"DEFAULT",u=s.position||"TOP_LEFT",v=f(b.panControl,!0),w=f(b.mapTypeControl,!0),x=f(b.scaleControl,!0),y=f(b.streetViewControl,!0),z=f(z,!0),A={},B={zoom:this.zoom,center:q,mapTypeId:p},C={panControl:v,zoomControl:r,zoomControlOptions:{style:google.maps.ZoomControlStyle[t],position:google.maps.ControlPosition[u]},mapTypeControl:w,scaleControl:x,streetViewControl:y,overviewMapControl:z};if("string"==typeof b.el||"string"==typeof b.div?n.indexOf("#")>-1?this.el=h(n,b.context):this.el=g.apply(this,[n,b.context]):this.el=n,"undefined"==typeof this.el||null===this.el)throw"No element defined.";for(window.context_menu=window.context_menu||{},window.context_menu[j.el.id]={},this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=b.zoom,this.registered_events={},this.el.style.width=b.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=b.height||this.el.scrollHeight||this.el.offsetHeight,google.maps.visualRefresh=b.enableNewStyle,e=0;e<m.length;e++)delete b[m[e]];for(1!=b.disableDefaultUI&&(B=a(B,C)),A=a(B,b),e=0;e<k.length;e++)delete A[k[e]];for(e=0;e<l.length;e++)delete A[l[e]];this.map=new google.maps.Map(this.el,A),o&&(this.markerClusterer=o.apply(this,[this.map]));var D=function(a,b){var c="",d=window.context_menu[j.el.id][a];for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];c+='<li><a id="'+a+"_"+e+'" href="#">'+f.title+"</a></li>"}if(h("gmaps_context_menu")){var g=h("gmaps_context_menu");g.innerHTML=c;var e,k=g.getElementsByTagName("a"),l=k.length;for(e=0;l>e;e++){var m=k[e],n=function(c){c.preventDefault(),d[this.id.replace(a+"_","")].action.apply(j,[b]),j.hideContextMenu()};google.maps.event.clearListeners(m,"click"),google.maps.event.addDomListenerOnce(m,"click",n,!1)}var o=i.apply(this,[j.el]),p=o[0]+b.pixel.x-15,q=o[1]+b.pixel.y-15;g.style.left=p+"px",g.style.top=q+"px"}};this.buildContextMenu=function(a,b){if("marker"===a){b.pixel={};var c=new google.maps.OverlayView;c.setMap(j.map),c.draw=function(){var d=c.getProjection(),e=b.marker.getPosition();b.pixel=d.fromLatLngToContainerPixel(e),D(a,b)}}else D(a,b);var d=h("gmaps_context_menu");setTimeout(function(){d.style.display="block"},0)},this.setContextMenu=function(a){window.context_menu[j.el.id][a.control]={};var b,d=c.createElement("ul");for(b in a.options)if(a.options.hasOwnProperty(b)){var e=a.options[b];window.context_menu[j.el.id][a.control][e.name]={title:e.title,action:e.action}}d.id="gmaps_context_menu",d.style.display="none",d.style.position="absolute",d.style.minWidth="100px",d.style.background="white",d.style.listStyle="none",d.style.padding="8px",d.style.boxShadow="2px 2px 6px #ccc",h("gmaps_context_menu")||c.body.appendChild(d);var f=h("gmaps_context_menu");google.maps.event.addDomListener(f,"mouseout",function(a){a.relatedTarget&&this.contains(a.relatedTarget)||window.setTimeout(function(){f.style.display="none"},400)},!1)},this.hideContextMenu=function(){var a=h("gmaps_context_menu");a&&(a.style.display="none")};var E=function(a,c){google.maps.event.addListener(a,c,function(a){void 0==a&&(a=this),b[c].apply(this,[a]),j.hideContextMenu()})};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var F=0;F<k.length;F++){var G=k[F];G in b&&E(this.map,G)}for(var F=0;F<l.length;F++){var G=l[F];G in b&&E(this.map,G)}google.maps.event.addListener(this.map,"rightclick",function(a){b.rightclick&&b.rightclick.apply(this,[a]),void 0!=window.context_menu[j.el.id].map&&j.buildContextMenu("map",a)}),this.refresh=function(){google.maps.event.trigger(this.map,"resize")},this.fitZoom=function(){var a,b=[],c=this.markers.length;for(a=0;c>a;a++)"boolean"==typeof this.markers[a].visible&&this.markers[a].visible&&b.push(this.markers[a].getPosition());this.fitLatLngBounds(b)},this.fitLatLngBounds=function(a){var b,c=a.length,d=new google.maps.LatLngBounds;for(b=0;c>b;b++)d.extend(a[b]);this.map.fitBounds(d)},this.setCenter=function(a,b,c){this.map.panTo(new google.maps.LatLng(a,b)),c&&c()},this.getElement=function(){return this.el},this.zoomIn=function(a){a=a||1,this.zoom=this.map.getZoom()+a,this.map.setZoom(this.zoom)},this.zoomOut=function(a){a=a||1,this.zoom=this.map.getZoom()-a,this.map.setZoom(this.zoom)};var H,I=[];for(H in this.map)"function"!=typeof this.map[H]||this[H]||I.push(H);for(e=0;e<I.length;e++)!function(a,b,c){a[c]=function(){return b[c].apply(b,arguments)}}(this,this.map,I[e])};return d}(this);j.prototype.createControl=function(a){var b=document.createElement("div");b.style.cursor="pointer",a.disableDefaultStyles!==!0&&(b.style.fontFamily="Roboto, Arial, sans-serif",b.style.fontSize="11px",b.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px");for(var c in a.style)b.style[c]=a.style[c];a.id&&(b.id=a.id),a.title&&(b.title=a.title),a.classes&&(b.className=a.classes),a.content&&("string"==typeof a.content?b.innerHTML=a.content:a.content instanceof HTMLElement&&b.appendChild(a.content)),a.position&&(b.position=google.maps.ControlPosition[a.position.toUpperCase()]);for(var d in a.events)!function(b,c){google.maps.event.addDomListener(b,c,function(){a.events[c].apply(this,[this])})}(b,d);return b.index=1,b},j.prototype.addControl=function(a){var b=this.createControl(a);return this.controls.push(b),this.map.controls[b.position].push(b),b},j.prototype.removeControl=function(a){var b,c=null;for(b=0;b<this.controls.length;b++)this.controls[b]==a&&(c=this.controls[b].position,this.controls.splice(b,1));if(c)for(b=0;b<this.map.controls.length;b++){var d=this.map.controls[a.position];if(d.getAt(b)==a){d.removeAt(b);break}}return a},j.prototype.createMarker=function(b){if(void 0==b.lat&&void 0==b.lng&&void 0==b.position)throw"No latitude or longitude defined.";var c=this,d=b.details,e=b.fences,f=b.outside,g={position:new google.maps.LatLng(b.lat,b.lng),map:null},h=a(g,b);delete h.lat,delete h.lng,delete h.fences,delete h.outside;var i=new google.maps.Marker(h);if(i.fences=e,b.infoWindow){i.infoWindow=new google.maps.InfoWindow(b.infoWindow);for(var j=["closeclick","content_changed","domready","position_changed","zindex_changed"],k=0;k<j.length;k++)!function(a,c){b.infoWindow[c]&&google.maps.event.addListener(a,c,function(a){b.infoWindow[c].apply(this,[a])})}(i.infoWindow,j[k])}for(var l=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],m=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"],k=0;k<l.length;k++)!function(a,c){b[c]&&google.maps.event.addListener(a,c,function(){b[c].apply(this,[this])})}(i,l[k]);for(var k=0;k<m.length;k++)!function(a,c,d){b[d]&&google.maps.event.addListener(c,d,function(c){c.pixel||(c.pixel=a.getProjection().fromLatLngToPoint(c.latLng)),b[d].apply(this,[c])})}(this.map,i,m[k]);return google.maps.event.addListener(i,"click",function(){this.details=d,b.click&&b.click.apply(this,[this]),i.infoWindow&&(c.hideInfoWindows(),i.infoWindow.open(c.map,i))}),google.maps.event.addListener(i,"rightclick",function(a){a.marker=this,b.rightclick&&b.rightclick.apply(this,[a]),void 0!=window.context_menu[c.el.id].marker&&c.buildContextMenu("marker",a)}),i.fences&&google.maps.event.addListener(i,"dragend",function(){c.checkMarkerGeofence(i,function(a,b){f(a,b)})}),i},j.prototype.addMarker=function(a){var b;if(a.hasOwnProperty("gm_accessors_"))b=a;else{if(!(a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")||a.position))throw"No latitude or longitude defined.";b=this.createMarker(a)}return b.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(b),this.markers.push(b),j.fire("marker_added",b,this),b},j.prototype.addMarkers=function(a){for(var b,c=0;b=a[c];c++)this.addMarker(b);return this.markers},j.prototype.hideInfoWindows=function(){for(var a,b=0;a=this.markers[b];b++)a.infoWindow&&a.infoWindow.close()},j.prototype.removeMarker=function(a){for(var b=0;b<this.markers.length;b++)if(this.markers[b]===a){this.markers[b].setMap(null),this.markers.splice(b,1),this.markerClusterer&&this.markerClusterer.removeMarker(a),j.fire("marker_removed",a,this);break}return a},j.prototype.removeMarkers=function(a){var b=[];if("undefined"==typeof a){for(var c=0;c<this.markers.length;c++){var d=this.markers[c];d.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(d),j.fire("marker_removed",d,this)}this.markers=b}else{for(var c=0;c<a.length;c++){var e=this.markers.indexOf(a[c]);if(e>-1){var d=this.markers[e];d.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(d),j.fire("marker_removed",d,this)}}for(var c=0;c<this.markers.length;c++){var d=this.markers[c];null!=d.getMap()&&b.push(d)}this.markers=b}},j.prototype.drawOverlay=function(a){var b=new google.maps.OverlayView,c=!0;return b.setMap(this.map),null!=a.auto_show&&(c=a.auto_show),b.onAdd=function(){var c=document.createElement("div");c.style.borderStyle="none",c.style.borderWidth="0px",c.style.position="absolute",c.style.zIndex=100,c.innerHTML=a.content,b.el=c,a.layer||(a.layer="overlayLayer");var d=this.getPanes(),e=d[a.layer],f=["contextmenu","DOMMouseScroll","dblclick","mousedown"];e.appendChild(c);for(var g=0;g<f.length;g++)!function(a,b){google.maps.event.addDomListener(a,b,function(a){-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&document.all?(a.cancelBubble=!0,a.returnValue=!1):a.stopPropagation()})}(c,f[g]);a.click&&(d.overlayMouseTarget.appendChild(b.el),google.maps.event.addDomListener(b.el,"click",function(){a.click.apply(b,[b])})),google.maps.event.trigger(this,"ready")},b.draw=function(){var d=this.getProjection(),e=d.fromLatLngToDivPixel(new google.maps.LatLng(a.lat,a.lng));a.horizontalOffset=a.horizontalOffset||0,a.verticalOffset=a.verticalOffset||0;var f=b.el,g=f.children[0],h=g.clientHeight,i=g.clientWidth;switch(a.verticalAlign){case"top":f.style.top=e.y-h+a.verticalOffset+"px";break;default:case"middle":f.style.top=e.y-h/2+a.verticalOffset+"px";break;case"bottom":f.style.top=e.y+a.verticalOffset+"px"}switch(a.horizontalAlign){case"left":f.style.left=e.x-i+a.horizontalOffset+"px";break;default:case"center":f.style.left=e.x-i/2+a.horizontalOffset+"px";break;case"right":f.style.left=e.x+a.horizontalOffset+"px"}f.style.display=c?"block":"none",c||a.show.apply(this,[f])},b.onRemove=function(){var c=b.el;a.remove?a.remove.apply(this,[c]):(b.el.parentNode.removeChild(b.el),b.el=null)},this.overlays.push(b),b},j.prototype.removeOverlay=function(a){for(var b=0;b<this.overlays.length;b++)if(this.overlays[b]===a){this.overlays[b].setMap(null),this.overlays.splice(b,1);break}},j.prototype.removeOverlays=function(){for(var a,b=0;a=this.overlays[b];b++)a.setMap(null);this.overlays=[]},j.prototype.drawPolyline=function(a){var b=[],c=a.path;if(c.length)if(void 0===c[0][0])b=c;else for(var d,e=0;d=c[e];e++)b.push(new google.maps.LatLng(d[0],d[1]));var f={map:this.map,path:b,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight,geodesic:a.geodesic,clickable:!0,editable:!1,visible:!0};a.hasOwnProperty("clickable")&&(f.clickable=a.clickable),a.hasOwnProperty("editable")&&(f.editable=a.editable),a.hasOwnProperty("icons")&&(f.icons=a.icons),a.hasOwnProperty("zIndex")&&(f.zIndex=a.zIndex);for(var g=new google.maps.Polyline(f),h=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],i=0;i<h.length;i++)!function(b,c){a[c]&&google.maps.event.addListener(b,c,function(b){a[c].apply(this,[b])})}(g,h[i]);return this.polylines.push(g),j.fire("polyline_added",g,this),g},j.prototype.removePolyline=function(a){for(var b=0;b<this.polylines.length;b++)if(this.polylines[b]===a){this.polylines[b].setMap(null),this.polylines.splice(b,1),j.fire("polyline_removed",a,this);break}},j.prototype.removePolylines=function(){for(var a,b=0;a=this.polylines[b];b++)a.setMap(null);this.polylines=[]},j.prototype.drawCircle=function(b){b=a({map:this.map,center:new google.maps.LatLng(b.lat,b.lng)},b),delete b.lat,delete b.lng;for(var c=new google.maps.Circle(b),d=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],e=0;e<d.length;e++)!function(a,c){b[c]&&google.maps.event.addListener(a,c,function(a){b[c].apply(this,[a])})}(c,d[e]);return this.polygons.push(c),c},j.prototype.drawRectangle=function(b){b=a({map:this.map},b);var c=new google.maps.LatLngBounds(new google.maps.LatLng(b.bounds[0][0],b.bounds[0][1]),new google.maps.LatLng(b.bounds[1][0],b.bounds[1][1]));b.bounds=c;for(var d=new google.maps.Rectangle(b),e=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],f=0;f<e.length;f++)!function(a,c){b[c]&&google.maps.event.addListener(a,c,function(a){b[c].apply(this,[a])})}(d,e[f]);return this.polygons.push(d),d},j.prototype.drawPolygon=function(d){var e=!1;d.hasOwnProperty("useGeoJSON")&&(e=d.useGeoJSON),delete d.useGeoJSON,d=a({map:this.map},d),0==e&&(d.paths=[d.paths.slice(0)]),d.paths.length>0&&d.paths[0].length>0&&(d.paths=c(b(d.paths,f,e)));for(var g=new google.maps.Polygon(d),h=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],i=0;i<h.length;i++)!function(a,b){d[b]&&google.maps.event.addListener(a,b,function(a){d[b].apply(this,[a])})}(g,h[i]);return this.polygons.push(g),j.fire("polygon_added",g,this),g},j.prototype.removePolygon=function(a){for(var b=0;b<this.polygons.length;b++)if(this.polygons[b]===a){this.polygons[b].setMap(null),this.polygons.splice(b,1),j.fire("polygon_removed",a,this);break}},j.prototype.removePolygons=function(){for(var a,b=0;a=this.polygons[b];b++)a.setMap(null);this.polygons=[]},j.prototype.getFromFusionTables=function(a){var b=a.events;delete a.events;var c=a,d=new google.maps.FusionTablesLayer(c);for(var e in b)!function(a,c){google.maps.event.addListener(a,c,function(a){b[c].apply(this,[a])})}(d,e);return this.layers.push(d),d},j.prototype.loadFromFusionTables=function(a){var b=this.getFromFusionTables(a);return b.setMap(this.map),b},j.prototype.getFromKML=function(a){var b=a.url,c=a.events;delete a.url,delete a.events;var d=a,e=new google.maps.KmlLayer(b,d);for(var f in c)!function(a,b){google.maps.event.addListener(a,b,function(a){c[b].apply(this,[a])})}(e,f);return this.layers.push(e),e},j.prototype.loadFromKML=function(a){var b=this.getFromKML(a);return b.setMap(this.map),b},j.prototype.addLayer=function(a,b){b=b||{};var c;switch(a){case"weather":this.singleLayers.weather=c=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=c=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=c=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=c=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=c=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=c=new google.maps.panoramio.PanoramioLayer,c.setTag(b.filter),delete b.filter,b.click&&google.maps.event.addListener(c,"click",function(a){b.click(a),delete b.click});break;case"places":if(this.singleLayers.places=c=new google.maps.places.PlacesService(this.map),b.search||b.nearbySearch||b.radarSearch){var d={bounds:b.bounds||null,keyword:b.keyword||null,location:b.location||null,name:b.name||null,radius:b.radius||null,rankBy:b.rankBy||null,types:b.types||null};b.radarSearch&&c.radarSearch(d,b.radarSearch),b.search&&c.search(d,b.search),b.nearbySearch&&c.nearbySearch(d,b.nearbySearch)}if(b.textSearch){var e={bounds:b.bounds||null,location:b.location||null,query:b.query||null,radius:b.radius||null};c.textSearch(e,b.textSearch)}}return void 0!==c?("function"==typeof c.setOptions&&c.setOptions(b),"function"==typeof c.setMap&&c.setMap(this.map),c):void 0},j.prototype.removeLayer=function(a){if("string"==typeof a&&void 0!==this.singleLayers[a])this.singleLayers[a].setMap(null),delete this.singleLayers[a];else for(var b=0;b<this.layers.length;b++)if(this.layers[b]===a){this.layers[b].setMap(null),this.layers.splice(b,1);break}};var k,l;return j.prototype.getRoutes=function(b){switch(b.travelMode){case"bicycling":k=google.maps.TravelMode.BICYCLING;break;case"transit":k=google.maps.TravelMode.TRANSIT;break;case"driving":k=google.maps.TravelMode.DRIVING;break;default:k=google.maps.TravelMode.WALKING}l="imperial"===b.unitSystem?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;var c={avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]},d=a(c,b);d.origin=/string/.test(typeof b.origin)?b.origin:new google.maps.LatLng(b.origin[0],b.origin[1]),d.destination=/string/.test(typeof b.destination)?b.destination:new google.maps.LatLng(b.destination[0],b.destination[1]),d.travelMode=k,d.unitSystem=l,delete d.callback,delete d.error;var e=this,f=new google.maps.DirectionsService;f.route(d,function(a,c){if(c===google.maps.DirectionsStatus.OK){for(var d in a.routes)a.routes.hasOwnProperty(d)&&e.routes.push(a.routes[d]);b.callback&&b.callback(e.routes)}else b.error&&b.error(a,c)})},j.prototype.removeRoutes=function(){this.routes=[]},j.prototype.getElevations=function(d){d=a({locations:[],path:!1,samples:256},d),d.locations.length>0&&d.locations[0].length>0&&(d.locations=c(b([d.locations],f,!1)));var e=d.callback;delete d.callback;var g=new google.maps.ElevationService;if(d.path){var h={path:d.locations,samples:d.samples};g.getElevationAlongPath(h,function(a,b){e&&"function"==typeof e&&e(a,b)})}else delete d.path,delete d.samples,g.getElevationForLocations(d,function(a,b){e&&"function"==typeof e&&e(a,b)})},j.prototype.cleanRoute=j.prototype.removePolylines,j.prototype.drawRoute=function(a){var b=this;this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,error:a.error,callback:function(c){if(c.length>0){var d={path:c[c.length-1].overview_path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(d.icons=a.icons),b.drawPolyline(d),a.callback&&a.callback(c[c.length-1])}}})},j.prototype.travelRoute=function(a){if(a.origin&&a.destination)this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,error:a.error,callback:function(b){if(b.length>0&&a.start&&a.start(b[b.length-1]),b.length>0&&a.step){var c=b[b.length-1];if(c.legs.length>0)for(var d,e=c.legs[0].steps,f=0;d=e[f];f++)d.step_number=f,a.step(d,c.legs[0].steps.length-1)}b.length>0&&a.end&&a.end(b[b.length-1])}});else if(a.route&&a.route.legs.length>0)for(var b,c=a.route.legs[0].steps,d=0;b=c[d];d++)b.step_number=d,a.step(b)},j.prototype.drawSteppedRoute=function(a){var b=this;if(a.origin&&a.destination)this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,error:a.error,callback:function(c){if(c.length>0&&a.start&&a.start(c[c.length-1]),c.length>0&&a.step){var d=c[c.length-1];if(d.legs.length>0)for(var e,f=d.legs[0].steps,g=0;e=f[g];g++){e.step_number=g;var h={path:e.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(h.icons=a.icons),b.drawPolyline(h),a.step(e,d.legs[0].steps.length-1)}}c.length>0&&a.end&&a.end(c[c.length-1])}});else if(a.route&&a.route.legs.length>0)for(var c,d=a.route.legs[0].steps,e=0;c=d[e];e++){c.step_number=e;var f={path:c.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(f.icons=a.icons),b.drawPolyline(f),a.step(c)}},j.Route=function(a){this.origin=a.origin,this.destination=a.destination,this.waypoints=a.waypoints,this.map=a.map,this.route=a.route,this.step_count=0,this.steps=this.route.legs[0].steps,this.steps_length=this.steps.length;var b={path:new google.maps.MVCArray,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight};a.hasOwnProperty("icons")&&(b.icons=a.icons),this.polyline=this.map.drawPolyline(b).getPath()},j.Route.prototype.getRoute=function(a){var b=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:a.travelMode,waypoints:this.waypoints||[],error:a.error,callback:function(){b.route=e[0],a.callback&&a.callback.call(b)}})},j.Route.prototype.back=function(){if(this.step_count>0){this.step_count--;var a=this.route.legs[0].steps[this.step_count].path;for(var b in a)a.hasOwnProperty(b)&&this.polyline.pop()}},j.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var a=this.route.legs[0].steps[this.step_count].path;for(var b in a)a.hasOwnProperty(b)&&this.polyline.push(a[b]);this.step_count++}},j.prototype.checkGeofence=function(a,b,c){return c.containsLatLng(new google.maps.LatLng(a,b))},j.prototype.checkMarkerGeofence=function(a,b){if(a.fences)for(var c,d=0;c=a.fences[d];d++){var e=a.getPosition();this.checkGeofence(e.lat(),e.lng(),c)||b(a,c)}},j.prototype.toImage=function(a){var a=a||{},b={};if(b.size=a.size||[this.el.clientWidth,this.el.clientHeight],b.lat=this.getCenter().lat(),b.lng=this.getCenter().lng(),this.markers.length>0){b.markers=[];for(var c=0;c<this.markers.length;c++)b.markers.push({lat:this.markers[c].getPosition().lat(),lng:this.markers[c].getPosition().lng()})}if(this.polylines.length>0){var d=this.polylines[0];b.polyline={},b.polyline.path=google.maps.geometry.encoding.encodePath(d.getPath()),b.polyline.strokeColor=d.strokeColor,b.polyline.strokeOpacity=d.strokeOpacity,b.polyline.strokeWeight=d.strokeWeight}return j.staticMapURL(b)},j.staticMapURL=function(a){function b(a,b){if("#"===a[0]&&(a=a.replace("#","0x"),b)){if(b=parseFloat(b),b=Math.min(1,Math.max(b,0)),0===b)return"0x00000000";b=(255*b).toString(16),1===b.length&&(b+=b),a=a.slice(0,8)+b}return a}var c,d=[],e=("file:"===location.protocol?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";a.url&&(e=a.url,delete a.url),e+="?";var f=a.markers;delete a.markers,!f&&a.marker&&(f=[a.marker],delete a.marker);var g=a.styles;delete a.styles;var h=a.polyline;if(delete a.polyline,a.center)d.push("center="+a.center),delete a.center;else if(a.address)d.push("center="+a.address),delete a.address;else if(a.lat)d.push(["center=",a.lat,",",a.lng].join("")),delete a.lat,delete a.lng;else if(a.visible){var i=encodeURI(a.visible.join("|"));d.push("visible="+i)}var j=a.size;j?(j.join&&(j=j.join("x")),delete a.size):j="630x300",d.push("size="+j),a.zoom||a.zoom===!1||(a.zoom=15);var k=a.hasOwnProperty("sensor")?!!a.sensor:!0;delete a.sensor,d.push("sensor="+k);for(var l in a)a.hasOwnProperty(l)&&d.push(l+"="+a[l]);if(f)for(var m,n,o=0;c=f[o];o++){m=[],c.size&&"normal"!==c.size?(m.push("size:"+c.size),delete c.size):c.icon&&(m.push("icon:"+encodeURI(c.icon)),delete c.icon),c.color&&(m.push("color:"+c.color.replace("#","0x")),delete c.color),c.label&&(m.push("label:"+c.label[0].toUpperCase()),delete c.label),n=c.address?c.address:c.lat+","+c.lng,delete c.address,delete c.lat,delete c.lng;for(var l in c)c.hasOwnProperty(l)&&m.push(l+":"+c[l]);m.length||0===o?(m.push(n),m=m.join("|"),d.push("markers="+encodeURI(m))):(m=d.pop()+encodeURI("|"+n),d.push(m))}if(g)for(var o=0;o<g.length;o++){var p=[];g[o].featureType&&p.push("feature:"+g[o].featureType.toLowerCase()),g[o].elementType&&p.push("element:"+g[o].elementType.toLowerCase());for(var q=0;q<g[o].stylers.length;q++)for(var r in g[o].stylers[q]){var s=g[o].stylers[q][r];("hue"==r||"color"==r)&&(s="0x"+s.substring(1)),p.push(r+":"+s)}var t=p.join("|");""!=t&&d.push("style="+t)}if(h){if(c=h,h=[],c.strokeWeight&&h.push("weight:"+parseInt(c.strokeWeight,10)),c.strokeColor){var u=b(c.strokeColor,c.strokeOpacity);h.push("color:"+u)}if(c.fillColor){var v=b(c.fillColor,c.fillOpacity);h.push("fillcolor:"+v)}var w=c.path;if(w.join)for(var x,q=0;x=w[q];q++)h.push(x.join(","));else h.push("enc:"+w);h=h.join("|"),d.push("path="+encodeURI(h))}var y=window.devicePixelRatio||1;return d.push("scale="+y),d=d.join("&"),e+d},j.prototype.addMapType=function(a,b){if(!b.hasOwnProperty("getTileUrl")||"function"!=typeof b.getTileUrl)throw"'getTileUrl' function required.";b.tileSize=b.tileSize||new google.maps.Size(256,256);var c=new google.maps.ImageMapType(b);this.map.mapTypes.set(a,c)},j.prototype.addOverlayMapType=function(a){if(!a.hasOwnProperty("getTile")||"function"!=typeof a.getTile)throw"'getTile' function required.";var b=a.index;delete a.index,this.map.overlayMapTypes.insertAt(b,a)},j.prototype.removeOverlayMapType=function(a){this.map.overlayMapTypes.removeAt(a)},j.prototype.addStyle=function(a){var b=new google.maps.StyledMapType(a.styles,{name:a.styledMapName});this.map.mapTypes.set(a.mapTypeId,b)},j.prototype.setStyle=function(a){this.map.setMapTypeId(a)},j.prototype.createPanorama=function(a){return a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")||(a.lat=this.getCenter().lat(),a.lng=this.getCenter().lng()),this.panorama=j.createPanorama(a),this.map.setStreetView(this.panorama),this.panorama},j.createPanorama=function(b){var c=h(b.el,b.context);b.position=new google.maps.LatLng(b.lat,b.lng),delete b.el,delete b.context,delete b.lat,delete b.lng;for(var d=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],e=a({visible:!0},b),f=0;f<d.length;f++)delete e[d[f]];for(var g=new google.maps.StreetViewPanorama(c,e),f=0;f<d.length;f++)!function(a,c){b[c]&&google.maps.event.addListener(a,c,function(){b[c].apply(this)})}(g,d[f]);return g},j.prototype.on=function(a,b){return j.on(a,this,b)},j.prototype.off=function(a){j.off(a,this)},j.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],j.on=function(a,b,c){if(-1==j.custom_events.indexOf(a))return b instanceof j&&(b=b.map),google.maps.event.addListener(b,a,c);var d={handler:c,eventName:a};return b.registered_events[a]=b.registered_events[a]||[],b.registered_events[a].push(d),d},j.off=function(a,b){-1==j.custom_events.indexOf(a)?(b instanceof j&&(b=b.map),google.maps.event.clearListeners(b,a)):b.registered_events[a]=[]},j.fire=function(a,b,c){if(-1==j.custom_events.indexOf(a))google.maps.event.trigger(b,a,Array.prototype.slice.apply(arguments).slice(2));else if(a in c.registered_events)for(var d=c.registered_events[a],e=0;e<d.length;e++)!function(a,b,c){a.apply(b,[c])}(d[e].handler,c,b)},j.geolocate=function(a){var b=a.always||a.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(c){a.success(c),b&&b()},function(c){a.error(c),b&&b()},a.options):(a.not_supported(),b&&b())},j.geocode=function(a){this.geocoder=new google.maps.Geocoder;var b=a.callback;a.hasOwnProperty("lat")&&a.hasOwnProperty("lng")&&(a.latLng=new google.maps.LatLng(a.lat,a.lng)),delete a.lat,delete a.lng,delete a.callback,this.geocoder.geocode(a,function(a,c){b(a,c)})},"object"==typeof window.google&&window.google.maps&&(google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(a){for(var b,c=new google.maps.LatLngBounds,d=this.getPaths(),e=0;e<d.getLength();e++){b=d.getAt(e);for(var f=0;f<b.getLength();f++)c.extend(b.getAt(f))}return c}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(a){var b=this.getBounds();if(null!==b&&!b.contains(a))return!1;for(var c=!1,d=this.getPaths().getLength(),e=0;d>e;e++)for(var f=this.getPaths().getAt(e),g=f.getLength(),h=g-1,i=0;g>i;i++){var j=f.getAt(i),k=f.getAt(h);(j.lng()<a.lng()&&k.lng()>=a.lng()||k.lng()<a.lng()&&j.lng()>=a.lng())&&j.lat()+(a.lng()-j.lng())/(k.lng()-j.lng())*(k.lat()-j.lat())<a.lat()&&(c=!c),h=i}return c}),google.maps.Circle.prototype.containsLatLng||(google.maps.Circle.prototype.containsLatLng=function(a){return google.maps.geometry?google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),a)<=this.getRadius():!0}),google.maps.LatLngBounds.prototype.containsLatLng=function(a){return this.contains(a)},google.maps.Marker.prototype.setFences=function(a){this.fences=a},google.maps.Marker.prototype.addFence=function(a){this.fences.push(a)},google.maps.Marker.prototype.getId=function(){return this.__gm_id}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),j});
//# sourceMappingURL=gmaps.min.js.map
; browserify_shim__define__module__export__(typeof GMaps != "undefined" ? GMaps : window.GMaps);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"jquery.transit":[function(require,module,exports){
module.exports=require('dKxPCL');
},{}],"dKxPCL":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2014 Rico Sta. Cruz
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */

/* jshint expr: true */

;(function (root, factory) {

  if (typeof define === 'function' && define.amd) {
    define(['jquery'], factory);
  } else if (typeof exports === 'object') {
    module.exports = factory(require('jquery'));
  } else {
    factory(root.jQuery);
  }

}(this, function($) {

  $.transit = {
    version: "0.9.12",

    // Map of $.css() keys to values for 'transitionProperty'.
    // See https://developer.mozilla.org/en/CSS/CSS_transitions#Properties_that_can_be_animated
    propertyMap: {
      marginLeft    : 'margin',
      marginRight   : 'margin',
      marginBottom  : 'margin',
      marginTop     : 'margin',
      paddingLeft   : 'padding',
      paddingRight  : 'padding',
      paddingBottom : 'padding',
      paddingTop    : 'padding'
    },

    // Will simply transition "instantly" if false
    enabled: true,

    // Set this to false if you don't want to use the transition end property.
    useTransitionEnd: false
  };

  var div = document.createElement('div');
  var support = {};

  // Helper function to get the proper vendor property name.
  // (`transition` => `WebkitTransition`)
  function getVendorPropertyName(prop) {
    // Handle unprefixed versions (FF16+, for example)
    if (prop in div.style) return prop;

    var prefixes = ['Moz', 'Webkit', 'O', 'ms'];
    var prop_ = prop.charAt(0).toUpperCase() + prop.substr(1);

    for (var i=0; i<prefixes.length; ++i) {
      var vendorProp = prefixes[i] + prop_;
      if (vendorProp in div.style) { return vendorProp; }
    }
  }

  // Helper function to check if transform3D is supported.
  // Should return true for Webkits and Firefox 10+.
  function checkTransform3dSupport() {
    div.style[support.transform] = '';
    div.style[support.transform] = 'rotateY(90deg)';
    return div.style[support.transform] !== '';
  }

  var isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;

  // Check for the browser's transitions support.
  support.transition      = getVendorPropertyName('transition');
  support.transitionDelay = getVendorPropertyName('transitionDelay');
  support.transform       = getVendorPropertyName('transform');
  support.transformOrigin = getVendorPropertyName('transformOrigin');
  support.filter          = getVendorPropertyName('Filter');
  support.transform3d     = checkTransform3dSupport();

  var eventNames = {
    'transition':       'transitionend',
    'MozTransition':    'transitionend',
    'OTransition':      'oTransitionEnd',
    'WebkitTransition': 'webkitTransitionEnd',
    'msTransition':     'MSTransitionEnd'
  };

  // Detect the 'transitionend' event needed.
  var transitionEnd = support.transitionEnd = eventNames[support.transition] || null;

  // Populate jQuery's `$.support` with the vendor prefixes we know.
  // As per [jQuery's cssHooks documentation](http://api.jquery.com/jQuery.cssHooks/),
  // we set $.support.transition to a string of the actual property name used.
  for (var key in support) {
    if (support.hasOwnProperty(key) && typeof $.support[key] === 'undefined') {
      $.support[key] = support[key];
    }
  }

  // Avoid memory leak in IE.
  div = null;

  // ## $.cssEase
  // List of easing aliases that you can use with `$.fn.transition`.
  $.cssEase = {
    '_default':       'ease',
    'in':             'ease-in',
    'out':            'ease-out',
    'in-out':         'ease-in-out',
    'snap':           'cubic-bezier(0,1,.5,1)',
    // Penner equations
    'easeInCubic':    'cubic-bezier(.550,.055,.675,.190)',
    'easeOutCubic':   'cubic-bezier(.215,.61,.355,1)',
    'easeInOutCubic': 'cubic-bezier(.645,.045,.355,1)',
    'easeInCirc':     'cubic-bezier(.6,.04,.98,.335)',
    'easeOutCirc':    'cubic-bezier(.075,.82,.165,1)',
    'easeInOutCirc':  'cubic-bezier(.785,.135,.15,.86)',
    'easeInExpo':     'cubic-bezier(.95,.05,.795,.035)',
    'easeOutExpo':    'cubic-bezier(.19,1,.22,1)',
    'easeInOutExpo':  'cubic-bezier(1,0,0,1)',
    'easeInQuad':     'cubic-bezier(.55,.085,.68,.53)',
    'easeOutQuad':    'cubic-bezier(.25,.46,.45,.94)',
    'easeInOutQuad':  'cubic-bezier(.455,.03,.515,.955)',
    'easeInQuart':    'cubic-bezier(.895,.03,.685,.22)',
    'easeOutQuart':   'cubic-bezier(.165,.84,.44,1)',
    'easeInOutQuart': 'cubic-bezier(.77,0,.175,1)',
    'easeInQuint':    'cubic-bezier(.755,.05,.855,.06)',
    'easeOutQuint':   'cubic-bezier(.23,1,.32,1)',
    'easeInOutQuint': 'cubic-bezier(.86,0,.07,1)',
    'easeInSine':     'cubic-bezier(.47,0,.745,.715)',
    'easeOutSine':    'cubic-bezier(.39,.575,.565,1)',
    'easeInOutSine':  'cubic-bezier(.445,.05,.55,.95)',
    'easeInBack':     'cubic-bezier(.6,-.28,.735,.045)',
    'easeOutBack':    'cubic-bezier(.175, .885,.32,1.275)',
    'easeInOutBack':  'cubic-bezier(.68,-.55,.265,1.55)'
  };

  // ## 'transform' CSS hook
  // Allows you to use the `transform` property in CSS.
  //
  //     $("#hello").css({ transform: "rotate(90deg)" });
  //
  //     $("#hello").css('transform');
  //     //=> { rotate: '90deg' }
  //
  $.cssHooks['transit:transform'] = {
    // The getter returns a `Transform` object.
    get: function(elem) {
      return $(elem).data('transform') || new Transform();
    },

    // The setter accepts a `Transform` object or a string.
    set: function(elem, v) {
      var value = v;

      if (!(value instanceof Transform)) {
        value = new Transform(value);
      }

      // We've seen the 3D version of Scale() not work in Chrome when the
      // element being scaled extends outside of the viewport.  Thus, we're
      // forcing Chrome to not use the 3d transforms as well.  Not sure if
      // translate is affectede, but not risking it.  Detection code from
      // http://davidwalsh.name/detecting-google-chrome-javascript
      if (support.transform === 'WebkitTransform' && !isChrome) {
        elem.style[support.transform] = value.toString(true);
      } else {
        elem.style[support.transform] = value.toString();
      }

      $(elem).data('transform', value);
    }
  };

  // Add a CSS hook for `.css({ transform: '...' })`.
  // In jQuery 1.8+, this will intentionally override the default `transform`
  // CSS hook so it'll play well with Transit. (see issue #62)
  $.cssHooks.transform = {
    set: $.cssHooks['transit:transform'].set
  };

  // ## 'filter' CSS hook
  // Allows you to use the `filter` property in CSS.
  //
  //     $("#hello").css({ filter: 'blur(10px)' });
  //
  $.cssHooks.filter = {
    get: function(elem) {
      return elem.style[support.filter];
    },
    set: function(elem, value) {
      elem.style[support.filter] = value;
    }
  };

  // jQuery 1.8+ supports prefix-free transitions, so these polyfills will not
  // be necessary.
  if ($.fn.jquery < "1.8") {
    // ## 'transformOrigin' CSS hook
    // Allows the use for `transformOrigin` to define where scaling and rotation
    // is pivoted.
    //
    //     $("#hello").css({ transformOrigin: '0 0' });
    //
    $.cssHooks.transformOrigin = {
      get: function(elem) {
        return elem.style[support.transformOrigin];
      },
      set: function(elem, value) {
        elem.style[support.transformOrigin] = value;
      }
    };

    // ## 'transition' CSS hook
    // Allows you to use the `transition` property in CSS.
    //
    //     $("#hello").css({ transition: 'all 0 ease 0' });
    //
    $.cssHooks.transition = {
      get: function(elem) {
        return elem.style[support.transition];
      },
      set: function(elem, value) {
        elem.style[support.transition] = value;
      }
    };
  }

  // ## Other CSS hooks
  // Allows you to rotate, scale and translate.
  registerCssHook('scale');
  registerCssHook('scaleX');
  registerCssHook('scaleY');
  registerCssHook('translate');
  registerCssHook('rotate');
  registerCssHook('rotateX');
  registerCssHook('rotateY');
  registerCssHook('rotate3d');
  registerCssHook('perspective');
  registerCssHook('skewX');
  registerCssHook('skewY');
  registerCssHook('x', true);
  registerCssHook('y', true);

  // ## Transform class
  // This is the main class of a transformation property that powers
  // `$.fn.css({ transform: '...' })`.
  //
  // This is, in essence, a dictionary object with key/values as `-transform`
  // properties.
  //
  //     var t = new Transform("rotate(90) scale(4)");
  //
  //     t.rotate             //=> "90deg"
  //     t.scale              //=> "4,4"
  //
  // Setters are accounted for.
  //
  //     t.set('rotate', 4)
  //     t.rotate             //=> "4deg"
  //
  // Convert it to a CSS string using the `toString()` and `toString(true)` (for WebKit)
  // functions.
  //
  //     t.toString()         //=> "rotate(90deg) scale(4,4)"
  //     t.toString(true)     //=> "rotate(90deg) scale3d(4,4,0)" (WebKit version)
  //
  function Transform(str) {
    if (typeof str === 'string') { this.parse(str); }
    return this;
  }

  Transform.prototype = {
    // ### setFromString()
    // Sets a property from a string.
    //
    //     t.setFromString('scale', '2,4');
    //     // Same as set('scale', '2', '4');
    //
    setFromString: function(prop, val) {
      var args =
        (typeof val === 'string')  ? val.split(',') :
        (val.constructor === Array) ? val :
        [ val ];

      args.unshift(prop);

      Transform.prototype.set.apply(this, args);
    },

    // ### set()
    // Sets a property.
    //
    //     t.set('scale', 2, 4);
    //
    set: function(prop) {
      var args = Array.prototype.slice.apply(arguments, [1]);
      if (this.setter[prop]) {
        this.setter[prop].apply(this, args);
      } else {
        this[prop] = args.join(',');
      }
    },

    get: function(prop) {
      if (this.getter[prop]) {
        return this.getter[prop].apply(this);
      } else {
        return this[prop] || 0;
      }
    },

    setter: {
      // ### rotate
      //
      //     .css({ rotate: 30 })
      //     .css({ rotate: "30" })
      //     .css({ rotate: "30deg" })
      //     .css({ rotate: "30deg" })
      //
      rotate: function(theta) {
        this.rotate = unit(theta, 'deg');
      },

      rotateX: function(theta) {
        this.rotateX = unit(theta, 'deg');
      },

      rotateY: function(theta) {
        this.rotateY = unit(theta, 'deg');
      },

      // ### scale
      //
      //     .css({ scale: 9 })      //=> "scale(9,9)"
      //     .css({ scale: '3,2' })  //=> "scale(3,2)"
      //
      scale: function(x, y) {
        if (y === undefined) { y = x; }
        this.scale = x + "," + y;
      },

      // ### skewX + skewY
      skewX: function(x) {
        this.skewX = unit(x, 'deg');
      },

      skewY: function(y) {
        this.skewY = unit(y, 'deg');
      },

      // ### perspectvie
      perspective: function(dist) {
        this.perspective = unit(dist, 'px');
      },

      // ### x / y
      // Translations. Notice how this keeps the other value.
      //
      //     .css({ x: 4 })       //=> "translate(4px, 0)"
      //     .css({ y: 10 })      //=> "translate(4px, 10px)"
      //
      x: function(x) {
        this.set('translate', x, null);
      },

      y: function(y) {
        this.set('translate', null, y);
      },

      // ### translate
      // Notice how this keeps the other value.
      //
      //     .css({ translate: '2, 5' })    //=> "translate(2px, 5px)"
      //
      translate: function(x, y) {
        if (this._translateX === undefined) { this._translateX = 0; }
        if (this._translateY === undefined) { this._translateY = 0; }

        if (x !== null && x !== undefined) { this._translateX = unit(x, 'px'); }
        if (y !== null && y !== undefined) { this._translateY = unit(y, 'px'); }

        this.translate = this._translateX + "," + this._translateY;
      }
    },

    getter: {
      x: function() {
        return this._translateX || 0;
      },

      y: function() {
        return this._translateY || 0;
      },

      scale: function() {
        var s = (this.scale || "1,1").split(',');
        if (s[0]) { s[0] = parseFloat(s[0]); }
        if (s[1]) { s[1] = parseFloat(s[1]); }

        // "2.5,2.5" => 2.5
        // "2.5,1" => [2.5,1]
        return (s[0] === s[1]) ? s[0] : s;
      },

      rotate3d: function() {
        var s = (this.rotate3d || "0,0,0,0deg").split(',');
        for (var i=0; i<=3; ++i) {
          if (s[i]) { s[i] = parseFloat(s[i]); }
        }
        if (s[3]) { s[3] = unit(s[3], 'deg'); }

        return s;
      }
    },

    // ### parse()
    // Parses from a string. Called on constructor.
    parse: function(str) {
      var self = this;
      str.replace(/([a-zA-Z0-9]+)\((.*?)\)/g, function(x, prop, val) {
        self.setFromString(prop, val);
      });
    },

    // ### toString()
    // Converts to a `transition` CSS property string. If `use3d` is given,
    // it converts to a `-webkit-transition` CSS property string instead.
    toString: function(use3d) {
      var re = [];

      for (var i in this) {
        if (this.hasOwnProperty(i)) {
          // Don't use 3D transformations if the browser can't support it.
          if ((!support.transform3d) && (
            (i === 'rotateX') ||
            (i === 'rotateY') ||
            (i === 'perspective') ||
            (i === 'transformOrigin'))) { continue; }

          if (i[0] !== '_') {
            if (use3d && (i === 'scale')) {
              re.push(i + "3d(" + this[i] + ",1)");
            } else if (use3d && (i === 'translate')) {
              re.push(i + "3d(" + this[i] + ",0)");
            } else {
              re.push(i + "(" + this[i] + ")");
            }
          }
        }
      }

      return re.join(" ");
    }
  };

  function callOrQueue(self, queue, fn) {
    if (queue === true) {
      self.queue(fn);
    } else if (queue) {
      self.queue(queue, fn);
    } else {
      self.each(function () {
                fn.call(this);
            });
    }
  }

  // ### getProperties(dict)
  // Returns properties (for `transition-property`) for dictionary `props`. The
  // value of `props` is what you would expect in `$.css(...)`.
  function getProperties(props) {
    var re = [];

    $.each(props, function(key) {
      key = $.camelCase(key); // Convert "text-align" => "textAlign"
      key = $.transit.propertyMap[key] || $.cssProps[key] || key;
      key = uncamel(key); // Convert back to dasherized

      // Get vendor specify propertie
      if (support[key])
        key = uncamel(support[key]);

      if ($.inArray(key, re) === -1) { re.push(key); }
    });

    return re;
  }

  // ### getTransition()
  // Returns the transition string to be used for the `transition` CSS property.
  //
  // Example:
  //
  //     getTransition({ opacity: 1, rotate: 30 }, 500, 'ease');
  //     //=> 'opacity 500ms ease, -webkit-transform 500ms ease'
  //
  function getTransition(properties, duration, easing, delay) {
    // Get the CSS properties needed.
    var props = getProperties(properties);

    // Account for aliases (`in` => `ease-in`).
    if ($.cssEase[easing]) { easing = $.cssEase[easing]; }

    // Build the duration/easing/delay attributes for it.
    var attribs = '' + toMS(duration) + ' ' + easing;
    if (parseInt(delay, 10) > 0) { attribs += ' ' + toMS(delay); }

    // For more properties, add them this way:
    // "margin 200ms ease, padding 200ms ease, ..."
    var transitions = [];
    $.each(props, function(i, name) {
      transitions.push(name + ' ' + attribs);
    });

    return transitions.join(', ');
  }

  // ## $.fn.transition
  // Works like $.fn.animate(), but uses CSS transitions.
  //
  //     $("...").transition({ opacity: 0.1, scale: 0.3 });
  //
  //     // Specific duration
  //     $("...").transition({ opacity: 0.1, scale: 0.3 }, 500);
  //
  //     // With duration and easing
  //     $("...").transition({ opacity: 0.1, scale: 0.3 }, 500, 'in');
  //
  //     // With callback
  //     $("...").transition({ opacity: 0.1, scale: 0.3 }, function() { ... });
  //
  //     // With everything
  //     $("...").transition({ opacity: 0.1, scale: 0.3 }, 500, 'in', function() { ... });
  //
  //     // Alternate syntax
  //     $("...").transition({
  //       opacity: 0.1,
  //       duration: 200,
  //       delay: 40,
  //       easing: 'in',
  //       complete: function() { /* ... */ }
  //      });
  //
  $.fn.transition = $.fn.transit = function(properties, duration, easing, callback) {
    var self  = this;
    var delay = 0;
    var queue = true;

    var theseProperties = $.extend(true, {}, properties);

    // Account for `.transition(properties, callback)`.
    if (typeof duration === 'function') {
      callback = duration;
      duration = undefined;
    }

    // Account for `.transition(properties, options)`.
    if (typeof duration === 'object') {
      easing = duration.easing;
      delay = duration.delay || 0;
      queue = typeof duration.queue === "undefined" ? true : duration.queue;
      callback = duration.complete;
      duration = duration.duration;
    }

    // Account for `.transition(properties, duration, callback)`.
    if (typeof easing === 'function') {
      callback = easing;
      easing = undefined;
    }

    // Alternate syntax.
    if (typeof theseProperties.easing !== 'undefined') {
      easing = theseProperties.easing;
      delete theseProperties.easing;
    }

    if (typeof theseProperties.duration !== 'undefined') {
      duration = theseProperties.duration;
      delete theseProperties.duration;
    }

    if (typeof theseProperties.complete !== 'undefined') {
      callback = theseProperties.complete;
      delete theseProperties.complete;
    }

    if (typeof theseProperties.queue !== 'undefined') {
      queue = theseProperties.queue;
      delete theseProperties.queue;
    }

    if (typeof theseProperties.delay !== 'undefined') {
      delay = theseProperties.delay;
      delete theseProperties.delay;
    }

    // Set defaults. (`400` duration, `ease` easing)
    if (typeof duration === 'undefined') { duration = $.fx.speeds._default; }
    if (typeof easing === 'undefined')   { easing = $.cssEase._default; }

    duration = toMS(duration);

    // Build the `transition` property.
    var transitionValue = getTransition(theseProperties, duration, easing, delay);

    // Compute delay until callback.
    // If this becomes 0, don't bother setting the transition property.
    var work = $.transit.enabled && support.transition;
    var i = work ? (parseInt(duration, 10) + parseInt(delay, 10)) : 0;

    // If there's nothing to do...
    if (i === 0) {
      var fn = function(next) {
        self.css(theseProperties);
        if (callback) { callback.apply(self); }
        if (next) { next(); }
      };

      callOrQueue(self, queue, fn);
      return self;
    }

    // Save the old transitions of each element so we can restore it later.
    var oldTransitions = {};

    var run = function(nextCall) {
      var bound = false;

      // Prepare the callback.
      var cb = function() {
        if (bound) { self.unbind(transitionEnd, cb); }

        if (i > 0) {
          self.each(function() {
            this.style[support.transition] = (oldTransitions[this] || null);
          });
        }

        if (typeof callback === 'function') { callback.apply(self); }
        if (typeof nextCall === 'function') { nextCall(); }
      };

      if ((i > 0) && (transitionEnd) && ($.transit.useTransitionEnd)) {
        // Use the 'transitionend' event if it's available.
        bound = true;
        self.bind(transitionEnd, cb);
      } else {
        // Fallback to timers if the 'transitionend' event isn't supported.
        window.setTimeout(cb, i);
      }

      // Apply transitions.
      self.each(function() {
        if (i > 0) {
          this.style[support.transition] = transitionValue;
        }
        $(this).css(theseProperties);
      });
    };

    // Defer running. This allows the browser to paint any pending CSS it hasn't
    // painted yet before doing the transitions.
    var deferredRun = function(next) {
        this.offsetWidth; // force a repaint
        run(next);
    };

    // Use jQuery's fx queue.
    callOrQueue(self, queue, deferredRun);

    // Chainability.
    return this;
  };

  function registerCssHook(prop, isPixels) {
    // For certain properties, the 'px' should not be implied.
    if (!isPixels) { $.cssNumber[prop] = true; }

    $.transit.propertyMap[prop] = support.transform;

    $.cssHooks[prop] = {
      get: function(elem) {
        var t = $(elem).css('transit:transform');
        return t.get(prop);
      },

      set: function(elem, value) {
        var t = $(elem).css('transit:transform');
        t.setFromString(prop, value);

        $(elem).css({ 'transit:transform': t });
      }
    };

  }

  // ### uncamel(str)
  // Converts a camelcase string to a dasherized string.
  // (`marginLeft` => `margin-left`)
  function uncamel(str) {
    return str.replace(/([A-Z])/g, function(letter) { return '-' + letter.toLowerCase(); });
  }

  // ### unit(number, unit)
  // Ensures that number `number` has a unit. If no unit is found, assume the
  // default is `unit`.
  //
  //     unit(2, 'px')          //=> "2px"
  //     unit("30deg", 'rad')   //=> "30deg"
  //
  function unit(i, units) {
    if ((typeof i === "string") && (!i.match(/^[\-0-9\.]+$/))) {
      return i;
    } else {
      return "" + i + units;
    }
  }

  // ### toMS(duration)
  // Converts given `duration` to a millisecond string.
  //
  // toMS('fast') => $.fx.speeds[i] => "200ms"
  // toMS('normal') //=> $.fx.speeds._default => "400ms"
  // toMS(10) //=> '10ms'
  // toMS('100ms') //=> '100ms'  
  //
  function toMS(duration) {
    var i = duration;

    // Allow string durations like 'fast' and 'slow', without overriding numeric values.
    if (typeof i === 'string' && (!i.match(/^[\-0-9\.]+/))) { i = $.fx.speeds[i] || $.fx.speeds._default; }

    return unit(i, 'ms');
  }

  // Export some functions for testable-ness.
  $.transit.getTransitionValue = getTransition;

  return $;
}));

}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":"IV5zFA"}],"IV5zFA":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){
return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),
void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
//# sourceMappingURL=jquery.min.map
}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"jquery":[function(require,module,exports){
module.exports=require('IV5zFA');
},{}],"AXjHJu":[function(require,module,exports){
(function (global){
(function browserifyShim(module, exports, define, browserify_shim__define__module__export__) {
/*!
 * Modernizr v2.8.3
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */

/*
 * Modernizr tests which native CSS3 and HTML5 features are available in
 * the current UA and makes the results available to you in two ways:
 * as properties on a global Modernizr object, and as classes on the
 * <html> element. This information allows you to progressively enhance
 * your pages with a granular level of control over the experience.
 *
 * Modernizr has an optional (not included) conditional resource loader
 * called Modernizr.load(), based on Yepnope.js (yepnopejs.com).
 * To get a build that includes Modernizr.load(), as well as choosing
 * which tests to include, go to www.modernizr.com/download/
 *
 * Authors        Faruk Ates, Paul Irish, Alex Sexton
 * Contributors   Ryan Seddon, Ben Alman
 */

window.Modernizr = (function( window, document, undefined ) {

    var version = '2.8.3',

    Modernizr = {},

    /*>>cssclasses*/
    // option for enabling the HTML classes to be added
    enableClasses = true,
    /*>>cssclasses*/

    docElement = document.documentElement,

    /**
     * Create our "modernizr" element that we do most feature tests on.
     */
    mod = 'modernizr',
    modElem = document.createElement(mod),
    mStyle = modElem.style,

    /**
     * Create the input element for various Web Forms feature tests.
     */
    inputElem /*>>inputelem*/ = document.createElement('input') /*>>inputelem*/ ,

    /*>>smile*/
    smile = ':)',
    /*>>smile*/

    toString = {}.toString,

    // TODO :: make the prefixes more granular
    /*>>prefixes*/
    // List of property values to set for css tests. See ticket #21
    prefixes = ' -webkit- -moz- -o- -ms- '.split(' '),
    /*>>prefixes*/

    /*>>domprefixes*/
    // Following spec is to expose vendor-specific style properties as:
    //   elem.style.WebkitBorderRadius
    // and the following would be incorrect:
    //   elem.style.webkitBorderRadius

    // Webkit ghosts their properties in lowercase but Opera & Moz do not.
    // Microsoft uses a lowercase `ms` instead of the correct `Ms` in IE8+
    //   erik.eae.net/archives/2008/03/10/21.48.10/

    // More here: github.com/Modernizr/Modernizr/issues/issue/21
    omPrefixes = 'Webkit Moz O ms',

    cssomPrefixes = omPrefixes.split(' '),

    domPrefixes = omPrefixes.toLowerCase().split(' '),
    /*>>domprefixes*/

    /*>>ns*/
    ns = {'svg': 'http://www.w3.org/2000/svg'},
    /*>>ns*/

    tests = {},
    inputs = {},
    attrs = {},

    classes = [],

    slice = classes.slice,

    featureName, // used in testing loop


    /*>>teststyles*/
    // Inject element with style element and some CSS rules
    injectElementWithStyles = function( rule, callback, nodes, testnames ) {

      var style, ret, node, docOverflow,
          div = document.createElement('div'),
          // After page load injecting a fake body doesn't work so check if body exists
          body = document.body,
          // IE6 and 7 won't return offsetWidth or offsetHeight unless it's in the body element, so we fake it.
          fakeBody = body || document.createElement('body');

      if ( parseInt(nodes, 10) ) {
          // In order not to give false positives we create a node for each test
          // This also allows the method to scale for unspecified uses
          while ( nodes-- ) {
              node = document.createElement('div');
              node.id = testnames ? testnames[nodes] : mod + (nodes + 1);
              div.appendChild(node);
          }
      }

      // <style> elements in IE6-9 are considered 'NoScope' elements and therefore will be removed
      // when injected with innerHTML. To get around this you need to prepend the 'NoScope' element
      // with a 'scoped' element, in our case the soft-hyphen entity as it won't mess with our measurements.
      // msdn.microsoft.com/en-us/library/ms533897%28VS.85%29.aspx
      // Documents served as xml will throw if using &shy; so use xml friendly encoded version. See issue #277
      style = ['&#173;','<style id="s', mod, '">', rule, '</style>'].join('');
      div.id = mod;
      // IE6 will false positive on some tests due to the style element inside the test div somehow interfering offsetHeight, so insert it into body or fakebody.
      // Opera will act all quirky when injecting elements in documentElement when page is served as xml, needs fakebody too. #270
      (body ? div : fakeBody).innerHTML += style;
      fakeBody.appendChild(div);
      if ( !body ) {
          //avoid crashing IE8, if background image is used
          fakeBody.style.background = '';
          //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible
          fakeBody.style.overflow = 'hidden';
          docOverflow = docElement.style.overflow;
          docElement.style.overflow = 'hidden';
          docElement.appendChild(fakeBody);
      }

      ret = callback(div, rule);
      // If this is done after page load we don't want to remove the body so check if body exists
      if ( !body ) {
          fakeBody.parentNode.removeChild(fakeBody);
          docElement.style.overflow = docOverflow;
      } else {
          div.parentNode.removeChild(div);
      }

      return !!ret;

    },
    /*>>teststyles*/

    /*>>mq*/
    // adapted from matchMedia polyfill
    // by Scott Jehl and Paul Irish
    // gist.github.com/786768
    testMediaQuery = function( mq ) {

      var matchMedia = window.matchMedia || window.msMatchMedia;
      if ( matchMedia ) {
        return matchMedia(mq) && matchMedia(mq).matches || false;
      }

      var bool;

      injectElementWithStyles('@media ' + mq + ' { #' + mod + ' { position: absolute; } }', function( node ) {
        bool = (window.getComputedStyle ?
                  getComputedStyle(node, null) :
                  node.currentStyle)['position'] == 'absolute';
      });

      return bool;

     },
     /*>>mq*/


    /*>>hasevent*/
    //
    // isEventSupported determines if a given element supports the given event
    // kangax.github.com/iseventsupported/
    //
    // The following results are known incorrects:
    //   Modernizr.hasEvent("webkitTransitionEnd", elem) // false negative
    //   Modernizr.hasEvent("textInput") // in Webkit. github.com/Modernizr/Modernizr/issues/333
    //   ...
    isEventSupported = (function() {

      var TAGNAMES = {
        'select': 'input', 'change': 'input',
        'submit': 'form', 'reset': 'form',
        'error': 'img', 'load': 'img', 'abort': 'img'
      };

      function isEventSupported( eventName, element ) {

        element = element || document.createElement(TAGNAMES[eventName] || 'div');
        eventName = 'on' + eventName;

        // When using `setAttribute`, IE skips "unload", WebKit skips "unload" and "resize", whereas `in` "catches" those
        var isSupported = eventName in element;

        if ( !isSupported ) {
          // If it has no `setAttribute` (i.e. doesn't implement Node interface), try generic element
          if ( !element.setAttribute ) {
            element = document.createElement('div');
          }
          if ( element.setAttribute && element.removeAttribute ) {
            element.setAttribute(eventName, '');
            isSupported = is(element[eventName], 'function');

            // If property was created, "remove it" (by setting value to `undefined`)
            if ( !is(element[eventName], 'undefined') ) {
              element[eventName] = undefined;
            }
            element.removeAttribute(eventName);
          }
        }

        element = null;
        return isSupported;
      }
      return isEventSupported;
    })(),
    /*>>hasevent*/

    // TODO :: Add flag for hasownprop ? didn't last time

    // hasOwnProperty shim by kangax needed for Safari 2.0 support
    _hasOwnProperty = ({}).hasOwnProperty, hasOwnProp;

    if ( !is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined') ) {
      hasOwnProp = function (object, property) {
        return _hasOwnProperty.call(object, property);
      };
    }
    else {
      hasOwnProp = function (object, property) { /* yes, this can give false positives/negatives, but most of the time we don't care about those */
        return ((property in object) && is(object.constructor.prototype[property], 'undefined'));
      };
    }

    // Adapted from ES5-shim https://github.com/kriskowal/es5-shim/blob/master/es5-shim.js
    // es5.github.com/#x15.3.4.5

    if (!Function.prototype.bind) {
      Function.prototype.bind = function bind(that) {

        var target = this;

        if (typeof target != "function") {
            throw new TypeError();
        }

        var args = slice.call(arguments, 1),
            bound = function () {

            if (this instanceof bound) {

              var F = function(){};
              F.prototype = target.prototype;
              var self = new F();

              var result = target.apply(
                  self,
                  args.concat(slice.call(arguments))
              );
              if (Object(result) === result) {
                  return result;
              }
              return self;

            } else {

              return target.apply(
                  that,
                  args.concat(slice.call(arguments))
              );

            }

        };

        return bound;
      };
    }

    /**
     * setCss applies given styles to the Modernizr DOM node.
     */
    function setCss( str ) {
        mStyle.cssText = str;
    }

    /**
     * setCssAll extrapolates all vendor-specific css strings.
     */
    function setCssAll( str1, str2 ) {
        return setCss(prefixes.join(str1 + ';') + ( str2 || '' ));
    }

    /**
     * is returns a boolean for if typeof obj is exactly type.
     */
    function is( obj, type ) {
        return typeof obj === type;
    }

    /**
     * contains returns a boolean for if substr is found within str.
     */
    function contains( str, substr ) {
        return !!~('' + str).indexOf(substr);
    }

    /*>>testprop*/

    // testProps is a generic CSS / DOM property test.

    // In testing support for a given CSS property, it's legit to test:
    //    `elem.style[styleName] !== undefined`
    // If the property is supported it will return an empty string,
    // if unsupported it will return undefined.

    // We'll take advantage of this quick test and skip setting a style
    // on our modernizr element, but instead just testing undefined vs
    // empty string.

    // Because the testing of the CSS property names (with "-", as
    // opposed to the camelCase DOM properties) is non-portable and
    // non-standard but works in WebKit and IE (but not Gecko or Opera),
    // we explicitly reject properties with dashes so that authors
    // developing in WebKit or IE first don't end up with
    // browser-specific content by accident.

    function testProps( props, prefixed ) {
        for ( var i in props ) {
            var prop = props[i];
            if ( !contains(prop, "-") && mStyle[prop] !== undefined ) {
                return prefixed == 'pfx' ? prop : true;
            }
        }
        return false;
    }
    /*>>testprop*/

    // TODO :: add testDOMProps
    /**
     * testDOMProps is a generic DOM property test; if a browser supports
     *   a certain property, it won't return undefined for it.
     */
    function testDOMProps( props, obj, elem ) {
        for ( var i in props ) {
            var item = obj[props[i]];
            if ( item !== undefined) {

                // return the property name as a string
                if (elem === false) return props[i];

                // let's bind a function
                if (is(item, 'function')){
                  // default to autobind unless override
                  return item.bind(elem || obj);
                }

                // return the unbound function or obj or value
                return item;
            }
        }
        return false;
    }

    /*>>testallprops*/
    /**
     * testPropsAll tests a list of DOM properties we want to check against.
     *   We specify literally ALL possible (known and/or likely) properties on
     *   the element including the non-vendor prefixed one, for forward-
     *   compatibility.
     */
    function testPropsAll( prop, prefixed, elem ) {

        var ucProp  = prop.charAt(0).toUpperCase() + prop.slice(1),
            props   = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');

        // did they call .prefixed('boxSizing') or are we just testing a prop?
        if(is(prefixed, "string") || is(prefixed, "undefined")) {
          return testProps(props, prefixed);

        // otherwise, they called .prefixed('requestAnimationFrame', window[, elem])
        } else {
          props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');
          return testDOMProps(props, prefixed, elem);
        }
    }
    /*>>testallprops*/


    /**
     * Tests
     * -----
     */

    // The *new* flexbox
    // dev.w3.org/csswg/css3-flexbox

    tests['flexbox'] = function() {
      return testPropsAll('flexWrap');
    };

    // The *old* flexbox
    // www.w3.org/TR/2009/WD-css3-flexbox-20090723/

    tests['flexboxlegacy'] = function() {
        return testPropsAll('boxDirection');
    };

    // On the S60 and BB Storm, getContext exists, but always returns undefined
    // so we actually have to call getContext() to verify
    // github.com/Modernizr/Modernizr/issues/issue/97/

    tests['canvas'] = function() {
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    };

    tests['canvastext'] = function() {
        return !!(Modernizr['canvas'] && is(document.createElement('canvas').getContext('2d').fillText, 'function'));
    };

    // webk.it/70117 is tracking a legit WebGL feature detect proposal

    // We do a soft detect which may false positive in order to avoid
    // an expensive context creation: bugzil.la/732441

    tests['webgl'] = function() {
        return !!window.WebGLRenderingContext;
    };

    /*
     * The Modernizr.touch test only indicates if the browser supports
     *    touch events, which does not necessarily reflect a touchscreen
     *    device, as evidenced by tablets running Windows 7 or, alas,
     *    the Palm Pre / WebOS (touch) phones.
     *
     * Additionally, Chrome (desktop) used to lie about its support on this,
     *    but that has since been rectified: crbug.com/36415
     *
     * We also test for Firefox 4 Multitouch Support.
     *
     * For more info, see: modernizr.github.com/Modernizr/touch.html
     */

    tests['touch'] = function() {
        var bool;

        if(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {
          bool = true;
        } else {
          injectElementWithStyles(['@media (',prefixes.join('touch-enabled),('),mod,')','{#modernizr{top:9px;position:absolute}}'].join(''), function( node ) {
            bool = node.offsetTop === 9;
          });
        }

        return bool;
    };


    // geolocation is often considered a trivial feature detect...
    // Turns out, it's quite tricky to get right:
    //
    // Using !!navigator.geolocation does two things we don't want. It:
    //   1. Leaks memory in IE9: github.com/Modernizr/Modernizr/issues/513
    //   2. Disables page caching in WebKit: webk.it/43956
    //
    // Meanwhile, in Firefox < 8, an about:config setting could expose
    // a false positive that would throw an exception: bugzil.la/688158

    tests['geolocation'] = function() {
        return 'geolocation' in navigator;
    };


    tests['postmessage'] = function() {
      return !!window.postMessage;
    };


    // Chrome incognito mode used to throw an exception when using openDatabase
    // It doesn't anymore.
    tests['websqldatabase'] = function() {
      return !!window.openDatabase;
    };

    // Vendors had inconsistent prefixing with the experimental Indexed DB:
    // - Webkit's implementation is accessible through webkitIndexedDB
    // - Firefox shipped moz_indexedDB before FF4b9, but since then has been mozIndexedDB
    // For speed, we don't test the legacy (and beta-only) indexedDB
    tests['indexedDB'] = function() {
      return !!testPropsAll("indexedDB", window);
    };

    // documentMode logic from YUI to filter out IE8 Compat Mode
    //   which false positives.
    tests['hashchange'] = function() {
      return isEventSupported('hashchange', window) && (document.documentMode === undefined || document.documentMode > 7);
    };

    // Per 1.6:
    // This used to be Modernizr.historymanagement but the longer
    // name has been deprecated in favor of a shorter and property-matching one.
    // The old API is still available in 1.6, but as of 2.0 will throw a warning,
    // and in the first release thereafter disappear entirely.
    tests['history'] = function() {
      return !!(window.history && history.pushState);
    };

    tests['draganddrop'] = function() {
        var div = document.createElement('div');
        return ('draggable' in div) || ('ondragstart' in div && 'ondrop' in div);
    };

    // FF3.6 was EOL'ed on 4/24/12, but the ESR version of FF10
    // will be supported until FF19 (2/12/13), at which time, ESR becomes FF17.
    // FF10 still uses prefixes, so check for it until then.
    // for more ESR info, see: mozilla.org/en-US/firefox/organizations/faq/
    tests['websockets'] = function() {
        return 'WebSocket' in window || 'MozWebSocket' in window;
    };


    // css-tricks.com/rgba-browser-support/
    tests['rgba'] = function() {
        // Set an rgba() color and check the returned value

        setCss('background-color:rgba(150,255,150,.5)');

        return contains(mStyle.backgroundColor, 'rgba');
    };

    tests['hsla'] = function() {
        // Same as rgba(), in fact, browsers re-map hsla() to rgba() internally,
        //   except IE9 who retains it as hsla

        setCss('background-color:hsla(120,40%,100%,.5)');

        return contains(mStyle.backgroundColor, 'rgba') || contains(mStyle.backgroundColor, 'hsla');
    };

    tests['multiplebgs'] = function() {
        // Setting multiple images AND a color on the background shorthand property
        //  and then querying the style.background property value for the number of
        //  occurrences of "url(" is a reliable method for detecting ACTUAL support for this!

        setCss('background:url(https://),url(https://),red url(https://)');

        // If the UA supports multiple backgrounds, there should be three occurrences
        //   of the string "url(" in the return value for elemStyle.background

        return (/(url\s*\(.*?){3}/).test(mStyle.background);
    };



    // this will false positive in Opera Mini
    //   github.com/Modernizr/Modernizr/issues/396

    tests['backgroundsize'] = function() {
        return testPropsAll('backgroundSize');
    };

    tests['borderimage'] = function() {
        return testPropsAll('borderImage');
    };


    // Super comprehensive table about all the unique implementations of
    // border-radius: muddledramblings.com/table-of-css3-border-radius-compliance

    tests['borderradius'] = function() {
        return testPropsAll('borderRadius');
    };

    // WebOS unfortunately false positives on this test.
    tests['boxshadow'] = function() {
        return testPropsAll('boxShadow');
    };

    // FF3.0 will false positive on this test
    tests['textshadow'] = function() {
        return document.createElement('div').style.textShadow === '';
    };


    tests['opacity'] = function() {
        // Browsers that actually have CSS Opacity implemented have done so
        //  according to spec, which means their return values are within the
        //  range of [0.0,1.0] - including the leading zero.

        setCssAll('opacity:.55');

        // The non-literal . in this regex is intentional:
        //   German Chrome returns this value as 0,55
        // github.com/Modernizr/Modernizr/issues/#issue/59/comment/516632
        return (/^0.55$/).test(mStyle.opacity);
    };


    // Note, Android < 4 will pass this test, but can only animate
    //   a single property at a time
    //   goo.gl/v3V4Gp
    tests['cssanimations'] = function() {
        return testPropsAll('animationName');
    };


    tests['csscolumns'] = function() {
        return testPropsAll('columnCount');
    };


    tests['cssgradients'] = function() {
        /**
         * For CSS Gradients syntax, please see:
         * webkit.org/blog/175/introducing-css-gradients/
         * developer.mozilla.org/en/CSS/-moz-linear-gradient
         * developer.mozilla.org/en/CSS/-moz-radial-gradient
         * dev.w3.org/csswg/css3-images/#gradients-
         */

        var str1 = 'background-image:',
            str2 = 'gradient(linear,left top,right bottom,from(#9f9),to(white));',
            str3 = 'linear-gradient(left top,#9f9, white);';

        setCss(
             // legacy webkit syntax (FIXME: remove when syntax not in use anymore)
              (str1 + '-webkit- '.split(' ').join(str2 + str1) +
             // standard syntax             // trailing 'background-image:'
              prefixes.join(str3 + str1)).slice(0, -str1.length)
        );

        return contains(mStyle.backgroundImage, 'gradient');
    };


    tests['cssreflections'] = function() {
        return testPropsAll('boxReflect');
    };


    tests['csstransforms'] = function() {
        return !!testPropsAll('transform');
    };


    tests['csstransforms3d'] = function() {

        var ret = !!testPropsAll('perspective');

        // Webkit's 3D transforms are passed off to the browser's own graphics renderer.
        //   It works fine in Safari on Leopard and Snow Leopard, but not in Chrome in
        //   some conditions. As a result, Webkit typically recognizes the syntax but
        //   will sometimes throw a false positive, thus we must do a more thorough check:
        if ( ret && 'webkitPerspective' in docElement.style ) {

          // Webkit allows this media query to succeed only if the feature is enabled.
          // `@media (transform-3d),(-webkit-transform-3d){ ... }`
          injectElementWithStyles('@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}', function( node, rule ) {
            ret = node.offsetLeft === 9 && node.offsetHeight === 3;
          });
        }
        return ret;
    };


    tests['csstransitions'] = function() {
        return testPropsAll('transition');
    };


    /*>>fontface*/
    // @font-face detection routine by Diego Perini
    // javascript.nwbox.com/CSSSupport/

    // false positives:
    //   WebOS github.com/Modernizr/Modernizr/issues/342
    //   WP7   github.com/Modernizr/Modernizr/issues/538
    tests['fontface'] = function() {
        var bool;

        injectElementWithStyles('@font-face {font-family:"font";src:url("https://")}', function( node, rule ) {
          var style = document.getElementById('smodernizr'),
              sheet = style.sheet || style.styleSheet,
              cssText = sheet ? (sheet.cssRules && sheet.cssRules[0] ? sheet.cssRules[0].cssText : sheet.cssText || '') : '';

          bool = /src/i.test(cssText) && cssText.indexOf(rule.split(' ')[0]) === 0;
        });

        return bool;
    };
    /*>>fontface*/

    // CSS generated content detection
    tests['generatedcontent'] = function() {
        var bool;

        injectElementWithStyles(['#',mod,'{font:0/0 a}#',mod,':after{content:"',smile,'";visibility:hidden;font:3px/1 a}'].join(''), function( node ) {
          bool = node.offsetHeight >= 3;
        });

        return bool;
    };



    // These tests evaluate support of the video/audio elements, as well as
    // testing what types of content they support.
    //
    // We're using the Boolean constructor here, so that we can extend the value
    // e.g.  Modernizr.video     // true
    //       Modernizr.video.ogg // 'probably'
    //
    // Codec values from : github.com/NielsLeenheer/html5test/blob/9106a8/index.html#L845
    //                     thx to NielsLeenheer and zcorpan

    // Note: in some older browsers, "no" was a return value instead of empty string.
    //   It was live in FF3.5.0 and 3.5.1, but fixed in 3.5.2
    //   It was also live in Safari 4.0.0 - 4.0.4, but fixed in 4.0.5

    tests['video'] = function() {
        var elem = document.createElement('video'),
            bool = false;

        // IE9 Running on Windows Server SKU can cause an exception to be thrown, bug #224
        try {
            if ( bool = !!elem.canPlayType ) {
                bool      = new Boolean(bool);
                bool.ogg  = elem.canPlayType('video/ogg; codecs="theora"')      .replace(/^no$/,'');

                // Without QuickTime, this value will be `undefined`. github.com/Modernizr/Modernizr/issues/546
                bool.h264 = elem.canPlayType('video/mp4; codecs="avc1.42E01E"') .replace(/^no$/,'');

                bool.webm = elem.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,'');
            }

        } catch(e) { }

        return bool;
    };

    tests['audio'] = function() {
        var elem = document.createElement('audio'),
            bool = false;

        try {
            if ( bool = !!elem.canPlayType ) {
                bool      = new Boolean(bool);
                bool.ogg  = elem.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,'');
                bool.mp3  = elem.canPlayType('audio/mpeg;')               .replace(/^no$/,'');

                // Mimetypes accepted:
                //   developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements
                //   bit.ly/iphoneoscodecs
                bool.wav  = elem.canPlayType('audio/wav; codecs="1"')     .replace(/^no$/,'');
                bool.m4a  = ( elem.canPlayType('audio/x-m4a;')            ||
                              elem.canPlayType('audio/aac;'))             .replace(/^no$/,'');
            }
        } catch(e) { }

        return bool;
    };


    // In FF4, if disabled, window.localStorage should === null.

    // Normally, we could not test that directly and need to do a
    //   `('localStorage' in window) && ` test first because otherwise Firefox will
    //   throw bugzil.la/365772 if cookies are disabled

    // Also in iOS5 Private Browsing mode, attempting to use localStorage.setItem
    // will throw the exception:
    //   QUOTA_EXCEEDED_ERRROR DOM Exception 22.
    // Peculiarly, getItem and removeItem calls do not throw.

    // Because we are forced to try/catch this, we'll go aggressive.

    // Just FWIW: IE8 Compat mode supports these features completely:
    //   www.quirksmode.org/dom/html5.html
    // But IE8 doesn't support either with local files

    tests['localstorage'] = function() {
        try {
            localStorage.setItem(mod, mod);
            localStorage.removeItem(mod);
            return true;
        } catch(e) {
            return false;
        }
    };

    tests['sessionstorage'] = function() {
        try {
            sessionStorage.setItem(mod, mod);
            sessionStorage.removeItem(mod);
            return true;
        } catch(e) {
            return false;
        }
    };


    tests['webworkers'] = function() {
        return !!window.Worker;
    };


    tests['applicationcache'] = function() {
        return !!window.applicationCache;
    };


    // Thanks to Erik Dahlstrom
    tests['svg'] = function() {
        return !!document.createElementNS && !!document.createElementNS(ns.svg, 'svg').createSVGRect;
    };

    // specifically for SVG inline in HTML, not within XHTML
    // test page: paulirish.com/demo/inline-svg
    tests['inlinesvg'] = function() {
      var div = document.createElement('div');
      div.innerHTML = '<svg/>';
      return (div.firstChild && div.firstChild.namespaceURI) == ns.svg;
    };

    // SVG SMIL animation
    tests['smil'] = function() {
        return !!document.createElementNS && /SVGAnimate/.test(toString.call(document.createElementNS(ns.svg, 'animate')));
    };

    // This test is only for clip paths in SVG proper, not clip paths on HTML content
    // demo: srufaculty.sru.edu/david.dailey/svg/newstuff/clipPath4.svg

    // However read the comments to dig into applying SVG clippaths to HTML content here:
    //   github.com/Modernizr/Modernizr/issues/213#issuecomment-1149491
    tests['svgclippaths'] = function() {
        return !!document.createElementNS && /SVGClipPath/.test(toString.call(document.createElementNS(ns.svg, 'clipPath')));
    };

    /*>>webforms*/
    // input features and input types go directly onto the ret object, bypassing the tests loop.
    // Hold this guy to execute in a moment.
    function webforms() {
        /*>>input*/
        // Run through HTML5's new input attributes to see if the UA understands any.
        // We're using f which is the <input> element created early on
        // Mike Taylr has created a comprehensive resource for testing these attributes
        //   when applied to all input types:
        //   miketaylr.com/code/input-type-attr.html
        // spec: www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#input-type-attr-summary

        // Only input placeholder is tested while textarea's placeholder is not.
        // Currently Safari 4 and Opera 11 have support only for the input placeholder
        // Both tests are available in feature-detects/forms-placeholder.js
        Modernizr['input'] = (function( props ) {
            for ( var i = 0, len = props.length; i < len; i++ ) {
                attrs[ props[i] ] = !!(props[i] in inputElem);
            }
            if (attrs.list){
              // safari false positive's on datalist: webk.it/74252
              // see also github.com/Modernizr/Modernizr/issues/146
              attrs.list = !!(document.createElement('datalist') && window.HTMLDataListElement);
            }
            return attrs;
        })('autocomplete autofocus list placeholder max min multiple pattern required step'.split(' '));
        /*>>input*/

        /*>>inputtypes*/
        // Run through HTML5's new input types to see if the UA understands any.
        //   This is put behind the tests runloop because it doesn't return a
        //   true/false like all the other tests; instead, it returns an object
        //   containing each input type with its corresponding true/false value

        // Big thanks to @miketaylr for the html5 forms expertise. miketaylr.com/
        Modernizr['inputtypes'] = (function(props) {

            for ( var i = 0, bool, inputElemType, defaultView, len = props.length; i < len; i++ ) {

                inputElem.setAttribute('type', inputElemType = props[i]);
                bool = inputElem.type !== 'text';

                // We first check to see if the type we give it sticks..
                // If the type does, we feed it a textual value, which shouldn't be valid.
                // If the value doesn't stick, we know there's input sanitization which infers a custom UI
                if ( bool ) {

                    inputElem.value         = smile;
                    inputElem.style.cssText = 'position:absolute;visibility:hidden;';

                    if ( /^range$/.test(inputElemType) && inputElem.style.WebkitAppearance !== undefined ) {

                      docElement.appendChild(inputElem);
                      defaultView = document.defaultView;

                      // Safari 2-4 allows the smiley as a value, despite making a slider
                      bool =  defaultView.getComputedStyle &&
                              defaultView.getComputedStyle(inputElem, null).WebkitAppearance !== 'textfield' &&
                              // Mobile android web browser has false positive, so must
                              // check the height to see if the widget is actually there.
                              (inputElem.offsetHeight !== 0);

                      docElement.removeChild(inputElem);

                    } else if ( /^(search|tel)$/.test(inputElemType) ){
                      // Spec doesn't define any special parsing or detectable UI
                      //   behaviors so we pass these through as true

                      // Interestingly, opera fails the earlier test, so it doesn't
                      //  even make it here.

                    } else if ( /^(url|email)$/.test(inputElemType) ) {
                      // Real url and email support comes with prebaked validation.
                      bool = inputElem.checkValidity && inputElem.checkValidity() === false;

                    } else {
                      // If the upgraded input compontent rejects the :) text, we got a winner
                      bool = inputElem.value != smile;
                    }
                }

                inputs[ props[i] ] = !!bool;
            }
            return inputs;
        })('search tel url email datetime date month week time datetime-local number range color'.split(' '));
        /*>>inputtypes*/
    }
    /*>>webforms*/


    // End of test definitions
    // -----------------------



    // Run through all tests and detect their support in the current UA.
    // todo: hypothetically we could be doing an array of tests and use a basic loop here.
    for ( var feature in tests ) {
        if ( hasOwnProp(tests, feature) ) {
            // run the test, throw the return value into the Modernizr,
            //   then based on that boolean, define an appropriate className
            //   and push it into an array of classes we'll join later.
            featureName  = feature.toLowerCase();
            Modernizr[featureName] = tests[feature]();

            classes.push((Modernizr[featureName] ? '' : 'no-') + featureName);
        }
    }

    /*>>webforms*/
    // input tests need to run.
    Modernizr.input || webforms();
    /*>>webforms*/


    /**
     * addTest allows the user to define their own feature tests
     * the result will be added onto the Modernizr object,
     * as well as an appropriate className set on the html element
     *
     * @param feature - String naming the feature
     * @param test - Function returning true if feature is supported, false if not
     */
     Modernizr.addTest = function ( feature, test ) {
       if ( typeof feature == 'object' ) {
         for ( var key in feature ) {
           if ( hasOwnProp( feature, key ) ) {
             Modernizr.addTest( key, feature[ key ] );
           }
         }
       } else {

         feature = feature.toLowerCase();

         if ( Modernizr[feature] !== undefined ) {
           // we're going to quit if you're trying to overwrite an existing test
           // if we were to allow it, we'd do this:
           //   var re = new RegExp("\\b(no-)?" + feature + "\\b");
           //   docElement.className = docElement.className.replace( re, '' );
           // but, no rly, stuff 'em.
           return Modernizr;
         }

         test = typeof test == 'function' ? test() : test;

         if (typeof enableClasses !== "undefined" && enableClasses) {
           docElement.className += ' ' + (test ? '' : 'no-') + feature;
         }
         Modernizr[feature] = test;

       }

       return Modernizr; // allow chaining.
     };


    // Reset modElem.cssText to nothing to reduce memory footprint.
    setCss('');
    modElem = inputElem = null;

    /*>>shiv*/
    /**
     * @preserve HTML5 Shiv prev3.7.1 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
     */
    ;(function(window, document) {
        /*jshint evil:true */
        /** version */
        var version = '3.7.0';

        /** Preset options */
        var options = window.html5 || {};

        /** Used to skip problem elements */
        var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;

        /** Not all elements can be cloned in IE **/
        var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;

        /** Detect whether the browser supports default html5 styles */
        var supportsHtml5Styles;

        /** Name of the expando, to work with multiple documents or to re-shiv one document */
        var expando = '_html5shiv';

        /** The id for the the documents expando */
        var expanID = 0;

        /** Cached data for each document */
        var expandoData = {};

        /** Detect whether the browser supports unknown elements */
        var supportsUnknownElements;

        (function() {
          try {
            var a = document.createElement('a');
            a.innerHTML = '<xyz></xyz>';
            //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles
            supportsHtml5Styles = ('hidden' in a);

            supportsUnknownElements = a.childNodes.length == 1 || (function() {
              // assign a false positive if unable to shiv
              (document.createElement)('a');
              var frag = document.createDocumentFragment();
              return (
                typeof frag.cloneNode == 'undefined' ||
                typeof frag.createDocumentFragment == 'undefined' ||
                typeof frag.createElement == 'undefined'
              );
            }());
          } catch(e) {
            // assign a false positive if detection fails => unable to shiv
            supportsHtml5Styles = true;
            supportsUnknownElements = true;
          }

        }());

        /*--------------------------------------------------------------------------*/

        /**
         * Creates a style sheet with the given CSS text and adds it to the document.
         * @private
         * @param {Document} ownerDocument The document.
         * @param {String} cssText The CSS text.
         * @returns {StyleSheet} The style element.
         */
        function addStyleSheet(ownerDocument, cssText) {
          var p = ownerDocument.createElement('p'),
          parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;

          p.innerHTML = 'x<style>' + cssText + '</style>';
          return parent.insertBefore(p.lastChild, parent.firstChild);
        }

        /**
         * Returns the value of `html5.elements` as an array.
         * @private
         * @returns {Array} An array of shived element node names.
         */
        function getElements() {
          var elements = html5.elements;
          return typeof elements == 'string' ? elements.split(' ') : elements;
        }

        /**
         * Returns the data associated to the given document
         * @private
         * @param {Document} ownerDocument The document.
         * @returns {Object} An object of data.
         */
        function getExpandoData(ownerDocument) {
          var data = expandoData[ownerDocument[expando]];
          if (!data) {
            data = {};
            expanID++;
            ownerDocument[expando] = expanID;
            expandoData[expanID] = data;
          }
          return data;
        }

        /**
         * returns a shived element for the given nodeName and document
         * @memberOf html5
         * @param {String} nodeName name of the element
         * @param {Document} ownerDocument The context document.
         * @returns {Object} The shived element.
         */
        function createElement(nodeName, ownerDocument, data){
          if (!ownerDocument) {
            ownerDocument = document;
          }
          if(supportsUnknownElements){
            return ownerDocument.createElement(nodeName);
          }
          if (!data) {
            data = getExpandoData(ownerDocument);
          }
          var node;

          if (data.cache[nodeName]) {
            node = data.cache[nodeName].cloneNode();
          } else if (saveClones.test(nodeName)) {
            node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();
          } else {
            node = data.createElem(nodeName);
          }

          // Avoid adding some elements to fragments in IE < 9 because
          // * Attributes like `name` or `type` cannot be set/changed once an element
          //   is inserted into a document/fragment
          // * Link elements with `src` attributes that are inaccessible, as with
          //   a 403 response, will cause the tab/window to crash
          // * Script elements appended to fragments will execute when their `src`
          //   or `text` property is set
          return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn ? data.frag.appendChild(node) : node;
        }

        /**
         * returns a shived DocumentFragment for the given document
         * @memberOf html5
         * @param {Document} ownerDocument The context document.
         * @returns {Object} The shived DocumentFragment.
         */
        function createDocumentFragment(ownerDocument, data){
          if (!ownerDocument) {
            ownerDocument = document;
          }
          if(supportsUnknownElements){
            return ownerDocument.createDocumentFragment();
          }
          data = data || getExpandoData(ownerDocument);
          var clone = data.frag.cloneNode(),
          i = 0,
          elems = getElements(),
          l = elems.length;
          for(;i<l;i++){
            clone.createElement(elems[i]);
          }
          return clone;
        }

        /**
         * Shivs the `createElement` and `createDocumentFragment` methods of the document.
         * @private
         * @param {Document|DocumentFragment} ownerDocument The document.
         * @param {Object} data of the document.
         */
        function shivMethods(ownerDocument, data) {
          if (!data.cache) {
            data.cache = {};
            data.createElem = ownerDocument.createElement;
            data.createFrag = ownerDocument.createDocumentFragment;
            data.frag = data.createFrag();
          }


          ownerDocument.createElement = function(nodeName) {
            //abort shiv
            if (!html5.shivMethods) {
              return data.createElem(nodeName);
            }
            return createElement(nodeName, ownerDocument, data);
          };

          ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +
                                                          'var n=f.cloneNode(),c=n.createElement;' +
                                                          'h.shivMethods&&(' +
                                                          // unroll the `createElement` calls
                                                          getElements().join().replace(/[\w\-]+/g, function(nodeName) {
            data.createElem(nodeName);
            data.frag.createElement(nodeName);
            return 'c("' + nodeName + '")';
          }) +
            ');return n}'
                                                         )(html5, data.frag);
        }

        /*--------------------------------------------------------------------------*/

        /**
         * Shivs the given document.
         * @memberOf html5
         * @param {Document} ownerDocument The document to shiv.
         * @returns {Document} The shived document.
         */
        function shivDocument(ownerDocument) {
          if (!ownerDocument) {
            ownerDocument = document;
          }
          var data = getExpandoData(ownerDocument);

          if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {
            data.hasCSS = !!addStyleSheet(ownerDocument,
                                          // corrects block display not defined in IE6/7/8/9
                                          'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +
                                            // adds styling not present in IE6/7/8/9
                                            'mark{background:#FF0;color:#000}' +
                                            // hides non-rendered elements
                                            'template{display:none}'
                                         );
          }
          if (!supportsUnknownElements) {
            shivMethods(ownerDocument, data);
          }
          return ownerDocument;
        }

        /*--------------------------------------------------------------------------*/

        /**
         * The `html5` object is exposed so that more elements can be shived and
         * existing shiving can be detected on iframes.
         * @type Object
         * @example
         *
         * // options can be changed before the script is included
         * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };
         */
        var html5 = {

          /**
           * An array or space separated string of node names of the elements to shiv.
           * @memberOf html5
           * @type Array|String
           */
          'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video',

          /**
           * current version of html5shiv
           */
          'version': version,

          /**
           * A flag to indicate that the HTML5 style sheet should be inserted.
           * @memberOf html5
           * @type Boolean
           */
          'shivCSS': (options.shivCSS !== false),

          /**
           * Is equal to true if a browser supports creating unknown/HTML5 elements
           * @memberOf html5
           * @type boolean
           */
          'supportsUnknownElements': supportsUnknownElements,

          /**
           * A flag to indicate that the document's `createElement` and `createDocumentFragment`
           * methods should be overwritten.
           * @memberOf html5
           * @type Boolean
           */
          'shivMethods': (options.shivMethods !== false),

          /**
           * A string to describe the type of `html5` object ("default" or "default print").
           * @memberOf html5
           * @type String
           */
          'type': 'default',

          // shivs the document according to the specified `html5` object options
          'shivDocument': shivDocument,

          //creates a shived element
          createElement: createElement,

          //creates a shived documentFragment
          createDocumentFragment: createDocumentFragment
        };

        /*--------------------------------------------------------------------------*/

        // expose html5
        window.html5 = html5;

        // shiv the document
        shivDocument(document);

    }(this, document));
    /*>>shiv*/

    // Assign private properties to the return object with prefix
    Modernizr._version      = version;

    // expose these for the plugin API. Look in the source for how to join() them against your input
    /*>>prefixes*/
    Modernizr._prefixes     = prefixes;
    /*>>prefixes*/
    /*>>domprefixes*/
    Modernizr._domPrefixes  = domPrefixes;
    Modernizr._cssomPrefixes  = cssomPrefixes;
    /*>>domprefixes*/

    /*>>mq*/
    // Modernizr.mq tests a given media query, live against the current state of the window
    // A few important notes:
    //   * If a browser does not support media queries at all (eg. oldIE) the mq() will always return false
    //   * A max-width or orientation query will be evaluated against the current state, which may change later.
    //   * You must specify values. Eg. If you are testing support for the min-width media query use:
    //       Modernizr.mq('(min-width:0)')
    // usage:
    // Modernizr.mq('only screen and (max-width:768)')
    Modernizr.mq            = testMediaQuery;
    /*>>mq*/

    /*>>hasevent*/
    // Modernizr.hasEvent() detects support for a given event, with an optional element to test on
    // Modernizr.hasEvent('gesturestart', elem)
    Modernizr.hasEvent      = isEventSupported;
    /*>>hasevent*/

    /*>>testprop*/
    // Modernizr.testProp() investigates whether a given style property is recognized
    // Note that the property names must be provided in the camelCase variant.
    // Modernizr.testProp('pointerEvents')
    Modernizr.testProp      = function(prop){
        return testProps([prop]);
    };
    /*>>testprop*/

    /*>>testallprops*/
    // Modernizr.testAllProps() investigates whether a given style property,
    //   or any of its vendor-prefixed variants, is recognized
    // Note that the property names must be provided in the camelCase variant.
    // Modernizr.testAllProps('boxSizing')
    Modernizr.testAllProps  = testPropsAll;
    /*>>testallprops*/


    /*>>teststyles*/
    // Modernizr.testStyles() allows you to add custom styles to the document and test an element afterwards
    // Modernizr.testStyles('#modernizr { position:absolute }', function(elem, rule){ ... })
    Modernizr.testStyles    = injectElementWithStyles;
    /*>>teststyles*/


    /*>>prefixed*/
    // Modernizr.prefixed() returns the prefixed or nonprefixed property name variant of your input
    // Modernizr.prefixed('boxSizing') // 'MozBoxSizing'

    // Properties must be passed as dom-style camelcase, rather than `box-sizing` hypentated style.
    // Return values will also be the camelCase variant, if you need to translate that to hypenated style use:
    //
    //     str.replace(/([A-Z])/g, function(str,m1){ return '-' + m1.toLowerCase(); }).replace(/^ms-/,'-ms-');

    // If you're trying to ascertain which transition end event to bind to, you might do something like...
    //
    //     var transEndEventNames = {
    //       'WebkitTransition' : 'webkitTransitionEnd',
    //       'MozTransition'    : 'transitionend',
    //       'OTransition'      : 'oTransitionEnd',
    //       'msTransition'     : 'MSTransitionEnd',
    //       'transition'       : 'transitionend'
    //     },
    //     transEndEventName = transEndEventNames[ Modernizr.prefixed('transition') ];

    Modernizr.prefixed      = function(prop, obj, elem){
      if(!obj) {
        return testPropsAll(prop, 'pfx');
      } else {
        // Testing DOM property e.g. Modernizr.prefixed('requestAnimationFrame', window) // 'mozRequestAnimationFrame'
        return testPropsAll(prop, obj, elem);
      }
    };
    /*>>prefixed*/


    /*>>cssclasses*/
    // Remove "no-js" class from <html> element, if it exists:
    docElement.className = docElement.className.replace(/(^|\s)no-js(\s|$)/, '$1$2') +

                            // Add the new classes to the <html> element.
                            (enableClasses ? ' js ' + classes.join(' ') : '');
    /*>>cssclasses*/

    return Modernizr;

})(this, this.document);

; browserify_shim__define__module__export__(typeof Modernizr != "undefined" ? Modernizr : window.Modernizr);

}).call(global, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"modernizr":[function(require,module,exports){
module.exports=require('AXjHJu');
},{}],"jquery-mousewheel":[function(require,module,exports){
module.exports=require('DvbOHx');
},{}],"DvbOHx":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
require('jquery-mousewheel-source')(require('jquery'));

}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":"IV5zFA","jquery-mousewheel-source":"l1Sd/F"}],"dynamic-api":[function(require,module,exports){
module.exports=require('GEQ9xS');
},{}],"GEQ9xS":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
!function(e,n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):e.DynamicAPI=n(e.jQuery)}(this,function(e){function n(e,n){function t(){}return t.prototype=(e.superclass=n).prototype,(e.prototype=new t).constructor=e,"function"==typeof n.extended&&n.extended(e),e}function t(e,n){var t={}.hasOwnProperty;for(var r in n)t.call(n,r)&&(e[r]=n[r]);return e}/**
 * Dynamic API loader class
 *
 * @description Loads script by URL and waits for global variable
 * @module dynamic-api
 * @version 1.0.0
 * @author Viacheslav Lotsmanov
 * @license GNU/AGPLv3
 * @see {@link https://github.com/unclechu/js-useful-umd-modules/|GitHub}
 * @see {@link https://github.com/unclechu/js-useful-umd-modules/blob/master/AGPLv3-LICENSE|License}
 */
var r,l={}.toString;return r=function(){function r(e){var n,t,r,i;return n=null!=(t=e.interval)?t:500,r=null!=(t=e.async)?t:!0,function(e,n,t){if(l.call(t).slice(8,-1)!==e)throw new this.exceptions.IncorrectArgument({argName:n,argType:l.call(t).slice(8,-1),mustBe:e})}.call(this,"Number","interval",n),function(e,n,t){if(l.call(t).slice(8,-1)!==e)throw new this.exceptions.IncorrectArgument({argName:n,argType:l.call(t).slice(8,-1),mustBe:e})}.call(this,"Boolean","async",r),this._interval=n,this._async=r,i=function(){var e=this;return function(){return e.dynamicLoadApi.apply(e,arguments)}}.call(this,this),i["super"]=this,i}r.displayName="DynamicAPI";var i,a,u,o=r.prototype;return i=[],a=function(n,t){var l;if(l=null,e.each(n,function(e,n){return n.scriptPath===t?(l=n,!1):void 0}),null==l)throw new r.exceptions.ItemNotFound({scriptPath:t});return l},o.dynamicLoadApi=function(n,t,r){var o,s,c,m,p,h,d,g,y=this;if(function(e,n,t){return null==t?u(new this.exceptions.RequiredArgument({argName:n})):l.call(t).slice(8,-1)!==e?u(new this.exceptions.IncorrectArgument({argName:n,argType:l.call(t).slice(8,-1),mustBe:e})):void 0}.call(this,"Function","cb",r),function(e,n,t){return null==t?u(new this.exceptions.RequiredArgument({argName:n}),r):l.call(t).slice(8,-1)!==e?u(new this.exceptions.IncorrectArgument({argName:n,argType:l.call(t).slice(8,-1),mustBe:e}),r):t?void 0:u(new this.exceptions.RequiredArgument({argName:n}),r)}.call(this,"String","scriptPath",n),function(e,n,t){return null==t?u(new this.exceptions.RequiredArgument({argName:n}),r):l.call(t).slice(8,-1)!==e?u(new this.exceptions.IncorrectArgument({argName:n,argType:l.call(t).slice(8,-1),mustBe:e}),r):t?void 0:u(new this.exceptions.RequiredArgument({argName:n}),r)}.call(this,"String","globalVarName",t),o=!1,s=null,e.each(i,function(e,t){t.scriptPath===n&&(o=!0)}),!o){if(t in window)return u(new this.exceptions.GlobalNameAlreadyTaken({globalName:t}),r);for(c=0,p=(m=i).length;p>c;++c)if(s=m[c],s.varName===t)return u(new this.exceptions.GlobalNameAlreadyTaken({globalName:t}),r);i.push({scriptPath:n,loaded:!1,timerId:null,varName:t,cb:[]}),h=e("<script/>",{src:n}),this._async&&h.attr({async:"async"}),e("head").append(h)}try{s=a(i,n)}catch(f){return d=f,u(err,r)}return g=function(){return s.varName in window?(s.loaded=!0,s.timerId=null,null!=s.cb&&e.each(s.cb,function(n,t){setTimeout(e.proxy(t,null,null,window[s.varName]),0)}),void(s.cb=null)):void(s.timerId=setTimeout(g,y._interval))},s.loaded?setTimeout(e.proxy(r,null,null,window[s.varName]),0):(s.cb.push(r),void(s.timerId=setTimeout(g,0)))},u=function(n,t){if(null==t&&(t=null),null==t)throw n;setTimeout(e.proxy(t,null,n),0)},r.exceptions=r.prototype.exceptions={},r.exceptions.IncorrectArgument=function(e){function r(e){var n,t,r,l,i;n=null!=(t=e.message)?t:null,r=null!=(t=e.argName)?t:null,l=null!=(t=e.argType)?t:null,i=null!=(t=e.mustBe)?t:null,this.name="IncorrectArgument",this.message=null!=n?n:"Incorrect"+(null!=r?' "'+r+'"':"")+" argument type"+(null!=l?': "'+l+'"':"")+(null!=i?', must be a(n) "'+i+'"':"")+".",this.argName=r,this.argType=l,this.mustBe=i}n((t(r,e).displayName="IncorrectArgument",r),e).prototype;return r}(Error),r.exceptions.RequiredArgument=function(e){function r(e){var n,t,r;n=null!=(t=e.message)?t:null,r=null!=(t=e.argName)?t:null,this.name="RequiredArgument",this.message=null!=n?n:"Argument"+(null!=r?' "'+r+'"':"")+" is required.",this.argName=r}n((t(r,e).displayName="RequiredArgument",r),e).prototype;return r}(Error),r.exceptions.ItemNotFound=function(e){function r(e){var n,t,r;n=null!=(t=e.message)?t:null,r=null!=(t=e.scriptPath)?t:null,this.name="ItemNotFound",this.message=null!=n?n:"Cannot get item by script path"+(null!=r?': "'+r+'"':"")+".",this.scriptPath=r}n((t(r,e).displayName="ItemNotFound",r),e).prototype;return r}(Error),r.exceptions.GlobalNameAlreadyTaken=function(e){function r(e){var n,t,r;n=null!=(t=e.message)?t:null,r=null!=(t=e.globalName)?t:null,this.name="Timeout",this.message=null!=n?n:"Global name "+(null!=r?'"'+r+'" ':"")+"is already taken.",this.globalName=r}n((t(r,e).displayName="GlobalNameAlreadyTaken",r),e).prototype;return r}(Error),r}()});
}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":"IV5zFA"}],"get-val":[function(require,module,exports){
module.exports=require('8ZOGhp');
},{}],"8ZOGhp":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.GetVal=t()}(this,function(){function e(e,t){function s(){}return s.prototype=(e.superclass=t).prototype,(e.prototype=new s).constructor=e,"function"==typeof t.extended&&t.extended(e),e}function t(e,t){var s={}.hasOwnProperty;for(var i in t)s.call(t,i)&&(e[i]=t[i]);return e}/**
 * Provides class for getting value by key
 *
 * @module get-val
 * @version 1.0.0
 * @author Viacheslav Lotsmanov
 * @license GNU/AGPLv3
 * @see {@link https://github.com/unclechu/js-useful-umd-modules/|GitHub}
 * @see {@link https://github.com/unclechu/js-useful-umd-modules/blob/master/AGPLv3-LICENSE|License}
 */
var s,i={}.toString;return s=function(){function s(e,t){var s,r;if(null==t&&(t=null),"object"!=typeof e)throw new this.exceptions.IncorrectArgument(null,"values",typeof e,"object");if("object"!=typeof e.values)throw new this.exceptions.RequiredArgumentKey(null,"values","values",typeof e.values,"object");if("Array"===i.call(e.values).slice(8,-1))throw new this.exceptions.RequiredArgumentKey(null,"values","values","array","object");if(e.required&&"Array"===!i.call(e.required).slice(8,-1))throw new this.exceptions.RequiredArgumentKey(null,"values","required",typeof e.required,"array");if(t&&"object"!=typeof t)throw new this.exceptions.IncorrectArgument(null,"required",typeof t,"object");if(this._values=e.values,this._required=e.required||[],t)for(s in t)this.set.call(this,s,t[s]);return r=function(e){return function(){return e.get.apply(e,arguments)}}.call(this,this),r.set=function(e){return function(){return e.set.apply(e,arguments)}}.call(this,this),r["super"]=this,r}s.displayName="GetVal";var r=s.prototype;return r._checkRequired=function(){var e,t,s,i;for(e=0,s=(t=this._required).length;s>e;++e)if(i=t[e],!(i in this._values))throw new this.exceptions.RequiredIsNotSet(null,i)},r.set=function(e,t){var s,i,r,n,o;if(s=!1,"string"!=typeof e)throw new this.exceptions.IncorrectKey(null,typeof e);for(i=0,n=(r=this._required).length;n>i;++i)o=r[i],o===e&&(s=!0);if(!s)throw new this.exceptions.NoKeyInRequiredList(null,e);this._values[e]=t},r.get=function(e,t){if(t||this._checkRequired(),"string"!=typeof e)throw new this.exceptions.IncorrectKey(null,typeof e);if(!(e in this._values))throw new this.exceptions.KeyIsNotExists(null,e);return this._values[e]},s.exceptions=s.prototype.exceptions={},s.exceptions.IncorrectArgument=function(s){function i(e,t,s,i){this.name="IncorrectArgument",e?this.message=e:(this.message="Incorrect",t&&(this.message+=' "'+t+'"'),this.message+=" argument type",s&&(this.message+=': "'+s+'"'),i&&(this.message+=', must be a(n) "'+i+'"'),this.message+="."),this.argName=t,this.argType=s,this.mustBe=i}e((t(i,s).displayName="IncorrectArgument",i),s).prototype;return i}(Error),s.exceptions.RequiredArgumentKey=function(s){function i(e,t,s,i,r){this.name="RequiredArgumentKey",e?this.message=e:(this.message="Incorrect",t&&(this.message+=' "'+t+'"'),this.message+=" argument key",s&&(this.message+=' "'+s+'"'),this.message+=" type",i&&(this.message+=': "'+i+'"'),r&&(this.message+=', must be a(n) "'+r+'"'),this.message+="."),this.argName=t,this.keyName=s,this.keyType=i,this.keyMustBe=r}e((t(i,s).displayName="RequiredArgumentKey",i),s).prototype;return i}(Error),s.exceptions.IncorrectKey=function(s){function i(e,t){this.name="IncorrectKey",e?this.message=e:(this.message="Incorrect key type",t&&(this.message+=' ("'+t+'")'),this.message+=", must be a string."),this.keyType=t}e((t(i,s).displayName="IncorrectKey",i),s).prototype;return i}(Error),s.exceptions.KeyIsNotExists=function(s){function i(e,t){this.name="KeyIsNotExists",e?this.message=e:(this.message="Key",t&&(this.message+=' "'+t+'"'),this.message+=" is not exists."),this.key=t}e((t(i,s).displayName="KeyIsNotExists",i),s).prototype;return i}(Error),s.exceptions.RequiredIsNotSet=function(s){function i(e,t){this.name="RequiredIsNotSet",e?this.message=e:(this.message="Required key is not set",t&&(this.message+=': "'+t+'"'),this.message+="."),this.key=t}e((t(i,s).displayName="RequiredIsNotSet",i),s).prototype;return i}(Error),s.exceptions.NoKeyInRequiredList=function(s){function i(e,t){this.name="NoKeyInRequiredList",e?this.message=e:(this.message="No key",t&&(this.message+=' "'+t+'"'),this.message+=" in required list."),this.key=t}e((t(i,s).displayName="NoKeyInRequiredList",i),s).prototype;return i}(Error),s}()});
}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"kBfB95":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
/**
 * Provides class for get localized text by key
 *
 * @version r6
 * @author Viacheslav Lotsmanov
 * @license GNU/GPLv3 by Free Software Foundation (https://github.com/unclechu/js-useful-amd-modules/blob/master/GPLv3-LICENSE)
 * @see {@link https://github.com/unclechu/js-useful-amd-modules/|GitHub}
 */

(function (factory) {
	if (typeof define === 'function' && define.amd)
		define(factory); // AMD (RequireJS)
	else if (typeof module === 'object' && typeof module.exports === 'object')
		module.exports = factory(); // CommonJS (Browserify)
	else
		throw new Error('Unsupported architecture');
})(function () {

	'use strict';

	// helpers {{{1

	/**
	 * @private
	 * @inner
	 */
	function inherit(proto) {
		if (Object.create) return Object.create(proto);
		function F() {}
		F.prototype = proto;
		return new F();
	}

	// helpers }}}1

	/**
	 * @class
	 * @public
	 * @param {Object} values - Key-value object of localization values
	 * @param {string} [local=en] - Current localization short code
	 * @returns {function} getWrapper
	 */
	var exports = function (values, local) { // {{{1
		var self = this;

		// validation of arguments {{{2

		// values
		if (typeof values !== 'object')
			throw new self.exceptions.IncorrectArgument(
				null, 'values', typeof(values), 'object');

		// local
		if (local && typeof local !== 'string')
			throw new self.exceptions.IncorrectArgument(
				null, 'local', typeof(local), 'string');

		// validation of arguments }}}2

		if (!local) local = 'en'; // default value

		/** @private */ self._values = values;
		/** @private */ self._curLocal = null;

		self.setCurLocal(local);

		/** @public */
		var getWrapper = (function (self) {
			return function () {
				// delegate to "get" method
				return self.get.apply(self, arguments);
			};
		})(self);

		/** @public */ getWrapper.super = self;

		return getWrapper;

	}; // constructor to exports }}}1

	/**
	 * @public
	 * @param {string} key
	 * @param {string|Object} [val_N] - Child key name or key-value object to replace (must be a last argument)
	 * @example getLocalText('FIRST_LEVEL', 'SECOND_LEVEL', 'KEY_OF_VALUE')
	 * @example getLocalText('FIRST_LEVEL', 'SECOND_LEVEL', 'KEY_OF_VALUE', { '#URL#': 'http://domain.org/pathname/' })
	 * @returns {string} - Localized and preprocessed text
	 */
	exports.prototype.get = // {{{1
	function (/*KEY(_LEVEL_1)[, KEY(_LEVEL_N)][, TO_REPLACE_LIST]*/) {

		var self = this;

		var argsSrc = Array.prototype.slice.call(arguments, 0);
		var argsLog = argsSrc.slice(0);
		var cur = self._values[self._curLocal];

		if (argsLog.length > 1)
			if (typeof argsLog[argsLog.length-1] === 'object')
				argsLog = argsLog.slice(0, -1);

		function recursive() { // {{{2

			var args = Array.prototype.slice.call(arguments, 0);
			var arg = args.shift();

			// object at last argument
			if (typeof arg !== 'string') {
				if (args.length < 1 && typeof arg === 'object') {
					for (var key in arg)
						cur = cur.replace(new RegExp(key, 'g'), arg[key]);
					return cur;
				} else {
					throw new self.exceptions.IncorrectKeyType(
						null, typeof(arg));
				}
			}

			if (args.length > 0) {
				if (cur[arg]) {
					cur = cur[arg];
					return recursive.apply(self, args);
				} else {
					throw new self.exceptions.NotFound(null, argsLog.join('.'));
				}
			} else {
				if (typeof cur[arg] === 'undefined')
					throw new self.exceptions.NotFound(null, argsLog.join('.'));

				if (typeof cur[arg] === 'string')
					return cur[arg];
				else
					throw new self.exceptions.IncorrectDestination(null, argsLog.join('.'));
			}

		} // recursive() }}}2

		return recursive.apply(self, argsSrc);

	}; // "get" method }}}1

	/**
	 * @public
	 * @param {string} local - Localization short name (example: 'en' or 'ru')
	 */
	exports.prototype.setCurLocal = function (local) { // {{{1

		// "local" argument validation
		if (typeof local !== 'string')
			throw new this.exceptions.IncorrectArgument(
				null, 'local', typeof(local), 'string');

		if (!this._values[local])
			throw new this.exceptions.UnknownLocalization(null, local);

		this._curLocal = local;

	}; // "setCurLocal" method }}}1

	/* exceptions {{{1 */

	/**
	 * @static
	 * @public
	 */
	exports.exceptions = exports.prototype.exceptions = {};

	exports.exceptions.IncorrectArgument = // {{{2
	function (message, name, type, mustBe) {
		Error.call(this);
		this.name = 'IncorrectArgument';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Incorrect';
			if (name) this.message += ' "'+ name +'"';
			this.message += ' argument type';
			if (type) this.message += ': "'+ type +'"';
			if (mustBe) this.message += ', must be a(n) "'+ mustBe +'"';
		}
	}; // }}}2

	exports.exceptions.IncorrectKeyType = function (message, type) { // {{{2
		Error.call(this);
		this.name = 'IncorrectKeyType';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Incorrect key type';
			if (type) this.message += ' ("'+ type +'")';
			this.message += ', must be a string' +
				' or key-value object (at last argument)';
		}
	}; // }}}2

	exports.exceptions.NotFound = function (message, keyPath) { // {{{2
		Error.call(this);
		this.name = 'NotFound';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Localized text not found by key-path';
			if (keyPath) this.message += ': "'+ keyPath +'"';
		}
	}; // }}}2

	exports.exceptions.IncorrectDestination = function (message, keyPath) { // {{{2
		Error.call(this);
		this.name = 'IncorrectDestination';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Incorrect destination by key-path';
			if (keyPath) this.message += ': "'+ keyPath +'"';
		}
	}; // }}}2

	exports.exceptions.UnknownLocalization = function (message, local) { // {{{2
		Error.call(this);
		this.name = 'UnknownLocalization';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Unknown localization';
			if (local) this.message += ': "'+ local +'"';
		}
	}; // }}}2

	for (var key in exports.exceptions)
		exports.exceptions[key].prototype = inherit(Error.prototype);

	/* exceptions }}}1 */

	return exports;

}); // factory()

}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"get-local-text":[function(require,module,exports){
module.exports=require('kBfB95');
},{}],"CDS7yq":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
/**
 * Dynamic loading images abstraction class
 *
 * @module load_img
 * @requires jquery
 *
 * @version r4
 * @author Viacheslav Lotsmanov
 * @license GNU/GPLv3 by Free Software Foundation (https://github.com/unclechu/js-useful-amd-commonjs-modules/blob/master/GPLv3-LICENSE)
 * @see {@link https://github.com/unclechu/js-useful-amd-commonjs-modules/|GitHub}
 */

(function (factory) {
	if (typeof define === 'function' && define.amd) {
		// AMD (RequireJS)
		define(['jquery'], function ($) { factory($); });
	} else if (typeof module === 'object' && typeof module.exports === 'object') {
		// CommonJS (Browserify)
		module.exports = factory(require('jquery'));
	} else {
		throw new Error('Unsupported architecture');
	}
})(function ($, undefined) {

	'use strict';

	// helpers {{{1

	/**
	 * @private
	 * @inner
	 */
	function inherit(proto) {
		if (Object.create) return Object.create(proto);
		function F() {}
		F.prototype = proto;
		return new F();
	}

	// helpers }}}1

	/**
	 * @class
	 * @public
	 * @param {Number|Float} [loadImgTimeout=20] - Loading image timeout in seconds
	 * @returns {function} loadImgWrapper
	 */
	var exports = function (loadImgTimeout) { // {{{1
		var self = this;

		// validation of arguments {{{2

		if (loadImgTimeout && (typeof loadImgTimeout !== 'number'))
			throw new self.exceptions.IncorrectArgument(
				null, 'loadImgTimeout', typeof(loadImgTimeout),
				['number', 'float']);

		// validation of arguments }}}2

		/** @private */ self._loadImgTimeout = (loadImgTimeout || 20);

		/** @public */
		var loadImgWrapper = (function (self) {
			return function () {
				// delegate to "loadImg" method
				return self.loadImg.apply(self, arguments);
			};
		})(self);

		/** @public */ loadImgWrapper.super = self;

		return loadImgWrapper;
	}; // constructor to exports }}}1

	/**
	 * @private
	 * @inner
	 * @static
	 * @param {Error} err
	 */
	function makeError(err, cb) { // {{{1
		if (cb)
			setTimeout($.proxy(cb, null, err), 0);
		else
			throw err;
	} // makeError() }}}1

	/**
	 * @public
	 * @example
	 *   loadImg('/images/picture.png', function (err, img) {
	 *     if (err) return alert(err.toString());
	 *     $('body').append('<img alt="" src="'+ img.src +'" width="'+ img.width +'" height="'+ img.height +'" />');
	 *   });
	 */
	exports.prototype.loadImg = function loadImg(link, callback) { // {{{1

		var self = this;

		// validation of arguments {{{2

		if (typeof callback !== 'function')
			return makeError(new self.exceptions.IncorrectArgument(
				null, 'callback', typeof(callback), 'function'), null);

		if (typeof link !== 'string')
			return makeError(new self.exceptions.IncorrectLink(
				null, typeof(link)), callback);

		// validation of arguments }}}2

		var $img = $('<img/>');
		var timerId;
		var loaded = false;

		/** @private */
		function destroy() { // {{{2
			killTimer();
			$img.off('load');
			$img = undefined;
		} // destroy() }}}2

		/** @private */
		function timeout() { // {{{2
			if (loaded) return false;

			destroy();
			makeError(new self.exceptions.Timeout(), callback);
		} // timeout() }}}2

		/** @private */
		function killTimer() { // {{{2
			if (timerId !== undefined) {
				clearTimeout(timerId);
				timerId = undefined;
			}
		} // killTimer() }}}2

		/** @private */
		function loadHandler(img) { // {{{2
			loaded = true;
			killTimer();

			setTimeout(function () {
				callback(null, {
					src: img.src,
					width: img.width,
					height: img.height
				});
				destroy();
			}, 0);
		} // loadHandler() }}}2

		$img.on('load', function () { loadHandler(this); }).attr('src', link);

		timerId = setTimeout(timeout, Math.round(self._loadImgTimeout * 1000));

	}; // loadImg() }}}1

	/* exceptions {{{ */

	/**
	 * @static
	 * @public
	 */
	var exceptions = exports.exceptions = exports.prototype.exceptions = {};

	exceptions.IncorrectArgument = function (message, name, type, mustBe) { // {{{2
		Error.call(this);
		this.name = 'IncorrectArgument';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Incorrect';
			if (name) this.message += ' "'+ name +'"';
			this.message += ' argument type';
			if (type) this.message += ': "'+ type +'"';
			if (typeof mustBe === 'object' && mustBe.length) {
				this.message += ', must be a(n)';
				for (var i=0; i<mustBe.length; i++) {
					this.message += ' ';
					if (i>0) this.message += 'or ';
					this.message += '"'+ mustBe[i] +'"';
				}
			} else if (typeof mustBe === 'string') {
				this.message += ', must be a(n) "'+ mustBe +'"';
			}
		}
	}; // }}}2

	exceptions.IncorrectLink = function (message, type) { // {{{2
		Error.call(this);
		this.name = 'IncorrectLink';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Incorrect "link" argument';
			if (type) this.message += ' ("'+ type +'")';
			this.message += ', must be a "string"';
		}
	}; // }}}2

	exceptions.Timeout = function (message) { // {{{2
		Error.call(this);
		this.name = 'Timeout';
		this.message = message || 'Loading image timeout';
	}; // }}}2

	for (var key in exceptions)
		exceptions[key].prototype = inherit(Error.prototype);

	/* exceptions }}} */

	return exports;

}); // factory()

}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":"IV5zFA"}],"load-img":[function(require,module,exports){
module.exports=require('CDS7yq');
},{}],"0V6A5u":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
/**
 * Calculate relative number by relative min and max sources
 *
 * @version r2
 * @author Viacheslav Lotsmanov
 * @license GNU/GPLv3 by Free Software Foundation (https://github.com/unclechu/js-useful-amd-modules/blob/master/GPLv3-LICENSE)
 * @see {@link https://github.com/unclechu/js-useful-amd-modules/|GitHub}
 */

(function (factory) {
	if (typeof define === 'function' && define.amd) {
		// AMD (RequireJS)
		define(['jquery'], factory);
	} else if (typeof module === 'object' && typeof module.exports === 'object') {
		// CommonJS (Browserify)
		module.exports = factory(require('jquery'));
	} else {
		throw new Error('Unsupported architecture');
	}
})(function ($) {

	'use strict';

	var exports;

	// helpers {{{1

	function inherit(proto) {
		if (Object.create) return Object.create(proto);
		function F() {}
		F.prototype = proto;
		return new F();
	}

	// helpers }}}1

	/**
	 * @typedef params
	 * @type {Object.<Number|Float|Boolean>}
	 * @prop {Number|Float} relVal - Current relative value
	 * @prop {Number|Float} relMin - Relative minimum value
	 * @prop {Number|Float} relMax - Relative maximum value
	 * @prop {Number|Float} min - Minimum value for calculating by "relMin"
	 * @prop {Number|Float} max - maximum value for calculating by "relMax"
	 * @prop {Boolean} [limitMin=true] - Limit "relVal" by "relMin"
	 * @prop {Boolean} [limitMax=true] - Limit "relVal" by "relMax"
	 */
	var defaultParams = { // {{{1
		relVal: null,
		relMin: null,
		relMax: null,
		min: null,
		max: null,
		limitMin: true,
		limitMax: true,
	}; // defaultParams }}}1

	/**
	 * @private
	 * @inner
	 * @param {params} params
	 * @return Calculated value
	 */
	function model(params) { // {{{1

		var result = 0;
		var relVal = params.relVal;

		if (params.limitMin && relVal < params.relMin)
			relVal = params.relMin;
		else if (params.limitMax && relVal > params.relMax)
			relVal = params.relMax;

		var relValLow = relVal - params.relMin;
		var relMaxLow = params.relMax - params.relMin;
		var maxLow = params.max - params.min;

		result = relValLow * (maxLow) / relMaxLow;
		result += params.min;

		return result;

	} // model() }}}1

	/**
	 * @public
	 * @static
	 * @param {params} params
	 * @return Calculated value
	 * @throws {Error} IncorrectParamsType
	 * @throws {Error} RequiredParam
	 * @throws {Error} UnknownParam
	 * @throws {Error} IncorrectParamValue
	 */
	exports = function controller(params) { // {{{1

		var key;

		// validate params {{{2

		// check for correct params type
		if (!$.isPlainObject(params))
			throw new exceptions.IncorrectParamsType(null, $.type(params));

		// check for required params
		for (key in defaultParams) {
			if (key === 'limitMin' || key === 'limitMax')
				continue;
			else if (!(key in params))
				throw new exceptions.RequiredParam(null, key);
		}

		// check for unknown params
		for (key in params)
			if (!(key in defaultParams))
				throw new exceptions.UnknownParam(null, key);

		// check for correct params type
		for (key in defaultParams) {
			if (key === 'limitMin' || key === 'limitMax') {
				if (key in params && $.type(params[key]) !== 'boolean')
					throw new exceptions.IncorrectParamValue(
						null, key, $.type(params[key]), 'boolean');
			} else if ($.type(params[key]) !== 'number') {
				throw new exceptions.IncorrectParamValue(
					null, key, $.type(params[key]), 'number');
			}
		}

		// validate params }}}2

		params = $.extend({}, defaultParams, params);

		return model(params);

	}; // exports() = controller() }}}1

	/* exceptions {{{1 */

	/**
	 * @public
	 * @static
	 * @readOnly
	 * @type {Object.<Error>}
	 * @prop {Error} IncorrectParamsType
	 * @prop {Error} RequiredParam
	 * @prop {Error} UnknownParam
	 * @prop {Error} IncorrectParamValue
	 */
	var exceptions = exports.exceptions = {};

	/** @typedef {Error} IncorrectParamsType */
	exceptions.IncorrectParamsType = function (message, paramsType) { // {{{2
		Error.call(this);
		this.name = 'IncorrectParamsType';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Params must be a plain object';
			if (paramsType) this.message += ' (now is "'+ paramsType +'")';
		}
	}; // }}}2

	/** @typedef {Error} RequiredParam */
	exceptions.RequiredParam = function (message, paramName) { // {{{2
		Error.call(this);
		this.name = 'RequiredParam';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Required param';
			if (paramName) this.message += ' "'+ paramName +'"';
		}
	}; // }}}2

	/** @typedef {Error} UnknownParam */
	exceptions.UnknownParam = function (message, paramName) { // {{{2
		Error.call(this);
		this.name = 'UnknownParam';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Unknown param';
			if (paramName) this.message += ' "'+ paramName +'"';
		}
	}; // }}}2

	/** @typedef {Error} IncorrectParamValue */
	exceptions.IncorrectParamValue = // {{{2
	function (message, paramName, paramType, mustBeType) {
		Error.call(this);
		this.name = 'IncorrectParamValue';
		if (message) {
			this.message = message;
		} else {
			this.message = 'Incorrect';
			if (paramName) this.message += ' "'+ paramName +'"';
			this.message += ' param value type';
			if (paramType) this.message += ': "'+ paramType +'"';
			if (mustBeType) this.message += ', must be a "'+ mustBeType +'"';
		}
	}; // }}}2

	for (var key in exceptions)
		exceptions[key].prototype = inherit(Error.prototype);

	/* exceptions }}}1 */

	return exports;

}); // factory()

}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":"IV5zFA"}],"relative-number":[function(require,module,exports){
module.exports=require('0V6A5u');
},{}],64:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var apply, curry, flip, fix, over;
apply = curry$(function(f, list){
  return f.apply(null, list);
});
curry = function(f){
  return curry$(f);
};
flip = curry$(function(f, x, y){
  return f(y, x);
});
fix = function(f){
  return function(g){
    return function(){
      return f(g(g)).apply(null, arguments);
    };
  }(function(g){
    return function(){
      return f(g(g)).apply(null, arguments);
    };
  });
};
over = curry$(function(f, g, x, y){
  return f(g(x), g(y));
});
module.exports = {
  curry: curry,
  flip: flip,
  fix: fix,
  apply: apply,
  over: over
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{}],65:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var each, map, compact, filter, reject, partition, find, head, first, tail, last, initial, empty, reverse, unique, uniqueBy, fold, foldl, fold1, foldl1, foldr, foldr1, unfoldr, concat, concatMap, flatten, difference, intersection, union, countBy, groupBy, andList, orList, any, all, sort, sortWith, sortBy, sum, product, mean, average, maximum, minimum, maximumBy, minimumBy, scan, scanl, scan1, scanl1, scanr, scanr1, slice, take, drop, splitAt, takeWhile, dropWhile, span, breakList, zip, zipWith, zipAll, zipAllWith, at, elemIndex, elemIndices, findIndex, findIndices, toString$ = {}.toString, slice$ = [].slice;
each = curry$(function(f, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    f(x);
  }
  return xs;
});
map = curry$(function(f, xs){
  var i$, len$, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    results$.push(f(x));
  }
  return results$;
});
compact = function(xs){
  var i$, len$, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (x) {
      results$.push(x);
    }
  }
  return results$;
};
filter = curry$(function(f, xs){
  var i$, len$, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (f(x)) {
      results$.push(x);
    }
  }
  return results$;
});
reject = curry$(function(f, xs){
  var i$, len$, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (!f(x)) {
      results$.push(x);
    }
  }
  return results$;
});
partition = curry$(function(f, xs){
  var passed, failed, i$, len$, x;
  passed = [];
  failed = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    (f(x) ? passed : failed).push(x);
  }
  return [passed, failed];
});
find = curry$(function(f, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (f(x)) {
      return x;
    }
  }
});
head = first = function(xs){
  return xs[0];
};
tail = function(xs){
  if (!xs.length) {
    return;
  }
  return xs.slice(1);
};
last = function(xs){
  return xs[xs.length - 1];
};
initial = function(xs){
  if (!xs.length) {
    return;
  }
  return xs.slice(0, -1);
};
empty = function(xs){
  return !xs.length;
};
reverse = function(xs){
  return xs.concat().reverse();
};
unique = function(xs){
  var result, i$, len$, x;
  result = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (!in$(x, result)) {
      result.push(x);
    }
  }
  return result;
};
uniqueBy = curry$(function(f, xs){
  var seen, i$, len$, x, val, results$ = [];
  seen = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    val = f(x);
    if (in$(val, seen)) {
      continue;
    }
    seen.push(val);
    results$.push(x);
  }
  return results$;
});
fold = foldl = curry$(function(f, memo, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    memo = f(memo, x);
  }
  return memo;
});
fold1 = foldl1 = curry$(function(f, xs){
  return fold(f, xs[0], xs.slice(1));
});
foldr = curry$(function(f, memo, xs){
  var i$, x;
  for (i$ = xs.length - 1; i$ >= 0; --i$) {
    x = xs[i$];
    memo = f(x, memo);
  }
  return memo;
});
foldr1 = curry$(function(f, xs){
  return foldr(f, xs[xs.length - 1], xs.slice(0, -1));
});
unfoldr = curry$(function(f, b){
  var result, x, that;
  result = [];
  x = b;
  while ((that = f(x)) != null) {
    result.push(that[0]);
    x = that[1];
  }
  return result;
});
concat = function(xss){
  return [].concat.apply([], xss);
};
concatMap = curry$(function(f, xs){
  var x;
  return [].concat.apply([], (function(){
    var i$, ref$, len$, results$ = [];
    for (i$ = 0, len$ = (ref$ = xs).length; i$ < len$; ++i$) {
      x = ref$[i$];
      results$.push(f(x));
    }
    return results$;
  }()));
});
flatten = function(xs){
  var x;
  return [].concat.apply([], (function(){
    var i$, ref$, len$, results$ = [];
    for (i$ = 0, len$ = (ref$ = xs).length; i$ < len$; ++i$) {
      x = ref$[i$];
      if (toString$.call(x).slice(8, -1) === 'Array') {
        results$.push(flatten(x));
      } else {
        results$.push(x);
      }
    }
    return results$;
  }()));
};
difference = function(xs){
  var yss, results, i$, len$, x, j$, len1$, ys;
  yss = slice$.call(arguments, 1);
  results = [];
  outer: for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    for (j$ = 0, len1$ = yss.length; j$ < len1$; ++j$) {
      ys = yss[j$];
      if (in$(x, ys)) {
        continue outer;
      }
    }
    results.push(x);
  }
  return results;
};
intersection = function(xs){
  var yss, results, i$, len$, x, j$, len1$, ys;
  yss = slice$.call(arguments, 1);
  results = [];
  outer: for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    for (j$ = 0, len1$ = yss.length; j$ < len1$; ++j$) {
      ys = yss[j$];
      if (!in$(x, ys)) {
        continue outer;
      }
    }
    results.push(x);
  }
  return results;
};
union = function(){
  var xss, results, i$, len$, xs, j$, len1$, x;
  xss = slice$.call(arguments);
  results = [];
  for (i$ = 0, len$ = xss.length; i$ < len$; ++i$) {
    xs = xss[i$];
    for (j$ = 0, len1$ = xs.length; j$ < len1$; ++j$) {
      x = xs[j$];
      if (!in$(x, results)) {
        results.push(x);
      }
    }
  }
  return results;
};
countBy = curry$(function(f, xs){
  var results, i$, len$, x, key;
  results = {};
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    key = f(x);
    if (key in results) {
      results[key] += 1;
    } else {
      results[key] = 1;
    }
  }
  return results;
});
groupBy = curry$(function(f, xs){
  var results, i$, len$, x, key;
  results = {};
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    key = f(x);
    if (key in results) {
      results[key].push(x);
    } else {
      results[key] = [x];
    }
  }
  return results;
});
andList = function(xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (!x) {
      return false;
    }
  }
  return true;
};
orList = function(xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (x) {
      return true;
    }
  }
  return false;
};
any = curry$(function(f, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (f(x)) {
      return true;
    }
  }
  return false;
});
all = curry$(function(f, xs){
  var i$, len$, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    if (!f(x)) {
      return false;
    }
  }
  return true;
});
sort = function(xs){
  return xs.concat().sort(function(x, y){
    if (x > y) {
      return 1;
    } else if (x < y) {
      return -1;
    } else {
      return 0;
    }
  });
};
sortWith = curry$(function(f, xs){
  return xs.concat().sort(f);
});
sortBy = curry$(function(f, xs){
  return xs.concat().sort(function(x, y){
    if (f(x) > f(y)) {
      return 1;
    } else if (f(x) < f(y)) {
      return -1;
    } else {
      return 0;
    }
  });
});
sum = function(xs){
  var result, i$, len$, x;
  result = 0;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    result += x;
  }
  return result;
};
product = function(xs){
  var result, i$, len$, x;
  result = 1;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    result *= x;
  }
  return result;
};
mean = average = function(xs){
  var sum, i$, len$, x;
  sum = 0;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    x = xs[i$];
    sum += x;
  }
  return sum / xs.length;
};
maximum = function(xs){
  var max, i$, ref$, len$, x;
  max = xs[0];
  for (i$ = 0, len$ = (ref$ = xs.slice(1)).length; i$ < len$; ++i$) {
    x = ref$[i$];
    if (x > max) {
      max = x;
    }
  }
  return max;
};
minimum = function(xs){
  var min, i$, ref$, len$, x;
  min = xs[0];
  for (i$ = 0, len$ = (ref$ = xs.slice(1)).length; i$ < len$; ++i$) {
    x = ref$[i$];
    if (x < min) {
      min = x;
    }
  }
  return min;
};
maximumBy = curry$(function(f, xs){
  var max, i$, ref$, len$, x;
  max = xs[0];
  for (i$ = 0, len$ = (ref$ = xs.slice(1)).length; i$ < len$; ++i$) {
    x = ref$[i$];
    if (f(x) > f(max)) {
      max = x;
    }
  }
  return max;
});
minimumBy = curry$(function(f, xs){
  var min, i$, ref$, len$, x;
  min = xs[0];
  for (i$ = 0, len$ = (ref$ = xs.slice(1)).length; i$ < len$; ++i$) {
    x = ref$[i$];
    if (f(x) < f(min)) {
      min = x;
    }
  }
  return min;
});
scan = scanl = curry$(function(f, memo, xs){
  var last, x;
  last = memo;
  return [memo].concat((function(){
    var i$, ref$, len$, results$ = [];
    for (i$ = 0, len$ = (ref$ = xs).length; i$ < len$; ++i$) {
      x = ref$[i$];
      results$.push(last = f(last, x));
    }
    return results$;
  }()));
});
scan1 = scanl1 = curry$(function(f, xs){
  if (!xs.length) {
    return;
  }
  return scan(f, xs[0], xs.slice(1));
});
scanr = curry$(function(f, memo, xs){
  xs = xs.concat().reverse();
  return scan(f, memo, xs).reverse();
});
scanr1 = curry$(function(f, xs){
  if (!xs.length) {
    return;
  }
  xs = xs.concat().reverse();
  return scan(f, xs[0], xs.slice(1)).reverse();
});
slice = curry$(function(x, y, xs){
  return xs.slice(x, y);
});
take = curry$(function(n, xs){
  if (n <= 0) {
    return xs.slice(0, 0);
  } else {
    return xs.slice(0, n);
  }
});
drop = curry$(function(n, xs){
  if (n <= 0) {
    return xs;
  } else {
    return xs.slice(n);
  }
});
splitAt = curry$(function(n, xs){
  return [take(n, xs), drop(n, xs)];
});
takeWhile = curry$(function(p, xs){
  var len, i;
  len = xs.length;
  if (!len) {
    return xs;
  }
  i = 0;
  while (i < len && p(xs[i])) {
    i += 1;
  }
  return xs.slice(0, i);
});
dropWhile = curry$(function(p, xs){
  var len, i;
  len = xs.length;
  if (!len) {
    return xs;
  }
  i = 0;
  while (i < len && p(xs[i])) {
    i += 1;
  }
  return xs.slice(i);
});
span = curry$(function(p, xs){
  return [takeWhile(p, xs), dropWhile(p, xs)];
});
breakList = curry$(function(p, xs){
  return span(function(){
    return not$(p.apply(this, arguments));
  }, xs);
});
zip = curry$(function(xs, ys){
  var result, len, i$, len$, i, x;
  result = [];
  len = ys.length;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (i === len) {
      break;
    }
    result.push([x, ys[i]]);
  }
  return result;
});
zipWith = curry$(function(f, xs, ys){
  var result, len, i$, len$, i, x;
  result = [];
  len = ys.length;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (i === len) {
      break;
    }
    result.push(f(x, ys[i]));
  }
  return result;
});
zipAll = function(){
  var xss, minLength, i$, len$, xs, ref$, i, lresult$, j$, results$ = [];
  xss = slice$.call(arguments);
  minLength = 9e9;
  for (i$ = 0, len$ = xss.length; i$ < len$; ++i$) {
    xs = xss[i$];
    minLength <= (ref$ = xs.length) || (minLength = ref$);
  }
  for (i$ = 0; i$ < minLength; ++i$) {
    i = i$;
    lresult$ = [];
    for (j$ = 0, len$ = xss.length; j$ < len$; ++j$) {
      xs = xss[j$];
      lresult$.push(xs[i]);
    }
    results$.push(lresult$);
  }
  return results$;
};
zipAllWith = function(f){
  var xss, minLength, i$, len$, xs, ref$, i, results$ = [];
  xss = slice$.call(arguments, 1);
  minLength = 9e9;
  for (i$ = 0, len$ = xss.length; i$ < len$; ++i$) {
    xs = xss[i$];
    minLength <= (ref$ = xs.length) || (minLength = ref$);
  }
  for (i$ = 0; i$ < minLength; ++i$) {
    i = i$;
    results$.push(f.apply(null, (fn$())));
  }
  return results$;
  function fn$(){
    var i$, ref$, len$, results$ = [];
    for (i$ = 0, len$ = (ref$ = xss).length; i$ < len$; ++i$) {
      xs = ref$[i$];
      results$.push(xs[i]);
    }
    return results$;
  }
};
at = curry$(function(n, xs){
  if (n < 0) {
    return xs[xs.length + n];
  } else {
    return xs[n];
  }
});
elemIndex = curry$(function(el, xs){
  var i$, len$, i, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (x === el) {
      return i;
    }
  }
});
elemIndices = curry$(function(el, xs){
  var i$, len$, i, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (x === el) {
      results$.push(i);
    }
  }
  return results$;
});
findIndex = curry$(function(f, xs){
  var i$, len$, i, x;
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (f(x)) {
      return i;
    }
  }
});
findIndices = curry$(function(f, xs){
  var i$, len$, i, x, results$ = [];
  for (i$ = 0, len$ = xs.length; i$ < len$; ++i$) {
    i = i$;
    x = xs[i$];
    if (f(x)) {
      results$.push(i);
    }
  }
  return results$;
});
module.exports = {
  each: each,
  map: map,
  filter: filter,
  compact: compact,
  reject: reject,
  partition: partition,
  find: find,
  head: head,
  first: first,
  tail: tail,
  last: last,
  initial: initial,
  empty: empty,
  reverse: reverse,
  difference: difference,
  intersection: intersection,
  union: union,
  countBy: countBy,
  groupBy: groupBy,
  fold: fold,
  fold1: fold1,
  foldl: foldl,
  foldl1: foldl1,
  foldr: foldr,
  foldr1: foldr1,
  unfoldr: unfoldr,
  andList: andList,
  orList: orList,
  any: any,
  all: all,
  unique: unique,
  uniqueBy: uniqueBy,
  sort: sort,
  sortWith: sortWith,
  sortBy: sortBy,
  sum: sum,
  product: product,
  mean: mean,
  average: average,
  concat: concat,
  concatMap: concatMap,
  flatten: flatten,
  maximum: maximum,
  minimum: minimum,
  maximumBy: maximumBy,
  minimumBy: minimumBy,
  scan: scan,
  scan1: scan1,
  scanl: scanl,
  scanl1: scanl1,
  scanr: scanr,
  scanr1: scanr1,
  slice: slice,
  take: take,
  drop: drop,
  splitAt: splitAt,
  takeWhile: takeWhile,
  dropWhile: dropWhile,
  span: span,
  breakList: breakList,
  zip: zip,
  zipWith: zipWith,
  zipAll: zipAll,
  zipAllWith: zipAllWith,
  at: at,
  elemIndex: elemIndex,
  elemIndices: elemIndices,
  findIndex: findIndex,
  findIndices: findIndices
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
function in$(x, xs){
  var i = -1, l = xs.length >>> 0;
  while (++i < l) if (x === xs[i]) return true;
  return false;
}
function not$(x){ return !x; }
},{}],66:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var max, min, negate, abs, signum, quot, rem, div, mod, recip, pi, tau, exp, sqrt, ln, pow, sin, tan, cos, asin, acos, atan, atan2, truncate, round, ceiling, floor, isItNaN, even, odd, gcd, lcm;
max = curry$(function(x$, y$){
  return x$ > y$ ? x$ : y$;
});
min = curry$(function(x$, y$){
  return x$ < y$ ? x$ : y$;
});
negate = function(x){
  return -x;
};
abs = Math.abs;
signum = function(x){
  if (x < 0) {
    return -1;
  } else if (x > 0) {
    return 1;
  } else {
    return 0;
  }
};
quot = curry$(function(x, y){
  return ~~(x / y);
});
rem = curry$(function(x$, y$){
  return x$ % y$;
});
div = curry$(function(x, y){
  return Math.floor(x / y);
});
mod = curry$(function(x$, y$){
  var ref$;
  return ((x$) % (ref$ = y$) + ref$) % ref$;
});
recip = (function(it){
  return 1 / it;
});
pi = Math.PI;
tau = pi * 2;
exp = Math.exp;
sqrt = Math.sqrt;
ln = Math.log;
pow = curry$(function(x$, y$){
  return Math.pow(x$, y$);
});
sin = Math.sin;
tan = Math.tan;
cos = Math.cos;
asin = Math.asin;
acos = Math.acos;
atan = Math.atan;
atan2 = curry$(function(x, y){
  return Math.atan2(x, y);
});
truncate = function(x){
  return ~~x;
};
round = Math.round;
ceiling = Math.ceil;
floor = Math.floor;
isItNaN = function(x){
  return x !== x;
};
even = function(x){
  return x % 2 === 0;
};
odd = function(x){
  return x % 2 !== 0;
};
gcd = curry$(function(x, y){
  var z;
  x = Math.abs(x);
  y = Math.abs(y);
  while (y !== 0) {
    z = x % y;
    x = y;
    y = z;
  }
  return x;
});
lcm = curry$(function(x, y){
  return Math.abs(Math.floor(x / gcd(x, y) * y));
});
module.exports = {
  max: max,
  min: min,
  negate: negate,
  abs: abs,
  signum: signum,
  quot: quot,
  rem: rem,
  div: div,
  mod: mod,
  recip: recip,
  pi: pi,
  tau: tau,
  exp: exp,
  sqrt: sqrt,
  ln: ln,
  pow: pow,
  sin: sin,
  tan: tan,
  cos: cos,
  acos: acos,
  asin: asin,
  atan: atan,
  atan2: atan2,
  truncate: truncate,
  round: round,
  ceiling: ceiling,
  floor: floor,
  isItNaN: isItNaN,
  even: even,
  odd: odd,
  gcd: gcd,
  lcm: lcm
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{}],67:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var values, keys, pairsToObj, objToPairs, listsToObj, objToLists, empty, each, map, compact, filter, reject, partition, find;
values = function(object){
  var i$, x, results$ = [];
  for (i$ in object) {
    x = object[i$];
    results$.push(x);
  }
  return results$;
};
keys = function(object){
  var x, results$ = [];
  for (x in object) {
    results$.push(x);
  }
  return results$;
};
pairsToObj = function(object){
  var i$, len$, x, results$ = {};
  for (i$ = 0, len$ = object.length; i$ < len$; ++i$) {
    x = object[i$];
    results$[x[0]] = x[1];
  }
  return results$;
};
objToPairs = function(object){
  var key, value, results$ = [];
  for (key in object) {
    value = object[key];
    results$.push([key, value]);
  }
  return results$;
};
listsToObj = curry$(function(keys, values){
  var i$, len$, i, key, results$ = {};
  for (i$ = 0, len$ = keys.length; i$ < len$; ++i$) {
    i = i$;
    key = keys[i$];
    results$[key] = values[i];
  }
  return results$;
});
objToLists = function(object){
  var keys, values, key, value;
  keys = [];
  values = [];
  for (key in object) {
    value = object[key];
    keys.push(key);
    values.push(value);
  }
  return [keys, values];
};
empty = function(object){
  var x;
  for (x in object) {
    return false;
  }
  return true;
};
each = curry$(function(f, object){
  var i$, x;
  for (i$ in object) {
    x = object[i$];
    f(x);
  }
  return object;
});
map = curry$(function(f, object){
  var k, x, results$ = {};
  for (k in object) {
    x = object[k];
    results$[k] = f(x);
  }
  return results$;
});
compact = function(object){
  var k, x, results$ = {};
  for (k in object) {
    x = object[k];
if (x) {
      results$[k] = x;
    }
  }
  return results$;
};
filter = curry$(function(f, object){
  var k, x, results$ = {};
  for (k in object) {
    x = object[k];
if (f(x)) {
      results$[k] = x;
    }
  }
  return results$;
});
reject = curry$(function(f, object){
  var k, x, results$ = {};
  for (k in object) {
    x = object[k];
if (!f(x)) {
      results$[k] = x;
    }
  }
  return results$;
});
partition = curry$(function(f, object){
  var passed, failed, k, x;
  passed = {};
  failed = {};
  for (k in object) {
    x = object[k];
    (f(x) ? passed : failed)[k] = x;
  }
  return [passed, failed];
});
find = curry$(function(f, object){
  var i$, x;
  for (i$ in object) {
    x = object[i$];
    if (f(x)) {
      return x;
    }
  }
});
module.exports = {
  values: values,
  keys: keys,
  pairsToObj: pairsToObj,
  objToPairs: objToPairs,
  listsToObj: listsToObj,
  objToLists: objToLists,
  empty: empty,
  each: each,
  map: map,
  filter: filter,
  compact: compact,
  reject: reject,
  partition: partition,
  find: find
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{}],68:[function(require,module,exports){
// Generated by LiveScript 1.2.0
var split, join, lines, unlines, words, unwords, chars, unchars, reverse, repeat, capitalize, camelize, dasherize;
split = curry$(function(sep, str){
  return str.split(sep);
});
join = curry$(function(sep, xs){
  return xs.join(sep);
});
lines = function(str){
  if (!str.length) {
    return [];
  }
  return str.split('\n');
};
unlines = function(it){
  return it.join('\n');
};
words = function(str){
  if (!str.length) {
    return [];
  }
  return str.split(/[ ]+/);
};
unwords = function(it){
  return it.join(' ');
};
chars = function(it){
  return it.split('');
};
unchars = function(it){
  return it.join('');
};
reverse = function(str){
  return str.split('').reverse().join('');
};
repeat = curry$(function(n, str){
  var result, i$;
  result = '';
  for (i$ = 0; i$ < n; ++i$) {
    result += str;
  }
  return result;
});
capitalize = function(str){
  return str.charAt(0).toUpperCase() + str.slice(1);
};
camelize = function(it){
  return it.replace(/[-_]+(.)?/g, function(arg$, c){
    return (c != null ? c : '').toUpperCase();
  });
};
dasherize = function(str){
  return str.replace(/([^-A-Z])([A-Z]+)/g, function(arg$, lower, upper){
    return lower + "-" + (upper.length > 1
      ? upper
      : upper.toLowerCase());
  }).replace(/^([A-Z]+)/, function(arg$, upper){
    if (upper.length > 1) {
      return upper + "-";
    } else {
      return upper.toLowerCase();
    }
  });
};
module.exports = {
  split: split,
  join: join,
  lines: lines,
  unlines: unlines,
  words: words,
  unwords: unwords,
  chars: chars,
  unchars: unchars,
  reverse: reverse,
  repeat: repeat,
  capitalize: capitalize,
  camelize: camelize,
  dasherize: dasherize
};
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
},{}],"prelude":[function(require,module,exports){
module.exports=require('iujHG2');
},{}],"iujHG2":[function(require,module,exports){
(function (global){
(function browserifyShim(module, define) {
// Generated by LiveScript 1.2.0
var Func, List, Obj, Str, Num, id, isType, replicate, prelude, toString$ = {}.toString;
Func = require('./Func.js');
List = require('./List.js');
Obj = require('./Obj.js');
Str = require('./Str.js');
Num = require('./Num.js');
id = function(x){
  return x;
};
isType = curry$(function(type, x){
  return toString$.call(x).slice(8, -1) === type;
});
replicate = curry$(function(n, x){
  var i$, results$ = [];
  for (i$ = 0; i$ < n; ++i$) {
    results$.push(x);
  }
  return results$;
});
Str.empty = List.empty;
Str.slice = List.slice;
Str.take = List.take;
Str.drop = List.drop;
Str.splitAt = List.splitAt;
Str.takeWhile = List.takeWhile;
Str.dropWhile = List.dropWhile;
Str.span = List.span;
Str.breakStr = List.breakList;
prelude = {
  Func: Func,
  List: List,
  Obj: Obj,
  Str: Str,
  Num: Num,
  id: id,
  isType: isType,
  replicate: replicate
};
prelude.each = List.each;
prelude.map = List.map;
prelude.filter = List.filter;
prelude.compact = List.compact;
prelude.reject = List.reject;
prelude.partition = List.partition;
prelude.find = List.find;
prelude.head = List.head;
prelude.first = List.first;
prelude.tail = List.tail;
prelude.last = List.last;
prelude.initial = List.initial;
prelude.empty = List.empty;
prelude.reverse = List.reverse;
prelude.difference = List.difference;
prelude.intersection = List.intersection;
prelude.union = List.union;
prelude.countBy = List.countBy;
prelude.groupBy = List.groupBy;
prelude.fold = List.fold;
prelude.foldl = List.foldl;
prelude.fold1 = List.fold1;
prelude.foldl1 = List.foldl1;
prelude.foldr = List.foldr;
prelude.foldr1 = List.foldr1;
prelude.unfoldr = List.unfoldr;
prelude.andList = List.andList;
prelude.orList = List.orList;
prelude.any = List.any;
prelude.all = List.all;
prelude.unique = List.unique;
prelude.uniqueBy = List.uniqueBy;
prelude.sort = List.sort;
prelude.sortWith = List.sortWith;
prelude.sortBy = List.sortBy;
prelude.sum = List.sum;
prelude.product = List.product;
prelude.mean = List.mean;
prelude.average = List.average;
prelude.concat = List.concat;
prelude.concatMap = List.concatMap;
prelude.flatten = List.flatten;
prelude.maximum = List.maximum;
prelude.minimum = List.minimum;
prelude.maximumBy = List.maximumBy;
prelude.minimumBy = List.minimumBy;
prelude.scan = List.scan;
prelude.scanl = List.scanl;
prelude.scan1 = List.scan1;
prelude.scanl1 = List.scanl1;
prelude.scanr = List.scanr;
prelude.scanr1 = List.scanr1;
prelude.slice = List.slice;
prelude.take = List.take;
prelude.drop = List.drop;
prelude.splitAt = List.splitAt;
prelude.takeWhile = List.takeWhile;
prelude.dropWhile = List.dropWhile;
prelude.span = List.span;
prelude.breakList = List.breakList;
prelude.zip = List.zip;
prelude.zipWith = List.zipWith;
prelude.zipAll = List.zipAll;
prelude.zipAllWith = List.zipAllWith;
prelude.at = List.at;
prelude.elemIndex = List.elemIndex;
prelude.elemIndices = List.elemIndices;
prelude.findIndex = List.findIndex;
prelude.findIndices = List.findIndices;
prelude.apply = Func.apply;
prelude.curry = Func.curry;
prelude.flip = Func.flip;
prelude.fix = Func.fix;
prelude.over = Func.over;
prelude.split = Str.split;
prelude.join = Str.join;
prelude.lines = Str.lines;
prelude.unlines = Str.unlines;
prelude.words = Str.words;
prelude.unwords = Str.unwords;
prelude.chars = Str.chars;
prelude.unchars = Str.unchars;
prelude.repeat = Str.repeat;
prelude.capitalize = Str.capitalize;
prelude.camelize = Str.camelize;
prelude.dasherize = Str.dasherize;
prelude.values = Obj.values;
prelude.keys = Obj.keys;
prelude.pairsToObj = Obj.pairsToObj;
prelude.objToPairs = Obj.objToPairs;
prelude.listsToObj = Obj.listsToObj;
prelude.objToLists = Obj.objToLists;
prelude.max = Num.max;
prelude.min = Num.min;
prelude.negate = Num.negate;
prelude.abs = Num.abs;
prelude.signum = Num.signum;
prelude.quot = Num.quot;
prelude.rem = Num.rem;
prelude.div = Num.div;
prelude.mod = Num.mod;
prelude.recip = Num.recip;
prelude.pi = Num.pi;
prelude.tau = Num.tau;
prelude.exp = Num.exp;
prelude.sqrt = Num.sqrt;
prelude.ln = Num.ln;
prelude.pow = Num.pow;
prelude.sin = Num.sin;
prelude.tan = Num.tan;
prelude.cos = Num.cos;
prelude.acos = Num.acos;
prelude.asin = Num.asin;
prelude.atan = Num.atan;
prelude.atan2 = Num.atan2;
prelude.truncate = Num.truncate;
prelude.round = Num.round;
prelude.ceiling = Num.ceiling;
prelude.floor = Num.floor;
prelude.isItNaN = Num.isItNaN;
prelude.even = Num.even;
prelude.odd = Num.odd;
prelude.gcd = Num.gcd;
prelude.lcm = Num.lcm;
prelude.VERSION = '1.1.1';
module.exports = prelude;
function curry$(f, bound){
  var context,
  _curry = function(args) {
    return f.length > 1 ? function(){
      var params = args ? args.concat() : [];
      context = bound ? context || this : this;
      return params.push.apply(params, arguments) <
          f.length && arguments.length ?
        _curry.call(context, params) : f.apply(context, params);
    } : f;
  };
  return _curry();
}
}).call(global, module, undefined);

}).call(this,typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./Func.js":64,"./List.js":65,"./Num.js":66,"./Obj.js":67,"./Str.js":68}]},{},[16])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9iYXNpY3MubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL2Zvb3Rlci9mb290ZXIubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL2Zvb3Rlci9pY29ucy1nZW5lcmF0b3IubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL2Zvb3Rlci9zaXplLWNhbGN1bGF0b3IubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL2dldC1yZWwtc2NyZWVuLXNpemUubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL2hhcy1lbC1ieS1oYXNoLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9oYXNoLW5hdi13YXRjaGVyLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9oZWFkZXIvYW5jaG9yLWRldGVjdG9yLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9oZWFkZXIvZml4ZWQtaGVhZGVyLWJsb2NrLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9oZWFkZXIvaGVhZGVyLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9oZWFkZXIvc2l6ZS1jYWxjdWxhdG9yLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9saWIvanF1ZXJ5LnRpbWVycy5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYml0cml4L3RlbXBsYXRlcy9tYWluL3NjcmlwdHMvbGluay1oYW5kbGVyLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9sb2NhbGl6YXRpb24ubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL21haW4ubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL3BhZ2VzL2Jsb2cubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL3BhZ2VzL2Jsb2cvaWNvbnMtZ2VuZXJhdG9yLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9wYWdlcy9ibG9nL3NpemUtY2FsY3VsYXRvci5scyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYml0cml4L3RlbXBsYXRlcy9tYWluL3NjcmlwdHMvcGFnZXMvZ2VuZXJhbC5scyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYml0cml4L3RlbXBsYXRlcy9tYWluL3NjcmlwdHMvcGFnZXMvZ2VuZXJhbC9jYXJkcy9jYXJkcy1uYXZpZ2F0b3IubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL3BhZ2VzL2dlbmVyYWwvY2FyZHMvY2FyZHMtc3dpdGNoZXIubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL3BhZ2VzL2dlbmVyYWwvY2FyZHMvY2FyZHMubHMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2JpdHJpeC90ZW1wbGF0ZXMvbWFpbi9zY3JpcHRzL3BhZ2VzL2dlbmVyYWwvY2FyZHMvc2l6ZS1jYWxjdWxhdG9yLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9wYWdlcy9nZW5lcmFsL2NvbnRhY3RzLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9wYWdlcy9nZW5lcmFsL3BvcnRmb2xpby5scyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYml0cml4L3RlbXBsYXRlcy9tYWluL3NjcmlwdHMvcGFnZXMvZ2VuZXJhbC9yZXZpZXdzLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9wYWdlcy9nZW5lcmFsL3Njcm9sbC1yZXN0b3JlLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9wYWdlcy9nZW5lcmFsL3NpemUtY2FsY3VsYXRvci5scyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYml0cml4L3RlbXBsYXRlcy9tYWluL3NjcmlwdHMvcGFnZXMvZ2VuZXJhbC90ZWFtLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9wcmVsb2FkLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9iaXRyaXgvdGVtcGxhdGVzL21haW4vc2NyaXB0cy9zaXplLWNhbGMtaGVscGVycy5scyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYml0cml4L3RlbXBsYXRlcy9tYWluL3NjcmlwdHMvdmFsdWVzLmxzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9ib3dlcl9jb21wb25lbnRzL1Ntb290aC1EaXYtU2Nyb2xsL2pzL2pxdWVyeS11aS0xLjEwLjMuY3VzdG9tLm1pbi5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYm93ZXJfY29tcG9uZW50cy9TbW9vdGgtRGl2LVNjcm9sbC9qcy9qcXVlcnkua2luZXRpYy5taW4uanMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2Jvd2VyX2NvbXBvbmVudHMvU21vb3RoLURpdi1TY3JvbGwvanMvanF1ZXJ5Lm1vdXNld2hlZWwubWluLmpzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9ib3dlcl9jb21wb25lbnRzL1Ntb290aC1EaXYtU2Nyb2xsL2pzL2pxdWVyeS5zbW9vdGhkaXZzY3JvbGwtMS4zLW1pbi5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYm93ZXJfY29tcG9uZW50cy9TbmFwLnN2Zy9kaXN0L3NuYXAuc3ZnLW1pbi5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYm93ZXJfY29tcG9uZW50cy9nbWFwcy9nbWFwcy5taW4uanMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2Jvd2VyX2NvbXBvbmVudHMvanF1ZXJ5LnRyYW5zaXQvanF1ZXJ5LnRyYW5zaXQuanMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2Jvd2VyX2NvbXBvbmVudHMvanF1ZXJ5L2Rpc3QvanF1ZXJ5Lm1pbi5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvYm93ZXJfY29tcG9uZW50cy9tb2Rlcm5penIvbW9kZXJuaXpyLmpzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9icm93c2VyaWZ5LXNoaW0vanF1ZXJ5Lm1vdXNld2hlZWwuanMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2pzLXVzZWZ1bC11bWQtbW9kdWxlcy9keW5hbWljLWFwaS9keW5hbWljLWFwaS5taW4uanMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2pzLXVzZWZ1bC11bWQtbW9kdWxlcy9nZXQtdmFsL2dldC12YWwubWluLmpzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9qcy11c2VmdWwtdW1kLW1vZHVsZXMvZ2V0X2xvY2FsX3RleHQvZ2V0X2xvY2FsX3RleHQuanMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L2pzLXVzZWZ1bC11bWQtbW9kdWxlcy9sb2FkX2ltZy9sb2FkX2ltZy5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvanMtdXNlZnVsLXVtZC1tb2R1bGVzL3JlbGF0aXZlX251bWJlci9yZWxhdGl2ZV9udW1iZXIuanMiLCIvdmFyL3d3dy93ZWJpem0vZGF0YS93d3cvZGV2LW1hc3Rlci53ZWItaXptZXJlbmllLnJ1L25vZGVfbW9kdWxlcy9wcmVsdWRlLWxzL2xpYi9GdW5jLmpzIiwiL3Zhci93d3cvd2ViaXptL2RhdGEvd3d3L2Rldi1tYXN0ZXIud2ViLWl6bWVyZW5pZS5ydS9ub2RlX21vZHVsZXMvcHJlbHVkZS1scy9saWIvTGlzdC5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvbm9kZV9tb2R1bGVzL3ByZWx1ZGUtbHMvbGliL051bS5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvbm9kZV9tb2R1bGVzL3ByZWx1ZGUtbHMvbGliL09iai5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvbm9kZV9tb2R1bGVzL3ByZWx1ZGUtbHMvbGliL1N0ci5qcyIsIi92YXIvd3d3L3dlYml6bS9kYXRhL3d3dy9kZXYtbWFzdGVyLndlYi1pem1lcmVuaWUucnUvbm9kZV9tb2R1bGVzL3ByZWx1ZGUtbHMvbGliL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbGZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNqSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25NQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdE5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzl1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDcjRDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2pQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUM3TkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN4TkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDM0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBCYXNpYyBtb2R1bGVzIHdyYXBwZXJcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciAkLCBiO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldFZhbDogbnVsbCxcbiAgZ2V0TG9jYWxUZXh0OiBudWxsLFxuICBsb2FkSW1nOiBudWxsLFxuICBkeW5hbWljQXBpOiBudWxsLFxuICBpbml0OiBudWxsXG59O1xuYiA9IG1vZHVsZS5leHBvcnRzO1xubW9kdWxlLmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKGNiKXtcbiAgJChmdW5jdGlvbigpe1xuICAgIHZhciAkaHRtbCwgcmVxdWlyZWQsIEdldFZhbCwgR2V0TG9jYWxUZXh0LCBMb2FkSW1nLCBEeW5hbWljQXBpLCB2YWx1ZXMsIGxvY2FsaXphdGlvbiwgJGhlYWQsICRjdXJMaW5rLCB0aW1lcklkLCBocmVmLCAkbmV3TGluaywgdGltZW91dCwgZmFpbENiO1xuICAgICRodG1sID0gJCgnaHRtbCcpO1xuICAgIHJlcXVpcmVkID0ge1xuICAgICAgbGFuZzogJGh0bWwuYXR0cignbGFuZycpXG4gICAgfTtcbiAgICBHZXRWYWwgPSByZXF1aXJlKCdnZXQtdmFsJyk7XG4gICAgR2V0TG9jYWxUZXh0ID0gcmVxdWlyZSgnZ2V0LWxvY2FsLXRleHQnKTtcbiAgICBMb2FkSW1nID0gcmVxdWlyZSgnbG9hZC1pbWcnKTtcbiAgICBEeW5hbWljQXBpID0gcmVxdWlyZSgnZHluYW1pYy1hcGknKTtcbiAgICB2YWx1ZXMgPSByZXF1aXJlKCcuL3ZhbHVlcycpO1xuICAgIGxvY2FsaXphdGlvbiA9IHJlcXVpcmUoJy4vbG9jYWxpemF0aW9uJyk7XG4gICAgYi5nZXRWYWwgPSBuZXcgR2V0VmFsKHZhbHVlcywgcmVxdWlyZWQpO1xuICAgIGIuZ2V0TG9jYWxUZXh0ID0gbmV3IEdldExvY2FsVGV4dChsb2NhbGl6YXRpb24sIGIuZ2V0VmFsKCdsYW5nJywgdHJ1ZSkpO1xuICAgIGIubG9hZEltZyA9IG5ldyBMb2FkSW1nKGIuZ2V0VmFsKCdsb2FkLWltZy10aW1lb3V0JywgdHJ1ZSkpO1xuICAgIGIuZHluYW1pY0FwaSA9IG5ldyBEeW5hbWljQXBpKGIuZ2V0VmFsKCdkeW5hbWljLWFwaS1pbnRlcnZhbCcsIHRydWUpKTtcbiAgICAkaGVhZCA9ICRodG1sLmZpbmQoJ2hlYWQnKTtcbiAgICAkY3VyTGluayA9ICRoZWFkLmZpbmQoJ2xpbmsubWFpbi1zdHlsZXMnKTtcbiAgICBpZiAoJGN1ckxpbmsubGVuZ3RoIDw9IDAgfHwgISRjdXJMaW5rLmF0dHIoJ2hyZWYnKSkge1xuICAgICAgd2luZG93LmFsZXJ0KGIuZ2V0TG9jYWxUZXh0KCdlcnInLCAnc3R5bGVzJywgJ3BhdGgtZGV0ZWN0JykpO1xuICAgIH1cbiAgICB0aW1lcklkID0gbnVsbDtcbiAgICBocmVmID0gJGN1ckxpbmsuYXR0cignaHJlZicpO1xuICAgICRuZXdMaW5rID0gJCgnPGxpbmsvPicsIHtcbiAgICAgIHR5cGU6ICd0ZXh0L2NzcycsXG4gICAgICByZWw6ICdzdHlsZXNoZWV0J1xuICAgIH0pO1xuICAgICRuZXdMaW5rLmxvYWQoZnVuY3Rpb24oKXtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgIGIuZ2V0VmFsLnNldCgnc3R5bGVzLWhyZWYnLCBocmVmKTtcbiAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgIH0pO1xuICAgIHRpbWVvdXQgPSAoZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIGl0ICogMTAwMDtcbiAgICB9KShcbiAgICBiLmdldFZhbCgnc3R5bGVzLWxvYWQtdGltZW91dCcsIHRydWUpKTtcbiAgICBmYWlsQ2IgPSBmdW5jdGlvbigpe1xuICAgICAgd2luZG93LmFsZXJ0KGIuZ2V0TG9jYWxUZXh0KCdlcnInLCAnc3R5bGVzJywgJ2xvYWQtdGltZW91dCcpKTtcbiAgICB9O1xuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KGZhaWxDYiwgdGltZW91dCk7XG4gICAgJG5ld0xpbmsuYXR0cignaHJlZicsIGhyZWYpO1xuICAgICRoZWFkLmFwcGVuZCgkbmV3TGluayk7XG4gIH0pO1xufTsiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBmb290ZXJcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnJlcXVpcmUoJy4vc2l6ZS1jYWxjdWxhdG9yJyk7XG5yZXF1aXJlKCcuL2ljb25zLWdlbmVyYXRvcicpOyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIGZvb3RlciBpY29ucyBnZW5lcmF0b3IgYnkgU1ZHIGljb25zXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgJCwgcmVmJCwgZWFjaCwgbWFwLCBwYWlyc1RvT2JqLCBTbmFwLCAkZm9vdGVyLCAkbGlua3NCbG9jaztcbiQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnJlZiQgPSByZXF1aXJlKCdwcmVsdWRlJyksIGVhY2ggPSByZWYkLmVhY2gsIG1hcCA9IHJlZiQubWFwLCBwYWlyc1RvT2JqID0gcmVmJC5wYWlyc1RvT2JqO1xuU25hcCA9IHJlcXVpcmUoJ1NuYXAuc3ZnJyk7XG4kZm9vdGVyID0gJCgnZm9vdGVyJyk7XG4kbGlua3NCbG9jayA9ICRmb290ZXIuZmluZCgnLmZvb3Rlci1saW5rcycpO1xuJGxpbmtzQmxvY2suZmluZCgndWw+bGknKS5lYWNoKGZ1bmN0aW9uKCl7XG4gIHZhciAkbGksICRhLCBpY29uUGF0aDtcbiAgJGxpID0gJCh0aGlzKTtcbiAgJGEgPSAkbGkuZmluZCgnYScpO1xuICBpY29uUGF0aCA9ICRsaS5hdHRyKCdkYXRhLWljb24nKTtcbiAgaWYgKCFpY29uUGF0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBTbmFwLmxvYWQoaWNvblBhdGgsIGZ1bmN0aW9uKGYpe1xuICAgIHZhciBpY29uLCBpbmFjdGl2ZSwgYWN0aXZlLCBib3RoLCBmaWxsLCBjb2xvcnM7XG4gICAgaWNvbiA9IGYuc2VsZWN0KCcjaWNvbicpLmFkZENsYXNzKCdpY29uJykuYXR0cih7XG4gICAgICBpZDogJydcbiAgICB9KTtcbiAgICBpbmFjdGl2ZSA9IGZ1bmN0aW9uKGl0KXtcbiAgICAgIHJldHVybiBpdC5hcHBlbmQoZik7XG4gICAgfShcbiAgICBTbmFwKCkpO1xuICAgIGFjdGl2ZSA9IGluYWN0aXZlLmNsb25lKCk7XG4gICAgYm90aCA9IFtpbmFjdGl2ZSwgYWN0aXZlXTtcbiAgICBlYWNoKGZ1bmN0aW9uKGF4aXMpe1xuICAgICAgZWFjaChmdW5jdGlvbihpdCl7XG4gICAgICAgIGl0LmF0dHIoYXhpcywgaXQuc2VsZWN0KCdzdmcnKS5hdHRyKGF4aXMpKTtcbiAgICAgIH0pKFxuICAgICAgYm90aCk7XG4gICAgfSkoXG4gICAgWyd3aWR0aCcsICdoZWlnaHQnXSk7XG4gICAgZmlsbCA9IGN1cnJ5JChmdW5jdGlvbihjb2xvciwgZWwpe1xuICAgICAgcmV0dXJuIGVhY2goZnVuY3Rpb24oaXQpe1xuICAgICAgICBpZiAoaXQgIT0gbnVsbCkge1xuICAgICAgICAgIGl0LmF0dHIoe1xuICAgICAgICAgICAgZmlsbDogY29sb3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSkoXG4gICAgICBmdW5jdGlvbihpdCl7XG4gICAgICAgIHJldHVybiBbaXQsIGl0LnNlbGVjdEFsbCgnKicpXTtcbiAgICAgIH0oXG4gICAgICBmdW5jdGlvbihpdCl7XG4gICAgICAgIHJldHVybiBpdC5zZWxlY3QoJy5pY29uJyk7XG4gICAgICB9KFxuICAgICAgZWwpKSk7XG4gICAgfSk7XG4gICAgY29sb3JzID0gcGFpcnNUb09iaihcbiAgICBtYXAoZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIFtpdCwgJGEuZmluZChcImlucy5cIiArIGl0KS5jc3MoJ2NvbG9yJyldO1xuICAgIH0pKFxuICAgIGVhY2goZnVuY3Rpb24oaXQpe1xuICAgICAgJGEuYXBwZW5kKFwiPGlucyBjbGFzcz0nXCIgKyBpdCArIFwiJyAvPlwiKTtcbiAgICB9KShcbiAgICBbJ2luYWN0aXZlJywgJ2FjdGl2ZSddKSkpO1xuICAgIGZpbGwoY29sb3JzLmluYWN0aXZlKShcbiAgICBpbmFjdGl2ZS5hdHRyKHtcbiAgICAgICdjbGFzcyc6ICdpbmFjdGl2ZSdcbiAgICB9KSk7XG4gICAgZmlsbChjb2xvcnMuYWN0aXZlKShcbiAgICBhY3RpdmUuYXR0cih7XG4gICAgICAnY2xhc3MnOiAnYWN0aXZlJ1xuICAgIH0pKTtcbiAgICBlYWNoKGZ1bmN0aW9uKGl0KXtcbiAgICAgIHJldHVybiBpdC5hcHBlbmRUbygkYS5nZXQoMCkpO1xuICAgIH0pKFxuICAgIGJvdGgpO1xuICB9KTtcbn0pO1xuZnVuY3Rpb24gY3VycnkkKGYsIGJvdW5kKXtcbiAgdmFyIGNvbnRleHQsXG4gIF9jdXJyeSA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICByZXR1cm4gZi5sZW5ndGggPiAxID8gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBwYXJhbXMgPSBhcmdzID8gYXJncy5jb25jYXQoKSA6IFtdO1xuICAgICAgY29udGV4dCA9IGJvdW5kID8gY29udGV4dCB8fCB0aGlzIDogdGhpcztcbiAgICAgIHJldHVybiBwYXJhbXMucHVzaC5hcHBseShwYXJhbXMsIGFyZ3VtZW50cykgPFxuICAgICAgICAgIGYubGVuZ3RoICYmIGFyZ3VtZW50cy5sZW5ndGggP1xuICAgICAgICBfY3VycnkuY2FsbChjb250ZXh0LCBwYXJhbXMpIDogZi5hcHBseShjb250ZXh0LCBwYXJhbXMpO1xuICAgIH0gOiBmO1xuICB9O1xuICByZXR1cm4gX2N1cnJ5KCk7XG59IiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbi8qKlxuICogc2l6ZSBjYWxjdWxhdG9yIGZvciBmb290ZXJcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciByZWYkLCBtYXAsIGVhY2gsIGxpc3RzVG9PYmosIG9ialRvUGFpcnMsIHBhaXJzVG9PYmosIFN0ciwgT2JqLCBjYW1lbGl6ZSwgJCwgZ2V0VmFsLCBnZXRSZWxTY3JlZW5TaXplLCBzaXplQ2FsY0hlbHBlcnMsICR3LCAkYm9keSwgJGZvb3RlciwgJHRleHQsICR0ZXh0UCwgJGxpbmtzQmxvY2ssICRwcm9wLCBiaW5kU3VmZml4LCB3aWR0aHMsIHZhbHNTcmMsIHZhbHMsIGNhbGM7XG5yZWYkID0gcmVxdWlyZSgncHJlbHVkZScpLCBtYXAgPSByZWYkLm1hcCwgZWFjaCA9IHJlZiQuZWFjaCwgbGlzdHNUb09iaiA9IHJlZiQubGlzdHNUb09iaiwgb2JqVG9QYWlycyA9IHJlZiQub2JqVG9QYWlycywgcGFpcnNUb09iaiA9IHJlZiQucGFpcnNUb09iaiwgU3RyID0gcmVmJC5TdHIsIE9iaiA9IHJlZiQuT2JqLCBjYW1lbGl6ZSA9IHJlZiQuY2FtZWxpemU7XG4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5nZXRWYWwgPSByZXF1aXJlKCcuLi9iYXNpY3MnKS5nZXRWYWw7XG5nZXRSZWxTY3JlZW5TaXplID0gcmVxdWlyZSgnLi4vZ2V0LXJlbC1zY3JlZW4tc2l6ZScpO1xuc2l6ZUNhbGNIZWxwZXJzID0gcmVxdWlyZSgnLi4vc2l6ZS1jYWxjLWhlbHBlcnMnKTtcbiR3ID0gJCh3aW5kb3cpO1xuJGJvZHkgPSAkKCdib2R5Jyk7XG4kZm9vdGVyID0gJCgnZm9vdGVyJyk7XG4kdGV4dCA9ICRmb290ZXIuZmluZCgnLnRleHQnKTtcbiR0ZXh0UCA9ICR0ZXh0LmZpbmQoJz5wJyk7XG4kbGlua3NCbG9jayA9ICRmb290ZXIuZmluZCgnLmZvb3Rlci1saW5rcycpO1xuJHByb3AgPSAkYm9keS5maW5kKCc+LnRvcC1wYXJ0Pi5wcm9wJyk7XG5iaW5kU3VmZml4ID0gJy5mb290ZXItc2l6ZS1jYWxjJztcbndpZHRocyA9IGdldFZhbChcbidyZXNwb25zaXZlLXdpZHRocycpO1xudmFsc1NyYyA9IGdldFZhbChcbidmb290ZXInKTtcbnZhbHMgPSBPYmoubWFwKG1hcChmdW5jdGlvbihpdCl7XG4gIHJldHVybiBsaXN0c1RvT2JqKFtpdF0pKFxuICBbdmFsc1NyY1tpdF1dKTtcbn0pKShcbnBhaXJzVG9PYmooXG5tYXAoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gW1xuICAgIFN0ci51bmNoYXJzKFxuICAgIG1hcChTdHIudGFrZSgxKSkoXG4gICAgaXQpKSwgaXRcbiAgXTtcbn0pKFxuW1snc21hbGwnLCAnbWlkZGxlJ10sIFsnbWlkZGxlJywgJ2JpZyddXSkpKTtcbmNhbGMgPSBPYmoubWFwKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIE9iai5tYXAoaXQpKFxuICB2YWxzKTtcbn0pKFxucGFpcnNUb09iaihcbm1hcChmdW5jdGlvbihpdCl7XG4gIHJldHVybiBbaXQsIHNpemVDYWxjSGVscGVyc1tpdF1dO1xufSkoXG5tYXAoY2FtZWxpemUpKFxuWydnZXQtcmVsLXZhbHMnLCAnc2V0LXR5cGljYWwtc2l6ZXMnXSkpKSk7XG4kdy5vbihcInJlc2l6ZVwiICsgYmluZFN1ZmZpeCwgZnVuY3Rpb24oKXtcbiAgdmFyIHNjcmVlblcsIHJhbmdlS2V5O1xuICBzY3JlZW5XID0gZ2V0UmVsU2NyZWVuU2l6ZSgpLnNjcmVlblc7XG4gIGlmICgkYm9keS5oYXNDbGFzcygnbG9hZGVkJykpIHtcbiAgICAoZnVuY3Rpb24oZWxLZXksIHZhbHMpe1xuICAgICAgdmFscyA9IGNhbGMuZ2V0UmVsVmFscy5tYihlbEtleSkodmFscyk7XG4gICAgICAkZm9vdGVyLmNzcyh7XG4gICAgICAgIGhlaWdodDogdmFscy5oZWlnaHQsXG4gICAgICAgIG1hcmdpblRvcDogLXZhbHMuaGVpZ2h0XG4gICAgICB9KTtcbiAgICAgICRwcm9wLmNzcyh7XG4gICAgICAgIGhlaWdodDogdmFscy5oZWlnaHRcbiAgICAgIH0pO1xuICAgIH0uY2FsbCh0aGlzLCAnZm9vdGVyJywgWydoZWlnaHQnXSkpO1xuICB9XG4gIGVhY2goZnVuY3Rpb24oaXQpe1xuICAgIGNhbGMuc2V0VHlwaWNhbFNpemVzLm1iKGl0WzBdLCBpdFsxXSk7XG4gIH0pKFxuICBvYmpUb1BhaXJzKFxuICB7XG4gICAgJ2xpbmtzJzogJGxpbmtzQmxvY2ssXG4gICAgJ2NvcHlyaWdodC10ZXh0LXAnOiAkdGV4dFBcbiAgfSkpO1xuICByYW5nZUtleSA9IGZ1bmN0aW9uKCl7XG4gICAgc3dpdGNoIChmYWxzZSkge1xuICAgIGNhc2UgIShzY3JlZW5XID49IHdpZHRocy5taWRkbGUpOlxuICAgICAgcmV0dXJuICdtYic7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnc20nO1xuICAgIH1cbiAgfSgpO1xuICBlYWNoKGZ1bmN0aW9uKGl0KXtcbiAgICBjYWxjLnNldFR5cGljYWxTaXplc1tyYW5nZUtleV0oaXRbMF0sIGl0WzFdKTtcbiAgfSkoXG4gIG9ialRvUGFpcnMoXG4gIHtcbiAgICAnY29weXJpZ2h0LXRleHQtYmxvY2snOiAkdGV4dFxuICB9KSk7XG59KTtcbiR3LnRyaWdnZXIoXCJyZXNpemVcIiArIGJpbmRTdWZmaXgpOyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIEBhdXRob3IgVmlhY2hlc2xhdiBMb3RzbWFub3ZcbiAqL1xudmFyICQsIGdldFZhbCwgcmF0aW8sICR3O1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuZ2V0VmFsID0gcmVxdWlyZSgnLi9iYXNpY3MnKS5nZXRWYWw7XG5yYXRpbyA9IGdldFZhbCgnd29ya3NwYWNlLXJhdGlvJyk7XG4kdyA9ICQod2luZG93KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXtcbiAgdmFyIHNjcmVlblcsIHNjcmVlbldBYnMsIHNjcmVlbkgsIHRlc3RIO1xuICBzY3JlZW5XID0gJHcud2lkdGgoKTtcbiAgc2NyZWVuV0FicyA9IHNjcmVlblc7XG4gIHNjcmVlbkggPSAkdy5oZWlnaHQoKTtcbiAgdGVzdEggPSAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCAvIHJhdGlvWzBdO1xuICB9KShcbiAgKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgKiByYXRpb1sxXTtcbiAgfSkoXG4gIHNjcmVlblcpKTtcbiAgaWYgKHRlc3RIID4gc2NyZWVuSCkge1xuICAgIHNjcmVlblcgPSAoZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIGl0IC8gcmF0aW9bMV07XG4gICAgfSkoXG4gICAgKGZ1bmN0aW9uKGl0KXtcbiAgICAgIHJldHVybiBpdCAqIHJhdGlvWzBdO1xuICAgIH0pKFxuICAgIHNjcmVlbkgpKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHNjcmVlblc6IHNjcmVlblcsXG4gICAgc2NyZWVuV0Ficzogc2NyZWVuV0FicyxcbiAgICBzY3JlZW5IOiBzY3JlZW5IXG4gIH07XG59OyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIEhhcyBET00tZWxlbWVudCBieSBoYXNoXG4gKiBDaGVja2luZyBpZiBlbGVtZW50IGV4aXN0cyB3aXRoIGlkIGJ5IHNwZWNpZmljIGhhc2ggKHNhZmUgZm9yIGNvcnJlY3QgalF1ZXJ5IHNlbGVjdG9yKS5cbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciByZWYkLCBkcm9wV2hpbGUsIGRyb3AsICQ7XG5yZWYkID0gcmVxdWlyZSgncHJlbHVkZScpLCBkcm9wV2hpbGUgPSByZWYkLmRyb3BXaGlsZSwgZHJvcCA9IHJlZiQuZHJvcDtcbiQgPSByZXF1aXJlKCdqcXVlcnknKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXJsKXtcbiAgdmFyIGhhc2gsIGhhc2hJZCwgY29ycmVjdEhhc2g7XG4gIGhhc2ggPSBkcm9wV2hpbGUoKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgIT09ICcjJztcbiAgfSkpKFxuICB1cmwpO1xuICBoYXNoSWQgPSBkcm9wKDEpKFxuICBoYXNoKTtcbiAgY29ycmVjdEhhc2ggPSAvXlthLXpBLVowLTktX10rJC8uZXhlYyhoYXNoSWQpO1xuICBpZiAoIWNvcnJlY3RIYXNoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAkKGhhc2gpLmxlbmd0aCA+IDA7XG59OyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIEhhc2ggbmF2aWdhdGlvbiB3YXRjaGVyXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgJCwgaW50ZXJ2YWwsIGJpbmRTdWZmaXgsICR3LCB0aW1lcklkLCBsYXN0Um91dGUsIHdhdGNoZXIsIGluaXQsIGRlc3Ryb3ksIG91dCQgPSB0eXBlb2YgZXhwb3J0cyAhPSAndW5kZWZpbmVkJyAmJiBleHBvcnRzIHx8IHRoaXM7XG4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5pbnRlcnZhbCA9IDUwMDtcbmJpbmRTdWZmaXggPSAnLmhhc2gtbmF2LXdhdGNoZXInO1xuJHcgPSAkKHdpbmRvdyk7XG50aW1lcklkID0gbnVsbDtcbmxhc3RSb3V0ZSA9IG51bGw7XG53YXRjaGVyID0gZnVuY3Rpb24oKXtcbiAgdmFyIGN1cnJlbnRSb3V0ZTtcbiAgY3VycmVudFJvdXRlID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSk7XG4gIGlmIChjdXJyZW50Um91dGUgIT09IGxhc3RSb3V0ZSkge1xuICAgICR3LnRyaWdnZXIoJ2hhc2gtbmF2aWdhdGVkJywgY3VycmVudFJvdXRlKTtcbiAgICBsYXN0Um91dGUgPSBjdXJyZW50Um91dGU7XG4gIH1cbn07XG5vdXQkLmluaXQgPSBpbml0ID0gZnVuY3Rpb24oaW5pdFJvdXRlKXtcbiAgaW5pdFJvdXRlID09IG51bGwgJiYgKGluaXRSb3V0ZSA9IG51bGwpO1xuICBpZiAodGltZXJJZCAhPSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbHJlYWR5IGluaXRpYWxpemVkJyk7XG4gIH1cbiAgaWYgKGluaXRSb3V0ZSAhPSBudWxsKSB7XG4gICAgbGFzdFJvdXRlID0gaW5pdFJvdXRlO1xuICB9XG4gIHRpbWVySWQgPSBzZXRJbnRlcnZhbCh3YXRjaGVyLCBpbnRlcnZhbCk7XG4gICR3Lm9uKFwiaGFzaC1uYXYtaGFuZGxlXCIgKyBiaW5kU3VmZml4LCB3YXRjaGVyKTtcbn07XG5vdXQkLmRlc3Ryb3kgPSBkZXN0cm95ID0gZnVuY3Rpb24oKXtcbiAgJHcub2ZmKFwiaGFzaC1uYXYtaGFuZGxlXCIgKyBiaW5kU3VmZml4LCB3YXRjaGVyKTtcbiAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgdGltZXJJZCA9IG51bGw7XG4gIGxhc3RSb3V0ZSA9IG51bGw7XG59OyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIGRldGVjdCBjdXJyZW50IGFuY2hvciBieSBzY3JvbGxcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciAkLCBqcXVlcnksIHJlZiQsIGFsbCwgbWFwLCBwYWlyc1RvT2JqLCBvYmpUb1BhaXJzLCBPYmosIGZvbGQxLCBnZXRWYWwsIGhhc0VsQnlIYXNoLCAkdywgJGh0bWwsICRwYWdlLCAkYm9keSwgJGhlYWRlciwgJG1lbnUsICRuYXYsICRuYXZMaW5rcywgJGhlaWdodEhlbHBlciwgJGdlbmVyYWxDYXJkcywgJGNhcmRzLCBtYWluUGFnZSwgYmluZFN1ZmZpeCwgcGF0aG5hbWUsIGN1clBhZ2VIYXNoZXMsIGlzQ2FyZEhhc2gsIGxhc3RDYXJkSGFzaCwgaGFzaEhhbmRsZXIsIHNjcm9sbEhhbmRsZXI7XG4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5qcXVlcnkgPSByZXF1aXJlKCdqcXVlcnkudGltZXJzJyk7XG5yZWYkID0gcmVxdWlyZSgncHJlbHVkZScpLCBhbGwgPSByZWYkLmFsbCwgbWFwID0gcmVmJC5tYXAsIHBhaXJzVG9PYmogPSByZWYkLnBhaXJzVG9PYmosIG9ialRvUGFpcnMgPSByZWYkLm9ialRvUGFpcnMsIE9iaiA9IHJlZiQuT2JqLCBmb2xkMSA9IHJlZiQuZm9sZDE7XG5nZXRWYWwgPSByZXF1aXJlKCcuLi9iYXNpY3MnKS5nZXRWYWw7XG5oYXNFbEJ5SGFzaCA9IHJlcXVpcmUoJy4uL2hhcy1lbC1ieS1oYXNoJyk7XG4kdyA9ICQod2luZG93KTtcbiRodG1sID0gJCgnaHRtbCcpO1xuJHBhZ2UgPSAkKCdodG1sLCBib2R5Jyk7XG4kYm9keSA9ICRodG1sLmZpbmQoJ2JvZHknKTtcbiRoZWFkZXIgPSAkYm9keS5maW5kKCdoZWFkZXInKTtcbiRtZW51ID0gJGhlYWRlci5maW5kKCcubWVudScpO1xuJG5hdiA9ICRtZW51LmZpbmQoJ25hdicpO1xuJG5hdkxpbmtzID0gJG5hdi5maW5kKCdhJyk7XG4kaGVpZ2h0SGVscGVyID0gJGhlYWRlci5maW5kKCcuaGVpZ2h0LWhlbHBlcicpO1xuJGdlbmVyYWxDYXJkcyA9ICRib2R5LmZpbmQoJy5nZW5lcmFsLWNhcmRzJyk7XG4kY2FyZHMgPSAkZ2VuZXJhbENhcmRzLmZpbmQoJy5jYXJkJyk7XG5tYWluUGFnZSA9ICRodG1sLmhhc0NsYXNzKCdnZW5lcmFsLXBhZ2UnKTtcbmJpbmRTdWZmaXggPSAnLmhlYWRlci1tZW51LWF1dG8tZGV0ZWN0LWN1cnJlbnQtYW5jaG9yJztcbnBhdGhuYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuY3VyUGFnZUhhc2hlcyA9IHBhaXJzVG9PYmooXG4oZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQuY29uY2F0KG1hcChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIFtcbiAgICAgIGl0Lmhhc2gsIHtcbiAgICAgICAgJHNlY3Rpb246ICQoaXQuaGFzaCksXG4gICAgICAgICRuYXZMaW5rOiAkKGl0KVxuICAgICAgfVxuICAgIF07XG4gIH0pKFxuICAkbmF2TGlua3MpKTtcbn0pKFxuKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0LmNvbmNhdChtYXAoZnVuY3Rpb24oaXQpe1xuICAgIHZhciAkc2VjdGlvbjtcbiAgICAkc2VjdGlvbiA9ICQoaXQpO1xuICAgIHJldHVybiBbXG4gICAgICBcIiNcIiArICRzZWN0aW9uLmF0dHIoJ2lkJyksIHtcbiAgICAgICAgJHNlY3Rpb246ICRzZWN0aW9uLFxuICAgICAgICAkbmF2TGluazogbnVsbFxuICAgICAgfVxuICAgIF07XG4gIH0pKFxuICAkY2FyZHMpKTtcbn0pKFxuW10pKSk7XG5pc0NhcmRIYXNoID0gY29tcG9zZSQoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQuaW5kZXhPZignI2NhcmQtbicpO1xufSwgKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ID09PSAwO1xufSkpO1xubGFzdENhcmRIYXNoID0gbnVsbDtcbmhhc2hIYW5kbGVyID0gZnVuY3Rpb24oXywgcm91dGUpe1xuICB2YXIgcm91dGVXaXRoSGFzaDtcbiAgcm91dGVXaXRoSGFzaCA9IFwiI1wiICsgcm91dGU7XG4gIGlmIChpc0NhcmRIYXNoKFxuICByb3V0ZVdpdGhIYXNoKSkge1xuICAgIGxhc3RDYXJkSGFzaCA9IHJvdXRlV2l0aEhhc2g7XG4gIH1cbn07XG5zY3JvbGxIYW5kbGVyID0gZnVuY3Rpb24oKXtcbiAgdmFyIHN0LCBzdG9mLCBuZXdIYXNoLCAkbmF2TGluaztcbiAgaWYgKCRib2R5Lmhhc0NsYXNzKCdzY3JvbGxpbmcnKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBzdCA9ICR3LnNjcm9sbFRvcCgpO1xuICBzdG9mID0gc3QgKyAkaGVpZ2h0SGVscGVyLmhlaWdodCgpO1xuICBuZXdIYXNoID0gZnVuY3Rpb24oaXQpe1xuICAgIHZhciBoYXNoO1xuICAgIGlmIChpdCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaGFzaCA9IGl0WzBdO1xuICAgIGlmIChpc0NhcmRIYXNoKFxuICAgIGhhc2gpKSB7XG4gICAgICByZXR1cm4gJyNjYXJkLW4wJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuICB9KFxuICBmb2xkMShmdW5jdGlvbihhLCBiKXtcbiAgICBpZiAoYlsxXSA+PSBhWzFdKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICB9KShcbiAgb2JqVG9QYWlycyhcbiAgT2JqLmZpbHRlcigoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCA8PSBzdG9mO1xuICB9KSkoXG4gIE9iai5tYXAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdC4kc2VjdGlvbi5vZmZzZXQoKS50b3A7XG4gIH0pKFxuICBPYmouZmlsdGVyKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQuJHNlY3Rpb24uaXMoJzp2aXNpYmxlJyk7XG4gIH0pKFxuICBjdXJQYWdlSGFzaGVzKSkpKSkpO1xuICBpZiAobmV3SGFzaCAhPSBudWxsICYmIG5ld0hhc2ggIT09IHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgJG5hdkxpbmtzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkbmF2TGluayA9IGN1clBhZ2VIYXNoZXNbbmV3SGFzaF0uJG5hdkxpbms7XG4gICAgJG5hdi5zdG9wVGltZSgnaGVhZGVyLXNpemUtY2FsYycpO1xuICAgIGlmICgkbmF2TGluayAhPSBudWxsKSB7XG4gICAgICAkbmF2TGluay5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICAgIChmdW5jdGlvbihpdCl7XG4gICAgICB2YXIgaGFzaFRvU2V0O1xuICAgICAgaWYgKGl0KSB7XG4gICAgICAgIGhhc2hUb1NldCA9IChmdW5jdGlvbigpe1xuICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICBjYXNlICEoaXNDYXJkSGFzaChcbiAgICAgICAgICBuZXdIYXNoKSAmJiBsYXN0Q2FyZEhhc2ggIT0gbnVsbCk6XG4gICAgICAgICAgICByZXR1cm4gbGFzdENhcmRIYXNoO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3SGFzaDtcbiAgICAgICAgICB9XG4gICAgICAgIH0oKSk7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBudWxsLCBoYXNoVG9TZXQpO1xuICAgICAgICAkbmF2Lm9uZVRpbWUoZ2V0VmFsKFxuICAgICAgICAnYW5pbWF0aW9uLXNwZWVkJyksICdoZWFkZXItc2l6ZS1jYWxjJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAkdy50cmlnZ2VyKCdzY3JvbGwuaGVhZGVyLXNpemUtY2FsYycpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KShcbiAgICBub3QkKFxuICAgIGFsbChpc0NhcmRIYXNoKShcbiAgICBbbmV3SGFzaCwgd2luZG93LmxvY2F0aW9uLmhhc2hdKSkpO1xuICB9XG59O1xuJHcub24oXCJzY3JvbGxcIiArIGJpbmRTdWZmaXgsIHNjcm9sbEhhbmRsZXIpLm9uKFwicmVzaXplXCIgKyBiaW5kU3VmZml4LCBzY3JvbGxIYW5kbGVyKS5vbihcImhhc2gtbmF2aWdhdGVkXCIgKyBiaW5kU3VmZml4LCBoYXNoSGFuZGxlcik7XG4kdy50cmlnZ2VyKFwiaGFzaC1uYXZpZ2F0ZWRcIiArIGJpbmRTdWZmaXgsIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpKTtcbmZ1bmN0aW9uIGNvbXBvc2UkKCkge1xuICB2YXIgZnVuY3Rpb25zID0gYXJndW1lbnRzO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGksIHJlc3VsdDtcbiAgICByZXN1bHQgPSBmdW5jdGlvbnNbMF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgZnVuY3Rpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICByZXN1bHQgPSBmdW5jdGlvbnNbaV0ocmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbmZ1bmN0aW9uIG5vdCQoeCl7IHJldHVybiAheDsgfSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIHNob3cgb3IgaGlkZSBoZWFkZXIgYmxvY2sgYnkgc2Nyb2xsXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgJCwgJHcsICRodG1sLCAkYm9keSwgJGhlYWRlciwgJGhlaWdodEhlbHBlciwgJGNhcmRzLCBtYWluUGFnZSwgYmluZFN1ZmZpeCwgc2Nyb2xsSGFuZGxlcjtcbiQgPSByZXF1aXJlKCdqcXVlcnknKTtcbiR3ID0gJCh3aW5kb3cpO1xuJGh0bWwgPSAkKCdodG1sJyk7XG4kYm9keSA9ICRodG1sLmZpbmQoJ2JvZHknKTtcbiRoZWFkZXIgPSAkYm9keS5maW5kKCdoZWFkZXInKTtcbiRoZWlnaHRIZWxwZXIgPSAkaGVhZGVyLmZpbmQoJy5oZWlnaHQtaGVscGVyJyk7XG4kY2FyZHMgPSAkKCcuZ2VuZXJhbC1jYXJkcycpO1xubWFpblBhZ2UgPSAkaHRtbC5oYXNDbGFzcygnZ2VuZXJhbC1wYWdlJyk7XG5pZiAoIW1haW5QYWdlKSB7XG4gICRoZWFkZXIuYWRkQ2xhc3MoJ3Njcm9sbC1tZW51LWFjdGl2ZScpO1xuICByZXR1cm47XG59XG5iaW5kU3VmZml4ID0gJy5oZWFkZXItbWVudS1zaG93LWFmdGVyLWNhcmRzJztcbnNjcm9sbEhhbmRsZXIgPSBmdW5jdGlvbigpe1xuICB2YXIgc3Q7XG4gIHN0ID0gJHcuc2Nyb2xsVG9wKCkgKyAkaGVpZ2h0SGVscGVyLmhlaWdodCgpO1xuICBpZiAoc3QgPj0gJGNhcmRzLmhlaWdodCgpKSB7XG4gICAgJGhlYWRlci5hZGRDbGFzcygnc2Nyb2xsLW1lbnUtYWN0aXZlJyk7XG4gIH0gZWxzZSB7XG4gICAgJGhlYWRlci5yZW1vdmVDbGFzcygnc2Nyb2xsLW1lbnUtYWN0aXZlJyk7XG4gIH1cbn07XG4kdy5vbihcInNjcm9sbFwiICsgYmluZFN1ZmZpeCwgc2Nyb2xsSGFuZGxlcikub24oXCJyZXNpemVcIiArIGJpbmRTdWZmaXgsIHNjcm9sbEhhbmRsZXIpO1xuc2Nyb2xsSGFuZGxlcigpOyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIEhlYWRlclxuICpcbiAqIEBhdXRob3IgVmlhY2hlc2xhdiBMb3RzbWFub3ZcbiAqL1xudmFyICQsIGdldFZhbCwgbGlua0hhbmRsZXIsICRodG1sLCAkYm9keSwgJGhlYWRlciwgJGxvZ28sICRjYWxsTWVudSwgJG1lbnUsICRuYXYsICRuYXZMaW5rcywgbWFpblBhZ2UsIHNpemVzLCAkaGVscGVyO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuZ2V0VmFsID0gcmVxdWlyZSgnLi4vYmFzaWNzJykuZ2V0VmFsO1xubGlua0hhbmRsZXIgPSByZXF1aXJlKCcuLi9saW5rLWhhbmRsZXInKTtcbiRodG1sID0gJCgnaHRtbCcpO1xuJGJvZHkgPSAkaHRtbC5maW5kKCdib2R5Jyk7XG4kaGVhZGVyID0gJGJvZHkuZmluZCgnaGVhZGVyJyk7XG4kbG9nbyA9ICRoZWFkZXIuZmluZCgnLmxvZ28nKTtcbiRjYWxsTWVudSA9ICRoZWFkZXIuZmluZCgnLmNhbGwtbWVudScpO1xuJG1lbnUgPSAkaGVhZGVyLmZpbmQoJy5tZW51Jyk7XG4kbmF2ID0gJG1lbnUuZmluZCgnbmF2Jyk7XG4kbmF2TGlua3MgPSAkbmF2LmZpbmQoJ2EnKTtcbm1haW5QYWdlID0gJGh0bWwuaGFzQ2xhc3MoJ2dlbmVyYWwtcGFnZScpO1xuc2l6ZXMgPSBnZXRWYWwoJ2hlYWRlcicpO1xuJGxvZ28uY2xpY2sobGlua0hhbmRsZXIpO1xuJGhlbHBlciA9ICQoJzxkaXYvPicsIHtcbiAgJ2NsYXNzJzogJ2NlbnRlcmluZy1oZWxwZXInXG59KTtcbiRuYXYuYXBwZW5kKCRoZWxwZXIpO1xuJGNhbGxNZW51LmNsaWNrKGZ1bmN0aW9uKCl7XG4gIGlmIChtYWluUGFnZSAmJiAhJGJvZHkuaGFzQ2xhc3MoJ2xvYWRlZCcpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICgkaGVhZGVyLmhhc0NsYXNzKCdtZW51LWFjdGl2ZScpKSB7XG4gICAgJGhlYWRlci5yZW1vdmVDbGFzcygnbWVudS1hY3RpdmUnKTtcbiAgfSBlbHNlIHtcbiAgICAkbmF2LmNzcygndG9wJywgJycpO1xuICAgICRoZWFkZXIuYWRkQ2xhc3MoJ21lbnUtYWN0aXZlJyk7XG4gIH1cbiAgJGhlYWRlci50cmlnZ2VyKCdtZW51LXN0YXRlLWNoYW5nZWQnKTtcbiAgcmV0dXJuIGZhbHNlO1xufSk7XG4kbmF2TGlua3MuY2xpY2sobGlua0hhbmRsZXIpO1xucmVxdWlyZSgnLi9maXhlZC1oZWFkZXItYmxvY2snKTtcbnJlcXVpcmUoJy4vYW5jaG9yLWRldGVjdG9yJyk7XG5yZXF1aXJlKCcuL3NpemUtY2FsY3VsYXRvcicpOyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIHJlY2FsY3VsYXRpbmcgaGVhZGVyIHNpemUgYnkgd29ya3NwYWNlIHNpemVcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciByZWYkLCBtYXAsIGNhbWVsaXplLCBsaXN0c1RvT2JqLCByZWplY3QsIGVhY2gsIE9iaiwgb2JqVG9QYWlycywgcGFpcnNUb09iaiwgJCwgZ2V0VmFsLCByZWxudW0sIGdldFJlbFNjcmVlblNpemUsICR3LCAkaHRtbCwgJGhlYWQsICRib2R5LCAkaGVhZGVyLCAkaGVpZ2h0SGVscGVyLCAkZml4ZWRIZWFkZXIsICRiZ0hlbHBlciwgJHRvcFBhcnQsICRhbGxMb2dvcywgJGNhcmROMExvZ28sICRsb2dvLCAkYWxsTG9nb3NUZXh0LCAkYWxsTG9nb3NJbWcsICRsb2dvVGV4dCwgJGNhbGxNZW51LCAkbWVudSwgJG5hdiwgJG5hdkl0ZW1zLCBiaW5kU3VmZml4LCBzdWJQYWdlLCB3aWR0aHMsIHNpemVzLCBzcGVlZCwgZ2V0SGVhZGVyVmFscywgZ2V0TG9nb1ZhbHMsIGdldENhbGxNZW51VmFscywgZ2V0TmF2VmFscywgbm9ybWFsU2NyZWVuUmVzZXQsIHVwZGF0ZVNpemVDbGFzcywgc2xpY2UkID0gW10uc2xpY2U7XG5yZWYkID0gcmVxdWlyZSgncHJlbHVkZScpLCBtYXAgPSByZWYkLm1hcCwgY2FtZWxpemUgPSByZWYkLmNhbWVsaXplLCBsaXN0c1RvT2JqID0gcmVmJC5saXN0c1RvT2JqLCByZWplY3QgPSByZWYkLnJlamVjdCwgZWFjaCA9IHJlZiQuZWFjaCwgT2JqID0gcmVmJC5PYmosIG9ialRvUGFpcnMgPSByZWYkLm9ialRvUGFpcnMsIHBhaXJzVG9PYmogPSByZWYkLnBhaXJzVG9PYmo7XG4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5nZXRWYWwgPSByZXF1aXJlKCcuLi9iYXNpY3MnKS5nZXRWYWw7XG5yZWxudW0gPSByZXF1aXJlKCdyZWxhdGl2ZS1udW1iZXInKTtcbmdldFJlbFNjcmVlblNpemUgPSByZXF1aXJlKCcuLi9nZXQtcmVsLXNjcmVlbi1zaXplJyk7XG5yZXF1aXJlKCdqcXVlcnkudHJhbnNpdCcpO1xuJHcgPSAkKHdpbmRvdyk7XG4kaHRtbCA9ICQoJ2h0bWwnKTtcbiRoZWFkID0gJGh0bWwuZmluZCgnaGVhZCcpO1xuJGJvZHkgPSAkaHRtbC5maW5kKCdib2R5Jyk7XG4kaGVhZGVyID0gJGJvZHkuZmluZCgnaGVhZGVyJyk7XG4kaGVpZ2h0SGVscGVyID0gJGhlYWRlci5maW5kKCcuaGVpZ2h0LWhlbHBlcicpO1xuJGZpeGVkSGVhZGVyID0gJGhlYWRlci5maW5kKCcuZml4ZWQtaGVhZGVyJyk7XG4kYmdIZWxwZXIgPSAkZml4ZWRIZWFkZXIuZmluZCgnLmJnLWhlbHBlcicpO1xuJHRvcFBhcnQgPSAkYm9keS5maW5kKCcudG9wLXBhcnQnKTtcbiRhbGxMb2dvcyA9ICRoZWFkZXIuZmluZCgnLmxvZ28nKTtcbiRjYXJkTjBMb2dvID0gJGhlYWRlci5maW5kKCc+LmxvZ28nKTtcbiRsb2dvID0gJGFsbExvZ29zLm5vdCgkY2FyZE4wTG9nbyk7XG4kYWxsTG9nb3NUZXh0ID0gJGFsbExvZ29zLmZpbmQoJy5sb2dvLXRleHQnKTtcbiRhbGxMb2dvc0ltZyA9ICRhbGxMb2dvcy5maW5kKCcubG9nby1pbWFnZScpO1xuJGxvZ29UZXh0ID0gJGxvZ28uZmluZCgnLmxvZ28tdGV4dCcpO1xuJGNhbGxNZW51ID0gJGhlYWRlci5maW5kKCcuY2FsbC1tZW51Jyk7XG4kbWVudSA9ICRoZWFkZXIuZmluZCgnLm1lbnUnKTtcbiRuYXYgPSAkbWVudS5maW5kKCduYXYnKTtcbiRuYXZJdGVtcyA9ICRuYXYuZmluZCgnPi53cmFwPmEsID4ud3JhcD5zcGFuJyk7XG5iaW5kU3VmZml4ID0gJy5oZWFkZXItc2l6ZS1jYWxjJztcbnN1YlBhZ2UgPSAkaHRtbC5oYXNDbGFzcygnc3ViLXBhZ2UnKTtcbndpZHRocyA9IGdldFZhbChcbidyZXNwb25zaXZlLXdpZHRocycpO1xuc2l6ZXMgPSBnZXRWYWwoXG4naGVhZGVyJyk7XG5zcGVlZCA9IChmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAqIDI7XG59KShcbmdldFZhbChcbidhbmltYXRpb24tc3BlZWQnKSk7XG5nZXRIZWFkZXJWYWxzID0gZnVuY3Rpb24oYXJnJCl7XG4gIHZhciBoZWxwZXIsIHJlZiQsIGZpeGVkSGVhZGVyLCBzY3JlZW5XLCByZWxudW1PcHRzLCBoZWlnaHQsIHdpZHRoO1xuICBoZWxwZXIgPSAocmVmJCA9IGFyZyQuaGVscGVyKSAhPSBudWxsID8gcmVmJCA6IGZhbHNlLCBmaXhlZEhlYWRlciA9IChyZWYkID0gYXJnJC5maXhlZEhlYWRlcikgIT0gbnVsbCA/IHJlZiQgOiBmYWxzZTtcbiAgc2NyZWVuVyA9IGdldFJlbFNjcmVlblNpemUoKS5zY3JlZW5XO1xuICByZWxudW1PcHRzID0ge1xuICAgIHJlbFZhbDogc2NyZWVuVyxcbiAgICByZWxNaW46IHdpZHRocy5taWRkbGUsXG4gICAgcmVsTWF4OiB3aWR0aHMuYmlnXG4gIH07XG4gIGhlaWdodCA9IGZ1bmN0aW9uKCl7XG4gICAgc3dpdGNoIChmYWxzZSkge1xuICAgIGNhc2UgIShzY3JlZW5XID49IHdpZHRocy5taWRkbGUpOlxuICAgICAgcmV0dXJuIE1hdGgucm91bmQocmVsbnVtKGltcG9ydEFsbCQoY2xvbmUkKHJlbG51bU9wdHMpLCB7XG4gICAgICAgIG1pbjogc2l6ZXMubWlkZGxlLmhlaWdodCxcbiAgICAgICAgbWF4OiBzaXplcy5iaWcuaGVpZ2h0XG4gICAgICB9KSkpO1xuICAgIGNhc2UgIShzY3JlZW5XID49IHdpZHRocy5zbWFsbCk6XG4gICAgICByZXR1cm4gc2l6ZXMubWlkZGxlLmhlaWdodDtcbiAgICBjYXNlICFoZWxwZXI6XG4gICAgICByZXR1cm4gc2l6ZXMuc21hbGwuaGVscGVySGVpZ2h0O1xuICAgIGNhc2UgIWZpeGVkSGVhZGVyOlxuICAgICAgcmV0dXJuICcxMDAlJztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHNpemVzLnNtYWxsLmhlaWdodDtcbiAgICB9XG4gIH0oKTtcbiAgd2lkdGggPSBzY3JlZW5XIDw9IHdpZHRocy5zbWFsbCA/IHNpemVzLnNtYWxsLndpZHRoIDogJzEwMCUnO1xuICBpZiAoZml4ZWRIZWFkZXIpIHtcbiAgICB3aWR0aCA9ICcxMDAlJztcbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xufTtcbmdldExvZ29WYWxzID0gZnVuY3Rpb24oKXtcbiAgdmFyIHNjcmVlblcsIHJlbG51bU9wdHMsIHNpemUsIGxlZnQsIHRvcE1pbiwgdG9wTWF4LCB0b3AsIHRleHRWYWwsIGtleXMsIHRleHQ7XG4gIHNjcmVlblcgPSBnZXRSZWxTY3JlZW5TaXplKCkuc2NyZWVuVztcbiAgcmVsbnVtT3B0cyA9IHtcbiAgICByZWxWYWw6IHNjcmVlblcsXG4gICAgcmVsTWluOiB3aWR0aHMubWlkZGxlLFxuICAgIHJlbE1heDogd2lkdGhzLmJpZ1xuICB9O1xuICBzaXplID0gZnVuY3Rpb24oKXtcbiAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgY2FzZSAhKHNjcmVlblcgPj0gd2lkdGhzLm1pZGRsZSk6XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZChyZWxudW0oaW1wb3J0QWxsJChjbG9uZSQocmVsbnVtT3B0cyksIHtcbiAgICAgICAgbWluOiBzaXplcy5taWRkbGUubG9nby5zaXplLFxuICAgICAgICBtYXg6IHNpemVzLmJpZy5sb2dvLnNpemVcbiAgICAgIH0pKSk7XG4gICAgY2FzZSAhKHNjcmVlblcgPj0gd2lkdGhzLnNtYWxsKTpcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHJlbG51bShpbXBvcnRBbGwkKGNsb25lJChyZWxudW1PcHRzKSwge1xuICAgICAgICByZWxNaW46IHdpZHRocy5zbWFsbCxcbiAgICAgICAgcmVsTWF4OiB3aWR0aHMubWlkZGxlLFxuICAgICAgICBtaW46IHNpemVzLnNtYWxsLmxvZ28uc2l6ZSxcbiAgICAgICAgbWF4OiBzaXplcy5taWRkbGUubG9nby5zaXplXG4gICAgICB9KSkpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc2l6ZXMuc21hbGwubG9nby5zaXplO1xuICAgIH1cbiAgfSgpO1xuICBsZWZ0ID0gc2l6ZXMuYWxsLmxvZ28ubGVmdDtcbiAgdG9wTWluID0gKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgLyAyO1xuICB9KShcbiAgKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgLSBzaXplcy5taWRkbGUubG9nby5zaXplO1xuICB9KShcbiAgc2l6ZXMubWlkZGxlLmhlaWdodCkpO1xuICB0b3BNYXggPSAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCAvIDI7XG4gIH0pKFxuICAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCAtIHNpemVzLmJpZy5sb2dvLnNpemU7XG4gIH0pKFxuICBzaXplcy5iaWcuaGVpZ2h0KSk7XG4gIHRvcCA9IE1hdGgucm91bmQocmVsbnVtKGltcG9ydEFsbCQoY2xvbmUkKHJlbG51bU9wdHMpLCB7XG4gICAgbWluOiB0b3BNaW4sXG4gICAgbWF4OiB0b3BNYXhcbiAgfSkpKTtcbiAgdGV4dFZhbCA9IGZ1bmN0aW9uKGtleSl7XG4gICAgc3dpdGNoIChmYWxzZSkge1xuICAgIGNhc2UgIShzY3JlZW5XID49IHdpZHRocy5taWRkbGUpOlxuICAgICAgcmV0dXJuIE1hdGgucm91bmQocmVsbnVtKGltcG9ydEFsbCQoY2xvbmUkKHJlbG51bU9wdHMpLCB7XG4gICAgICAgIG1pbjogc2l6ZXMubWlkZGxlLmxvZ28udGV4dFtrZXldLFxuICAgICAgICBtYXg6IHNpemVzLmJpZy5sb2dvLnRleHRba2V5XVxuICAgICAgfSkpKTtcbiAgICBjYXNlICEoc2NyZWVuVyA+PSB3aWR0aHMuc21hbGwpOlxuICAgICAgcmV0dXJuIE1hdGgucm91bmQocmVsbnVtKGltcG9ydEFsbCQoY2xvbmUkKHJlbG51bU9wdHMpLCB7XG4gICAgICAgIHJlbE1pbjogd2lkdGhzLnNtYWxsLFxuICAgICAgICByZWxNYXg6IHdpZHRocy5taWRkbGUsXG4gICAgICAgIG1pbjogc2l6ZXMuc21hbGwubG9nby50ZXh0W2tleV0sXG4gICAgICAgIG1heDogc2l6ZXMubWlkZGxlLmxvZ28udGV4dFtrZXldXG4gICAgICB9KSkpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc2l6ZXMuc21hbGwubG9nby50ZXh0W2tleV07XG4gICAgfVxuICB9O1xuICBrZXlzID0gbWFwKGNhbWVsaXplKShcbiAgWydtYXJnaW4tbGVmdCcsICdmb250LXNpemUnLCAnbGluZS1oZWlnaHQnXSk7XG4gIHRleHQgPSBsaXN0c1RvT2JqKGtleXMpKFxuICBtYXAodGV4dFZhbCkoXG4gIGtleXMpKTtcbiAgcmV0dXJuIHtcbiAgICBzaXplOiBzaXplLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgdG9wOiB0b3AsXG4gICAgdGV4dDogdGV4dFxuICB9O1xufTtcbmdldENhbGxNZW51VmFscyA9IGZ1bmN0aW9uKCl7XG4gIHZhciBzY3JlZW5XLCByZWxudW1PcHRzLCB2YWxDYWxjLCBrZXlzO1xuICBzY3JlZW5XID0gZ2V0UmVsU2NyZWVuU2l6ZSgpLnNjcmVlblc7XG4gIHJlbG51bU9wdHMgPSB7XG4gICAgcmVsVmFsOiBzY3JlZW5XLFxuICAgIHJlbE1pbjogd2lkdGhzLm1pZGRsZSxcbiAgICByZWxNYXg6IHdpZHRocy5iaWdcbiAgfTtcbiAgdmFsQ2FsYyA9IGZ1bmN0aW9uKGtleSl7XG4gICAgc3dpdGNoIChmYWxzZSkge1xuICAgIGNhc2UgIShzY3JlZW5XID49IHdpZHRocy5taWRkbGUpOlxuICAgICAgcmV0dXJuIHJlbG51bShpbXBvcnRBbGwkKGNsb25lJChyZWxudW1PcHRzKSwge1xuICAgICAgICBtaW46IHNpemVzLm1pZGRsZS5jYWxsTWVudVtrZXldLFxuICAgICAgICBtYXg6IHNpemVzLmJpZy5jYWxsTWVudVtrZXldXG4gICAgICB9KSk7XG4gICAgY2FzZSAhKHNjcmVlblcgPj0gd2lkdGhzLnNtYWxsKTpcbiAgICAgIHJldHVybiByZWxudW0oaW1wb3J0QWxsJChjbG9uZSQocmVsbnVtT3B0cyksIHtcbiAgICAgICAgcmVsTWluOiB3aWR0aHMuc21hbGwsXG4gICAgICAgIHJlbE1heDogd2lkdGhzLm1pZGRsZSxcbiAgICAgICAgbWluOiBzaXplcy5zbWFsbC5jYWxsTWVudVtrZXldLFxuICAgICAgICBtYXg6IHNpemVzLm1pZGRsZS5jYWxsTWVudVtrZXldXG4gICAgICB9KSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzaXplcy5zbWFsbC5jYWxsTWVudVtrZXldO1xuICAgIH1cbiAgfTtcbiAga2V5cyA9IG1hcChjYW1lbGl6ZSkoXG4gIFsncmlnaHQnLCAndG9wJywgJ3NjYWxlJ10pO1xuICByZXR1cm4gcGFpcnNUb09iaihcbiAgbWFwKGZ1bmN0aW9uKGl0KXtcbiAgICBpZiAoaXRbMF0gIT09ICdzY2FsZScpIHtcbiAgICAgIGl0WzFdID0gTWF0aC5yb3VuZChpdFsxXSk7XG4gICAgfVxuICAgIHJldHVybiBpdDtcbiAgfSkoXG4gIG9ialRvUGFpcnMoXG4gIGxpc3RzVG9PYmooa2V5cykoXG4gIG1hcCh2YWxDYWxjKShcbiAga2V5cykpKSkpO1xufTtcbmdldE5hdlZhbHMgPSBmdW5jdGlvbigpe1xuICB2YXIgc2NyZWVuVywgcmVsbnVtT3B0cywgcmVzLCB2YWxDYWxjLCBrZXlzLCB0b3AsIGl0ZW1DYWxjLCBpdGVtO1xuICBzY3JlZW5XID0gZ2V0UmVsU2NyZWVuU2l6ZSgpLnNjcmVlblc7XG4gIHJlbG51bU9wdHMgPSB7XG4gICAgcmVsVmFsOiBzY3JlZW5XLFxuICAgIHJlbE1pbjogd2lkdGhzLm1pZGRsZSxcbiAgICByZWxNYXg6IHdpZHRocy5iaWdcbiAgfTtcbiAgcmVzID0ge307XG4gIHZhbENhbGMgPSBmdW5jdGlvbihrZXkpe1xuICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICBjYXNlICEoc2NyZWVuVyA+PSB3aWR0aHMubWlkZGxlKTpcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHJlbG51bShpbXBvcnRBbGwkKGNsb25lJChyZWxudW1PcHRzKSwge1xuICAgICAgICBtaW46IHNpemVzLm1pZGRsZS5uYXZba2V5XSxcbiAgICAgICAgbWF4OiBzaXplcy5iaWcubmF2W2tleV1cbiAgICAgIH0pKSk7XG4gICAgY2FzZSAhKHNjcmVlblcgPj0gd2lkdGhzLnNtYWxsKTpcbiAgICAgIHJldHVybiBzaXplcy5taWRkbGUubmF2W2tleV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzaXplcy5zbWFsbC5uYXZba2V5XTtcbiAgICB9XG4gIH07XG4gIGtleXMgPSBtYXAoY2FtZWxpemUpKFxuICBbJ3JpZ2h0J10pO1xuICBpbXBvcnRBbGwkKHJlcywgbGlzdHNUb09iaihrZXlzKShcbiAgbWFwKHZhbENhbGMpKFxuICBrZXlzKSkpO1xuICB0b3AgPSBmdW5jdGlvbigpe1xuICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICBjYXNlICEoc2NyZWVuVyA+PSB3aWR0aHMubWlkZGxlKTpcbiAgICAgIHJldHVybiBzaXplcy5iaWcubmF2LnRvcDtcbiAgICBjYXNlICEoc2NyZWVuVyA+PSB3aWR0aHMuc21hbGwpOlxuICAgICAgcmV0dXJuIHNpemVzLm1pZGRsZS5uYXYudG9wO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc2l6ZXMuc21hbGwubmF2LnRvcDtcbiAgICB9XG4gIH0oKTtcbiAgaXRlbUNhbGMgPSBmdW5jdGlvbihrZXkpe1xuICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICBjYXNlICEoc2NyZWVuVyA8IHdpZHRocy5zbWFsbCAmJiBrZXkgPT09IGNhbWVsaXplKFxuICAgICdwYWRkaW5nLXRvcCcpKTpcbiAgICAgIHJldHVybiAnJztcbiAgICBjYXNlICEoc2NyZWVuVyA+PSB3aWR0aHMubWlkZGxlKTpcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHJlbG51bShpbXBvcnRBbGwkKGNsb25lJChyZWxudW1PcHRzKSwge1xuICAgICAgICBtaW46IHNpemVzLm1pZGRsZS5uYXYuaXRlbVtrZXldLFxuICAgICAgICBtYXg6IHNpemVzLmJpZy5uYXYuaXRlbVtrZXldXG4gICAgICB9KSkpO1xuICAgIGNhc2UgIShzY3JlZW5XID49IHdpZHRocy5zbWFsbCk6XG4gICAgICByZXR1cm4gc2l6ZXMubWlkZGxlLm5hdi5pdGVtW2tleV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzaXplcy5zbWFsbC5uYXYuaXRlbVtrZXldO1xuICAgIH1cbiAgfTtcbiAga2V5cyA9IG1hcChjYW1lbGl6ZSkoXG4gIFsnZm9udC1zaXplJywgJ3BhZGRpbmctdG9wJ10pO1xuICBpdGVtID0gbGlzdHNUb09iaihrZXlzKShcbiAgbWFwKGl0ZW1DYWxjKShcbiAga2V5cykpO1xuICByZXR1cm4gaW1wb3J0QWxsJChyZXMsIHtcbiAgICB0b3A6IHRvcCxcbiAgICBpdGVtOiBpdGVtXG4gIH0pO1xufTtcbiRoZWFkZXIub24oJ21lbnUtc3RhdGUtY2hhbmdlZCcsIGZ1bmN0aW9uKCl7XG4gIHZhciBzY3JlZW5XLCBsYXN0Q2xhc3MsIGN1ckNsYXNzLCBtZW51UmVzZXQsIGNzcztcbiAgaWYgKCEkYm9keS5oYXNDbGFzcygnbG9hZGVkJykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2NyZWVuVyA9IGdldFJlbFNjcmVlblNpemUoKS5zY3JlZW5XO1xuICBsYXN0Q2xhc3MgPSAkaGVhZGVyLmRhdGEoJ2xhc3Qtc2l6ZS1jbGFzcycpO1xuICBjdXJDbGFzcyA9ICRib2R5LmRhdGEoJ3NpemUtY2xhc3MnKTtcbiAgaWYgKHNjcmVlblcgPj0gd2lkdGhzLnNtYWxsKSB7XG4gICAgbWVudVJlc2V0ID0ge1xuICAgICAgbWluV2lkdGg6ICcnLFxuICAgICAgbWF4V2lkdGg6ICcnLFxuICAgICAgd2lkdGg6ICcnXG4gICAgfTtcbiAgICBpZiAoJGhlYWRlci5oYXNDbGFzcygnbWVudS1hY3RpdmUnKSB8fCAkaGVhZGVyLmhhc0NsYXNzKCdzY3JvbGwtbWVudS1hY3RpdmUnKSkge1xuICAgICAgY3NzID0ge1xuICAgICAgICBoZWlnaHQ6ICRoZWlnaHRIZWxwZXIuaGVpZ2h0KClcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzcyA9IHtcbiAgICAgICAgaGVpZ2h0OiAwXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAobGFzdENsYXNzICE9PSBjdXJDbGFzcykge1xuICAgICAgJG1lbnUuc3RvcCgpLmNzcyhtZW51UmVzZXQpLmNzcyhjc3MpO1xuICAgICAgJGZpeGVkSGVhZGVyLnN0b3AoKS5jc3MoY3NzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJG1lbnUuc3RvcCgpLmNzcyhtZW51UmVzZXQpLnRyYW5zaXRpb24oY3NzLCBzcGVlZCk7XG4gICAgICAkZml4ZWRIZWFkZXIuc3RvcCgpLnRyYW5zaXRpb24oY3NzLCBzcGVlZCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG1lbnVSZXNldCA9IHtcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgbWluV2lkdGg6IDAsXG4gICAgICBtYXhXaWR0aDogc2l6ZXMuc21hbGwud2lkdGhcbiAgICB9O1xuICAgICRmaXhlZEhlYWRlci5jc3Moe1xuICAgICAgd2lkdGg6ICcnXG4gICAgfSk7XG4gICAgaWYgKCRoZWFkZXIuaGFzQ2xhc3MoJ21lbnUtYWN0aXZlJykpIHtcbiAgICAgIGNzcyA9IHtcbiAgICAgICAgd2lkdGg6IHNpemVzLnNtYWxsLndpZHRoXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjc3MgPSB7XG4gICAgICAgIHdpZHRoOiAwXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAobGFzdENsYXNzICE9PSBjdXJDbGFzcykge1xuICAgICAgJG1lbnUuc3RvcCgpLmNzcyhtZW51UmVzZXQpLmNzcyhjc3MpO1xuICAgICAgJGZpeGVkSGVhZGVyLnN0b3AoKS5jc3MoY3NzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJG1lbnUuc3RvcCgpLmNzcyhtZW51UmVzZXQpLnRyYW5zaXRpb24oY3NzLCBzcGVlZCk7XG4gICAgICAkZml4ZWRIZWFkZXIuc3RvcCgpLnRyYW5zaXRpb24oY3NzKTtcbiAgICB9XG4gIH1cbiAgaWYgKGxhc3RDbGFzcyAhPT0gY3VyQ2xhc3MpIHtcbiAgICAkaGVhZGVyLmRhdGEoJ2xhc3Qtc2l6ZS1jbGFzcycsIGN1ckNsYXNzKTtcbiAgfVxufSk7XG4kdy5vbihcInNjcm9sbFwiICsgYmluZFN1ZmZpeCwgZnVuY3Rpb24oKXtcbiAgdmFyIGxvZ29WYWxzLCBzY3JlZW5XLCBscywgbXM7XG4gIGlmICghJGJvZHkuaGFzQ2xhc3MoJ2xvYWRlZCcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxvZ29WYWxzID0gZ2V0TG9nb1ZhbHMoKTtcbiAgJGNhcmROMExvZ28uY3NzKHtcbiAgICB0b3A6IGxvZ29WYWxzLnRvcCArIFwicHhcIixcbiAgICBsZWZ0OiBsb2dvVmFscy5sZWZ0ICsgXCJweFwiXG4gIH0pO1xuICAkY2FsbE1lbnUuY3NzKHtcbiAgICBtYXJnaW5Ub3A6IDBcbiAgfSk7XG4gIHNjcmVlblcgPSBnZXRSZWxTY3JlZW5TaXplKCkuc2NyZWVuVztcbiAgaWYgKCRoZWFkZXIuaGFzQ2xhc3MoJ3Njcm9sbC1tZW51LWFjdGl2ZScpKSB7XG4gICAgaWYgKHNjcmVlblcgPj0gd2lkdGhzLnNtYWxsKSB7XG4gICAgICAkYmdIZWxwZXIuY3NzKHtcbiAgICAgICAgaGVpZ2h0OiAkaGVpZ2h0SGVscGVyLmhlaWdodCgpXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGJnSGVscGVyLmNzcyh7XG4gICAgICAgIGhlaWdodDogc2l6ZXMuc21hbGwuaGVscGVySGVpZ2h0XG4gICAgICB9KTtcbiAgICAgICRjYXJkTjBMb2dvLmNzcyh7XG4gICAgICAgIGxlZnQ6IHNpemVzLnNtYWxsLmxvZ28uc2Nyb2xsLmxlZnQgKyBcInB4XCIsXG4gICAgICAgIHRvcDogc2l6ZXMuc21hbGwubG9nby5zY3JvbGwudG9wICsgXCJweFwiXG4gICAgICB9KTtcbiAgICAgICRjYWxsTWVudS5jc3Moe1xuICAgICAgICBtYXJnaW5Ub3A6IHNpemVzLnNtYWxsLmNhbGxNZW51Lm1hcmdpblRvcCArIFwicHhcIlxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgICRiZ0hlbHBlci5jc3Moe1xuICAgICAgaGVpZ2h0OiAnJ1xuICAgIH0pO1xuICB9XG4gICRoZWFkZXIudHJpZ2dlcignbWVudS1zdGF0ZS1jaGFuZ2VkJyk7XG4gIHN3aXRjaCAoZmFsc2UpIHtcbiAgY2FzZSAhKHNjcmVlblcgPj0gd2lkdGhzLnNtYWxsKTpcbiAgICBscyA9ICRsb2dvLndpZHRoKCkgKyAkbG9nby5vZmZzZXQoKS5sZWZ0O1xuICAgIG1zID0gJG5hdi53aWR0aCgpICsgKHBhcnNlSW50KCRuYXYuY3NzKCdyaWdodCcpLCAxMCkgfHwgMCk7XG4gICAgaWYgKCRoZWFkZXIud2lkdGgoKSAtIGxzIC0gbXMgPD0gMTUpIHtcbiAgICAgICRsb2dvLmFkZENsYXNzKCduby10ZXh0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRsb2dvLnJlbW92ZUNsYXNzKCduby10ZXh0Jyk7XG4gICAgfVxuICAgIGJyZWFrO1xuICBkZWZhdWx0OlxuICAgICRsb2dvLnJlbW92ZUNsYXNzKCduby10ZXh0Jyk7XG4gIH1cbn0pO1xubm9ybWFsU2NyZWVuUmVzZXQgPSBmdW5jdGlvbigpe1xuICAkZml4ZWRIZWFkZXIuY3NzKHtcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAnYXV0bycsXG4gICAgbWF4V2lkdGg6ICcnLFxuICAgIG1pbldpZHRoOiAnJ1xuICB9KTtcbiAgJGxvZ28uY3NzKHtcbiAgICBkaXNwbGF5OiAnJ1xuICB9KTtcbn07XG51cGRhdGVTaXplQ2xhc3MgPSBmdW5jdGlvbihzaXplQ29kZSl7XG4gIHZhciBzaXplcywgc2l6ZUNsYXNzRjtcbiAgc2l6ZXMgPSBbJ3NtYWxsJywgJ21pZGRsZScsICdiaWcnXTtcbiAgc2l6ZUNsYXNzRiA9IChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0ICsgJy1zaXplJztcbiAgfSk7XG4gIGVhY2gocGFydGlhbGl6ZSQuYXBwbHkoJGJvZHksIFskYm9keS5yZW1vdmVDbGFzcywgW3ZvaWQgOF0sIFswXV0pKShcbiAgbWFwKHNpemVDbGFzc0YpKFxuICByZWplY3QoKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgPT09IHNpemVDb2RlO1xuICB9KSkoXG4gIHNpemVzKSkpO1xuICBlYWNoKHBhcnRpYWxpemUkLmFwcGx5KCRib2R5LCBbJGJvZHkuZGF0YSwgWydzaXplLWNsYXNzJywgdm9pZCA4XSwgWzFdXSkpKFxuICBlYWNoKHBhcnRpYWxpemUkLmFwcGx5KCRib2R5LCBbJGJvZHkuYWRkQ2xhc3MsIFt2b2lkIDhdLCBbMF1dKSkoXG4gIG1hcChzaXplQ2xhc3NGKShcbiAgW3NpemVDb2RlXSkpKTtcbn07XG4kdy5vbihcInJlc2l6ZVwiICsgYmluZFN1ZmZpeCwgZnVuY3Rpb24oKXtcbiAgdmFyIHJlZiQsIHNjcmVlblcsIHNjcmVlbkgsIGZpeGVkSGVhZGVyLCBoZWFkZXJIZWxwZXIsIGxvZ29WYWxzLCBjYWxsTWVudVZhbHMsIG5hdlZhbHMsIHJlbG51bU9wdHM7XG4gIGlmICghJGJvZHkuaGFzQ2xhc3MoJ2xvYWRlZCcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlZiQgPSBnZXRSZWxTY3JlZW5TaXplKCksIHNjcmVlblcgPSByZWYkLnNjcmVlblcsIHNjcmVlbkggPSByZWYkLnNjcmVlbkg7XG4gIGlmIChzY3JlZW5XID49IHdpZHRocy5zbWFsbCkge1xuICAgIG5vcm1hbFNjcmVlblJlc2V0KCk7XG4gIH1cbiAgZml4ZWRIZWFkZXIgPSBnZXRIZWFkZXJWYWxzKHtcbiAgICBmaXhlZEhlYWRlcjogdHJ1ZVxuICB9KTtcbiAgaGVhZGVySGVscGVyID0gZ2V0SGVhZGVyVmFscyh7XG4gICAgaGVscGVyOiB0cnVlXG4gIH0pO1xuICBsb2dvVmFscyA9IGdldExvZ29WYWxzKCk7XG4gIGNhbGxNZW51VmFscyA9IGdldENhbGxNZW51VmFscygpO1xuICBuYXZWYWxzID0gZ2V0TmF2VmFscygpO1xuICByZWxudW1PcHRzID0ge1xuICAgIHJlbFZhbDogc2NyZWVuV1xuICB9O1xuICBpZiAoc2NyZWVuVyA+PSB3aWR0aHMubWlkZGxlKSB7XG4gICAgdXBkYXRlU2l6ZUNsYXNzKCdiaWcnKTtcbiAgfSBlbHNlIGlmIChzY3JlZW5XID49IHdpZHRocy5zbWFsbCkge1xuICAgIHVwZGF0ZVNpemVDbGFzcygnbWlkZGxlJyk7XG4gIH0gZWxzZSB7XG4gICAgdXBkYXRlU2l6ZUNsYXNzKCdzbWFsbCcpO1xuICAgICRmaXhlZEhlYWRlci5jc3Moe1xuICAgICAgbGVmdDogJ2F1dG8nLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBtYXhXaWR0aDogZml4ZWRIZWFkZXIud2lkdGgsXG4gICAgICBtaW5XaWR0aDogMFxuICAgIH0pO1xuICAgICRsb2dvLmNzcyh7XG4gICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICB9KTtcbiAgfVxuICAkaGVpZ2h0SGVscGVyLmNzcyh7XG4gICAgaGVpZ2h0OiBoZWFkZXJIZWxwZXIuaGVpZ2h0XG4gIH0pO1xuICAkZml4ZWRIZWFkZXIuY3NzKHtcbiAgICB3aWR0aDogZml4ZWRIZWFkZXIud2lkdGgsXG4gICAgaGVpZ2h0OiBmaXhlZEhlYWRlci5oZWlnaHRcbiAgfSk7XG4gIGlmIChzdWJQYWdlKSB7XG4gICAgJHRvcFBhcnQuY3NzKHtcbiAgICAgIHBhZGRpbmdUb3A6IGhlYWRlckhlbHBlci5oZWlnaHRcbiAgICB9KTtcbiAgfVxuICAkbG9nby5jc3Moe1xuICAgIGxlZnQ6IGxvZ29WYWxzLmxlZnQsXG4gICAgdG9wOiBsb2dvVmFscy50b3BcbiAgfSk7XG4gICRhbGxMb2dvc0ltZy5jc3Moe1xuICAgIHdpZHRoOiBsb2dvVmFscy5zaXplICsgXCJweFwiLFxuICAgIGhlaWdodDogbG9nb1ZhbHMuc2l6ZSArIFwicHhcIlxuICB9KTtcbiAgJGFsbExvZ29zVGV4dC5jc3Moe1xuICAgIG1hcmdpbkxlZnQ6IGxvZ29WYWxzLnRleHQubWFyZ2luTGVmdCArIFwicHhcIixcbiAgICBmb250U2l6ZTogbG9nb1ZhbHMudGV4dC5mb250U2l6ZSArIFwicHhcIixcbiAgICBsaW5lSGVpZ2h0OiBsb2dvVmFscy50ZXh0LmxpbmVIZWlnaHQgKyBcInB4XCJcbiAgfSk7XG4gICRjYWxsTWVudS5jc3Moe1xuICAgIHJpZ2h0OiBjYWxsTWVudVZhbHMucmlnaHQgKyBcInB4XCIsXG4gICAgdG9wOiBjYWxsTWVudVZhbHMudG9wICsgXCJweFwiLFxuICAgIHRyYW5zZm9ybTogXCJzY2FsZShcIiArIGNhbGxNZW51VmFscy5zY2FsZSArIFwiKVwiXG4gIH0pO1xuICAkbmF2LmNzcyh7XG4gICAgcmlnaHQ6IG5hdlZhbHMucmlnaHQgKyBcInB4XCIsXG4gICAgdG9wOiBuYXZWYWxzLnRvcFxuICB9KTtcbiAgJG5hdkl0ZW1zLmNzcyh7XG4gICAgZm9udFNpemU6IG5hdlZhbHMuaXRlbS5mb250U2l6ZSArIFwicHhcIixcbiAgICBsaW5lSGVpZ2h0OiAobmF2VmFscy5pdGVtLmZvbnRTaXplICsgMikgKyBcInB4XCIsXG4gICAgcGFkZGluZ1RvcDogbmF2VmFscy5pdGVtLnBhZGRpbmdUb3BcbiAgfSk7XG4gICRoZWFkZXIuY3NzKHtcbiAgICBoZWlnaHQ6ICdhdXRvJ1xuICB9KS50cmlnZ2VyKCdtZW51LXN0YXRlLWNoYW5nZWQnKTtcbiAgJHcudHJpZ2dlcihcInNjcm9sbFwiICsgYmluZFN1ZmZpeCk7XG59KTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRIZWFkZXJWYWxzOiBnZXRIZWFkZXJWYWxzLFxuICBnZXRMb2dvVmFsczogZ2V0TG9nb1ZhbHNcbn07XG5mdW5jdGlvbiBpbXBvcnRBbGwkKG9iaiwgc3JjKXtcbiAgZm9yICh2YXIga2V5IGluIHNyYykgb2JqW2tleV0gPSBzcmNba2V5XTtcbiAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIGNsb25lJChpdCl7XG4gIGZ1bmN0aW9uIGZ1bigpe30gZnVuLnByb3RvdHlwZSA9IGl0O1xuICByZXR1cm4gbmV3IGZ1bjtcbn1cbmZ1bmN0aW9uIHBhcnRpYWxpemUkKGYsIGFyZ3MsIHdoZXJlKXtcbiAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICB2YXIgcGFyYW1zID0gc2xpY2UkLmNhbGwoYXJndW1lbnRzKSwgaSxcbiAgICAgICAgbGVuID0gcGFyYW1zLmxlbmd0aCwgd2xlbiA9IHdoZXJlLmxlbmd0aCxcbiAgICAgICAgdGEgPSBhcmdzID8gYXJncy5jb25jYXQoKSA6IFtdLCB0dyA9IHdoZXJlID8gd2hlcmUuY29uY2F0KCkgOiBbXTtcbiAgICBmb3IoaSA9IDA7IGkgPCBsZW47ICsraSkgeyB0YVt0d1swXV0gPSBwYXJhbXNbaV07IHR3LnNoaWZ0KCk7IH1cbiAgICByZXR1cm4gbGVuIDwgd2xlbiAmJiBsZW4gP1xuICAgICAgcGFydGlhbGl6ZSQuYXBwbHkoY29udGV4dCwgW2YsIHRhLCB0d10pIDogZi5hcHBseShjb250ZXh0LCB0YSk7XG4gIH07XG59IiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuKGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZGVmaW5lKSB7XG5cbjsgZ2xvYmFsLmpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG4vKipcbiAqIGpRdWVyeS50aW1lcnMgLSBUaW1lciBhYnN0cmFjdGlvbnMgZm9yIGpRdWVyeVxuICogV3JpdHRlbiBieSBCbGFpciBNaXRjaGVsbW9yZSAoYmxhaXIgRE9UIG1pdGNoZWxtb3JlIEFUIGdtYWlsIERPVCBjb20pXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgV1RGUEwgKGh0dHA6Ly9zYW0uem95Lm9yZy93dGZwbC8pLlxuICogRGF0ZTogMjAwOS8xMC8xNlxuICpcbiAqIEBhdXRob3IgQmxhaXIgTWl0Y2hlbG1vcmVcbiAqIEB2ZXJzaW9uIDEuMlxuICpcbiAqKi9cblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdGV2ZXJ5VGltZTogZnVuY3Rpb24oaW50ZXJ2YWwsIGxhYmVsLCBmbiwgdGltZXMpIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnRpbWVyLmFkZCh0aGlzLCBpbnRlcnZhbCwgbGFiZWwsIGZuLCB0aW1lcyk7XG5cdFx0fSk7XG5cdH0sXG5cdG9uZVRpbWU6IGZ1bmN0aW9uKGludGVydmFsLCBsYWJlbCwgZm4pIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnRpbWVyLmFkZCh0aGlzLCBpbnRlcnZhbCwgbGFiZWwsIGZuLCAxKTtcblx0XHR9KTtcblx0fSxcblx0c3RvcFRpbWU6IGZ1bmN0aW9uKGxhYmVsLCBmbikge1xuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkudGltZXIucmVtb3ZlKHRoaXMsIGxhYmVsLCBmbik7XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZXh0ZW5kKHtcblx0dGltZXI6IHtcblx0XHRnbG9iYWw6IFtdLFxuXHRcdGd1aWQ6IDEsXG5cdFx0ZGF0YUtleTogXCJqUXVlcnkudGltZXJcIixcblx0XHRyZWdleDogL14oWzAtOV0rKD86XFwuWzAtOV0qKT8pXFxzKiguKnMpPyQvLFxuXHRcdHBvd2Vyczoge1xuXHRcdFx0Ly8gWWVhaCB0aGlzIGlzIG1ham9yIG92ZXJraWxsLi4uXG5cdFx0XHQnbXMnOiAxLFxuXHRcdFx0J2NzJzogMTAsXG5cdFx0XHQnZHMnOiAxMDAsXG5cdFx0XHQncyc6IDEwMDAsXG5cdFx0XHQnZGFzJzogMTAwMDAsXG5cdFx0XHQnaHMnOiAxMDAwMDAsXG5cdFx0XHQna3MnOiAxMDAwMDAwXG5cdFx0fSxcblx0XHR0aW1lUGFyc2U6IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHRpZiAodmFsdWUgPT0gdW5kZWZpbmVkIHx8IHZhbHVlID09IG51bGwpXG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0dmFyIHJlc3VsdCA9IHRoaXMucmVnZXguZXhlYyhqUXVlcnkudHJpbSh2YWx1ZS50b1N0cmluZygpKSk7XG5cdFx0XHRpZiAocmVzdWx0WzJdKSB7XG5cdFx0XHRcdHZhciBudW0gPSBwYXJzZUZsb2F0KHJlc3VsdFsxXSk7XG5cdFx0XHRcdHZhciBtdWx0ID0gdGhpcy5wb3dlcnNbcmVzdWx0WzJdXSB8fCAxO1xuXHRcdFx0XHRyZXR1cm4gbnVtICogbXVsdDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGFkZDogZnVuY3Rpb24oZWxlbWVudCwgaW50ZXJ2YWwsIGxhYmVsLCBmbiwgdGltZXMpIHtcblx0XHRcdHZhciBjb3VudGVyID0gMDtcblxuXHRcdFx0aWYgKGpRdWVyeS5pc0Z1bmN0aW9uKGxhYmVsKSkge1xuXHRcdFx0XHRpZiAoIXRpbWVzKVxuXHRcdFx0XHRcdHRpbWVzID0gZm47XG5cdFx0XHRcdGZuID0gbGFiZWw7XG5cdFx0XHRcdGxhYmVsID0gaW50ZXJ2YWw7XG5cdFx0XHR9XG5cblx0XHRcdGludGVydmFsID0galF1ZXJ5LnRpbWVyLnRpbWVQYXJzZShpbnRlcnZhbCk7XG5cblx0XHRcdGlmICh0eXBlb2YgaW50ZXJ2YWwgIT0gJ251bWJlcicgfHwgaXNOYU4oaW50ZXJ2YWwpIHx8IGludGVydmFsIDwgMClcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRpZiAodHlwZW9mIHRpbWVzICE9ICdudW1iZXInIHx8IGlzTmFOKHRpbWVzKSB8fCB0aW1lcyA8IDApXG5cdFx0XHRcdHRpbWVzID0gMDtcblxuXHRcdFx0dGltZXMgPSB0aW1lcyB8fCAwO1xuXG5cdFx0XHR2YXIgdGltZXJzID0galF1ZXJ5LmRhdGEoZWxlbWVudCwgdGhpcy5kYXRhS2V5KSB8fCBqUXVlcnkuZGF0YShlbGVtZW50LCB0aGlzLmRhdGFLZXksIHt9KTtcblxuXHRcdFx0aWYgKCF0aW1lcnNbbGFiZWxdKVxuXHRcdFx0XHR0aW1lcnNbbGFiZWxdID0ge307XG5cblx0XHRcdGZuLnRpbWVySUQgPSBmbi50aW1lcklEIHx8IHRoaXMuZ3VpZCsrO1xuXG5cdFx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoKCsrY291bnRlciA+IHRpbWVzICYmIHRpbWVzICE9PSAwKSB8fCBmbi5jYWxsKGVsZW1lbnQsIGNvdW50ZXIpID09PSBmYWxzZSlcblx0XHRcdFx0XHRqUXVlcnkudGltZXIucmVtb3ZlKGVsZW1lbnQsIGxhYmVsLCBmbik7XG5cdFx0XHR9O1xuXG5cdFx0XHRoYW5kbGVyLnRpbWVySUQgPSBmbi50aW1lcklEO1xuXG5cdFx0XHRpZiAoIXRpbWVyc1tsYWJlbF1bZm4udGltZXJJRF0pXG5cdFx0XHRcdHRpbWVyc1tsYWJlbF1bZm4udGltZXJJRF0gPSB3aW5kb3cuc2V0SW50ZXJ2YWwoaGFuZGxlcixpbnRlcnZhbCk7XG5cblx0XHRcdHRoaXMuZ2xvYmFsLnB1c2goIGVsZW1lbnQgKTtcblxuXHRcdH0sXG5cdFx0cmVtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBsYWJlbCwgZm4pIHtcblx0XHRcdHZhciB0aW1lcnMgPSBqUXVlcnkuZGF0YShlbGVtZW50LCB0aGlzLmRhdGFLZXkpLCByZXQ7XG5cblx0XHRcdGlmICggdGltZXJzICkge1xuXG5cdFx0XHRcdGlmICghbGFiZWwpIHtcblx0XHRcdFx0XHRmb3IgKCBsYWJlbCBpbiB0aW1lcnMgKVxuXHRcdFx0XHRcdFx0dGhpcy5yZW1vdmUoZWxlbWVudCwgbGFiZWwsIGZuKTtcblx0XHRcdFx0fSBlbHNlIGlmICggdGltZXJzW2xhYmVsXSApIHtcblx0XHRcdFx0XHRpZiAoIGZuICkge1xuXHRcdFx0XHRcdFx0aWYgKCBmbi50aW1lcklEICkge1xuXHRcdFx0XHRcdFx0XHR3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aW1lcnNbbGFiZWxdW2ZuLnRpbWVySURdKTtcblx0XHRcdFx0XHRcdFx0ZGVsZXRlIHRpbWVyc1tsYWJlbF1bZm4udGltZXJJRF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZvciAoIHZhciBmbiBpbiB0aW1lcnNbbGFiZWxdICkge1xuXHRcdFx0XHRcdFx0XHR3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aW1lcnNbbGFiZWxdW2ZuXSk7XG5cdFx0XHRcdFx0XHRcdGRlbGV0ZSB0aW1lcnNbbGFiZWxdW2ZuXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRmb3IgKCByZXQgaW4gdGltZXJzW2xhYmVsXSApIGJyZWFrO1xuXHRcdFx0XHRcdGlmICggIXJldCApIHtcblx0XHRcdFx0XHRcdHJldCA9IG51bGw7XG5cdFx0XHRcdFx0XHRkZWxldGUgdGltZXJzW2xhYmVsXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKCByZXQgaW4gdGltZXJzICkgYnJlYWs7XG5cdFx0XHRcdGlmICggIXJldCApXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZURhdGEoZWxlbWVudCwgdGhpcy5kYXRhS2V5KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0pO1xuXG5qUXVlcnkod2luZG93KS5iaW5kKFwidW5sb2FkXCIsIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkuZWFjaChqUXVlcnkudGltZXIuZ2xvYmFsLCBmdW5jdGlvbihpbmRleCwgaXRlbSkge1xuXHRcdGpRdWVyeS50aW1lci5yZW1vdmUoaXRlbSk7XG5cdH0pO1xufSk7XG5cbn0pLmNhbGwoZ2xvYmFsLCBtb2R1bGUsIHVuZGVmaW5lZCk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbi8qKlxuICogTGluayBoYW5kbGVyIG1vZHVsZVxuICogRGV0ZWN0IGFuY2hvciBpbiBsaW5rIGFuZCBzY3JvbGxpbmcgdG8gYW5jaG9yIChpZiBhbmNob3Igb24gY3VycmVudCBwYWdlKS5cbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciBlbXB0eSwgJCwgcmVmJCwgZ2V0TG9jYWxUZXh0LCBnZXRWYWwsIGhhc0VsQnlIYXNoLCAkcGFnZSwgJGh0bWwsICRib2R5LCAkaGVhZGVyLCAkaGVpZ2h0SGVscGVyLCAkbmF2TGlua3MsIHNwZWVkLCBzY3JvbGxpbmc7XG5lbXB0eSA9IHJlcXVpcmUoJ3ByZWx1ZGUnKS5lbXB0eTtcbiQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnJlZiQgPSByZXF1aXJlKCcuL2Jhc2ljcycpLCBnZXRMb2NhbFRleHQgPSByZWYkLmdldExvY2FsVGV4dCwgZ2V0VmFsID0gcmVmJC5nZXRWYWw7XG5oYXNFbEJ5SGFzaCA9IHJlcXVpcmUoJy4vaGFzLWVsLWJ5LWhhc2gnKTtcbiRwYWdlID0gbnVsbDtcbiRodG1sID0gbnVsbDtcbiRib2R5ID0gbnVsbDtcbiRoZWFkZXIgPSBudWxsO1xuJGhlaWdodEhlbHBlciA9IG51bGw7XG4kbmF2TGlua3MgPSBudWxsO1xuc3BlZWQgPSAoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgKiA0O1xufSkoXG5nZXRWYWwoXG4nYW5pbWF0aW9uLXNwZWVkJykpO1xuc2Nyb2xsaW5nID0gZmFsc2U7XG4oZnVuY3Rpb24oaXQpe1xuICBtb2R1bGUuZXhwb3J0cyA9IGl0O1xufSkoZnVuY3Rpb24oKXtcbiAgdmFyIGhyZWYsIHBhdGhuYW1lLCBoYXNoLCB0b3A7XG4gIGlmIChzY3JvbGxpbmcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc2Nyb2xsaW5nID0gdHJ1ZTtcbiAgaWYgKCEkaHRtbCkge1xuICAgICRwYWdlID0gJCgnaHRtbCwgYm9keScpO1xuICAgICRodG1sID0gJCgnaHRtbCcpO1xuICAgICRib2R5ID0gJGh0bWwuZmluZCgnYm9keScpO1xuICAgICRoZWFkZXIgPSAkYm9keS5maW5kKCdoZWFkZXInKTtcbiAgICAkaGVpZ2h0SGVscGVyID0gJGhlYWRlci5maW5kKCcuaGVpZ2h0LWhlbHBlcicpO1xuICAgICRuYXZMaW5rcyA9ICRoZWFkZXIuZmluZCgnLm1lbnUgbmF2IGEnKTtcbiAgfVxuICAkYm9keS5hZGRDbGFzcygnc2Nyb2xsaW5nJyk7XG4gIGhyZWYgPSB0aGlzLmhyZWY7XG4gIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZTtcbiAgaGFzaCA9IHRoaXMuaGFzaDtcbiAgaWYgKGVtcHR5KHBhdGhuYW1lKSkge1xuICAgIHBhdGhuYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuICB9XG4gIGlmIChwYXRobmFtZSAhPT0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFoYXNFbEJ5SGFzaChoYXNoKSkge1xuICAgIHdpbmRvdy5hbGVydChnZXRMb2NhbFRleHQoJ2VycicsICdkZXRlY3QtbGluay1hbmNob3InLCB7XG4gICAgICAnI0xJTktfSFJFRiMnOiBocmVmXG4gICAgfSkpO1xuICAgIHNjcm9sbGluZyA9IGZhbHNlO1xuICAgICRib2R5LnJlbW92ZUNsYXNzKCdzY3JvbGxpbmcnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgJG5hdkxpbmtzLmVhY2goZnVuY3Rpb24oKXtcbiAgICBpZiAoZW1wdHkodGhpcy5wYXRobmFtZSkpIHtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnBhdGhuYW1lICE9PSBwYXRobmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5wYXRobmFtZSArIHRoaXMuaGFzaCA9PT0gcGF0aG5hbWUgKyBoYXNoKSB7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbiAgdG9wID0gKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgKyAxO1xuICB9KShcbiAgKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgLSAkaGVpZ2h0SGVscGVyLmhlaWdodCgpO1xuICB9KShcbiAgJChoYXNoKS5vZmZzZXQoKS50b3ApKTtcbiAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIGhhc2gpO1xuICAkcGFnZS5zdG9wKCkuYW5pbWF0ZSh7XG4gICAgc2Nyb2xsVG9wOiB0b3BcbiAgfSwgc3BlZWQsIGZ1bmN0aW9uKCl7XG4gICAgKGZ1bmN0aW9uKGl0KXtcbiAgICAgIHNldFRpbWVvdXQoaXQsIDEwMCk7XG4gICAgfSkoZnVuY3Rpb24oKXtcbiAgICAgIHNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgJGJvZHkucmVtb3ZlQ2xhc3MoJ3Njcm9sbGluZycpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGZhbHNlO1xufSk7IiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbi8qKlxuICogU2l0ZSBsb2NhbGl6YXRpb25cbiAqXG4gKiBAZW5jb2RpbmcgdXRmLThcbiAqIEBhdXRob3IgVmlhY2hlc2xhdiBMb3RzbWFub3ZcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICdydSc6IHtcbiAgICAnZXJyJzoge1xuICAgICAgJ3N0eWxlcyc6IHtcbiAgICAgICAgJ3BhdGgtZGV0ZWN0JzogJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4INGB0LDQudGC0LAuXFxuXFxu0J3QtSDRg9C00LDQu9C+0YHRjCDQvtCx0L3QsNGA0YPQttC40YLRjCDQv9GD0YLRjCDQtNC+INGE0LDQudC70LAg0YHRgtC40LvQtdC5IENTUy4nLFxuICAgICAgICAnbG9hZC10aW1lb3V0JzogJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4INGB0LDQudGC0LAuXFxuXFxu0JjRgdGC0LXQutC70L4g0LLRgNC10LzRjyDQvtC20LjQtNCw0L3QuNGPINC30LDQs9GA0YPQt9C60LggQ1NTINGB0YLQuNC70LXQuSDRgdCw0LnRgtCwLicsXG4gICAgICAgICd4aHItbG9hZCc6ICfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuCDRgdCw0LnRgtCwLlxcblxcbtCd0LUg0YPQtNCw0LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINGB0YLQuNC70Lgg0YHQsNC50YLQsC5cXG5cXG7QmtC+0LQg0L7RiNC40LHQutC4OiAjRVJST1JfQ09ERSMnXG4gICAgICB9LFxuICAgICAgJ3ByZWxvYWQtaW1nJzogJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNC4INGB0LDQudGC0LAuXFxuXFxu0J3QtSDRg9C00LDQu9C+0YHRjCDQvtGB0YPRidC10YHRgtCy0LjRgtGMINC30LDQs9GA0YPQt9C60YMg0LjQt9C+0LHRgNCw0LbQtdC90LjRjy5cXG5cXG7Qn9GD0YLRjCDQtNC+INC40LfQvtCx0YDQsNC20LXQvdC40Y86IFwiI0lNQUdFX1NSQyNcIlxcblxcbtCa0L7QtCDQvtGI0LjQsdC60Lg6ICNFUlJPUl9DT0RFIycsXG4gICAgICAncHJlbG9hZC1pbWctdGltZW91dCc6ICfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuCDRgdCw0LnRgtCwLlxcblxcbtCd0LUg0YPQtNCw0LvQvtGB0Ywg0L7RgdGD0YnQtdGB0YLQstC40YLRjCDQt9Cw0LPRgNGD0LfQutGDINC40LfQvtCx0YDQsNC20LXQvdC40Y8uXFxuXFxu0JjRgdGC0LXQutC70L4g0LLRgNC10LzRjyDQvtC20LjQtNCw0L3QuNGPLlxcblxcbtCf0YPRgtGMINC00L4g0LjQt9C+0LHRgNCw0LbQtdC90LjRjzogXCIjSU1BR0VfU1JDI1wiJyxcbiAgICAgICdkZXRlY3QtbGluay1hbmNob3InOiAn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC/0YvRgtC60LUg0L7Qv9GA0LXQtNC10LvQuNGC0Ywg0YbQtdC70LXQstC+0LUg0L3QsNC30L3QsNGH0LXQvdC40LUg0YHRgdGL0LvQutC4LlxcblxcbtCd0LUg0L7QsdC90LDRgNGD0LbQtdC9INCx0LvQvtC6INC00LvRjyDQv9C10YDQtdGF0L7QtNCwINC/0L4g0YHRgdGL0LvQutC1LlxcblxcbtCh0YHRi9C70LrQsDogXCIjTElOS19IUkVGI1wiJyxcbiAgICAgICdnb29nbGUtbWFwLWxvYWQtYXBpJzogJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0L/RgNC4INC/0L7Qv9GL0YLQutC1INC30LDQs9GA0YPQt9C40YLRjCBBUEkgR29vZ2xlIG1hcC5cXG5cXG7QntGI0LjQsdC60LA6ICNFUlJPUl9DT0RFIycsXG4gICAgICAneWFuZGV4LW1hcC1ub3QtZW5vdWdoLWRhdGEnOiAn0J3QtdC00L7RgdGC0LDRgtC+0YfQvdC+INC00LDQvdC90YvRhSDQtNC70Y8g0L/QvtGB0YLRgNC+0LXQvdC40Y8g0LrQsNGA0YLRiy4nLFxuICAgICAgJ25vdC1pbXBsZW1lbnRlZC15ZXQnOiAn0JXRidGRINC90LUg0YDQtdCw0LvQuNC30L7QstCw0L3Qvi4nLFxuICAgICAgJ2FqYXgnOiB7XG4gICAgICAgICdyZXF1aXJlZC1maWVsZCc6IFwi0J3QtSDQt9Cw0L/QvtC70L3QtdC90L4g0L7QsdGP0LfQsNGC0LXQu9GM0L3QvtC1INC/0L7Qu9C1XCIsXG4gICAgICAgICdpbmNvcnJlY3QtZmllbGQnOiBcItCf0L7Qu9C1INC30LDQv9C+0LvQvdC10L3QviDQvdC10LrQvtGA0YDQtdC60YLQvdC+XCIsXG4gICAgICAgICd1bmtub3duLWVycm9yJzogXCLQndC10LjQt9Cy0LXRgdGC0L3QsNGPINC+0YjQuNCx0LrQsCDQsiDQvtGC0LLQtdGC0LUg0L7RgiDRgdC10YDQstC10YDQsC5cIlxuICAgICAgfVxuICAgIH0sXG4gICAgJ2Zvcm1zJzoge1xuICAgICAgJ2ZlZWRiYWNrLXN1Y2Nlc3MtbXNnYm94JzogJ9Ch0L/QsNGB0LjQsdC+ISDQktCw0YjQtSDRgdC+0L7QsdGJ0LXQvdC40LUg0YPRgdC/0LXRiNC90L4g0L7RgtC/0YDQsNCy0LvQtdC90L4uJ1xuICAgIH1cbiAgfVxufTsiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBNYWluIG1vZHVsZVxuICpcbiAqIEBhdXRob3IgVmlhY2hlc2xhdiBMb3RzbWFub3ZcbiAqL1xudmFyIGRyb3BXaGlsZSwgJCwgTW9kZXJuaXpyLCBpbml0LCBoYXNFbEJ5SGFzaCwgaGFzaE5hdldhdGNoZXIsIGhhc2g7XG5kcm9wV2hpbGUgPSByZXF1aXJlKCdwcmVsdWRlJykuZHJvcFdoaWxlO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuTW9kZXJuaXpyID0gcmVxdWlyZSgnbW9kZXJuaXpyJyk7XG5pbml0ID0gcmVxdWlyZSgnLi9iYXNpY3MnKS5pbml0O1xuaGFzRWxCeUhhc2ggPSByZXF1aXJlKCcuL2hhcy1lbC1ieS1oYXNoJyk7XG5oYXNoTmF2V2F0Y2hlciA9IHJlcXVpcmUoJy4vaGFzaC1uYXYtd2F0Y2hlcicpO1xuaGFzaCA9IGRyb3BXaGlsZSgoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgIT09ICcjJztcbn0pKShcbndpbmRvdy5sb2NhdGlvbi5oYXNoKTtcbmlmIChoYXNoLmxlbmd0aCA+IDEpIHtcbiAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnIy8nIDwgIS0kO1xuICBpZiAoaGFzRWxCeUhhc2goaGFzaCkpIHtcbiAgICAkKCdodG1sLCBib2R5Jykuc2Nyb2xsVG9wKDApO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcbiAgfVxufVxuaW5pdChmdW5jdGlvbigpe1xuICB2YXIgJGh0bWwsICRib2R5LCAkaGVhZGVyLCAkaGVscGVyLCBsaW5rSGFuZGxlciwgZ29Ub0FuY2hvcjtcbiAgJGh0bWwgPSAkKCdodG1sJyk7XG4gICRib2R5ID0gJGh0bWwuZmluZCgnYm9keScpO1xuICAkaGVhZGVyID0gJGJvZHkuZmluZCgnaGVhZGVyJyk7XG4gICRoZWxwZXIgPSAkKCc8ZGl2PicsIHtcbiAgICAnY2xhc3MnOiAnaGVpZ2h0LWhlbHBlcidcbiAgfSk7XG4gICRoZWFkZXIuYXBwZW5kKCRoZWxwZXIpO1xuICBpZiAoaGFzRWxCeUhhc2goaGFzaCkpIHtcbiAgICBsaW5rSGFuZGxlciA9IHJlcXVpcmUoJy4vbGluay1oYW5kbGVyJyk7XG4gICAgJCgnaHRtbCwgYm9keScpLnNjcm9sbFRvcCgwKTtcbiAgICBnb1RvQW5jaG9yID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciAkbGluaztcbiAgICAgICRsaW5rID0gJCgnPGEvPicsIHtcbiAgICAgICAgaHJlZjogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgaGFzaFxuICAgICAgfSk7XG4gICAgICAkbGluay5jbGljayhsaW5rSGFuZGxlcikudHJpZ2dlcignY2xpY2snKTtcbiAgICB9O1xuICAgIGlmICgkaHRtbC5oYXNDbGFzcygnZ2VuZXJhbC1wYWdlJykpIHtcbiAgICAgICRodG1sLmRhdGEoJ2dvLXRvLWFuY2hvcicsIGdvVG9BbmNob3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnb1RvQW5jaG9yKCk7XG4gICAgfVxuICB9XG4gIHJlcXVpcmUoJy4vaGVhZGVyL2hlYWRlcicpO1xuICByZXF1aXJlKCcuL2Zvb3Rlci9mb290ZXInKTtcbiAgaWYgKCRodG1sLmhhc0NsYXNzKCdzdWItcGFnZScpKSB7XG4gICAgJGJvZHkuYWRkQ2xhc3MoJ2xvYWRlZCcpO1xuICAgICQod2luZG93KS50cmlnZ2VyKCdyZXNpemUnKTtcbiAgfVxuICBoYXNoTmF2V2F0Y2hlci5pbml0KGhhc2gpO1xuICBpZiAoJGh0bWwuaGFzQ2xhc3MoJ2dlbmVyYWwtcGFnZScpKSB7XG4gICAgcmVxdWlyZSgnLi9wYWdlcy9nZW5lcmFsJyk7XG4gIH1cbiAgaWYgKCRodG1sLmhhc0NsYXNzKCdibG9nLXBhZ2UnKSkge1xuICAgIHJlcXVpcmUoJy4vcGFnZXMvYmxvZycpO1xuICB9XG59KTsiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBCbG9nIHBhZ2UgYmVoYXZpb3JcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciAkLCBnZXRMb2NhbFRleHQsIHNpemVDYWxjdWxhdG9yLCBpY29uc0dlbmVyYXRvciwgJHMsICR0b3BMaW5lLCAkc2VhcmNoRm9ybSwgJHNlYXJjaEZvcm1RO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuZ2V0TG9jYWxUZXh0ID0gcmVxdWlyZSgnLi4vYmFzaWNzJykuZ2V0TG9jYWxUZXh0O1xuc2l6ZUNhbGN1bGF0b3IgPSByZXF1aXJlKCcuL2Jsb2cvc2l6ZS1jYWxjdWxhdG9yJyk7XG5pY29uc0dlbmVyYXRvciA9IHJlcXVpcmUoJy4vYmxvZy9pY29ucy1nZW5lcmF0b3InKTtcbiRzID0gJCgnLmJsb2cnKTtcbiR0b3BMaW5lID0gJHMuZmluZCgnLnRvcC1saW5lJyk7XG4kc2VhcmNoRm9ybSA9ICR0b3BMaW5lLmZpbmQoJ2Zvcm0uc2VhcmNoLWZvcm0nKTtcbiRzZWFyY2hGb3JtUSA9ICRzZWFyY2hGb3JtLmZpbmQoJ2lucHV0OnRleHQnKTtcbihmdW5jdGlvbihpdCl7XG4gIHJldHVybiAkc2VhcmNoRm9ybVEub24oJ2NoYW5nZScsIGl0KS5vbignZm9jdXMnLCBpdCkub24oJ2JsdXInLCBpdCkudHJpZ2dlcignY2hhbmdlJyk7XG59KShcbmZ1bmN0aW9uKCl7XG4gIGlmICghISQodGhpcykudmFsKCkpIHtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdoYXMtdmFsdWUnKTtcbiAgfSBlbHNlIHtcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdoYXMtdmFsdWUnKTtcbiAgfVxufSk7XG4kc2VhcmNoRm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24oKXtcbiAgd2luZG93LmFsZXJ0KGdldExvY2FsVGV4dCgnZXJyJywgJ25vdC1pbXBsZW1lbnRlZC15ZXQnKSk7XG4gIHJldHVybiBmYWxzZTtcbn0pOyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIGljb25zIGdlbmVyYXRvciBmb3IgYmxvZyBwYWdlXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgJCwgZWFjaCwgU25hcCwgJHMsICR0b3BMaW5lLCAkcnNzTGluaztcbiQgPSByZXF1aXJlKCdqcXVlcnknKTtcbmVhY2ggPSByZXF1aXJlKCdwcmVsdWRlJykuZWFjaDtcblNuYXAgPSByZXF1aXJlKCdTbmFwLnN2ZycpO1xuJHMgPSAkKCcuYmxvZycpO1xuJHRvcExpbmUgPSAkcy5maW5kKCcudG9wLWxpbmUnKTtcbiRyc3NMaW5rID0gJHRvcExpbmUuZmluZCgnLnJzcy1saW5rJyk7XG4oZnVuY3Rpb24oKXtcbiAgdmFyIGljb25QYXRoLCAkaSwgY29sb3I7XG4gIGljb25QYXRoID0gJHJzc0xpbmsuYXR0cignZGF0YS1pY29uJyk7XG4gIGlmICghaWNvblBhdGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgJGkgPSAkKCc8aS8+Jywge1xuICAgICdjbGFzcyc6ICdpY29uJ1xuICB9KTtcbiAgJGkuYXBwZW5kVG8oJHJzc0xpbmspO1xuICBjb2xvciA9ICRpLmNzcygnY29sb3InKTtcbiAgaWYgKCFjb2xvcikge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gU25hcC5sb2FkKGljb25QYXRoLCBmdW5jdGlvbihmKXtcbiAgICB2YXIgaWNvbjtcbiAgICBpY29uID0gZi5zZWxlY3QoJyNpY29uJykuYWRkQ2xhc3MoJ2ljb24nKS5hdHRyKHtcbiAgICAgIGlkOiAnJ1xuICAgIH0pO1xuICAgIGVhY2goZnVuY3Rpb24oaXQpe1xuICAgICAgaWYgKGl0ICE9IG51bGwpIHtcbiAgICAgICAgaXQuYXR0cih7XG4gICAgICAgICAgZmlsbDogY29sb3JcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkoXG4gICAgZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIFtpdCwgaXQuc2VsZWN0QWxsKCcqJyldO1xuICAgIH0oXG4gICAgZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIGl0LnNlbGVjdCgnLmljb24nKTtcbiAgICB9KFxuICAgIGZ1bmN0aW9uKGl0KXtcbiAgICAgIHJldHVybiBpdC5hcHBlbmRUbygkaVswXSk7XG4gICAgfShcbiAgICBmdW5jdGlvbihpdCl7XG4gICAgICByZXR1cm4gaXQuYXBwZW5kKGYpO1xuICAgIH0oXG4gICAgU25hcCgpKSkpKSk7XG4gIH0pO1xufSkoKTsiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBzaXplIGNhbGN1bGF0b3IgZm9yIGJsb2cgcGFnZSBlbGVtZW50c1xuICpcbiAqIEBhdXRob3IgVmlhY2hlc2xhdiBMb3RzbWFub3ZcbiAqL1xudmFyIHJlZiQsIG1hcCwgZWFjaCwgbGlzdHNUb09iaiwgb2JqVG9QYWlycywgcGFpcnNUb09iaiwgU3RyLCBPYmosIGNhbWVsaXplLCAkLCBnZXRWYWwsIGdldFJlbFNjcmVlblNpemUsIHNpemVDYWxjSGVscGVycywgcmVsbnVtLCAkdywgJGJvZHksICRzLCAkdG9wTGluZSwgJHNlYXJjaEZvcm0sICRjb250ZW50Wm9uZSwgJGNvbHMsICRjb2xMZWZ0LCAkY29sUmlnaHQsICRjb2xSaWdodFRhZ3MsICRjb2xSaWdodFRhZ3NIZWFkZXIsICRwb3N0cywgJHBvc3RzSXRlbXMsICRwb3N0c0l0ZW1zVGl0bGUsICRwb3N0c0l0ZW1zRmlyc3QsICRwb3N0c0l0ZW1zRmlyc3RUaXRsZSwgJHBvc3RzSXRlbXNXaXRob3V0Rmlyc3QsICRwb3N0c0l0ZW1zV2l0aG91dEZpcnN0VGl0bGUsICRwb3N0c1RleHRGb250LCAkc2VwYXJhdGVMaW5lLCAkc2VwYXJhdGVMaW5lQmFja0xpbmssICRzb2NpYWxCdXR0b25zQmxvY2ssICRzb2NpYWxCdXR0b25zVWwsIGlzTGlzdCwgaXNEZXRhaWwsIGJpbmRTdWZmaXgsIHdpZHRocywgdmFsc1NyYywgbGlzdFNpemVzLCB2YWxzLCBjYWxjLCBsaXN0U3BhY2VDYWxjO1xucmVmJCA9IHJlcXVpcmUoJ3ByZWx1ZGUnKSwgbWFwID0gcmVmJC5tYXAsIGVhY2ggPSByZWYkLmVhY2gsIGxpc3RzVG9PYmogPSByZWYkLmxpc3RzVG9PYmosIG9ialRvUGFpcnMgPSByZWYkLm9ialRvUGFpcnMsIHBhaXJzVG9PYmogPSByZWYkLnBhaXJzVG9PYmosIFN0ciA9IHJlZiQuU3RyLCBPYmogPSByZWYkLk9iaiwgY2FtZWxpemUgPSByZWYkLmNhbWVsaXplO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuZ2V0VmFsID0gcmVxdWlyZSgnLi4vLi4vYmFzaWNzJykuZ2V0VmFsO1xuZ2V0UmVsU2NyZWVuU2l6ZSA9IHJlcXVpcmUoJy4uLy4uL2dldC1yZWwtc2NyZWVuLXNpemUnKTtcbnNpemVDYWxjSGVscGVycyA9IHJlcXVpcmUoJy4uLy4uL3NpemUtY2FsYy1oZWxwZXJzJyk7XG5yZWxudW0gPSByZXF1aXJlKCdyZWxhdGl2ZS1udW1iZXInKTtcbiR3ID0gJCh3aW5kb3cpO1xuJGJvZHkgPSAkKCdib2R5Jyk7XG4kcyA9ICQoJy5ibG9nJyk7XG4kdG9wTGluZSA9ICRzLmZpbmQoJy50b3AtbGluZScpO1xuJHNlYXJjaEZvcm0gPSAkdG9wTGluZS5maW5kKCdmb3JtLnNlYXJjaC1mb3JtJyk7XG4kY29udGVudFpvbmUgPSAkcy5maW5kKCcuY29udGVudC16b25lJyk7XG4kY29scyA9ICRjb250ZW50Wm9uZS5maW5kKCc+LmNvbCcpO1xuJGNvbExlZnQgPSAkY29udGVudFpvbmUuZmluZCgnPi5jb2wtbGVmdCcpO1xuJGNvbFJpZ2h0ID0gJGNvbnRlbnRab25lLmZpbmQoJz4uY29sLXJpZ2h0Jyk7XG4kY29sUmlnaHRUYWdzID0gJGNvbFJpZ2h0LmZpbmQoJy50YWdzJyk7XG4kY29sUmlnaHRUYWdzSGVhZGVyID0gJGNvbFJpZ2h0VGFncy5maW5kKCdoMycpO1xuJHBvc3RzID0gJGNvbExlZnQuZmluZCgndWwucG9zdHMnKTtcbiRwb3N0c0l0ZW1zID0gJHBvc3RzLmZpbmQoJz5saScpO1xuJHBvc3RzSXRlbXNUaXRsZSA9ICRwb3N0c0l0ZW1zLmZpbmQoJ2gzJyk7XG4kcG9zdHNJdGVtc0ZpcnN0ID0gJHBvc3RzLmZpbmQoJz5saTpmaXJzdCcpO1xuJHBvc3RzSXRlbXNGaXJzdFRpdGxlID0gJHBvc3RzSXRlbXNGaXJzdC5maW5kKCdoMycpO1xuJHBvc3RzSXRlbXNXaXRob3V0Rmlyc3QgPSBmdW5jdGlvbihpdCl7XG4gIEFycmF5LnByb3RvdHlwZS5zaGlmdC5jYWxsKGl0KTtcbiAgcmV0dXJuIGl0O1xufShcbiRwb3N0cy5maW5kKCc+bGknKSk7XG4kcG9zdHNJdGVtc1dpdGhvdXRGaXJzdFRpdGxlID0gJHBvc3RzSXRlbXNXaXRob3V0Rmlyc3QuZmluZCgnaDMnKTtcbiRwb3N0c1RleHRGb250ID0gJHBvc3RzSXRlbXMuZmluZCgndGltZSwgLnRleHQnKTtcbiRzZXBhcmF0ZUxpbmUgPSAkY29sTGVmdC5maW5kKCcuc2VwYXJhdGUtbGluZScpO1xuJHNlcGFyYXRlTGluZUJhY2tMaW5rID0gJHNlcGFyYXRlTGluZS5maW5kKCc+LmJhY2stbGluaycpO1xuJHNvY2lhbEJ1dHRvbnNCbG9jayA9ICRzZXBhcmF0ZUxpbmUuZmluZCgnPi5idXR0b25zJyk7XG4kc29jaWFsQnV0dG9uc1VsID0gJHNvY2lhbEJ1dHRvbnNCbG9jay5maW5kKCc+dWwnKTtcbmlzTGlzdCA9ICRzLmhhc0NsYXNzKCdibG9nLWxpc3QnKTtcbmlzRGV0YWlsID0gJHMuaGFzQ2xhc3MoJ2Jsb2ctZGV0YWlsJyk7XG5iaW5kU3VmZml4ID0gJy5ibG9nLXBhZ2Utc2l6ZXMtY2FsYyc7XG53aWR0aHMgPSBnZXRWYWwoXG4ncmVzcG9uc2l2ZS13aWR0aHMnKTtcbnZhbHNTcmMgPSBnZXRWYWwoXG4nYmxvZy1wYWdlJyk7XG5saXN0U2l6ZXMgPSBnZXRWYWwoXG4nYmxvZy1saXN0LXNpemVzJyk7XG52YWxzID0gT2JqLm1hcChtYXAoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gbGlzdHNUb09iaihbaXRdKShcbiAgW3ZhbHNTcmNbaXRdXSk7XG59KSkoXG5wYWlyc1RvT2JqKFxubWFwKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIFtcbiAgICBTdHIudW5jaGFycyhcbiAgICBtYXAoU3RyLnRha2UoMSkpKFxuICAgIGl0KSksIGl0XG4gIF07XG59KShcbltbJ3NtYWxsJywgJ21pZGRsZSddLCBbJ21pZGRsZScsICdiaWcnXV0pKSk7XG5jYWxjID0gT2JqLm1hcChmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmoubWFwKGl0KShcbiAgdmFscyk7XG59KShcbnBhaXJzVG9PYmooXG5tYXAoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gW2l0LCBzaXplQ2FsY0hlbHBlcnNbaXRdXTtcbn0pKFxubWFwKGNhbWVsaXplKShcblsnZ2V0LXJlbC12YWxzJywgJ3NldC10eXBpY2FsLXNpemVzJ10pKSkpO1xubGlzdFNwYWNlQ2FsYyA9IGN1cnJ5JChmdW5jdGlvbih3LCBpdCl7XG4gIChmdW5jdGlvbihpdCl7XG4gICAgJHBvc3RzLmNzcyh7XG4gICAgICBtYXJnaW5MZWZ0OiBcIi1cIiArIGl0ICsgXCJweFwiLFxuICAgICAgd2lkdGg6ICh3ICsgaXQpICsgXCJweFwiXG4gICAgfSk7XG4gIH0pKFxuICBmdW5jdGlvbihpdCl7XG4gICAgJHBvc3RzSXRlbXMuY3NzKHtcbiAgICAgIG1hcmdpbkxlZnQ6IGl0ICsgXCJweFwiXG4gICAgfSk7XG4gICAgcmV0dXJuIGl0O1xuICB9KFxuICAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCAvIDEwMDtcbiAgfSkoXG4gIChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0ICogdztcbiAgfSkoXG4gIGl0KSkpKTtcbn0pO1xuKGZ1bmN0aW9uKGl0KXtcbiAgJHcub24oXCJyZXNpemVcIiArIGJpbmRTdWZmaXgsIGl0KS50cmlnZ2VyKFwicmVzaXplXCIgKyBiaW5kU3VmZml4KTtcbn0pKGZ1bmN0aW9uKCl7XG4gIHZhciByZWYkLCBzY3JlZW5XLCBzY3JlZW5XQWJzLCByYW5nZUtleSwgdztcbiAgcmVmJCA9IGdldFJlbFNjcmVlblNpemUoKSwgc2NyZWVuVyA9IHJlZiQuc2NyZWVuVywgc2NyZWVuV0FicyA9IHJlZiQuc2NyZWVuV0FicztcbiAgcmFuZ2VLZXkgPSBmdW5jdGlvbigpe1xuICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICBjYXNlICEoc2NyZWVuVyA+PSB3aWR0aHMubWlkZGxlKTpcbiAgICAgIHJldHVybiAnbWInO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ3NtJztcbiAgICB9XG4gIH0oKTtcbiAgZWFjaChmdW5jdGlvbihpdCl7XG4gICAgY2FsYy5zZXRUeXBpY2FsU2l6ZXMuc20oaXRbMF0sIGl0WzFdKTtcbiAgfSkoXG4gIG9ialRvUGFpcnMoXG4gIHtcbiAgICAnYmxvZyc6ICRzXG4gIH0pKTtcbiAgKGZ1bmN0aW9uKGYpe1xuICAgIGVhY2goZikoXG4gICAgb2JqVG9QYWlycyhcbiAgICB7XG4gICAgICAndG9wLWxpbmUnOiAkdG9wTGluZSxcbiAgICAgICdjb2wtcmlnaHQnOiAkc2VhcmNoRm9ybSxcbiAgICAgICdjb2wtcmlnaHQtdGFncy1oZWFkZXInOiAkY29sUmlnaHRUYWdzSGVhZGVyLFxuICAgICAgJ3Bvc3QtaXRlbSc6ICRwb3N0c0l0ZW1zLFxuICAgICAgJ3Bvc3QtdGl0bGUtZm9udCc6ICRwb3N0c0l0ZW1zVGl0bGUsXG4gICAgICAncG9zdC10ZXh0LWZvbnQnOiAkcG9zdHNUZXh0Rm9udFxuICAgIH0pKTtcbiAgICBpZiAoaXNMaXN0KSB7XG4gICAgICBlYWNoKGYpKFxuICAgICAgb2JqVG9QYWlycyhcbiAgICAgIHtcbiAgICAgICAgJ3Bvc3Qtc3BlY2lhbC10aXRsZS1mb250JzogJHBvc3RzSXRlbXNGaXJzdFRpdGxlXG4gICAgICB9KSk7XG4gICAgfVxuICAgIGVhY2goZikoXG4gICAgb2JqVG9QYWlycyhcbiAgICB7XG4gICAgICAnY29sLWxlZnQnOiAkY29sTGVmdCxcbiAgICAgICdjb2wtcmlnaHQnOiAkY29sUmlnaHRcbiAgICB9KSk7XG4gIH0uY2FsbCh0aGlzLCBmdW5jdGlvbihpdCl7XG4gICAgY2FsYy5zZXRUeXBpY2FsU2l6ZXMubWIoaXRbMF0sIGl0WzFdKTtcbiAgfSkpO1xuICAkY29sTGVmdC5jc3Moe1xuICAgIHdpZHRoOiAkY29udGVudFpvbmUud2lkdGgoKSAtICRjb2xSaWdodC53aWR0aCgpXG4gIH0pO1xuICB3ID0gJGNvbExlZnQud2lkdGgoKTtcbiAgJHNvY2lhbEJ1dHRvbnNVbC5jc3Moe1xuICAgIHdpZHRoOiAoJHNlcGFyYXRlTGluZS53aWR0aCgpIC0gJHNlcGFyYXRlTGluZUJhY2tMaW5rLmlubmVyV2lkdGgoKSkgKyBcInB4XCJcbiAgfSk7XG4gIChmdW5jdGlvbigpe1xuICAgICRwb3N0cy5jc3Moe1xuICAgICAgbWFyZ2luTGVmdDogJycsXG4gICAgICB3aWR0aDogJydcbiAgICB9KTtcbiAgICAkcG9zdHNJdGVtcy5jc3Moe1xuICAgICAgbWFyZ2luTGVmdDogJycsXG4gICAgICB3aWR0aDogJydcbiAgICB9KTtcbiAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgY2FzZSAhKHNjcmVlbldBYnMgPj0gMTQwMCk6XG4gICAgICAkcG9zdHNJdGVtcy5jc3Moe1xuICAgICAgICB3aWR0aDogbGlzdFNpemVzLnBvc3RJdGVtV2lkdGggKiB3IC8gMTAwICsgXCJweFwiXG4gICAgICB9KTtcbiAgICAgIGlmIChpc0xpc3QpIHtcbiAgICAgICAgJHBvc3RzSXRlbXNGaXJzdC5jc3Moe1xuICAgICAgICAgIHdpZHRoOiBsaXN0U2l6ZXMucG9zdFNwZWNpYWxXaWR0aCAqIHcgLyAxMDAgKyBcInB4XCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBsaXN0U3BhY2VDYWxjKHcpKFxuICAgICAgbGlzdFNpemVzLnBvc3RTcGFjZVBlcmNlbnQpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgICRwb3N0c0l0ZW1zLmNzcyh7XG4gICAgICAgIHdpZHRoOiBsaXN0U2l6ZXMucG9zdEl0ZW1XaWR0aFMgKiB3IC8gMTAwICsgXCJweFwiXG4gICAgICB9KTtcbiAgICAgIGlmIChpc0xpc3QpIHtcbiAgICAgICAgJHBvc3RzSXRlbXNGaXJzdC5jc3Moe1xuICAgICAgICAgIHdpZHRoOiB3ICsgXCJweFwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGlzdFNwYWNlQ2FsYyh3KShcbiAgICAgIGxpc3RTaXplcy5wb3N0U3BhY2VQZXJjZW50Uyk7XG4gICAgfVxuICB9KSgpO1xufSk7XG5mdW5jdGlvbiBjdXJyeSQoZiwgYm91bmQpe1xuICB2YXIgY29udGV4dCxcbiAgX2N1cnJ5ID0gZnVuY3Rpb24oYXJncykge1xuICAgIHJldHVybiBmLmxlbmd0aCA+IDEgPyBmdW5jdGlvbigpe1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3MgPyBhcmdzLmNvbmNhdCgpIDogW107XG4gICAgICBjb250ZXh0ID0gYm91bmQgPyBjb250ZXh0IHx8IHRoaXMgOiB0aGlzO1xuICAgICAgcmV0dXJuIHBhcmFtcy5wdXNoLmFwcGx5KHBhcmFtcywgYXJndW1lbnRzKSA8XG4gICAgICAgICAgZi5sZW5ndGggJiYgYXJndW1lbnRzLmxlbmd0aCA/XG4gICAgICAgIF9jdXJyeS5jYWxsKGNvbnRleHQsIHBhcmFtcykgOiBmLmFwcGx5KGNvbnRleHQsIHBhcmFtcyk7XG4gICAgfSA6IGY7XG4gIH07XG4gIHJldHVybiBfY3VycnkoKTtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBHZW5lcmFsIHBhZ2UgYmVoYXZpb3JcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciBpc1R5cGUsICQsIHJlZiQsIGdldFZhbCwgZ2V0TG9jYWxUZXh0LCBsb2FkSW1nLCBkeW5hbWljQXBpLCBwcmVsb2FkLCBsaW5rSGFuZGxlciwgaGFzRWxCeUhhc2gsIHNpemVDYWxjdWxhdG9yLCBiaW5kQmVmb3JlLCBiaW5kQWZ0ZXIsIGdldFlhbmRleE1hcHNBcGlVcmwsICR3LCAkaHRtbCwgJHBhZ2UsICRib2R5LCAkaGVhZGVyLCAkbG9nbywgJGxvZ29JbWcsICRjYXJkc1dyYXAsICRjYXJkc0JncywgJGNhcmROMCwgJGNhcmROMEJnLCAkY2FyZE4wTmV4dCwgc3BlZWQsIGxvZ29WYWxzLCBsb2FkaW5nQW5pbWF0aW9uLCBpbml0QWxsT3RoZXJTZWN0aW9ucywgY2FyZE4wUGFyYWxsYXhJbml0LCBjYXJkTjBOZXh0QnV0dG9uSml0dGVySW5pdCwgbG9hZGluZ0xvb3AsIHByZWxvYWRDYiwgTG9hZEltZywgaW1nU3JjO1xuaXNUeXBlID0gcmVxdWlyZSgncHJlbHVkZScpLmlzVHlwZTtcbiQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnJlZiQgPSByZXF1aXJlKCcuLi9iYXNpY3MnKSwgZ2V0VmFsID0gcmVmJC5nZXRWYWwsIGdldExvY2FsVGV4dCA9IHJlZiQuZ2V0TG9jYWxUZXh0LCBsb2FkSW1nID0gcmVmJC5sb2FkSW1nLCBkeW5hbWljQXBpID0gcmVmJC5keW5hbWljQXBpO1xucHJlbG9hZCA9IHJlcXVpcmUoJy4uL3ByZWxvYWQnKTtcbmxpbmtIYW5kbGVyID0gcmVxdWlyZSgnLi4vbGluay1oYW5kbGVyJyk7XG5oYXNFbEJ5SGFzaCA9IHJlcXVpcmUoJy4uL2hhcy1lbC1ieS1oYXNoJyk7XG5zaXplQ2FsY3VsYXRvciA9IHJlcXVpcmUoJy4uL2hlYWRlci9zaXplLWNhbGN1bGF0b3InKTtcbnJlZiQgPSByZXF1aXJlKCcuL2dlbmVyYWwvc2Nyb2xsLXJlc3RvcmUnKSwgYmluZEJlZm9yZSA9IHJlZiQuYmluZEJlZm9yZSwgYmluZEFmdGVyID0gcmVmJC5iaW5kQWZ0ZXI7XG5nZXRZYW5kZXhNYXBzQXBpVXJsID0gcmVxdWlyZSgnLi9nZW5lcmFsL2NvbnRhY3RzJykuZ2V0WWFuZGV4TWFwc0FwaVVybDtcbnJlcXVpcmUoJ2pxdWVyeS50cmFuc2l0Jyk7XG4kdyA9ICQod2luZG93KTtcbiRodG1sID0gJCgnaHRtbCcpO1xuJHBhZ2UgPSAkKCdodG1sLCBib2R5Jyk7XG4kYm9keSA9ICRodG1sLmZpbmQoJ2JvZHknKTtcbiRoZWFkZXIgPSAkYm9keS5maW5kKCdoZWFkZXInKTtcbiRsb2dvID0gJGhlYWRlci5maW5kKCc+LmxvZ28nKTtcbiRsb2dvSW1nID0gJGxvZ28uZmluZCgnaW1nJyk7XG4kY2FyZHNXcmFwID0gJGJvZHkuZmluZCgnLmdlbmVyYWwtY2FyZHMnKTtcbiRjYXJkc0JncyA9ICRjYXJkc1dyYXAuZmluZCgnLmJhY2tncm91bmRzJyk7XG4kY2FyZE4wID0gJGNhcmRzV3JhcC5maW5kKCcuY2FyZC1uMCcpO1xuJGNhcmROMEJnID0gJGNhcmRzQmdzLmZpbmQoJy5jYXJkLWJnLW4wIC5iZy1wYXR0ZXJuJyk7XG4kY2FyZE4wTmV4dCA9ICRjYXJkTjAuZmluZCgnLm5leHQnKTtcbnNwZWVkID0gKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ICogNDtcbn0pKFxuZ2V0VmFsKCdhbmltYXRpb24tc3BlZWQnKSk7XG5sb2dvVmFscyA9IHNpemVDYWxjdWxhdG9yLmdldExvZ29WYWxzKCk7XG5sb2FkaW5nQW5pbWF0aW9uID0gdHJ1ZTtcbmJpbmRCZWZvcmUoKTtcbmluaXRBbGxPdGhlclNlY3Rpb25zID0gZnVuY3Rpb24oKXtcbiAgdmFyIGNhcmRzSW5pdCwgY29udGFjdHNJbml0O1xuICAkYm9keS5hZGRDbGFzcygnbG9hZGVkJyk7XG4gICRwYWdlLnNjcm9sbFRvcCgwKTtcbiAgcmVxdWlyZSgnLi9nZW5lcmFsL3NpemUtY2FsY3VsYXRvcicpO1xuICBjYXJkc0luaXQgPSByZXF1aXJlKCcuL2dlbmVyYWwvY2FyZHMvY2FyZHMnKS5pbml0O1xuICByZXF1aXJlKCcuL2dlbmVyYWwvcG9ydGZvbGlvJyk7XG4gIHJlcXVpcmUoJy4vZ2VuZXJhbC90ZWFtJyk7XG4gIHJlcXVpcmUoJy4vZ2VuZXJhbC9yZXZpZXdzJyk7XG4gIGNvbnRhY3RzSW5pdCA9IHJlcXVpcmUoJy4vZ2VuZXJhbC9jb250YWN0cycpLmluaXQ7XG4gIGNhcmRzSW5pdChmdW5jdGlvbigpe1xuICAgIHZhciBnb1RvQW5jaG9yO1xuICAgIGNvbnRhY3RzSW5pdCgpO1xuICAgICR3LnRyaWdnZXIoJ3Jlc2l6ZS5oZWFkZXItc2l6ZS1jYWxjJykudHJpZ2dlcigncmVzaXplJyk7XG4gICAgYmluZEFmdGVyKCk7XG4gICAgZ29Ub0FuY2hvciA9ICRodG1sLmRhdGEoJ2dvLXRvLWFuY2hvcicpO1xuICAgIGlmIChpc1R5cGUoJ0Z1bmN0aW9uJykoXG4gICAgZ29Ub0FuY2hvcikpIHtcbiAgICAgIGdvVG9BbmNob3IoKTtcbiAgICB9XG4gIH0pO1xufTtcbiRjYXJkTjBOZXh0LmNsaWNrKGxpbmtIYW5kbGVyKTtcbmNhcmROMFBhcmFsbGF4SW5pdCA9IGZ1bmN0aW9uKCl7XG4gIHZhciBjYXJkTjBCZ1BhcmFsbGF4QmluZFN1ZmZpeDtcbiAgY2FyZE4wQmdQYXJhbGxheEJpbmRTdWZmaXggPSAnLmNhcmQtbjAtYmctcGFyYWxsYXgnO1xuICAkdy5vbihcInNjcm9sbFwiICsgY2FyZE4wQmdQYXJhbGxheEJpbmRTdWZmaXgsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIHN0LCB2YWw7XG4gICAgc3QgPSAkdy5zY3JvbGxUb3AoKTtcbiAgICBpZiAoc3QgPiAkY2FyZE4wLmhlaWdodCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhbCA9IHN0IC8gMjtcbiAgICAkY2FyZE4wQmcuY3NzKCdiYWNrZ3JvdW5kLXBvc2l0aW9uJywgXCJjZW50ZXIgXCIgKyB2YWwgKyBcInB4XCIpO1xuICB9KTtcbiAgJHcub24oXCJyZXNpemVcIiArIGNhcmROMEJnUGFyYWxsYXhCaW5kU3VmZml4LCBmdW5jdGlvbigpe1xuICAgICR3LnRyaWdnZXIoXCJzY3JvbGxcIiArIGNhcmROMEJnUGFyYWxsYXhCaW5kU3VmZml4KTtcbiAgfSk7XG4gICR3LnRyaWdnZXIoXCJyZXNpemVcIiArIGNhcmROMEJnUGFyYWxsYXhCaW5kU3VmZml4KTtcbn07XG5jYXJkTjBOZXh0QnV0dG9uSml0dGVySW5pdCA9IGZ1bmN0aW9uKCl7XG4gIHZhciBzcGVlZCwgd2FpdCwgaml0dGVyO1xuICBzcGVlZCA9IDgwMDtcbiAgd2FpdCA9IDUwMDA7XG4gIGppdHRlciA9IGZ1bmN0aW9uKCl7XG4gICAgJGNhcmROME5leHQuY3NzKHtcbiAgICAgIHRvcDogMFxuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICRjYXJkTjBOZXh0LnN0b3AoKS50cmFuc2l0aW9uKHtcbiAgICAgICAgdG9wOiAnLTMwcHgnXG4gICAgICB9LCBzcGVlZCwgZnVuY3Rpb24oKXtcbiAgICAgICAgJGNhcmROME5leHQuc3RvcCgpLnRyYW5zaXRpb24oe1xuICAgICAgICAgIHRvcDogMFxuICAgICAgICB9LCBzcGVlZCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICBqaXR0ZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCB3YWl0KTtcbiAgfTtcbiAgaml0dGVyKCk7XG59O1xubG9hZGluZ0xvb3AgPSBmdW5jdGlvbigpe1xuICBpZiAoIWxvYWRpbmdBbmltYXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgJGxvZ29JbWcudHJhbnNpdGlvbih7XG4gICAgcm90YXRlOiAnMzYwZGVnJ1xuICB9LCBzcGVlZCwgJ2xpbmVhcicsIGZ1bmN0aW9uKCl7XG4gICAgaWYgKCFsb2FkaW5nQW5pbWF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgICRsb2dvSW1nLmNzcyh7XG4gICAgICByb3RhdGU6ICcwZGVnJ1xuICAgIH0pO1xuICAgIGxvYWRpbmdMb29wKCk7XG4gIH0pO1xufTtcbnByZWxvYWRDYiA9IGZ1bmN0aW9uKCl7XG4gIGNhcmROMFBhcmFsbGF4SW5pdCgpO1xuICBjYXJkTjBOZXh0QnV0dG9uSml0dGVySW5pdCgpO1xuICBsb2FkaW5nQW5pbWF0aW9uID0gZmFsc2U7XG4gICRsb2dvSW1nLnN0b3AoKS50cmFuc2l0aW9uKHtcbiAgICByb3RhdGU6ICczNjBkZWcnXG4gIH0sIHNwZWVkLCAnbGluZWFyJywgZnVuY3Rpb24oKXtcbiAgICAkY2FyZE4wQmcuc3RvcCgpLnRyYW5zaXRpb24oe1xuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIHNjYWxlOiAxXG4gICAgfSwgc3BlZWQsICdpbi1vdXQnLCBmdW5jdGlvbigpe1xuICAgICAgdmFyIHZhbHM7XG4gICAgICAkbG9nby5hZGRDbGFzcygnbG9nby1tb3ZlJyk7XG4gICAgICB2YWxzID0ge1xuICAgICAgICBsZWZ0OiBsb2dvVmFscy5sZWZ0LFxuICAgICAgICB0b3A6IGxvZ29WYWxzLnRvcCxcbiAgICAgICAgdHJhbnNsYXRlOiBbJzAlJywgJzAlJ11cbiAgICAgIH07XG4gICAgICAkbG9nby5zdG9wKCkudHJhbnNpdGlvbih2YWxzLCBzcGVlZCwgJ2luLW91dCcsIGluaXRBbGxPdGhlclNlY3Rpb25zKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuJGxvZ29JbWcuY3NzKHtcbiAgd2lkdGg6IGxvZ29WYWxzLnNpemUsXG4gIGhlaWdodDogbG9nb1ZhbHMuc2l6ZVxufSk7XG5Mb2FkSW1nID0gcmVxdWlyZSgnbG9hZC1pbWcnKTtcbmltZ1NyYyA9ICRsb2dvSW1nLmF0dHIoJ3NyYycpO1xubG9hZEltZyhpbWdTcmMsIGZ1bmN0aW9uKGVyciwgaW1nKXtcbiAgaWYgKGVycikge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBMb2FkSW1nLmV4Y2VwdGlvbnMuVGltZW91dCkge1xuICAgICAgd2luZG93LmFsZXJ0KGdldExvY2FsVGV4dCgnZXJyJywgJ3ByZWxvYWQtaW1nLXRpbWVvdXQnLCB7XG4gICAgICAgICcjSU1BR0VfU1JDIyc6IGltZ1NyY1xuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3aW5kb3cuYWxlcnQoZ2V0TG9jYWxUZXh0KCdlcnInLCAncHJlbG9hZC1pbWcnLCB7XG4gICAgICAnI0VSUk9SX0NPREUjJzogZXJyLnRvU3RyaW5nKCksXG4gICAgICAnI0lNQUdFX1NSQyMnOiBpbWdTcmNcbiAgICB9KSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxvYWRpbmdMb29wKCk7XG4gIHByZWxvYWQocHJlbG9hZENiKTtcbn0pOyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG52YXIgJCwgcmVmJCwgcmVqZWN0LCBmaWx0ZXIsIGZsaXAsIGFsbCwgbWFwLCBlYWNoLCBnZXRWYWwsICR3LCAkZ2VuZXJhbENhcmRzLCAkYmdzV3JhcCwgJGNhcmRzV3JhcCwgJGNhcmRzLCAkYmdzLCBiaW5kU3VmZml4LCBhbmltU3BlZWQsIHBhcnNlSW50RmxpcCwgZGVsYXksIGlzQ2FyZFJvdXRlLCBpc0NhcmRWaXNpYmxlLCBpc0FuaW1hdGluZywgbGFzdENhcmRSb3V0ZSwgbGFzdFJvdXRlZENhcmROdW0sIGhlYWxDYXJkc1dyYXAsIG9uTmF2aWdhdGVkLCBpbml0LCByZXBsYWNlJCA9ICcnLnJlcGxhY2UsIG91dCQgPSB0eXBlb2YgZXhwb3J0cyAhPSAndW5kZWZpbmVkJyAmJiBleHBvcnRzIHx8IHRoaXM7XG4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5yZWYkID0gcmVxdWlyZSgncHJlbHVkZScpLCByZWplY3QgPSByZWYkLnJlamVjdCwgZmlsdGVyID0gcmVmJC5maWx0ZXIsIGZsaXAgPSByZWYkLmZsaXAsIGFsbCA9IHJlZiQuYWxsLCBtYXAgPSByZWYkLm1hcCwgZWFjaCA9IHJlZiQuZWFjaDtcbmdldFZhbCA9IHJlcXVpcmUoJy4uLy4uLy4uL2Jhc2ljcycpLmdldFZhbDtcbiR3ID0gJCh3aW5kb3cpO1xuJGdlbmVyYWxDYXJkcyA9ICQoJy5nZW5lcmFsLWNhcmRzJyk7XG4kYmdzV3JhcCA9ICRnZW5lcmFsQ2FyZHMuZmluZCgnLmJhY2tncm91bmRzJyk7XG4kY2FyZHNXcmFwID0gJGdlbmVyYWxDYXJkcy5maW5kKCcuY2FyZHMnKTtcbiRjYXJkcyA9ICRjYXJkc1dyYXAuZmluZCgnLmNhcmQnKTtcbiRiZ3MgPSAkKFxucmVqZWN0KGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuICQoaXQpLmhhc0NsYXNzKCcuY2FyZC1iZy1uMCcpO1xufSkoXG4kYmdzV3JhcC5maW5kKCcuY2FyZC1iZycpKSk7XG5iaW5kU3VmZml4ID0gJy5jYXJkcy1uYXZpZ2F0b3InO1xuYW5pbVNwZWVkID0gKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0ICogNDtcbn0pKFxuZ2V0VmFsKCdhbmltYXRpb24tc3BlZWQnKSk7XG4kY2FyZHMuY3NzKHtcbiAgb3BhY2l0eTogMCxcbiAgbGVmdDogJzAlJyxcbiAgdG9wOiAnMCUnLFxuICB6SW5kZXg6IDNcbn0pO1xucGFyc2VJbnRGbGlwID0gZmxpcChcbnBhcnNlSW50KTtcbmRlbGF5ID0gZmxpcChcbnNldFRpbWVvdXQpKDApO1xuaXNDYXJkUm91dGUgPSBjb21wb3NlJChmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdC5pbmRleE9mKCdjYXJkLW4nKTtcbn0sIChmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA9PT0gMDtcbn0pKTtcbmlzQ2FyZFZpc2libGUgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdC5kYXRhKCdpcy12aXNpYmxlJyk7XG59O1xuaXNBbmltYXRpbmcgPSBmYWxzZTtcbmxhc3RDYXJkUm91dGUgPSBudWxsO1xubGFzdFJvdXRlZENhcmROdW0gPSBudWxsO1xuaGVhbENhcmRzV3JhcCA9IGZ1bmN0aW9uKCl7XG4gICRjYXJkc1dyYXAuc2Nyb2xsVG9wKDApLnNjcm9sbExlZnQoMCk7XG59O1xub25OYXZpZ2F0ZWQgPSBmdW5jdGlvbihfLCByb3V0ZSl7XG4gIHZhciByb3V0ZWRDYXJkTnVtLCBhbmltQ2FyZHM7XG4gIGlmICghaXNDYXJkUm91dGUoXG4gIHJvdXRlKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBoZWFsQ2FyZHNXcmFwKCk7XG4gIGxhc3RDYXJkUm91dGUgPSByb3V0ZTtcbiAgaWYgKGlzQW5pbWF0aW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJvdXRlZENhcmROdW0gPSBwYXJzZUludEZsaXAoMTApKFxuICByZXBsYWNlJC5jYWxsKHJvdXRlLCAvXmNhcmQtbi8sICcnKSk7XG4gICRiZ3MucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAkYmdzLmZpbHRlcihcIltkYXRhLWNhcmQtbnVtPVwiICsgcm91dGVkQ2FyZE51bSArIFwiXVwiKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICRjYXJkcy5kYXRhKCdhbmltYXRpb24tY29tcGxldGUnLCB0cnVlKTtcbiAgYW5pbUNhcmRzID0gZmlsdGVyKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgIT0gbnVsbDtcbiAgfSkobWFwKGZ1bmN0aW9uKGl0KXtcbiAgICB2YXIgJGNhcmQsIGNhcmROdW0sIGFuaW1PcHRzO1xuICAgICRjYXJkID0gJChpdCk7XG4gICAgY2FyZE51bSA9IHBhcnNlSW50RmxpcCgxMCkoXG4gICAgKGZ1bmN0aW9uKGl0KXtcbiAgICAgIHJldHVybiByZXBsYWNlJC5jYWxsKGl0LCAvXmNhcmQtbi8sICcnKTtcbiAgICB9KShcbiAgICAkY2FyZC5hdHRyKCdpZCcpKSk7XG4gICAgYW5pbU9wdHMgPSBmdW5jdGlvbigpe1xuICAgICAgaWYgKHJvdXRlZENhcmROdW0gPT09IGNhcmROdW0pIHtcbiAgICAgICAgaWYgKGlzQ2FyZFZpc2libGUoXG4gICAgICAgICRjYXJkKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYXJkTnVtICE9PSAwKSB7XG4gICAgICAgICAgJGNhcmQuY3NzKHtcbiAgICAgICAgICAgIGxlZnQ6IGNhcmROdW0gPiAobGFzdFJvdXRlZENhcmROdW0gIT0gbnVsbCA/IGxhc3RSb3V0ZWRDYXJkTnVtIDogMCkgPyAnMTAwJScgOiAnLTEwMCUnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGFzdFJvdXRlZENhcmROdW0gIT0gbnVsbCkge1xuICAgICAgICAgICRjYXJkLmNzcyh7XG4gICAgICAgICAgICB0b3A6ICctMTAwJSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1wb3J0JCh7XG4gICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9LCBjYXJkTnVtID09PSAwXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICB0b3A6ICcwJSdcbiAgICAgICAgICB9XG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICBsZWZ0OiAnMCUnXG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWlzQ2FyZFZpc2libGUoXG4gICAgICAgICRjYXJkKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbXBvcnQkKHtcbiAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0sIGNhcmROdW0gPT09IDBcbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgIHRvcDogJy0xMDAlJ1xuICAgICAgICAgIH1cbiAgICAgICAgICA6IHtcbiAgICAgICAgICAgIGxlZnQ6IGNhcmROdW0gPCByb3V0ZWRDYXJkTnVtID8gJy0xMDAlJyA6ICcxMDAlJ1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0oKTtcbiAgICBpZiAoYW5pbU9wdHMgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgICRjYXJkLmRhdGEoJ2FuaW1hdGlvbi1jb21wbGV0ZScsIGZhbHNlKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICAgICRjYXJkLnRyYW5zaXRpb24oYW5pbU9wdHMsIGFuaW1TcGVlZCwgJ2luLW91dCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICRjYXJkLmNzcyhhbmltT3B0cykuY3NzKHtcbiAgICAgICAgICB6SW5kZXg6IGFuaW1PcHRzLm9wYWNpdHkgPT09IDEgPyA0IDogM1xuICAgICAgICB9KS5kYXRhKCdpcy12aXNpYmxlJywgYW5pbU9wdHMub3BhY2l0eSA9PT0gMSkuZGF0YSgnYW5pbWF0aW9uLWNvbXBsZXRlJywgdHJ1ZSk7XG4gICAgICAgIGhlYWxDYXJkc1dyYXAoKTtcbiAgICAgICAgaWYgKGFsbChmdW5jdGlvbihpdCl7XG4gICAgICAgICAgcmV0dXJuICQoaXQpLmRhdGEoJ2FuaW1hdGlvbi1jb21wbGV0ZScpO1xuICAgICAgICB9KShcbiAgICAgICAgJGNhcmRzKSkge1xuICAgICAgICAgIGlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgbGFzdFJvdXRlZENhcmROdW0gPSByb3V0ZWRDYXJkTnVtO1xuICAgICAgICAgIGlmIChsYXN0Q2FyZFJvdXRlICE9PSByb3V0ZSkge1xuICAgICAgICAgICAgZGVsYXkoXG4gICAgICAgICAgICBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAkdy50cmlnZ2VyKFwiaGFzaC1uYXZpZ2F0ZWRcIiArIGJpbmRTdWZmaXgsIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSkoXG4gICRjYXJkcykpO1xuICBpZiAoYW5pbUNhcmRzLmxlbmd0aCA+IDApIHtcbiAgICBpc0FuaW1hdGluZyA9IHRydWU7XG4gICAgZWFjaChkZWxheSkoXG4gICAgYW5pbUNhcmRzKTtcbiAgfVxuICBoZWFsQ2FyZHNXcmFwKCk7XG59O1xub3V0JC5pbml0ID0gaW5pdCA9IGZ1bmN0aW9uKGNiKXtcbiAgaGVhbENhcmRzV3JhcCgpO1xuICAkdy5vbihcInJlc2l6ZVwiICsgYmluZFN1ZmZpeCwgaGVhbENhcmRzV3JhcCk7XG4gICR3Lm9uKFwiaGFzaC1uYXZpZ2F0ZWRcIiArIGJpbmRTdWZmaXgsIG9uTmF2aWdhdGVkKTtcbiAgJHcudHJpZ2dlcihcImhhc2gtbmF2aWdhdGVkXCIgKyBiaW5kU3VmZml4LCB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSk7XG4gIGRlbGF5KFxuICBjYik7XG59O1xuZnVuY3Rpb24gY29tcG9zZSQoKSB7XG4gIHZhciBmdW5jdGlvbnMgPSBhcmd1bWVudHM7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaSwgcmVzdWx0O1xuICAgIHJlc3VsdCA9IGZ1bmN0aW9uc1swXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBmdW5jdGlvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHJlc3VsdCA9IGZ1bmN0aW9uc1tpXShyZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuZnVuY3Rpb24gaW1wb3J0JChvYmosIHNyYyl7XG4gIHZhciBvd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbiAgZm9yICh2YXIga2V5IGluIHNyYykgaWYgKG93bi5jYWxsKHNyYywga2V5KSkgb2JqW2tleV0gPSBzcmNba2V5XTtcbiAgcmV0dXJuIG9iajtcbn0iLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBHZW5lcmFsIHBhZ2UgY2FyZHMgc3dpdGNoZXIgY29udHJvbFxuICpcbiAqIEBhdXRob3IgVmlhY2hlc2xhdiBMb3RzbWFub3ZcbiAqL1xudmFyICQsIHJlZiQsIGVhY2gsIG1hcCwgT2JqLCBvYmpUb1BhaXJzLCBwYWlyc1RvT2JqLCByZWplY3QsIFN0ciwgY2FtZWxpemUsIFNuYXAsIGdldFZhbCwgJHcsIHNDbGFzcywgYmluZFN1ZmZpeCwgaCwgb2Zmc2V0WCwgY2VudGVyWSwgY2lyY2xlUiwgcG9pbnRSLCBhbmltU3BlZWQsIGFuaW1DdXJ2ZSwgc2V0SnFQcm9wcywgZ2V0TGluZVgxLCByZXBvcywgb25SZXNpemUsIG9uTmF2aWdhdGVkLCBpbml0LCByZXBsYWNlJCA9ICcnLnJlcGxhY2UsIG91dCQgPSB0eXBlb2YgZXhwb3J0cyAhPSAndW5kZWZpbmVkJyAmJiBleHBvcnRzIHx8IHRoaXM7XG4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5yZWYkID0gcmVxdWlyZSgncHJlbHVkZScpLCBlYWNoID0gcmVmJC5lYWNoLCBtYXAgPSByZWYkLm1hcCwgT2JqID0gcmVmJC5PYmosIG9ialRvUGFpcnMgPSByZWYkLm9ialRvUGFpcnMsIHBhaXJzVG9PYmogPSByZWYkLnBhaXJzVG9PYmosIHJlamVjdCA9IHJlZiQucmVqZWN0LCBTdHIgPSByZWYkLlN0ciwgY2FtZWxpemUgPSByZWYkLmNhbWVsaXplO1xuU25hcCA9IHJlcXVpcmUoJ1NuYXAuc3ZnJyk7XG5nZXRWYWwgPSByZXF1aXJlKCcuLi8uLi8uLi9iYXNpY3MnKS5nZXRWYWw7XG4kdyA9ICQod2luZG93KTtcbnNDbGFzcyA9ICdjYXJkcy1zd2l0Y2hlcic7XG5iaW5kU3VmZml4ID0gJy5jYXJkcy1zd2l0Y2hlcic7XG5oID0gNTA7XG5vZmZzZXRYID0gMjU7XG5jZW50ZXJZID0gTWF0aC5yb3VuZChcbmggLyAyKTtcbmNpcmNsZVIgPSAyMjtcbnBvaW50UiA9IDU7XG5hbmltU3BlZWQgPSAoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgKiA0O1xufSkoXG5nZXRWYWwoJ2FuaW1hdGlvbi1zcGVlZCcpKTtcbmFuaW1DdXJ2ZSA9IG1pbmEuZWFzZWlub3V0O1xuc2V0SnFQcm9wcyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGVhY2goZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdC4kbm9kZSA9ICQoaXQubm9kZSk7XG4gIH0pKFxuICBpdCk7XG59O1xuZ2V0TGluZVgxID0gY3VycnkkKGZ1bmN0aW9uKGxpbmVXLCBsaW5rcywgaWR4KXtcbiAgcmV0dXJuIChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0ICsgb2Zmc2V0WDtcbiAgfSkoXG4gIChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0ICogaWR4O1xuICB9KShcbiAgZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBsaW5lVyAvIGl0O1xuICB9KFxuICAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCAtIDE7XG4gIH0pKFxuICBsaW5rcy5sZW5ndGgpKSkpO1xufSk7XG5yZXBvcyA9IGZ1bmN0aW9uKGFyZyQpe1xuICB2YXIgcywgZWxlbXMsIGxpbmtzLCB0b3RhbFcsIGxpbmVXLCBpJCwgbGVuJCwgaWR4LCBfLCBjbGFzc05hbWU7XG4gIHMgPSBhcmckLnMsIGVsZW1zID0gYXJnJC5lbGVtcywgbGlua3MgPSBhcmckLmxpbmtzLCB0b3RhbFcgPSBhcmckLnRvdGFsVywgbGluZVcgPSBhcmckLmxpbmVXO1xuICB0b3RhbFcgPT0gbnVsbCAmJiAodG90YWxXID0gcy4kbm9kZS53aWR0aCgpKTtcbiAgbGluZVcgPT0gbnVsbCAmJiAobGluZVcgPSAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCAtIG9mZnNldFggKiAyO1xuICB9KShcbiAgdG90YWxXKSk7XG4gIChmdW5jdGlvbih4KXtcbiAgICB2YXIgaSQsIHgkLCByZWYkLCBsZW4kLCByZXN1bHRzJCA9IFtdO1xuICAgIGVsZW1zLmxpbmUuc3RvcCgpLmFuaW1hdGUoe1xuICAgICAgeDE6IHhcbiAgICB9LCBhbmltU3BlZWQsIGFuaW1DdXJ2ZSk7XG4gICAgZWxlbXMuZGFya0xpbmUuc3RvcCgpLmFuaW1hdGUoe1xuICAgICAgeDI6IHhcbiAgICB9LCBhbmltU3BlZWQsIGFuaW1DdXJ2ZSk7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IGVsZW1zLmFsbEJpZ0NpcmNsZXMpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICB4JCA9IHJlZiRbaSRdO1xuICAgICAgcmVzdWx0cyQucHVzaCh4JC5zdG9wKCkuYW5pbWF0ZSh7XG4gICAgICAgIGN4OiB4XG4gICAgICB9LCBhbmltU3BlZWQsIGFuaW1DdXJ2ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cyQ7XG4gIH0pKFxuICBnZXRMaW5lWDEobGluZVcsIGxpbmtzKShcbiAgcy5hY3RpdmVJZHgpKTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSBsaW5rcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIGlkeCA9IGkkO1xuICAgIF8gPSBsaW5rc1tpJF07XG4gICAgY2xhc3NOYW1lID0gZWxlbXMucG9pbnRzW2lkeF0uYXR0cignY2xhc3MnKTtcbiAgICBpZiAoaWR4IDw9IHMuYWN0aXZlSWR4KSB7XG4gICAgICBpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ2RhcmsnKSA9PT0gLTEpIHtcbiAgICAgICAgZWxlbXMucG9pbnRzW2lkeF0uYXR0cih7XG4gICAgICAgICAgJ2NsYXNzJzogY2xhc3NOYW1lICsgXCIgZGFya1wiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY2xhc3NOYW1lLmluZGV4T2YoJ2RhcmsnKSAhPT0gLTEpIHtcbiAgICAgICAgZWxlbXMucG9pbnRzW2lkeF0uYXR0cih7XG4gICAgICAgICAgJ2NsYXNzJzogKHJlcGxhY2UkLmNhbGwoY2xhc3NOYW1lLCAvZGFyay9nLCAnJykpLnJlcGxhY2UoLyArL2csICcgJylcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xub25SZXNpemUgPSBmdW5jdGlvbihhcmckKXtcbiAgdmFyIHMsIGVsZW1zLCBsaW5rcywgdG90YWxXLCBsaW5lVywgaSQsIGxlbiQsIGlkeCwgXztcbiAgcyA9IGFyZyQucywgZWxlbXMgPSBhcmckLmVsZW1zLCBsaW5rcyA9IGFyZyQubGlua3M7XG4gIHRvdGFsVyA9IHMuJG5vZGUud2lkdGgoKTtcbiAgbGluZVcgPSAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCAtIG9mZnNldFggKiAyO1xuICB9KShcbiAgdG90YWxXKTtcbiAgZWxlbXMubGluZS5hdHRyKHtcbiAgICB4MjogdG90YWxXIC0gb2Zmc2V0WFxuICB9KTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSBsaW5rcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIGlkeCA9IGkkO1xuICAgIF8gPSBsaW5rc1tpJF07XG4gICAgZm4kKFxuICAgIGdldExpbmVYMShsaW5lVywgbGlua3MpKFxuICAgIGlkeCkpO1xuICB9XG4gIHJlcG9zKHtcbiAgICBzOiBzLFxuICAgIGVsZW1zOiBlbGVtcyxcbiAgICBsaW5rczogbGlua3MsXG4gICAgdG90YWxXOiB0b3RhbFcsXG4gICAgbGluZVc6IGxpbmVXXG4gIH0pO1xuICBmdW5jdGlvbiBmbiQoeCl7XG4gICAgdmFyIGkkLCB4JCwgcmVmJCwgbGVuJDtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0gZWxlbXMucG9pbnRzW2lkeF0uZWxzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgeCQgPSByZWYkW2kkXTtcbiAgICAgIHgkLmF0dHIoe1xuICAgICAgICBjeDogeFxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsZW1zLm51bWJlcnNbaWR4XS5hdHRyKHtcbiAgICAgIHg6IHhcbiAgICB9KTtcbiAgfVxufTtcbm9uTmF2aWdhdGVkID0gZnVuY3Rpb24oYXJnJCwgXywgcm91dGUpe1xuICB2YXIgcywgZWxlbXMsIGxpbmtzLCBjbGFzc05hbWUsIGlkeCwgeDtcbiAgcyA9IGFyZyQucywgZWxlbXMgPSBhcmckLmVsZW1zLCBsaW5rcyA9IGFyZyQubGlua3M7XG4gIGNsYXNzTmFtZSA9IHMuYXR0cignY2xhc3MnKTtcbiAgaWR4ID0gbGlua3MuaW5kZXhPZihcIiNcIiArIHJvdXRlKTtcbiAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICBzLmFjdGl2ZUlkeCA9IDA7XG4gICAgaWYgKGNsYXNzTmFtZS5pbmRleE9mKCdpbnZpc2libGUnKSA9PT0gLTEpIHtcbiAgICAgIHMuYXR0cih7XG4gICAgICAgICdjbGFzcyc6IGNsYXNzTmFtZSArIFwiIGludmlzaWJsZVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcy5hY3RpdmVJZHggPSBpZHg7XG4gICAgaWYgKGNsYXNzTmFtZS5pbmRleE9mKCdpbnZpc2libGUnKSAhPT0gLTEpIHtcbiAgICAgIHMuYXR0cih7XG4gICAgICAgICdjbGFzcyc6IChyZXBsYWNlJC5jYWxsKGNsYXNzTmFtZSwgL2ludmlzaWJsZS9nLCAnJykpLnJlcGxhY2UoLyArL2csICcgJylcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBlYWNoKGZ1bmN0aW9uKGl0KXtcbiAgICBpdFswXS5hdHRyKHtcbiAgICAgICdjbGFzcyc6IChyZXBsYWNlJC5jYWxsKGl0WzFdLCAvc2VsZWN0ZWQvZywgJycpKS5yZXBsYWNlKC8gKy9nLCAnICcpXG4gICAgfSk7XG4gIH0pKFxuICBtYXAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBbaXQsIGl0LmF0dHIoJ2NsYXNzJyldO1xuICB9KShcbiAgZWxlbXMucG9pbnRzKSk7XG4gIHggPSBlbGVtcy5wb2ludHNbcy5hY3RpdmVJZHhdO1xuICB4LmF0dHIoe1xuICAgICdjbGFzcyc6IHguYXR0cignY2xhc3MnKSArIFwiIHNlbGVjdGVkXCJcbiAgfSk7XG4gIHJlcG9zKHtcbiAgICBzOiBzLFxuICAgIGVsZW1zOiBlbGVtcyxcbiAgICBsaW5rczogbGlua3NcbiAgfSk7XG59O1xub3V0JC5pbml0ID0gaW5pdCA9IGZ1bmN0aW9uKGNiKXtcbiAgdmFyICRjYXJkc1dyYXAsICRjb250cm9scywgbGlua3MsIHMsIGVsZW1zO1xuICAkY2FyZHNXcmFwID0gJCgnLmdlbmVyYWwtY2FyZHMnKTtcbiAgJGNvbnRyb2xzID0gJGNhcmRzV3JhcC5maW5kKCcuY29udHJvbHMnKTtcbiAgbGlua3MgPSAkY29udHJvbHMuZmluZChcInVsLlwiICsgc0NsYXNzICsgXCIgbGkgYVwiKS5nZXQoKS5tYXAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiAkKGl0KS5hdHRyKCdocmVmJyk7XG4gIH0pLm1hcChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIHJlcGxhY2UkLmNhbGwoaXQsIC9eW14jXSsvLCAnJyk7XG4gIH0pO1xuICAkY29udHJvbHMuZmluZChcInVsLlwiICsgc0NsYXNzKS5yZW1vdmUoKTtcbiAgcyA9IFNuYXAoMCwgaCk7XG4gIHMuYXR0cih7XG4gICAgJ2NsYXNzJzogc0NsYXNzICsgXCIgaW52aXNpYmxlXCJcbiAgfSk7XG4gIHMuJG5vZGUgPSAkKHMubm9kZSk7XG4gIGVsZW1zID0ge307XG4gIGVsZW1zLm51bWJlcnMgPSBsaW5rcy5tYXAoZnVuY3Rpb24oXywgaWR4KXtcbiAgICByZXR1cm4gcy50ZXh0KG9mZnNldFgsIGNlbnRlclkgKyAxLCAoaWR4ICsgMSkgKyBcIlwiKS5hdHRyKHtcbiAgICAgICdjbGFzcyc6ICd0ZXh0LW51bWJlcidcbiAgICB9KTtcbiAgfSk7XG4gIGVsZW1zLm51bWJlcnNNYXNrID0gcy5jaXJjbGUob2Zmc2V0WCwgY2VudGVyWSwgY2lyY2xlUikuYXR0cih7XG4gICAgJ2NsYXNzJzogJ251bWJlcnMtbWFzaydcbiAgfSk7XG4gIChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0LmF0dHIoe1xuICAgICAgJ2NsYXNzJzogJ251bWJlcnMtZ3JvdXAnLFxuICAgICAgbWFzazogZWxlbXMubnVtYmVyc01hc2tcbiAgICB9KTtcbiAgfSkoXG4gIHMuZ3JvdXAuYXBwbHkocywgZWxlbXMubnVtYmVycykpO1xuICBlbGVtcy5wb2ludFN0cm9rZUZpeGVyID0gcy5yZWN0KDAsIDAsICcxMDAlJywgJzEwMCUnKS5hdHRyKHtcbiAgICBvcGFjaXR5OiAwXG4gIH0pO1xuICBlbGVtcy5kYXJrTGluZSA9IHMubGluZShvZmZzZXRYLCBjZW50ZXJZLCBvZmZzZXRYLCBjZW50ZXJZKS5hdHRyKHtcbiAgICAnY2xhc3MnOiAnZGFyay1saW5lJ1xuICB9KTtcbiAgZWxlbXMubGluZSA9IHMubGluZShvZmZzZXRYLCBjZW50ZXJZLCBvZmZzZXRYLCBjZW50ZXJZKS5hdHRyKHtcbiAgICAnY2xhc3MnOiAnbGluZSdcbiAgfSk7XG4gIGVsZW1zLnBvaW50cyA9IG1hcChmdW5jdGlvbihsaW5rKXtcbiAgICB2YXIgbGlzdDtcbiAgICBsaXN0ID0gW1xuICAgICAgcy5jaXJjbGUoMCwgY2VudGVyWSwgcG9pbnRSKS5hdHRyKHtcbiAgICAgICAgJ2NsYXNzJzogJ3BvaW50J1xuICAgICAgfSksIHMuY2lyY2xlKDAsIGNlbnRlclksIGNpcmNsZVIpLmF0dHIoe1xuICAgICAgICAnY2xhc3MnOiAnYmlnLXBvaW50J1xuICAgICAgfSlcbiAgICBdO1xuICAgIHJldHVybiBmdW5jdGlvbihpdCl7XG4gICAgICByZXR1cm4gaXQuYXR0cih7XG4gICAgICAgICdjbGFzcyc6ICdwb2ludHMtZ3JvdXAnXG4gICAgICB9KTtcbiAgICB9KFxuICAgIGZ1bmN0aW9uKGl0KXtcbiAgICAgIHJldHVybiBpdC5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggIT09IGxpbmspIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGxpbms7XG4gICAgICAgIH1cbiAgICAgICAgJHcudHJpZ2dlcignaGFzaC1uYXYtaGFuZGxlJyk7XG4gICAgICB9KTtcbiAgICB9KFxuICAgIGZ1bmN0aW9uKGl0KXtcbiAgICAgIGl0LmVscyA9IGxpc3Q7XG4gICAgICByZXR1cm4gaXQ7XG4gICAgfShcbiAgICBzLmdyb3VwLmFwcGx5KHMsIGxpc3QpKSkpO1xuICB9KShcbiAgbGlua3MpO1xuICBlbGVtcy5tYXJrZXJNYXNrQmcgPSBzLnJlY3QoMCwgMCwgJzEwMCUnLCAnMTAwJScpLmF0dHIoe1xuICAgICdjbGFzcyc6ICdtYXJrZXItbWFzay1iZydcbiAgfSk7XG4gIGVsZW1zLm1hcmtlck1hc2tDID0gcy5jaXJjbGUob2Zmc2V0WCwgY2VudGVyWSwgY2lyY2xlUikuYXR0cih7XG4gICAgJ2NsYXNzJzogJ21hcmtlci1tYXNrLWMnXG4gIH0pO1xuICBlbGVtcy5tYXJrZXJNYXNrRyA9IHMuZ3JvdXAoZWxlbXMubWFya2VyTWFza0JnLCBlbGVtcy5tYXJrZXJNYXNrQyk7XG4gIGVsZW1zLm9wYWNpdHlHcm91cCA9IGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQuYXR0cih7XG4gICAgICAnY2xhc3MnOiAnb3BhY2l0eS1ncm91cCcsXG4gICAgICBtYXNrOiBlbGVtcy5tYXJrZXJNYXNrR1xuICAgIH0pO1xuICB9KFxuICBzLmdyb3VwLmFwcGx5KHMsIChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0LmNvbmNhdChlbGVtcy5wb2ludHMpO1xuICB9KShcbiAgW2VsZW1zLnBvaW50U3Ryb2tlRml4ZXIsIGVsZW1zLmRhcmtMaW5lLCBlbGVtcy5saW5lXSkpKTtcbiAgZWxlbXMubWFya2VyID0gcy5jaXJjbGUob2Zmc2V0WCwgY2VudGVyWSwgY2lyY2xlUikuYXR0cih7XG4gICAgJ2NsYXNzJzogJ21hcmtlcidcbiAgfSk7XG4gIHNldEpxUHJvcHMoXG4gIChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0LmNvbmNhdChPYmoudmFsdWVzKFxuICAgIGVsZW1zLnBvaW50cykpO1xuICB9KShcbiAgKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQuY29uY2F0KG1hcChmdW5jdGlvbihpdCl7XG4gICAgICByZXR1cm4gaXRbMV07XG4gICAgfSkoXG4gICAgcmVqZWN0KGZ1bmN0aW9uKGl0KXtcbiAgICAgIHJldHVybiBpbiQoaXRbMF0sIFsncG9pbnRzJ10pO1xuICAgIH0pKFxuICAgIG9ialRvUGFpcnMoXG4gICAgZWxlbXMpKSkpO1xuICB9KShcbiAgW3NdKSkpO1xuICBlbGVtcy5hbGxCaWdDaXJjbGVzID0gWydtYXJrZXInLCAnbWFya2VyLW1hc2stYycsICdudW1iZXJzLW1hc2snXS5tYXAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBlbGVtc1tjYW1lbGl6ZShpdCldO1xuICB9KTtcbiAgcy5hcHBlbmRUbygkY29udHJvbHMuZ2V0KDApKTtcbiAgcy4kbm9kZS5vbihcIm5ld3NpemVcIiArIGJpbmRTdWZmaXgsIG9uUmVzaXplLmJpbmQobnVsbCwge1xuICAgIHM6IHMsXG4gICAgZWxlbXM6IGVsZW1zLFxuICAgIGxpbmtzOiBsaW5rc1xuICB9KSk7XG4gICR3Lm9uKFwiaGFzaC1uYXZpZ2F0ZWRcIiArIGJpbmRTdWZmaXgsIG9uTmF2aWdhdGVkLmJpbmQobnVsbCwge1xuICAgIHM6IHMsXG4gICAgZWxlbXM6IGVsZW1zLFxuICAgIGxpbmtzOiBsaW5rc1xuICB9KSk7XG4gICR3LnRyaWdnZXIoXCJoYXNoLW5hdmlnYXRlZFwiICsgYmluZFN1ZmZpeCwgd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkpO1xuICBzZXRUaW1lb3V0KGNiLCAwKTtcbn07XG5mdW5jdGlvbiBjdXJyeSQoZiwgYm91bmQpe1xuICB2YXIgY29udGV4dCxcbiAgX2N1cnJ5ID0gZnVuY3Rpb24oYXJncykge1xuICAgIHJldHVybiBmLmxlbmd0aCA+IDEgPyBmdW5jdGlvbigpe1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3MgPyBhcmdzLmNvbmNhdCgpIDogW107XG4gICAgICBjb250ZXh0ID0gYm91bmQgPyBjb250ZXh0IHx8IHRoaXMgOiB0aGlzO1xuICAgICAgcmV0dXJuIHBhcmFtcy5wdXNoLmFwcGx5KHBhcmFtcywgYXJndW1lbnRzKSA8XG4gICAgICAgICAgZi5sZW5ndGggJiYgYXJndW1lbnRzLmxlbmd0aCA/XG4gICAgICAgIF9jdXJyeS5jYWxsKGNvbnRleHQsIHBhcmFtcykgOiBmLmFwcGx5KGNvbnRleHQsIHBhcmFtcyk7XG4gICAgfSA6IGY7XG4gIH07XG4gIHJldHVybiBfY3VycnkoKTtcbn1cbmZ1bmN0aW9uIGluJCh4LCB4cyl7XG4gIHZhciBpID0gLTEsIGwgPSB4cy5sZW5ndGggPj4+IDA7XG4gIHdoaWxlICgrK2kgPCBsKSBpZiAoeCA9PT0geHNbaV0pIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59IiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbi8qKlxuICogR2VuZXJhbCBwYWdlIFwiY2FyZHNcIiBzZWN0aW9uXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgaW5pdCwgb3V0JCA9IHR5cGVvZiBleHBvcnRzICE9ICd1bmRlZmluZWQnICYmIGV4cG9ydHMgfHwgdGhpcztcbm91dCQuaW5pdCA9IGluaXQgPSBmdW5jdGlvbihjYil7XG4gIHZhciBjYXJkc1N3aXRjaGVyLCBzaXplQ2FsY3VsYXRvciwgY2FyZHNOYXZpZ2F0b3I7XG4gIGNhcmRzU3dpdGNoZXIgPSByZXF1aXJlKCcuL2NhcmRzLXN3aXRjaGVyJyk7XG4gIHNpemVDYWxjdWxhdG9yID0gcmVxdWlyZSgnLi9zaXplLWNhbGN1bGF0b3InKTtcbiAgY2FyZHNOYXZpZ2F0b3IgPSByZXF1aXJlKCcuL2NhcmRzLW5hdmlnYXRvcicpO1xuICBjYXJkc1N3aXRjaGVyLmluaXQoZnVuY3Rpb24oKXtcbiAgICBzaXplQ2FsY3VsYXRvci5pbml0KGZ1bmN0aW9uKCl7XG4gICAgICBjYXJkc05hdmlnYXRvci5pbml0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmIChjYiAhPSBudWxsKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufTsiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBHZW5lcmFsIHBhZ2UgY2FyZHMgc2l6ZSBjYWxjdWxhdG9yXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgJCwgcmVmJCwgbWFwLCBlYWNoLCBTdHIsIHBhaXJzVG9PYmosIE9iaiwgbGlzdHNUb09iaiwgY2FtZWxpemUsIGdldFZhbCwgZ2V0UmVsU2NyZWVuU2l6ZSwgc2l6ZUNhbGNIZWxwZXJzLCAkdywgc0NsYXNzLCBiaW5kU3VmZml4LCB3aWR0aHMsIHZhbHNTcmMsIHZhbHMsIGNhbGMsIG9uUmVzaXplLCBpbml0LCBvdXQkID0gdHlwZW9mIGV4cG9ydHMgIT0gJ3VuZGVmaW5lZCcgJiYgZXhwb3J0cyB8fCB0aGlzO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xucmVmJCA9IHJlcXVpcmUoJ3ByZWx1ZGUnKSwgbWFwID0gcmVmJC5tYXAsIGVhY2ggPSByZWYkLmVhY2gsIFN0ciA9IHJlZiQuU3RyLCBwYWlyc1RvT2JqID0gcmVmJC5wYWlyc1RvT2JqLCBPYmogPSByZWYkLk9iaiwgbGlzdHNUb09iaiA9IHJlZiQubGlzdHNUb09iaiwgY2FtZWxpemUgPSByZWYkLmNhbWVsaXplO1xuZ2V0VmFsID0gcmVxdWlyZSgnLi4vLi4vLi4vYmFzaWNzJykuZ2V0VmFsO1xuZ2V0UmVsU2NyZWVuU2l6ZSA9IHJlcXVpcmUoJy4uLy4uLy4uL2dldC1yZWwtc2NyZWVuLXNpemUnKTtcbnNpemVDYWxjSGVscGVycyA9IHJlcXVpcmUoJy4uLy4uLy4uL3NpemUtY2FsYy1oZWxwZXJzJyk7XG4kdyA9ICQod2luZG93KTtcbnNDbGFzcyA9ICdjYXJkcy1zd2l0Y2hlcic7XG5iaW5kU3VmZml4ID0gJy5jYXJkcy1zd2l0Y2hlcic7XG53aWR0aHMgPSBnZXRWYWwoXG4ncmVzcG9uc2l2ZS13aWR0aHMnKTtcbnZhbHNTcmMgPSBnZXRWYWwoXG4nZ2VuZXJhbC1wYWdlJyk7XG52YWxzID0gT2JqLm1hcChtYXAoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gbGlzdHNUb09iaihbaXRdKShcbiAgW3ZhbHNTcmNbaXRdXSk7XG59KSkoXG5wYWlyc1RvT2JqKFxubWFwKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIFtcbiAgICBTdHIudW5jaGFycyhcbiAgICBtYXAoU3RyLnRha2UoMSkpKFxuICAgIGl0KSksIG1hcChjYW1lbGl6ZSkoXG4gICAgaXQpXG4gIF07XG59KShcbltbJ2V4dHJhLXNtYWxsJywgJ3NtYWxsJ10sIFsnc21hbGwnLCAnbWlkZGxlJ10sIFsnbWlkZGxlJywgJ2JpZyddXSkpKTtcbmNhbGMgPSBPYmoubWFwKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIE9iai5tYXAoaXQpKFxuICB2YWxzKTtcbn0pKFxucGFpcnNUb09iaihcbm1hcChmdW5jdGlvbihpdCl7XG4gIHJldHVybiBbaXQsIHNpemVDYWxjSGVscGVyc1tpdF1dO1xufSkoXG5tYXAoY2FtZWxpemUpKFxuWydnZXQtcmVsLXZhbHMnXSkpKSk7XG5vblJlc2l6ZSA9IGZ1bmN0aW9uKGFyZyQpe1xuICB2YXIgJGNhcmRzU3dpdGNoZXIsIHNjcmVlblcsIHJhbmdlS2V5O1xuICAkY2FyZHNTd2l0Y2hlciA9IGFyZyQuJGNhcmRzU3dpdGNoZXI7XG4gIHNjcmVlblcgPSBnZXRSZWxTY3JlZW5TaXplKCkuc2NyZWVuVztcbiAgcmFuZ2VLZXkgPSBmdW5jdGlvbigpe1xuICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICBjYXNlICEoc2NyZWVuVyA+PSB3aWR0aHMuc21hbGwpOlxuICAgICAgcmV0dXJuICdzbSc7XG4gICAgY2FzZSAhKHNjcmVlblcgPj0gd2lkdGhzLm1pZGRsZSk6XG4gICAgICByZXR1cm4gJ21iJztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICdlcyc7XG4gICAgfVxuICB9KCk7XG4gIChmdW5jdGlvbihlbE5hbWUsIHZhbHMpe1xuICAgIHZhbHMgPSBjYWxjLmdldFJlbFZhbHNbcmFuZ2VLZXldKGVsTmFtZSkodmFscyk7XG4gICAgJGNhcmRzU3dpdGNoZXIuYXR0cih7XG4gICAgICB3aWR0aDogdmFscy53aWR0aFxuICAgIH0pLmNzcyh7XG4gICAgICBib3R0b206IHZhbHMuYm90dG9tICsgXCJweFwiXG4gICAgfSk7XG4gIH0uY2FsbCh0aGlzLCAnY2FyZHMtc3dpdGNoZXInLCBbJ3dpZHRoJywgJ2JvdHRvbSddKSk7XG4gICRjYXJkc1N3aXRjaGVyLnRyaWdnZXIoXCJuZXdzaXplXCIgKyBiaW5kU3VmZml4KTtcbn07XG5vdXQkLmluaXQgPSBpbml0ID0gZnVuY3Rpb24oY2Ipe1xuICB2YXIgJGNhcmRzV3JhcCwgJGNvbnRyb2xzLCAkY2FyZHNTd2l0Y2hlcjtcbiAgJGNhcmRzV3JhcCA9ICQoJy5nZW5lcmFsLWNhcmRzJyk7XG4gICRjb250cm9scyA9ICRjYXJkc1dyYXAuZmluZCgnLmNvbnRyb2xzJyk7XG4gICRjYXJkc1N3aXRjaGVyID0gJGNvbnRyb2xzLmZpbmQoXCJzdmcuXCIgKyBzQ2xhc3MpO1xuICAkdy5vbihcInJlc2l6ZVwiICsgYmluZFN1ZmZpeCwgb25SZXNpemUuYmluZChudWxsLCB7XG4gICAgJGNhcmRzU3dpdGNoZXI6ICRjYXJkc1N3aXRjaGVyXG4gIH0pKTtcbiAgY2IoKTtcbn07IiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbi8qKlxuICogR2VuZXJhbCBwYWdlIFwiY29udGFjdHNcIiBzZWN0aW9uIGJlaGF2aW9yXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgJCwgcmVmJCwgT2JqLCBpc1R5cGUsIE51bSwgU3RyLCBkeW5hbWljQXBpLCBnZXRWYWwsIGdldExvY2FsVGV4dDtcbiQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnJlZiQgPSByZXF1aXJlKCdwcmVsdWRlJyksIE9iaiA9IHJlZiQuT2JqLCBpc1R5cGUgPSByZWYkLmlzVHlwZSwgTnVtID0gcmVmJC5OdW0sIFN0ciA9IHJlZiQuU3RyO1xucmVmJCA9IHJlcXVpcmUoJy4uLy4uL2Jhc2ljcycpLCBkeW5hbWljQXBpID0gcmVmJC5keW5hbWljQXBpLCBnZXRWYWwgPSByZWYkLmdldFZhbCwgZ2V0TG9jYWxUZXh0ID0gcmVmJC5nZXRMb2NhbFRleHQ7XG4oZnVuY3Rpb24oaXQpe1xuICBtb2R1bGUuZXhwb3J0cy5pbml0ID0gaXQ7XG59KShmdW5jdGlvbigpe1xuICAkKCcuY29udGFjdHMnKS5lYWNoKGZ1bmN0aW9uKGkpe1xuICAgIHZhciAkcywgJGhlYWQsICRhZGRyZXNzLCAkc2Vjb25kLCAkZm9ybSwgJGlucHV0c0xhYmVscywgJGlucHV0cywgaXNSZXNwb25zZVZhbGlkLCBnbWFwcywgJG1hcCwgJG1hcmtlciwgJHBvc1ksICRwb3NYLCAkbWFya1ksICRtYXJrWCwgJHpvb20sICRpY29uLCBzdHlsZXMsIG1hcDtcbiAgICAkcyA9ICQodGhpcyk7XG4gICAgJGhlYWQgPSAkcy5maW5kKCcuaGVhZCcpO1xuICAgICRhZGRyZXNzID0gJHMuZmluZCgnYWRkcmVzcycpO1xuICAgICRzZWNvbmQgPSAkcy5maW5kKCcuc2Vjb25kJyk7XG4gICAgJGZvcm0gPSAkc2Vjb25kLmZpbmQoJ2Zvcm0nKTtcbiAgICAkaW5wdXRzTGFiZWxzID0gJGZvcm0uZmluZCgnbGFiZWwudGV4dCwgbGFiZWwudGV4dGFyZWEnKTtcbiAgICAkaW5wdXRzID0gJGlucHV0c0xhYmVscy5maW5kKCdpbnB1dCwgdGV4dGFyZWEnKTtcbiAgICAoZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuICRpbnB1dHMub24oJ2NoYW5nZScsIGl0KS5vbignZm9jdXMnLCBpdCkub24oJ2JsdXInLCBpdCkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgfSkoXG4gICAgZnVuY3Rpb24oKXtcbiAgICAgIGlmICghISQodGhpcykudmFsKCkpIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaGFzLXZhbHVlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdoYXMtdmFsdWUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpc1Jlc3BvbnNlVmFsaWQgPSBmdW5jdGlvbihpdCl7XG4gICAgICB2YXIgZXJyO1xuICAgICAgaWYgKCEkLmlzUGxhaW5PYmplY3QoaXQpKSB7XG4gICAgICAgIGVyciA9IG5ldyBFcnJvcihcIkluY29ycmVjdCBKU09OIHJlc3BvbnNlOiAnXCIgKyBpdCArIFwiJ1wiKTtcbiAgICAgICAgd2luZG93LmFsZXJ0KGVyci5tZXNzYWdlKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgICRmb3JtLm9uKCdyZXNldCcsIGZ1bmN0aW9uKCl7XG4gICAgICAkaW5wdXRzTGFiZWxzLnRyaWdnZXIoJ3JlbW92ZS1lcnJvci1tZXNzYWdlJyk7XG4gICAgICAkaW5wdXRzLnZhbCgnJykudHJpZ2dlcignYmx1cicpO1xuICAgIH0pO1xuICAgICRmb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbigpe1xuICAgICAgaWYgKCRmb3JtLmhhc0NsYXNzKCdwcm9jZXNzJykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgJGZvcm0uYWRkQ2xhc3MoJ3Byb2Nlc3MnKTtcbiAgICAgICRpbnB1dHNMYWJlbHMudHJpZ2dlcigncmVtb3ZlLWVycm9yLW1lc3NhZ2UnKTtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHVybDogJy9mZWVkYmFjay1wb3N0Lmpzb24nLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgZGF0YTogJGZvcm0uc2VyaWFsaXplKClcbiAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24oanNvbiwgdGV4dFN0YXR1cywganFYSFIpe1xuICAgICAgICBpZiAoIWlzUmVzcG9uc2VWYWxpZChqc29uKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoanNvbi5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgIHdpbmRvdy5hbGVydChnZXRMb2NhbFRleHQoJ2Zvcm1zJywgJ2ZlZWRiYWNrLXN1Y2Nlc3MtbXNnYm94JykpO1xuICAgICAgICAgICRmb3JtLnRyaWdnZXIoJ3Jlc2V0Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luZG93LmFsZXJ0KGdldExvY2FsVGV4dCgnZXJyJywgJ2FqYXgnLCAndW5rbm93bi1lcnJvcicpKTtcbiAgICAgICAgfVxuICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKXtcbiAgICAgICAgdmFyIGpzb24sIHJlZiQ7XG4gICAgICAgIGpzb24gPSBqcVhIUi5yZXNwb25zZUpTT047XG4gICAgICAgIGlmICghaXNSZXNwb25zZVZhbGlkKGpzb24pKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uLnN0YXR1cyA9PT0gJ2Vycm9yJyAmJiAoKHJlZiQgPSBqc29uLmVycm9yQ29kZSkgPT09ICdyZXF1aXJlZC1maWVsZHMnIHx8IHJlZiQgPT09ICdpbmNvcnJlY3QtZmllbGRzJykgJiYganNvbi5maWVsZHMgIT0gbnVsbCkge1xuICAgICAgICAgIGpzb24uZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpe1xuICAgICAgICAgICAgdmFyICRpbnB1dCwgJGxhYmVsO1xuICAgICAgICAgICAgJGlucHV0ID0gJGZvcm0uZmluZChcImlucHV0W25hbWU9J1wiICsgZmllbGQgKyBcIiddLCB0ZXh0YXJlYVtuYW1lPSdcIiArIGZpZWxkICsgXCInXVwiKTtcbiAgICAgICAgICAgICRsYWJlbCA9ICRpbnB1dC5jbG9zZXN0KCdsYWJlbCcpO1xuICAgICAgICAgICAgJGxhYmVsLmFkZENsYXNzKCdlcnJvcicpO1xuICAgICAgICAgICAgJGxhYmVsLmRhdGEoJ2Vycm9yLW1lc3NhZ2UtanEtZWwnLCAkKCc8ZGl2Lz4nLCB7XG4gICAgICAgICAgICAgICdjbGFzcyc6ICdlcnJvci1tZXNzYWdlJ1xuICAgICAgICAgICAgfSkpLmRhdGEoJ2Vycm9yLW1lc3NhZ2UtanEtZWwnKS5odG1sKGdldExvY2FsVGV4dCgnZXJyJywgJ2FqYXgnLCBqc29uLmVycm9yQ29kZS5zbGljZSgwLCAtMSkpKTtcbiAgICAgICAgICAgICRsYWJlbC5hcHBlbmQoJGxhYmVsLmRhdGEoJ2Vycm9yLW1lc3NhZ2UtanEtZWwnKSkub24oJ3JlbW92ZS1lcnJvci1tZXNzYWdlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgJGlucHV0Lm9mZignZm9jdXMuZXJyb3ItbWVzc2FnZS1oaWRlJyk7XG4gICAgICAgICAgICAgICRsYWJlbC5vZmYoJ3JlbW92ZS1lcnJvci1tZXNzYWdlJykucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICRsYWJlbC5kYXRhKCdlcnJvci1tZXNzYWdlLWpxLWVsJykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICB9LCBnZXRWYWwoJ2FuaW1hdGlvbi1zcGVlZCcpLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciAkaW5wdXQsICRsYWJlbDtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICRpbnB1dCA9IHZvaWQgODtcbiAgICAgICAgICAgICAgICAkbGFiZWwgPSB2b2lkIDg7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkaW5wdXQub24oJ2ZvY3VzLmVycm9yLW1lc3NhZ2UtaGlkZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIHJldHVybiAkbGFiZWwudHJpZ2dlcigncmVtb3ZlLWVycm9yLW1lc3NhZ2UnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpbmRvdy5hbGVydChnZXRMb2NhbFRleHQoJ2VycicsICdhamF4JywgJ3Vua25vd24tZXJyb3InKSk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNvbXBsZXRlKGZ1bmN0aW9uKCl7XG4gICAgICAgICRmb3JtLnJlbW92ZUNsYXNzKCdwcm9jZXNzJyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICBnbWFwcyA9IHJlcXVpcmUoJ2dtYXBzJyk7XG4gICAgJG1hcCA9ICRzLmZpbmQoJy5tYXAnKTtcbiAgICAkbWFya2VyID0gJG1hcC5maW5kKCdpbWcubWFya2VyJyk7XG4gICAgJHBvc1kgPSAkbWFwLmRhdGEoJ3Bvcy15Jyk7XG4gICAgJHBvc1ggPSAkbWFwLmRhdGEoJ3Bvcy14Jyk7XG4gICAgJG1hcmtZID0gJG1hcC5kYXRhKCdtYXJrLXknKTtcbiAgICAkbWFya1ggPSAkbWFwLmRhdGEoJ21hcmsteCcpO1xuICAgICR6b29tID0gJG1hcC5kYXRhKCd6b29tJyk7XG4gICAgJGljb24gPSAkbWFwLmZpbmQoJy5tYXJrZXInKS5hdHRyKCdzcmMnKTtcbiAgICBzdHlsZXMgPSBbXG4gICAgICB7XG4gICAgICAgIFwiZmVhdHVyZVR5cGVcIjogJ2FsbCcsXG4gICAgICAgIFwiZWxlbWVudFR5cGVcIjogJ2xhYmVscy50ZXh0LmZpbGwnLFxuICAgICAgICBcInN0eWxlcnNcIjogW3tcbiAgICAgICAgICBcImNvbG9yXCI6ICcjZmZmZmZmJ1xuICAgICAgICB9XVxuICAgICAgfSwge1xuICAgICAgICBcImZlYXR1cmVUeXBlXCI6ICdhbGwnLFxuICAgICAgICBcImVsZW1lbnRUeXBlXCI6ICdsYWJlbHMudGV4dC5zdHJva2UnLFxuICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwidmlzaWJpbGl0eVwiOiAnb24nXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgXCJjb2xvclwiOiAnIzJlMzUzNydcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIndlaWdodFwiOiAyXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgXCJnYW1tYVwiOiAwLjg0XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LCB7XG4gICAgICAgIFwiZmVhdHVyZVR5cGVcIjogJ2FsbCcsXG4gICAgICAgIFwiZWxlbWVudFR5cGVcIjogJ2xhYmVscy5pY29uJyxcbiAgICAgICAgXCJzdHlsZXJzXCI6IFt7XG4gICAgICAgICAgXCJ2aXNpYmlsaXR5XCI6ICdvZmYnXG4gICAgICAgIH1dXG4gICAgICB9LCB7XG4gICAgICAgIFwiZmVhdHVyZVR5cGVcIjogJ2FkbWluaXN0cmF0aXZlJyxcbiAgICAgICAgXCJlbGVtZW50VHlwZVwiOiAnZ2VvbWV0cnknLFxuICAgICAgICBcInN0eWxlcnNcIjogW3tcbiAgICAgICAgICBcIndlaWdodFwiOiAwLjZcbiAgICAgICAgfV1cbiAgICAgIH0sIHtcbiAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiAnbGFuZHNjYXBlJyxcbiAgICAgICAgXCJlbGVtZW50VHlwZVwiOiAnZ2VvbWV0cnknLFxuICAgICAgICBcInN0eWxlcnNcIjogW3tcbiAgICAgICAgICBcImNvbG9yXCI6ICcjNGM2Mzc0J1xuICAgICAgICB9XVxuICAgICAgfSwge1xuICAgICAgICBcImZlYXR1cmVUeXBlXCI6ICdwb2knLFxuICAgICAgICBcImVsZW1lbnRUeXBlXCI6ICdnZW9tZXRyeScsXG4gICAgICAgIFwic3R5bGVyc1wiOiBbe1xuICAgICAgICAgIFwiY29sb3JcIjogJyM2NjdmOTAnXG4gICAgICAgIH1dXG4gICAgICB9LCB7XG4gICAgICAgIFwiZmVhdHVyZVR5cGVcIjogJ3BvaS5wYXJrJyxcbiAgICAgICAgXCJlbGVtZW50VHlwZVwiOiAnZ2VvbWV0cnknLFxuICAgICAgICBcInN0eWxlcnNcIjogW3tcbiAgICAgICAgICBcImNvbG9yXCI6ICcjNjY3ZjkwJ1xuICAgICAgICB9XVxuICAgICAgfSwge1xuICAgICAgICBcImZlYXR1cmVUeXBlXCI6ICdyb2FkJyxcbiAgICAgICAgXCJlbGVtZW50VHlwZVwiOiAnZ2VvbWV0cnknLFxuICAgICAgICBcInN0eWxlcnNcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiY29sb3JcIjogJyMyNjQyNTgnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgXCJsaWdodG5lc3NcIjogLTM3XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LCB7XG4gICAgICAgIFwiZmVhdHVyZVR5cGVcIjogJ3RyYW5zaXQnLFxuICAgICAgICBcImVsZW1lbnRUeXBlXCI6ICdnZW9tZXRyeScsXG4gICAgICAgIFwic3R5bGVyc1wiOiBbe1xuICAgICAgICAgIFwiY29sb3JcIjogJyM1YjcyODMnXG4gICAgICAgIH1dXG4gICAgICB9LCB7XG4gICAgICAgIFwiZmVhdHVyZVR5cGVcIjogJ3dhdGVyJyxcbiAgICAgICAgXCJlbGVtZW50VHlwZVwiOiAnZ2VvbWV0cnknLFxuICAgICAgICBcInN0eWxlcnNcIjogW3tcbiAgICAgICAgICBcImNvbG9yXCI6ICcjNjZiY2Y3J1xuICAgICAgICB9XVxuICAgICAgfVxuICAgIF07XG4gICAgbWFwID0gbmV3IEdNYXBzKHtcbiAgICAgIGRpdjogJG1hcC5zZWxlY3RvcixcbiAgICAgIGxhdDogJHBvc1ksXG4gICAgICBsbmc6ICRwb3NYLFxuICAgICAgem9vbTogJHpvb20sXG4gICAgICB6b29tQ29udHJvbDogdHJ1ZSxcbiAgICAgIHpvb21Db250cm9sT3B0aW9uczoge1xuICAgICAgICBwb3NpdGlvbjogZ29vZ2xlLm1hcHMuQ29udHJvbFBvc2l0aW9uLkxFRlRfQ0VOVEVSXG4gICAgICB9LFxuICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgc2NhbGVDb250cm9sOiBmYWxzZSxcbiAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZVxuICAgIH0pO1xuICAgIG1hcC5hZGRNYXJrZXIoe1xuICAgICAgbGF0OiAkbWFya1ksXG4gICAgICBsbmc6ICRtYXJrWCxcbiAgICAgIGljb246ICRpY29uXG4gICAgfSk7XG4gICAgbWFwLnNldE9wdGlvbnMoe1xuICAgICAgc3R5bGVzOiBzdHlsZXNcbiAgICB9KTtcbiAgfSk7XG59KTsiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBHZW5lcmFsIHBhZ2UgXCJwb3J0Zm9saW9cIiBzZWN0aW9uIGJlaGF2aW9yXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgJCwgJHcsICRzLCAkaGVhZGVyLCAkaGVpZ2h0SGVscGVyLCAkZWxlbXMsICRtb3JlQmxvY2ssICRtb3JlO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuJHcgPSAkKHdpbmRvdyk7XG4kcyA9ICQoJy5wb3J0Zm9saW8nKTtcbiRoZWFkZXIgPSAkKCdoZWFkZXInKTtcbiRoZWlnaHRIZWxwZXIgPSAkaGVhZGVyLmZpbmQoJy5oZWlnaHQtaGVscGVyJyk7XG4kZWxlbXMgPSAkcy5maW5kKCd1bD5saScpO1xuJG1vcmVCbG9jayA9ICRzLmZpbmQoJy5tb3JlLWJsb2NrJyk7XG4kbW9yZSA9ICRtb3JlQmxvY2suZmluZCgnPmEnKTtcbiRtb3JlLmNsaWNrKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuKGZ1bmN0aW9uKCl7XG4gIHZhciBiaW5kU3VmZml4LCBzY3JvbGxIYW5kbGVyO1xuICBiaW5kU3VmZml4ID0gJy5nZW5lcmFsLXBhZ2UtcG9ydGZvbGlvLXNob3ctZWxlbWVudHMtYnktc2Nyb2xsJztcbiAgc2Nyb2xsSGFuZGxlciA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNjcm9sbFZhbCwgaSQsIHJlZiQsIGxlbiQsIGl0ZW0sICRpdGVtO1xuICAgIHNjcm9sbFZhbCA9ICR3LnNjcm9sbFRvcCgpICsgJHcuaGVpZ2h0KCk7XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9ICRlbGVtcykubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICAgIGl0ZW0gPSByZWYkW2kkXTtcbiAgICAgICRpdGVtID0gJChpdGVtKTtcbiAgICAgIGlmIChzY3JvbGxWYWwgPiAkaXRlbS5vZmZzZXQoKS50b3ApIHtcbiAgICAgICAgJGl0ZW0uYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRpdGVtLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAkdy5vbihcInNjcm9sbFwiICsgYmluZFN1ZmZpeCwgc2Nyb2xsSGFuZGxlcikub24oXCJyZXNpemVcIiArIGJpbmRTdWZmaXgsIHNjcm9sbEhhbmRsZXIpO1xuICBzY3JvbGxIYW5kbGVyKCk7XG59KSgpOyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIEdlbmVyYWwgcGFnZSBcInJldmlld3NcIiBzZWN0aW9uIGJlaGF2aW9yXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgJCwgJHMsICRsaXN0LCAkbGlzdEVsZW1zLCAkbGlzdExpbmtzO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xucmVxdWlyZSgnanF1ZXJ5LWtpbmV0aWMnKTtcbnJlcXVpcmUoJ3Ntb290aC1kaXYnKTtcbnJlcXVpcmUoJ21vZGVybml6cicpO1xuJHMgPSAkKCcucmV2aWV3cycpO1xuJGxpc3QgPSAkcy5maW5kKCd1bC5yZXZpZXdzLWxpc3QnKTtcbiRsaXN0RWxlbXMgPSAkbGlzdC5maW5kKCc+bGknKTtcbiRsaXN0TGlua3MgPSAkbGlzdEVsZW1zLmZpbmQoJ2EnKTtcbihmdW5jdGlvbigpe1xuICB2YXIgd2lkdGgsIG1hcmdpblgsIHNwYWNlLCBzdW07XG4gIHdpZHRoID0gMDtcbiAgbWFyZ2luWCA9IDA7XG4gIHNwYWNlID0gMDtcbiAgaWYgKCRsaXN0RWxlbXMubGVuZ3RoID4gMCkge1xuICAgIHdpZHRoID0gJGxpc3RFbGVtcy5maXJzdCgpLndpZHRoKCk7XG4gICAgbWFyZ2luWCA9IHBhcnNlSW50KCRsaXN0RWxlbXMuZmlyc3QoKS5jc3MoJ21hcmdpbi1sZWZ0JyksIDEwKTtcbiAgICBpZiAoJGxpc3RFbGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICBzcGFjZSA9IHBhcnNlSW50KCRsaXN0RWxlbXMubGFzdCgpLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApO1xuICAgIH1cbiAgfVxuICBzdW0gPSAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCArIHNwYWNlICogKCRsaXN0RWxlbXMubGVuZ3RoIC0gMSk7XG4gIH0pKFxuICAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCArIG1hcmdpblggKiAyO1xuICB9KShcbiAgd2lkdGggKiAkbGlzdEVsZW1zLmxlbmd0aCkpO1xuICBpZiAoc3VtID4gJGxpc3Qud2lkdGgoKSkge1xuICAgIHJldHVybiAkbGlzdC5zY3JvbGxMZWZ0KChmdW5jdGlvbihpdCl7XG4gICAgICByZXR1cm4gaXQgLyAyO1xuICAgIH0pKFxuICAgIChmdW5jdGlvbihpdCl7XG4gICAgICByZXR1cm4gaXQgLSAkbGlzdC53aWR0aCgpO1xuICAgIH0pKFxuICAgIHN1bSkpKTtcbiAgfVxufSkoKTtcbiRsaXN0TGlua3Mub24oJ2ZvY3VzJywgZnVuY3Rpb24oKXtcbiAgJGxpc3RFbGVtcy5yZW1vdmVDbGFzcygnZm9jdXNlZCcpO1xuICAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykuYWRkQ2xhc3MoJ2ZvY3VzZWQnKTtcbn0pLm9uKCdibHVyJywgZnVuY3Rpb24oKXtcbiAgJCh0aGlzKS5jbG9zZXN0KCdsaScpLnJlbW92ZUNsYXNzKCdmb2N1c2VkJyk7XG59KTtcbiRsaXN0LnNtb290aERpdlNjcm9sbChNb2Rlcm5penIudG91Y2hcbiAgPyB7XG4gICAgdG91Y2hTY3JvbGxpbmc6IHRydWUsXG4gICAgaG90U3BvdFNjcm9sbGluZzogZmFsc2VcbiAgfVxuICA6IHtcbiAgICB0b3VjaFNjcm9sbGluZzogZmFsc2UsXG4gICAgaG90U3BvdFNjcm9sbGluZzogdHJ1ZSxcbiAgICBob3RTcG90U2Nyb2xsaW5nU3RlcDogNSxcbiAgICBob3RTcG90TW91c2VEb3duU3BlZWRCb29zdGVyOiAxXG4gIH0pOyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIFNjcm9sbCByZXN0b3JlIGhlbHBlciBhZnRlciB3aW5kb3cgcmVzaXplXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgcmVmJCwgbWFwLCBmaW5kLCAkLCAkdywgJGQsICRoZWFkZXIsICRoZWlnaHRIZWxwZXIsIHNlY3Rpb25zLCBiaW5kU3VmZml4LCAkbGFzdEVsZW0sIGxhc3RFbGVtUG9zO1xucmVmJCA9IHJlcXVpcmUoJ3ByZWx1ZGUnKSwgbWFwID0gcmVmJC5tYXAsIGZpbmQgPSByZWYkLmZpbmQ7XG4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG4kdyA9ICQod2luZG93KTtcbiRkID0gJChkb2N1bWVudCk7XG4kaGVhZGVyID0gJCgnaGVhZGVyJyk7XG4kaGVpZ2h0SGVscGVyID0gJGhlYWRlci5maW5kKCcuaGVpZ2h0LWhlbHBlcicpO1xuc2VjdGlvbnMgPSBtYXAoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gJChpdCk7XG59KShcbm1hcChmdW5jdGlvbihpdCl7XG4gIHJldHVybiBcIiNcIiArIGl0O1xufSkoXG5bJ2NhcmQtbjAnLCAncG9ydGZvbGlvJywgJ3RlYW0nXSkpO1xuYmluZFN1ZmZpeCA9ICcuZ2VuZXJhbC1wYWdlLXNjcm9sbC1yZXN0b3JlJztcbiRsYXN0RWxlbSA9IG51bGw7XG5sYXN0RWxlbVBvcyA9IDA7XG5tb2R1bGUuZXhwb3J0cy5iaW5kQmVmb3JlID0gZnVuY3Rpb24oKXtcbiAgJHcub24oXCJyZXNpemVcIiArIGJpbmRTdWZmaXgsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIHN0O1xuICAgIHN0ID0gJHcuc2Nyb2xsVG9wKCkgKyAkaGVpZ2h0SGVscGVyLmhlaWdodCgpO1xuICAgICRsYXN0RWxlbSA9IGZpbmQoZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIHN0ID49IGl0Lm9mZnNldCgpLnRvcCAmJiBzdCA8IGl0Lm9mZnNldCgpLnRvcCArIGl0LmhlaWdodCgpO1xuICAgIH0pKFxuICAgIHNlY3Rpb25zKTtcbiAgICBpZiAoJGxhc3RFbGVtID09IG51bGwpIHtcbiAgICAgIHJldHVybiBsYXN0RWxlbVBvcyA9IDA7XG4gICAgfVxuICAgIGxhc3RFbGVtUG9zID0gKGZ1bmN0aW9uKGl0KXtcbiAgICAgIHJldHVybiBpdCAvICRsYXN0RWxlbS5oZWlnaHQoKTtcbiAgICB9KShcbiAgICAoZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIGl0ICogMTAwO1xuICAgIH0pKFxuICAgIChmdW5jdGlvbihpdCl7XG4gICAgICByZXR1cm4gaXQgLSAkbGFzdEVsZW0ub2Zmc2V0KCkudG9wO1xuICAgIH0pKFxuICAgIHN0KSkpO1xuICB9KTtcbn07XG5tb2R1bGUuZXhwb3J0cy5iaW5kQWZ0ZXIgPSBmdW5jdGlvbigpe1xuICAkdy5vbihcInJlc2l6ZVwiICsgYmluZFN1ZmZpeCwgZnVuY3Rpb24oKXtcbiAgICBpZiAoJGxhc3RFbGVtID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgJGQuc2Nyb2xsVG9wKChmdW5jdGlvbihpdCl7XG4gICAgICByZXR1cm4gaXQgKyAoZnVuY3Rpb24oaXQpe1xuICAgICAgICByZXR1cm4gaXQgLyAxMDA7XG4gICAgICB9KShcbiAgICAgIChmdW5jdGlvbihpdCl7XG4gICAgICAgIHJldHVybiBpdCAqICRsYXN0RWxlbS5oZWlnaHQoKTtcbiAgICAgIH0pKFxuICAgICAgbGFzdEVsZW1Qb3MpKTtcbiAgICB9KShcbiAgICAoZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIGl0IC0gJGhlaWdodEhlbHBlci5oZWlnaHQoKTtcbiAgICB9KShcbiAgICAkbGFzdEVsZW0ub2Zmc2V0KCkudG9wKSkpO1xuICB9KTtcbn07IiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbi8qKlxuICogR2VuZXJhbCBwYWdlIGR5bmFtaWMgc2l6ZSBjYWxjdWxhdG9yXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG52YXIgJCwgcmVmJCwgbWFwLCBlYWNoLCBvYmpUb1BhaXJzLCBsaXN0c1RvT2JqLCBTdHIsIHBhaXJzVG9PYmosIE9iaiwgY2FtZWxpemUsIGdldFZhbCwgZ2V0UmVsU2NyZWVuU2l6ZSwgc2l6ZUNhbGNIZWxwZXJzLCAkdywgJGh0bWwsICRib2R5LCAkdG9wUGFydCwgaGVhZGVyc04xLCBoZWFkZXJzTjIsIG1hcHMsICRjYXJkcywgJGNhcmRzTGlzdCwgJGNhcmROMCwgJGNhcmROME5leHQsICRjYXJkTjBOZXh0SWNvbiwgJHBvcnRmb2xpbywgJHBvcnRmb2xpb1RpdGxlQmxvY2ssICRwb3J0Zm9saW9UaXRsZUJsb2NrSDIsICRwb3J0Zm9saW9UaXRsZUJsb2NrSDMsICRwb3J0Zm9saW9VbExpLCAkcG9ydGZvbGlvVWxMaVRleHQsICRwb3J0Zm9saW9VbExpVGV4dEgzLCAkcG9ydGZvbGlvVWxMaVRleHRINCwgJHBvcnRmb2xpb1VsTGlUZXh0SDNINCwgJHBvcnRmb2xpb01vcmVCbG9ja0EsICRwb3J0Zm9saW9Nb3JlQmxvY2tBSWNvbiwgJHRlYW0sICRjb250YWN0cywgJGNvbnRhY3RzSGVhZCwgJGNvbnRhY3RzSDIsICRjb250YWN0c0gySW1nLCAkY29udGFjdHNTZWNvbmQsICRjb250YWN0c0NvbHMsICRjb250YWN0c0NvbE4xLCAkY29udGFjdHNDb2xOMiwgJGNvbnRhY3RzQ29sTjFQaG9uZSwgJGNvbnRhY3RzQ29sTjFFbWFpbCwgJGNvbnRhY3RzQ29sTjFBZGRyZXNzLCAkY29udGFjdHNDb2xOMkZvcm0sICRjb250YWN0c0NvbE4yTGFiZWxTdWJtaXQsICRjb250YWN0c0NvbE4yTGFiZWxzLCAkY29udGFjdHNDb2xOMkxhYmVsc1RleHQsICRjb250YWN0c0NvbE4ySW5wdXRzLCAkY29udGFjdHNDb2xOMlRleHRhcmVhLCAkY29udGFjdHNDb2xOMkxhYmVsc1NwYW4sIGNvbnRhY3RzRm9udE4xLCBjb250YWN0c0ZvbnROMiwgY29udGFjdHNDb2xOMUl0ZW1zLCAkaGVhZGVyLCAkaGVpZ2h0SGVscGVyLCBiaW5kU3VmZml4LCB3aWR0aHMsIHZhbHNTcmMsIHZhbHMsIGNhbGM7XG4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5yZWYkID0gcmVxdWlyZSgncHJlbHVkZScpLCBtYXAgPSByZWYkLm1hcCwgZWFjaCA9IHJlZiQuZWFjaCwgb2JqVG9QYWlycyA9IHJlZiQub2JqVG9QYWlycywgbGlzdHNUb09iaiA9IHJlZiQubGlzdHNUb09iaiwgU3RyID0gcmVmJC5TdHIsIHBhaXJzVG9PYmogPSByZWYkLnBhaXJzVG9PYmosIE9iaiA9IHJlZiQuT2JqLCBjYW1lbGl6ZSA9IHJlZiQuY2FtZWxpemU7XG5nZXRWYWwgPSByZXF1aXJlKCcuLi8uLi9iYXNpY3MnKS5nZXRWYWw7XG5nZXRSZWxTY3JlZW5TaXplID0gcmVxdWlyZSgnLi4vLi4vZ2V0LXJlbC1zY3JlZW4tc2l6ZScpO1xuc2l6ZUNhbGNIZWxwZXJzID0gcmVxdWlyZSgnLi4vLi4vc2l6ZS1jYWxjLWhlbHBlcnMnKTtcbiR3ID0gJCh3aW5kb3cpO1xuJGh0bWwgPSAkKCdodG1sJyk7XG4kYm9keSA9ICRodG1sLmZpbmQoJ2JvZHknKTtcbiR0b3BQYXJ0ID0gJGJvZHkuZmluZCgnPi50b3AtcGFydCcpO1xuaGVhZGVyc04xID0gW107XG5oZWFkZXJzTjIgPSBbXTtcbm1hcHMgPSBbXTtcbiRjYXJkcyA9ICQoJy5nZW5lcmFsLWNhcmRzJyk7XG4kY2FyZHNMaXN0ID0gJGNhcmRzLmNoaWxkcmVuKCk7XG4kY2FyZE4wID0gJGNhcmRzLmZpbmQoJy5jYXJkLW4wJyk7XG4kY2FyZE4wTmV4dCA9ICRjYXJkTjAuZmluZCgnLm5leHQnKTtcbiRjYXJkTjBOZXh0SWNvbiA9ICRjYXJkTjBOZXh0LmZpbmQoJz5zcGFuJyk7XG5oZWFkZXJzTjEucHVzaCgkY2FyZE4wLmZpbmQoJ2gxJykpO1xuaGVhZGVyc04yLnB1c2goJGNhcmROMC5maW5kKCdoMicpKTtcbiRwb3J0Zm9saW8gPSAkKCcucG9ydGZvbGlvJyk7XG4kcG9ydGZvbGlvVGl0bGVCbG9jayA9ICRwb3J0Zm9saW8uZmluZCgnLnRpdGxlLWJsb2NrJyk7XG4kcG9ydGZvbGlvVGl0bGVCbG9ja0gyID0gJHBvcnRmb2xpb1RpdGxlQmxvY2suZmluZCgnaDInKTtcbiRwb3J0Zm9saW9UaXRsZUJsb2NrSDMgPSAkcG9ydGZvbGlvVGl0bGVCbG9jay5maW5kKCdoMycpO1xuJHBvcnRmb2xpb1VsTGkgPSAkcG9ydGZvbGlvLmZpbmQoJz51bD5saScpO1xuJHBvcnRmb2xpb1VsTGlUZXh0ID0gJHBvcnRmb2xpb1VsTGkuZmluZCgnLnRleHQnKTtcbiRwb3J0Zm9saW9VbExpVGV4dEgzID0gJHBvcnRmb2xpb1VsTGlUZXh0LmZpbmQoJ2gzJyk7XG4kcG9ydGZvbGlvVWxMaVRleHRINCA9ICRwb3J0Zm9saW9VbExpVGV4dC5maW5kKCdoNCcpO1xuJHBvcnRmb2xpb1VsTGlUZXh0SDNINCA9ICRwb3J0Zm9saW9VbExpVGV4dC5maW5kKCdoMytoNCcpO1xuJHBvcnRmb2xpb01vcmVCbG9ja0EgPSAkcG9ydGZvbGlvLmZpbmQoJy5tb3JlLWJsb2NrPmEnKTtcbiRwb3J0Zm9saW9Nb3JlQmxvY2tBSWNvbiA9ICRwb3J0Zm9saW9Nb3JlQmxvY2tBLmZpbmQoJ2kuYSwgaS5iJyk7XG4kdGVhbSA9ICQoJy50ZWFtJyk7XG5oZWFkZXJzTjEucHVzaCgkdGVhbS5maW5kKCdoMScpKTtcbmhlYWRlcnNOMi5wdXNoKCR0ZWFtLmZpbmQoJ2gyJykpO1xuJGNvbnRhY3RzID0gJCgnLmNvbnRhY3RzJyk7XG4kY29udGFjdHNIZWFkID0gJGNvbnRhY3RzLmZpbmQoJy5oZWFkJyk7XG4kY29udGFjdHNIMiA9ICRjb250YWN0c0hlYWQuZmluZCgnaDInKTtcbiRjb250YWN0c0gySW1nID0gJGNvbnRhY3RzSDIuZmluZCgnaW1nJyk7XG5tYXBzLnB1c2goJGNvbnRhY3RzLmZpbmQoJy5tYXAnKSk7XG4kY29udGFjdHNTZWNvbmQgPSAkY29udGFjdHMuZmluZCgnLnNlY29uZCcpO1xuJGNvbnRhY3RzQ29scyA9ICRjb250YWN0c1NlY29uZC5maW5kKCcuY29sJyk7XG4kY29udGFjdHNDb2xOMSA9ICRjb250YWN0c0NvbHMuZmlyc3QoKTtcbiRjb250YWN0c0NvbE4yID0gJGNvbnRhY3RzQ29scy5sYXN0KCk7XG4kY29udGFjdHNDb2xOMVBob25lID0gJGNvbnRhY3RzQ29sTjEuZmluZCgnLnBob25lJyk7XG4kY29udGFjdHNDb2xOMUVtYWlsID0gJGNvbnRhY3RzQ29sTjEuZmluZCgnLmVtYWlsJyk7XG4kY29udGFjdHNDb2xOMUFkZHJlc3MgPSAkY29udGFjdHNDb2xOMS5maW5kKCdhZGRyZXNzJyk7XG4kY29udGFjdHNDb2xOMkZvcm0gPSAkY29udGFjdHNDb2xOMi5maW5kKCdmb3JtJyk7XG4kY29udGFjdHNDb2xOMkxhYmVsU3VibWl0ID0gJGNvbnRhY3RzQ29sTjJGb3JtLmZpbmQoJ2xhYmVsLnN1Ym1pdCcpO1xuJGNvbnRhY3RzQ29sTjJMYWJlbHMgPSAkY29udGFjdHNDb2xOMkZvcm0uZmluZCgnbGFiZWw6bm90KC5zdWJtaXQpJyk7XG5BcnJheS5wcm90b3R5cGUuc2hpZnQuY2FsbCgkY29udGFjdHNDb2xOMkxhYmVscyk7XG4kY29udGFjdHNDb2xOMkxhYmVsc1RleHQgPSAkY29udGFjdHNDb2xOMkZvcm0uZmluZCgnbGFiZWwudGV4dCcpO1xuJGNvbnRhY3RzQ29sTjJJbnB1dHMgPSAkY29udGFjdHNDb2xOMkZvcm0uZmluZCgnbGFiZWwudGV4dCBpbnB1dCwgbGFiZWwudGV4dGFyZWEgdGV4dGFyZWEnKTtcbiRjb250YWN0c0NvbE4yVGV4dGFyZWEgPSAkY29udGFjdHNDb2xOMkZvcm0uZmluZCgnbGFiZWwudGV4dGFyZWEgdGV4dGFyZWEnKTtcbiRjb250YWN0c0NvbE4yTGFiZWxzU3BhbiA9ICRjb250YWN0c0NvbE4yRm9ybS5maW5kKCdsYWJlbC50ZXh0IHNwYW4sIGxhYmVsLnRleHRhcmVhIHNwYW4nKTtcbmNvbnRhY3RzRm9udE4xID0gWyRjb250YWN0c0NvbE4xUGhvbmUsICRjb250YWN0c0NvbE4xRW1haWxdO1xuY29udGFjdHNGb250TjIgPSBbJGNvbnRhY3RzQ29sTjFBZGRyZXNzLCAkY29udGFjdHNDb2xOMklucHV0cywgJGNvbnRhY3RzQ29sTjJMYWJlbHNTcGFuXTtcbmNvbnRhY3RzQ29sTjFJdGVtcyA9IFskY29udGFjdHNDb2xOMVBob25lLCAkY29udGFjdHNDb2xOMUVtYWlsLCAkY29udGFjdHNDb2xOMUFkZHJlc3NdO1xuJGhlYWRlciA9ICRib2R5LmZpbmQoJ2hlYWRlcicpO1xuJGhlaWdodEhlbHBlciA9ICRoZWFkZXIuZmluZCgnLmhlaWdodC1oZWxwZXInKTtcbmJpbmRTdWZmaXggPSAnLmdlbmVyYWwtcGFnZS1zaXplLWNhbGN1bGF0b3InO1xud2lkdGhzID0gZ2V0VmFsKFxuJ3Jlc3BvbnNpdmUtd2lkdGhzJyk7XG52YWxzU3JjID0gZ2V0VmFsKFxuJ2dlbmVyYWwtcGFnZScpO1xudmFscyA9IE9iai5tYXAobWFwKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGxpc3RzVG9PYmooW2l0XSkoXG4gIFt2YWxzU3JjW2l0XV0pO1xufSkpKFxucGFpcnNUb09iaihcbm1hcChmdW5jdGlvbihpdCl7XG4gIHJldHVybiBbXG4gICAgU3RyLnVuY2hhcnMoXG4gICAgbWFwKFN0ci50YWtlKDEpKShcbiAgICBpdCkpLCBpdFxuICBdO1xufSkoXG5bWydzbWFsbCcsICdtaWRkbGUnXSwgWydtaWRkbGUnLCAnYmlnJ11dKSkpO1xuY2FsYyA9IE9iai5tYXAoZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gT2JqLm1hcChpdCkoXG4gIHZhbHMpO1xufSkoXG5wYWlyc1RvT2JqKFxubWFwKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIFtpdCwgc2l6ZUNhbGNIZWxwZXJzW2l0XV07XG59KShcbm1hcChjYW1lbGl6ZSkoXG5bJ2dldC1yZWwtdmFscycsICdzZXQtdHlwaWNhbC1zaXplcycsICdzZXQtdHlwaWNhbC1zaXplcy10by1hcnJheSddKSkpKTtcbiR3Lm9uKFwicmVzaXplXCIgKyBiaW5kU3VmZml4LCBmdW5jdGlvbigpe1xuICB2YXIgc2NyZWVuVywgaGVhZGVyT2Zmc2V0LCB3SCwgcmFuZ2VLZXk7XG4gIHNjcmVlblcgPSBnZXRSZWxTY3JlZW5TaXplKCkuc2NyZWVuVztcbiAgaGVhZGVyT2Zmc2V0ID0gJGhlaWdodEhlbHBlci5oZWlnaHQoKTtcbiAgd0ggPSAkdy5oZWlnaHQoKTtcbiAgcmFuZ2VLZXkgPSBmdW5jdGlvbigpe1xuICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICBjYXNlICEoc2NyZWVuVyA+PSB3aWR0aHMubWlkZGxlKTpcbiAgICAgIHJldHVybiAnbWInO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ3NtJztcbiAgICB9XG4gIH0oKTtcbiAgKGZ1bmN0aW9uKGVsS2V5KXtcbiAgICAoZnVuY3Rpb24odmFscyl7XG4gICAgICB2YWxzID0gY2FsYy5nZXRSZWxWYWxzLm1iKGVsS2V5KSh2YWxzKTtcbiAgICAgICRjYXJkTjBOZXh0SWNvbi5jc3Moe1xuICAgICAgICBtYXJnaW5Ub3A6IHZhbHMuaWNvblRvcCArIFwicHhcIixcbiAgICAgICAgdHJhbnNmb3JtOiBcInNjYWxlKFwiICsgdmFscy5zY2FsZSArIFwiKVwiXG4gICAgICB9KTtcbiAgICB9LmNhbGwodGhpcywgWydpY29uLXRvcCcsICdzY2FsZSddKSk7XG4gICAgKGZ1bmN0aW9uKHZhbHMpe1xuICAgICAgdmFscyA9IGNhbGMuZ2V0UmVsVmFscy5tYihlbEtleSkodmFscyk7XG4gICAgICAkY2FyZE4wTmV4dC5jc3Moe1xuICAgICAgICB3aWR0aDogdmFscy5zaXplICsgXCJweFwiLFxuICAgICAgICBoZWlnaHQ6IHZhbHMuc2l6ZSArIFwicHhcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiB2YWxzLnNpemUgLyAyICsgXCJweFwiLFxuICAgICAgICBtYXJnaW5Ub3A6IHZhbHMubWFyZ2luVG9wICsgXCJweFwiXG4gICAgICB9KTtcbiAgICB9LmNhbGwodGhpcywgWydzaXplJywgJ21hcmdpbi10b3AnXSkpO1xuICB9LmNhbGwodGhpcywgJ25leHQnKSk7XG4gIGVhY2goZnVuY3Rpb24oaXQpe1xuICAgIGNhbGMuc2V0VHlwaWNhbFNpemVzVG9BcnJheS5tYihpdFswXSwgaXRbMV0pO1xuICB9KShcbiAgb2JqVG9QYWlycyhcbiAge1xuICAgICdoZWFkZXItbjEnOiBoZWFkZXJzTjEsXG4gICAgJ2hlYWRlci1uMic6IGhlYWRlcnNOMlxuICB9KSk7XG4gIGVhY2goZnVuY3Rpb24oaXQpe1xuICAgIGNhbGMuc2V0VHlwaWNhbFNpemVzLm1iKGl0WzBdLCBpdFsxXSk7XG4gIH0pKFxuICBvYmpUb1BhaXJzKFxuICB7XG4gICAgJ3BvcnRmb2xpby10aXRsZS1ibG9jayc6ICRwb3J0Zm9saW9UaXRsZUJsb2NrLFxuICAgICdwb3J0Zm9saW8tdGl0bGUtYmxvY2staDInOiAkcG9ydGZvbGlvVGl0bGVCbG9ja0gyLFxuICAgICdwb3J0Zm9saW8tdGl0bGUtYmxvY2staDMnOiAkcG9ydGZvbGlvVGl0bGVCbG9ja0gzLFxuICAgICdwb3J0Zm9saW8tdWwtbGknOiAkcG9ydGZvbGlvVWxMaSxcbiAgICAncG9ydGZvbGlvLXVsLWxpLXRleHQtaDMnOiAkcG9ydGZvbGlvVWxMaVRleHRIMyxcbiAgICAncG9ydGZvbGlvLXVsLWxpLXRleHQtaDQnOiAkcG9ydGZvbGlvVWxMaVRleHRINCxcbiAgICAncG9ydGZvbGlvLXVsLWxpLXRleHQtaDMtaDQnOiAkcG9ydGZvbGlvVWxMaVRleHRIM0g0LFxuICAgICdwb3J0Zm9saW8tbW9yZS1ibG9jay1hJzogJHBvcnRmb2xpb01vcmVCbG9ja0EsXG4gICAgJ2NvbnRhY3RzLWhlYWQnOiAkY29udGFjdHNIZWFkLFxuICAgICdjb250YWN0cy1oMic6ICRjb250YWN0c0gyXG4gIH0pKTtcbiAgKGZ1bmN0aW9uKGVsS2V5LCB2YWxzKXtcbiAgICB2YWxzID0gY2FsYy5nZXRSZWxWYWxzLm1iKGVsS2V5KSh2YWxzKTtcbiAgICAkcG9ydGZvbGlvTW9yZUJsb2NrQUljb24uY3NzKHtcbiAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKDUwJSkgc2NhbGUoXCIgKyB2YWxzLnNjYWxlICsgXCIpXCJcbiAgICB9KTtcbiAgfS5jYWxsKHRoaXMsICdwb3J0Zm9saW8tbW9yZS1ibG9jay1hLWljb24nLCBbJ3NjYWxlJ10pKTtcbiAgKGZ1bmN0aW9uKGVsS2V5LCB2YWxzKXtcbiAgICB2YWxzID0gY2FsYy5nZXRSZWxWYWxzLm1iKGVsS2V5KSh2YWxzKTtcbiAgICAkY29udGFjdHNIMkltZy5jc3Moe1xuICAgICAgdHJhbnNmb3JtOiBcInNjYWxlKFwiICsgdmFscy5zY2FsZSArIFwiKVwiXG4gICAgfSk7XG4gIH0uY2FsbCh0aGlzLCAnY29udGFjdHMtaDItaW1nJywgWydzY2FsZSddKSk7XG4gIGVhY2goZnVuY3Rpb24oaXQpe1xuICAgIGNhbGMuc2V0VHlwaWNhbFNpemVzVG9BcnJheS5tYihpdFswXSwgaXRbMV0pO1xuICB9KShcbiAgb2JqVG9QYWlycyhcbiAge1xuICAgICdjb250YWN0cy1jb2wtbjEtaXRlbXMnOiBjb250YWN0c0NvbE4xSXRlbXNcbiAgfSkpO1xuICBlYWNoKGZ1bmN0aW9uKGl0KXtcbiAgICBjYWxjLnNldFR5cGljYWxTaXplc1RvQXJyYXlbcmFuZ2VLZXldKGl0WzBdLCBpdFsxXSk7XG4gIH0pKFxuICBvYmpUb1BhaXJzKFxuICB7XG4gICAgJ2NvbnRhY3RzLXNlY29uZC1mb250LW4xJzogY29udGFjdHNGb250TjEsXG4gICAgJ2NvbnRhY3RzLXNlY29uZC1mb250LW4yJzogY29udGFjdHNGb250TjIsXG4gICAgJ2NvbnRhY3RzLWNvbC1uMSc6ICRjb250YWN0c0NvbE4xLFxuICAgICdjb250YWN0cy1jb2wtbjInOiAkY29udGFjdHNDb2xOMixcbiAgICAnY29udGFjdHMtY29sLW4yLWxhYmVsLXN1Ym1pdCc6ICRjb250YWN0c0NvbE4yTGFiZWxTdWJtaXQsXG4gICAgJ2NvbnRhY3RzLWNvbC1uMi1sYWJlbCc6ICRjb250YWN0c0NvbE4yTGFiZWxzLFxuICAgICdjb250YWN0cy1jb2wtbjItbGFiZWwtdGV4dCc6ICRjb250YWN0c0NvbE4yTGFiZWxzVGV4dCxcbiAgICAnY29udGFjdHMtY29sLW4yLXRleHRhcmVhJzogJGNvbnRhY3RzQ29sTjJUZXh0YXJlYSxcbiAgICAnY29udGFjdHMtY29sLW4yLXNwYW4nOiAkY29udGFjdHNDb2xOMkxhYmVsc1NwYW5cbiAgfSkpO1xuICAkY2FyZHMuY3NzKHtcbiAgICBoZWlnaHQ6IHdIXG4gIH0pO1xuICAkY2FyZHNMaXN0LmNzcyh7XG4gICAgaGVpZ2h0OiB3SFxuICB9KTtcbiAgJHRlYW0uY3NzKHtcbiAgICBoZWlnaHQ6IHdIIC0gaGVhZGVyT2Zmc2V0XG4gIH0pO1xuICAkdG9wUGFydC5jc3Moe1xuICAgIGhlaWdodDogJ2F1dG8nXG4gIH0pO1xuICBlYWNoKGZ1bmN0aW9uKGl0KXtcbiAgICBpdC50cmlnZ2VyKCdyZXNpemUtbWFwJyk7XG4gIH0pKFxuICBtYXBzKTtcbn0pO1xuJHcudHJpZ2dlcihcInJlc2l6ZVwiICsgYmluZFN1ZmZpeCk7IiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4zLjFcbi8qKlxuICogR2VuZXJhbCBwYWdlIFwidGVhbVwiIHNlY3Rpb24gYmVoYXZpb3JcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciAkLCAkcywgJHBlb3BsZUxpc3QsICRwZW9wbGVMaXN0RWxlbXMsICRwZW9wbGVMaW5rcywgJGxpbmtzO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xucmVxdWlyZSgnanF1ZXJ5LWtpbmV0aWMnKTtcbnJlcXVpcmUoJ3Ntb290aC1kaXYnKTtcbnJlcXVpcmUoJ21vZGVybml6cicpO1xuJHMgPSAkKCcudGVhbScpO1xuJHBlb3BsZUxpc3QgPSAkcy5maW5kKCd1bC5wZW9wbGUnKTtcbiRwZW9wbGVMaXN0RWxlbXMgPSAkcGVvcGxlTGlzdC5maW5kKCc+bGknKTtcbiRwZW9wbGVMaW5rcyA9ICRwZW9wbGVMaXN0RWxlbXMuZmluZCgnPmEnKTtcbihmdW5jdGlvbigpe1xuICB2YXIgJGxpc3QsICRlbGVtcywgc3VtO1xuICAkbGlzdCA9ICRwZW9wbGVMaXN0O1xuICAkZWxlbXMgPSAkcGVvcGxlTGlzdC5maW5kKCc+bGknKTtcbiAgaWYgKCEoJGVsZW1zLmxlbmd0aCA+IDApKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN1bSA9IChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuIGl0ICsgcGFyc2VJbnQoJGVsZW1zLmxhc3QoKS5jc3MoJ21hcmdpbi1yaWdodCcpLCAxMCk7XG4gIH0pKFxuICAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCArICRlbGVtcy5maXJzdCgpLndpZHRoKCk7XG4gIH0pKFxuICAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdCArIHBhcnNlSW50KCRlbGVtcy5maXJzdCgpLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApO1xuICB9KShcbiAgMCkpKTtcbiAgaWYgKCRlbGVtcy5sZW5ndGggPiAxKSB7XG4gICAgc3VtICs9IChmdW5jdGlvbihpdCl7XG4gICAgICByZXR1cm4gaXQgKyBwYXJzZUludCgkZWxlbXMubGFzdCgpLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApO1xuICAgIH0pKFxuICAgICRlbGVtcy5sYXN0KCkud2lkdGgoKSk7XG4gIH1cbiAgQXJyYXkucHJvdG90eXBlLnNoaWZ0LmNhbGwoJGVsZW1zKTtcbiAgQXJyYXkucHJvdG90eXBlLnBvcC5jYWxsKCRlbGVtcyk7XG4gICRlbGVtcy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHRoaXMkID0gdGhpcztcbiAgICBzdW0gKz0gZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIGl0ICsgJCh0aGlzJCkud2lkdGgoKTtcbiAgICB9KFxuICAgIHBhcnNlSW50KCQodGhpcykuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMCkpO1xuICB9KTtcbiAgaWYgKHN1bSA+ICRsaXN0LndpZHRoKCkpIHtcbiAgICByZXR1cm4gJGxpc3Quc2Nyb2xsTGVmdCgoZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIGl0IC8gMjtcbiAgICB9KShcbiAgICAoZnVuY3Rpb24oaXQpe1xuICAgICAgcmV0dXJuIGl0IC0gJGxpc3Qud2lkdGgoKTtcbiAgICB9KShcbiAgICBzdW0pKSk7XG4gIH1cbn0pKCk7XG4kbGlua3MgPSAkcy5maW5kKCd1bC5wZW9wbGU+bGk+YScpO1xuJGxpbmtzLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xufSk7XG4kcGVvcGxlTGlzdEVsZW1zLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKXtcbiAgJGxpbmtzLmJsdXIoKTtcbn0pO1xuJHBlb3BsZUxpbmtzLmVhY2goZnVuY3Rpb24oKXtcbiAgdmFyICRsaW5rO1xuICAkbGluayA9ICQodGhpcyk7XG4gICQodGhpcykuZmluZCgnaW1nJykuZWFjaChmdW5jdGlvbigpe1xuICAgIHZhciAkaW1nLCAkdG9Mb2FkO1xuICAgICRpbWcgPSAkKHRoaXMpO1xuICAgICR0b0xvYWQgPSAkKCc8aW1nLz4nKS5vbignbG9hZCcsIGZ1bmN0aW9uKCl7XG4gICAgICAkbGluay5jc3Moe1xuICAgICAgICBoZWlnaHQ6ICRpbWcuaGVpZ2h0KClcbiAgICAgIH0pO1xuICAgICAgJGltZy5jc3Moe1xuICAgICAgICBib3R0b206IC01XG4gICAgICB9KS5hZGRDbGFzcygnbG9hZGVkJyk7XG4gICAgfSkuYXR0cignc3JjJywgJGltZy5hdHRyKCdzcmMnKSk7XG4gICAgJHBlb3BsZUxpc3Quc21vb3RoRGl2U2Nyb2xsKE1vZGVybml6ci50b3VjaFxuICAgICAgPyB7XG4gICAgICAgIHRvdWNoU2Nyb2xsaW5nOiB0cnVlLFxuICAgICAgICBob3RTcG90U2Nyb2xsaW5nOiBmYWxzZVxuICAgICAgfVxuICAgICAgOiB7XG4gICAgICAgIHRvdWNoU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICAgICAgaG90U3BvdFNjcm9sbGluZzogdHJ1ZSxcbiAgICAgICAgaG90U3BvdFNjcm9sbGluZ1N0ZXA6IDUsXG4gICAgICAgIGhvdFNwb3RNb3VzZURvd25TcGVlZEJvb3N0ZXI6IDFcbiAgICAgIH0pO1xuICB9KTtcbn0pOyIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIEltYWdlcyBwcmVsb2FkaW5nIG1vZHVsZVxuICogU2VlIGljb25zLnN0eWxcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciByZWYkLCB1bmlxdWUsIGRpZmZlcmVuY2UsIGVtcHR5LCBpc1R5cGUsICQsIGdldExvY2FsVGV4dCwgbG9hZEltZywgZ2V0VmFsLCBlcnJvciwgYWRkUHJlbG9hZFRvRG9tLCBsb2FkZWRDYiwgc3VjY2VzcztcbnJlZiQgPSByZXF1aXJlKCdwcmVsdWRlJyksIHVuaXF1ZSA9IHJlZiQudW5pcXVlLCBkaWZmZXJlbmNlID0gcmVmJC5kaWZmZXJlbmNlLCBlbXB0eSA9IHJlZiQuZW1wdHksIGlzVHlwZSA9IHJlZiQuaXNUeXBlO1xuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xucmVmJCA9IHJlcXVpcmUoJy4vYmFzaWNzJyksIGdldExvY2FsVGV4dCA9IHJlZiQuZ2V0TG9jYWxUZXh0LCBsb2FkSW1nID0gcmVmJC5sb2FkSW1nLCBnZXRWYWwgPSByZWYkLmdldFZhbDtcbmVycm9yID0gZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycil7XG4gIGlmIChlcnIgPT09ICd0aW1lb3V0Jykge1xuICAgIHdpbmRvdy5hbGVydChnZXRMb2NhbFRleHQoJ2VycicsICdzdHlsZXMnLCAnbG9hZC10aW1lb3V0JykpO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5hbGVydChnZXRMb2NhbFRleHQoJ2VycicsICdzdHlsZXMnLCAneGhyLWxvYWQnLCB7XG4gICAgICAnI0VSUk9SX0NPREUjJzogZXJyXG4gICAgfSkpO1xuICB9XG59O1xuYWRkUHJlbG9hZFRvRG9tID0gZnVuY3Rpb24oJG1hc3RlciwgY2xhc3NOYW1lKXtcbiAgdmFyICRuZXdFbDtcbiAgJG5ld0VsID0gJCgnPGlucy8+Jywge1xuICAgICdjbGFzcyc6IGNsYXNzTmFtZVxuICB9KTtcbiAgJG1hc3Rlci5hcHBlbmQoJG5ld0VsKTtcbn07XG5sb2FkZWRDYiA9IGZ1bmN0aW9uKGNiLCBsb2FkZWRMaXN0LCBtYXRjaGVzKXtcbiAgbWF0Y2hlcyA9IHVuaXF1ZShcbiAgbWF0Y2hlcyk7XG4gIGxvYWRlZExpc3QgPSB1bmlxdWUoXG4gIGxvYWRlZExpc3QpO1xuICBpZiAoZW1wdHkoXG4gIGRpZmZlcmVuY2UobWF0Y2hlcywgbG9hZGVkTGlzdCkpKSB7XG4gICAgc2V0VGltZW91dChjYiwgMCk7XG4gIH1cbn07XG5zdWNjZXNzID0gZnVuY3Rpb24oZGF0YSwgY2Ipe1xuICB2YXIgbWF0Y2hlcywgJG1hc3RlciwgaSQsIGxlbiQsIGNsYXNzTmFtZSwgbG9hZGVkTGlzdCwgTG9hZEltZywgc3JjO1xuICBtYXRjaGVzID0gZGF0YS5tYXRjaCgvKD8hXFwuKShwcmVsb2FkLVteXFxzXFx7XSspL2cpO1xuICBpZiAoIWlzVHlwZSgnQXJyYXknKSkge1xuICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgIHJldHVybjtcbiAgfVxuICAkbWFzdGVyID0gJCgnPGRpdi8+Jywge1xuICAgICdjbGFzcyc6ICdwcmVsb2FkZXJzJ1xuICB9KTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSBtYXRjaGVzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgY2xhc3NOYW1lID0gbWF0Y2hlc1tpJF07XG4gICAgJG1hc3Rlci5hcHBlbmQoJCgnPGlucy8+Jywge1xuICAgICAgJ2NsYXNzJzogY2xhc3NOYW1lXG4gICAgfSkpO1xuICB9XG4gICQoJ2JvZHknKS5hcHBlbmQoJG1hc3Rlcik7XG4gIGxvYWRlZExpc3QgPSBbXTtcbiAgTG9hZEltZyA9IHJlcXVpcmUoJ2xvYWQtaW1nJyk7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0gbWF0Y2hlcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIGNsYXNzTmFtZSA9IG1hdGNoZXNbaSRdO1xuICAgIHNyYyA9ICRtYXN0ZXIuZmluZChcIi5cIiArIGNsYXNzTmFtZSkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJykudHJpbSgpLnJlcGxhY2UoL151cmxcXCgoLio/KVxcKSQvaSwgJyQxJykudHJpbSgpLnJlcGxhY2UoL14nKC4qPyknJC8sICckMScpLnJlcGxhY2UoL15cIiguKj8pXCIkLywgJyQxJyk7XG4gICAgbG9hZEltZyhzcmMsIChmbiQuY2FsbCh0aGlzLCBzcmMsIGNsYXNzTmFtZSkpKTtcbiAgfVxuICBmdW5jdGlvbiBmbiQoc3JjLCBjbGFzc05hbWUpe1xuICAgIHJldHVybiBmdW5jdGlvbihlcnIsIGltZyl7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBMb2FkSW1nLmV4Y2VwdGlvbnMuVGltZW91dCkge1xuICAgICAgICAgIHdpbmRvdy5hbGVydChnZXRMb2NhbFRleHQoJ2VycicsICdwcmVsb2FkLWltZy10aW1lb3V0Jywge1xuICAgICAgICAgICAgJyNJTUFHRV9TUkMjJzogc3JjXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuYWxlcnQoZ2V0TG9jYWxUZXh0KCdlcnInLCAncHJlbG9hZC1pbWcnLCB7XG4gICAgICAgICAgJyNFUlJPUl9DT0RFIyc6IGVyci50b1N0cmluZygpLFxuICAgICAgICAgICcjSU1BR0VfU1JDIyc6IHNyY1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvYWRlZExpc3QucHVzaChjbGFzc05hbWUpO1xuICAgICAgbG9hZGVkQ2IoY2IsIGxvYWRlZExpc3QsIG1hdGNoZXMpO1xuICAgIH07XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGNiKXtcbiAgJC5hamF4KHtcbiAgICBjYWNoZTogdHJ1ZSxcbiAgICB1cmw6IGdldFZhbCgnc3R5bGVzLWhyZWYnKSxcbiAgICBkYXRhVHlwZTogJ3RleHQnLFxuICAgIHRpbWVvdXQ6IChmdW5jdGlvbihpdCl7XG4gICAgICByZXR1cm4gaXQgKiAxMDAwO1xuICAgIH0pKFxuICAgIGdldFZhbCgnc3R5bGVzLWxvYWQtdGltZW91dCcpKSxcbiAgICB0eXBlOiAnR0VUJyxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgIHN1Y2Nlc3MoZGF0YSwgY2IpO1xuICAgIH0sXG4gICAgZXJyb3I6IGVycm9yXG4gIH0pO1xufTsiLCIvLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjMuMVxuLyoqXG4gKiBzaXplIGNhbGN1bGF0b3JzIGhlbHBlcnNcbiAqXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKi9cbnZhciAkLCByZWYkLCBtYXAsIGVhY2gsIGNhbWVsaXplLCBsaXN0c1RvT2JqLCBPYmosIG9ialRvUGFpcnMsIHBhaXJzVG9PYmosIGF0LCByZWxudW0sIGdldFJlbFNjcmVlblNpemUsIGdldFZhbCwgd2lkdGhzLCBnZXRSZWwsIGdldFJlbHZhbCwgZ2V0RWxWYWxzLCBnZXRSZWxWYWxzLCBzZXRUeXBpY2FsU2l6ZXMsIHNldFR5cGljYWxTaXplc1RvQXJyYXk7XG4kID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG5yZWYkID0gcmVxdWlyZSgncHJlbHVkZScpLCBtYXAgPSByZWYkLm1hcCwgZWFjaCA9IHJlZiQuZWFjaCwgY2FtZWxpemUgPSByZWYkLmNhbWVsaXplLCBsaXN0c1RvT2JqID0gcmVmJC5saXN0c1RvT2JqLCBPYmogPSByZWYkLk9iaiwgb2JqVG9QYWlycyA9IHJlZiQub2JqVG9QYWlycywgcGFpcnNUb09iaiA9IHJlZiQucGFpcnNUb09iaiwgYXQgPSByZWYkLmF0O1xucmVsbnVtID0gcmVxdWlyZSgncmVsYXRpdmUtbnVtYmVyJyk7XG5nZXRSZWxTY3JlZW5TaXplID0gcmVxdWlyZSgnLi9nZXQtcmVsLXNjcmVlbi1zaXplJyk7XG5nZXRWYWwgPSByZXF1aXJlKCcuL2Jhc2ljcycpLmdldFZhbDtcbndpZHRocyA9IGdldFZhbChcbidyZXNwb25zaXZlLXdpZHRocycpO1xuZ2V0UmVsID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiB3aWR0aHNbaXRdO1xuICB9KFxuICBhdCgwKShcbiAgT2JqLmtleXMoXG4gIGl0KSkpO1xufTtcbmdldFJlbHZhbCA9IGN1cnJ5JChmdW5jdGlvbih2YWxzLCBtaW4sIG1heCl7XG4gIHZhciBzY3JlZW5XO1xuICBzY3JlZW5XID0gZ2V0UmVsU2NyZWVuU2l6ZSgpLnNjcmVlblc7XG4gIHJldHVybiByZWxudW0oe1xuICAgIHJlbFZhbDogc2NyZWVuVyxcbiAgICByZWxNaW46IGdldFJlbChcbiAgICB2YWxzWzBdKSxcbiAgICByZWxNYXg6IGdldFJlbChcbiAgICB2YWxzWzFdKSxcbiAgICBtaW46IG1pbixcbiAgICBtYXg6IG1heFxuICB9KTtcbn0pO1xuZ2V0RWxWYWxzID0gY3VycnkkKGZ1bmN0aW9uKGVsS2V5LCB2YWwpe1xuICByZXR1cm4gZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdFtjYW1lbGl6ZShcbiAgICBlbEtleSldO1xuICB9KFxuICBhdCgwKShcbiAgT2JqLnZhbHVlcyhcbiAgdmFsKSkpO1xufSk7XG5nZXRSZWxWYWxzID0gY3VycnkkKGZ1bmN0aW9uKHZhbHMsIGVsS2V5LCBrZXlzKXtcbiAgdmFyIGdldEVsVmFsc0MsIGZyb20sIHRvO1xuICBnZXRFbFZhbHNDID0gZ2V0RWxWYWxzKGVsS2V5KTtcbiAgZnJvbSA9IGdldEVsVmFsc0MoXG4gIHZhbHNbMF0pO1xuICB0byA9IGdldEVsVmFsc0MoXG4gIHZhbHNbMV0pO1xuICByZXR1cm4gcGFpcnNUb09iaihcbiAgbWFwKGZ1bmN0aW9uKGl0KXtcbiAgICBpZiAoaXRbMF0gIT09ICdzY2FsZScpIHtcbiAgICAgIGl0WzFdID0gTWF0aC5yb3VuZChpdFsxXSk7XG4gICAgfVxuICAgIHJldHVybiBpdDtcbiAgfSkoXG4gIG9ialRvUGFpcnMoXG4gIGxpc3RzVG9PYmoobWFwKGNhbWVsaXplKShcbiAga2V5cykpKFxuICBtYXAoZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBnZXRSZWx2YWwodmFscywgZnJvbVtpdF0sIHRvW2l0XSk7XG4gIH0pKFxuICBtYXAoY2FtZWxpemUpKFxuICBrZXlzKSkpKSkpO1xufSk7XG5zZXRUeXBpY2FsU2l6ZXMgPSBjdXJyeSQoZnVuY3Rpb24odmFscywgZWxLZXksIGVsKXtcbiAgKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gJChlbCkuY3NzKGl0KTtcbiAgfSkoXG4gIE9iai5tYXAoKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgKyAncHgnO1xuICB9KSkoXG4gIGdldFJlbFZhbHModmFscywgZWxLZXkpKFxuICBPYmoua2V5cyhcbiAgZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdFtjYW1lbGl6ZShcbiAgICBlbEtleSldO1xuICB9KFxuICBhdCgwKShcbiAgT2JqLnZhbHVlcyhcbiAgdmFsc1swXSkpKSkpKSk7XG59KTtcbnNldFR5cGljYWxTaXplc1RvQXJyYXkgPSBjdXJyeSQoZnVuY3Rpb24odmFscywgZWxLZXksIGFycil7XG4gIHZhciBjc3M7XG4gIGNzcyA9IE9iai5tYXAoKGZ1bmN0aW9uKGl0KXtcbiAgICByZXR1cm4gaXQgKyAncHgnO1xuICB9KSkoXG4gIGdldFJlbFZhbHModmFscywgZWxLZXkpKFxuICBPYmoua2V5cyhcbiAgZnVuY3Rpb24oaXQpe1xuICAgIHJldHVybiBpdFtjYW1lbGl6ZShcbiAgICBlbEtleSldO1xuICB9KFxuICBhdCgwKShcbiAgT2JqLnZhbHVlcyhcbiAgdmFsc1swXSkpKSkpKTtcbiAgZWFjaChmdW5jdGlvbihpdCl7XG4gICAgcmV0dXJuICQoaXQpLmNzcyhjc3MpO1xuICB9KShcbiAgYXJyKTtcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldFJlbHZhbDogZ2V0UmVsdmFsLFxuICBnZXRSZWxWYWxzOiBnZXRSZWxWYWxzLFxuICBzZXRUeXBpY2FsU2l6ZXM6IHNldFR5cGljYWxTaXplcyxcbiAgc2V0VHlwaWNhbFNpemVzVG9BcnJheTogc2V0VHlwaWNhbFNpemVzVG9BcnJheVxufTtcbmZ1bmN0aW9uIGN1cnJ5JChmLCBib3VuZCl7XG4gIHZhciBjb250ZXh0LFxuICBfY3VycnkgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGYubGVuZ3RoID4gMSA/IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgcGFyYW1zID0gYXJncyA/IGFyZ3MuY29uY2F0KCkgOiBbXTtcbiAgICAgIGNvbnRleHQgPSBib3VuZCA/IGNvbnRleHQgfHwgdGhpcyA6IHRoaXM7XG4gICAgICByZXR1cm4gcGFyYW1zLnB1c2guYXBwbHkocGFyYW1zLCBhcmd1bWVudHMpIDxcbiAgICAgICAgICBmLmxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID9cbiAgICAgICAgX2N1cnJ5LmNhbGwoY29udGV4dCwgcGFyYW1zKSA6IGYuYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcbiAgICB9IDogZjtcbiAgfTtcbiAgcmV0dXJuIF9jdXJyeSgpO1xufSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMy4xXG4vKipcbiAqIEdlbmVyYWwgdmFsdWVzXG4gKlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICovXG5tb2R1bGUuZXhwb3J0cy52YWx1ZXMgPSB7XG4gICdhbmltYXRpb24tc3BlZWQnOiAyMDAsXG4gICdzdHlsZXMtbG9hZC10aW1lb3V0JzogMzAsXG4gICdsb2FkLWltZy10aW1lb3V0JzogMTUsXG4gICdkeW5hbWljLWFwaS1pbnRlcnZhbCc6IDUwMCxcbiAgJ3lhbmRleC1tYXBzLWFwaS1sYW5nJzoge1xuICAgIHJ1OiAncnVfUlUnLFxuICAgIGVuOiAnZW5fVVMnXG4gIH0sXG4gICd3b3Jrc3BhY2UtcmF0aW8nOiBbMTkyMCwgMTEwMF0sXG4gICdyZXNwb25zaXZlLXdpZHRocyc6IHtcbiAgICBleHRyYVNtYWxsOiA0NjAsXG4gICAgc21hbGw6IDg0MCxcbiAgICBtaWRkbGU6IDEwMDAsXG4gICAgYmlnOiAxOTIwXG4gIH0sXG4gICdoZWFkZXInOiB7XG4gICAgYWxsOiB7XG4gICAgICBsb2dvOiB7XG4gICAgICAgIGxlZnQ6IDI5XG4gICAgICB9XG4gICAgfSxcbiAgICBleHRyYVNtYWxsOiB7fSxcbiAgICBzbWFsbDoge1xuICAgICAgd2lkdGg6IDIyMCxcbiAgICAgIGhlaWdodDogOTYsXG4gICAgICBoZWxwZXJIZWlnaHQ6IDcwLFxuICAgICAgbG9nbzoge1xuICAgICAgICBzaXplOiA0MSxcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgIG1hcmdpbkxlZnQ6IDE0LFxuICAgICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgICBsaW5lSGVpZ2h0OiAxOFxuICAgICAgICB9LFxuICAgICAgICBzY3JvbGw6IHtcbiAgICAgICAgICBsZWZ0OiAyOSxcbiAgICAgICAgICB0b3A6IDE1XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsTWVudToge1xuICAgICAgICByaWdodDogMjIsXG4gICAgICAgIHRvcDogMjEsXG4gICAgICAgIHNjYWxlOiAwLjc0LFxuICAgICAgICBtYXJnaW5Ub3A6IC0xNFxuICAgICAgfSxcbiAgICAgIG5hdjoge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBpdGVtOiB7XG4gICAgICAgICAgZm9udFNpemU6IDE1LFxuICAgICAgICAgIHBhZGRpbmdUb3A6IDQxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG1pZGRsZToge1xuICAgICAgaGVpZ2h0OiA5NixcbiAgICAgIGxvZ286IHtcbiAgICAgICAgc2l6ZTogNDEsXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICBtYXJnaW5MZWZ0OiAxNCxcbiAgICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgICAgbGluZUhlaWdodDogMThcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxNZW51OiB7XG4gICAgICAgIHJpZ2h0OiAyMixcbiAgICAgICAgdG9wOiAyMSxcbiAgICAgICAgc2NhbGU6IDAuNzRcbiAgICAgIH0sXG4gICAgICBuYXY6IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogOTksXG4gICAgICAgIGl0ZW06IHtcbiAgICAgICAgICBmb250U2l6ZTogMTUsXG4gICAgICAgICAgcGFkZGluZ1RvcDogNDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgYmlnOiB7XG4gICAgICBoZWlnaHQ6IDExMixcbiAgICAgIGxvZ286IHtcbiAgICAgICAgc2l6ZTogNTUsXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICBtYXJnaW5MZWZ0OiAxOSxcbiAgICAgICAgICBmb250U2l6ZTogMjIsXG4gICAgICAgICAgbGluZUhlaWdodDogMjRcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxNZW51OiB7XG4gICAgICAgIHJpZ2h0OiAyOSxcbiAgICAgICAgdG9wOiAyOCxcbiAgICAgICAgc2NhbGU6IDEuMFxuICAgICAgfSxcbiAgICAgIG5hdjoge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAxMTMsXG4gICAgICAgIGl0ZW06IHtcbiAgICAgICAgICBmb250U2l6ZTogMTgsXG4gICAgICAgICAgcGFkZGluZ1RvcDogNDVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgJ2Zvb3Rlcic6IHtcbiAgICBleHRyYVNtYWxsOiB7fSxcbiAgICBzbWFsbDoge1xuICAgICAgY29weXJpZ2h0VGV4dEJsb2NrOiB7XG4gICAgICAgIG1hcmdpblRvcDogNjQsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiA0MFxuICAgICAgfVxuICAgIH0sXG4gICAgbWlkZGxlOiB7XG4gICAgICBmb290ZXI6IHtcbiAgICAgICAgaGVpZ2h0OiAxNjFcbiAgICAgIH0sXG4gICAgICBsaW5rczoge1xuICAgICAgICBtYXJnaW5Ub3A6IDQ1XG4gICAgICB9LFxuICAgICAgY29weXJpZ2h0VGV4dEJsb2NrOiB7XG4gICAgICAgIG1hcmdpblRvcDogNjQsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiA2MFxuICAgICAgfSxcbiAgICAgIGNvcHlyaWdodFRleHRQOiB7XG4gICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgbGluZUhlaWdodDogMTZcbiAgICAgIH1cbiAgICB9LFxuICAgIGJpZzoge1xuICAgICAgZm9vdGVyOiB7XG4gICAgICAgIGhlaWdodDogMTkxXG4gICAgICB9LFxuICAgICAgbGlua3M6IHtcbiAgICAgICAgbWFyZ2luVG9wOiA1NVxuICAgICAgfSxcbiAgICAgIGNvcHlyaWdodFRleHRCbG9jazoge1xuICAgICAgICBtYXJnaW5Ub3A6IDc0LFxuICAgICAgICBwYWRkaW5nTGVmdDogNjBcbiAgICAgIH0sXG4gICAgICBjb3B5cmlnaHRUZXh0UDoge1xuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDE4XG4gICAgICB9XG4gICAgfVxuICB9LFxuICAnZ2VuZXJhbC1wYWdlJzoge1xuICAgIGV4dHJhU21hbGw6IHtcbiAgICAgIGNhcmRzU3dpdGNoZXI6IHtcbiAgICAgICAgd2lkdGg6IDQyMCxcbiAgICAgICAgYm90dG9tOiA2M1xuICAgICAgfSxcbiAgICAgIGNhcmRzU3dpdGNoZXJBY3RpdmVMaW5lOiB7XG4gICAgICAgIG9wYWNpdHk6IDFcbiAgICAgIH1cbiAgICB9LFxuICAgIHNtYWxsOiB7XG4gICAgICBjYXJkc1N3aXRjaGVyOiB7XG4gICAgICAgIHdpZHRoOiA2NzAsXG4gICAgICAgIGJvdHRvbTogNjNcbiAgICAgIH0sXG4gICAgICBjYXJkc1N3aXRjaGVyQWN0aXZlTGluZToge1xuICAgICAgICBvcGFjaXR5OiAxXG4gICAgICB9LFxuICAgICAgY29udGFjdHNTZWNvbmRGb250TjE6IHtcbiAgICAgICAgZm9udFNpemU6IDI0LFxuICAgICAgICBsaW5lSGVpZ2h0OiAyNlxuICAgICAgfSxcbiAgICAgIGNvbnRhY3RzU2Vjb25kRm9udE4yOiB7XG4gICAgICAgIGZvbnRTaXplOiAxNixcbiAgICAgICAgbGluZUhlaWdodDogMjRcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0NvbE4xOiB7XG4gICAgICAgIHBhZGRpbmdUb3A6IDQ4LFxuICAgICAgICBwYWRkaW5nQm90dG9tOiA1MCxcbiAgICAgICAgcGFkZGluZ0xlZnQ6IDM4XG4gICAgICB9LFxuICAgICAgY29udGFjdHNDb2xOMjoge1xuICAgICAgICBwYWRkaW5nUmlnaHQ6IDQwLFxuICAgICAgICBwYWRkaW5nVG9wOiA0MCxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogNTBcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0NvbE4yTGFiZWxTdWJtaXQ6IHtcbiAgICAgICAgbWFyZ2luVG9wOiAyMFxuICAgICAgfSxcbiAgICAgIGNvbnRhY3RzQ29sTjJMYWJlbDoge1xuICAgICAgICBtYXJnaW5Ub3A6IDEwXG4gICAgICB9LFxuICAgICAgY29udGFjdHNDb2xOMkxhYmVsVGV4dDoge1xuICAgICAgICBoZWlnaHQ6IDQ1XG4gICAgICB9LFxuICAgICAgY29udGFjdHNDb2xOMlRleHRhcmVhOiB7XG4gICAgICAgIG1pbkhlaWdodDogMTI1LFxuICAgICAgICBwYWRkaW5nVG9wOiAxMSxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogMTFcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0NvbE4yU3Bhbjoge1xuICAgICAgICBsaW5lSGVpZ2h0OiA0NVxuICAgICAgfVxuICAgIH0sXG4gICAgbWlkZGxlOiB7XG4gICAgICBoZWFkZXJOMToge1xuICAgICAgICBmb250U2l6ZTogNTEsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDUwXG4gICAgICB9LFxuICAgICAgaGVhZGVyTjI6IHtcbiAgICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgICBsaW5lSGVpZ2h0OiAxOCxcbiAgICAgICAgcGFkZGluZ1RvcDogMjJcbiAgICAgIH0sXG4gICAgICBuZXh0OiB7XG4gICAgICAgIHNpemU6IDY5LFxuICAgICAgICBtYXJnaW5Ub3A6IDQyLFxuICAgICAgICBzY2FsZTogMC42OSxcbiAgICAgICAgaWNvblRvcDogMlxuICAgICAgfSxcbiAgICAgIGNhcmRzU3dpdGNoZXI6IHtcbiAgICAgICAgd2lkdGg6IDg5MCxcbiAgICAgICAgYm90dG9tOiA1MFxuICAgICAgfSxcbiAgICAgIGNhcmRzU3dpdGNoZXJBY3RpdmVMaW5lOiB7XG4gICAgICAgIG9wYWNpdHk6IDAuN1xuICAgICAgfSxcbiAgICAgIHBvcnRmb2xpb1RpdGxlQmxvY2s6IHtcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogNTZcbiAgICAgIH0sXG4gICAgICBwb3J0Zm9saW9UaXRsZUJsb2NrSDI6IHtcbiAgICAgICAgZm9udFNpemU6IDQxLFxuICAgICAgICBsaW5lSGVpZ2h0OiA0MyxcbiAgICAgICAgcGFkZGluZ1RvcDogNjhcbiAgICAgIH0sXG4gICAgICBwb3J0Zm9saW9UaXRsZUJsb2NrSDM6IHtcbiAgICAgICAgZm9udFNpemU6IDE4LFxuICAgICAgICBsaW5lSGVpZ2h0OiAyMCxcbiAgICAgICAgcGFkZGluZ1RvcDogMjJcbiAgICAgIH0sXG4gICAgICBwb3J0Zm9saW9VbExpOiB7XG4gICAgICAgIGhlaWdodDogMjA5XG4gICAgICB9LFxuICAgICAgcG9ydGZvbGlvVWxMaVRleHRIMzoge1xuICAgICAgICBmb250U2l6ZTogMzMsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDM1XG4gICAgICB9LFxuICAgICAgcG9ydGZvbGlvVWxMaVRleHRINDoge1xuICAgICAgICBmb250U2l6ZTogMTYsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDE4XG4gICAgICB9LFxuICAgICAgcG9ydGZvbGlvVWxMaVRleHRIM0g0OiB7XG4gICAgICAgIHBhZGRpbmdUb3A6IDEwXG4gICAgICB9LFxuICAgICAgcG9ydGZvbGlvTW9yZUJsb2NrQToge1xuICAgICAgICBmb250U2l6ZTogMTgsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDIwLFxuICAgICAgICBwYWRkaW5nVG9wOiA5OSxcbiAgICAgICAgbWFyZ2luVG9wOiA1MSxcbiAgICAgICAgbWFyZ2luQm90dG9tOiA0MFxuICAgICAgfSxcbiAgICAgIHBvcnRmb2xpb01vcmVCbG9ja0FJY29uOiB7XG4gICAgICAgIHNjYWxlOiAwLjY1XG4gICAgICB9LFxuICAgICAgY29udGFjdHNIZWFkOiB7XG4gICAgICAgIGhlaWdodDogMzgwXG4gICAgICB9LFxuICAgICAgY29udGFjdHNIMjoge1xuICAgICAgICB0b3A6IDc5XG4gICAgICB9LFxuICAgICAgY29udGFjdHNIMkltZzoge1xuICAgICAgICBzY2FsZTogMC43NjdcbiAgICAgIH0sXG4gICAgICBjb250YWN0c1NlY29uZEZvbnROMToge1xuICAgICAgICBmb250U2l6ZTogMzAsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDMyXG4gICAgICB9LFxuICAgICAgY29udGFjdHNTZWNvbmRGb250TjI6IHtcbiAgICAgICAgZm9udFNpemU6IDE3LFxuICAgICAgICBsaW5lSGVpZ2h0OiAyNFxuICAgICAgfSxcbiAgICAgIGNvbnRhY3RzQ29sTjFJdGVtczoge1xuICAgICAgICBwYWRkaW5nTGVmdDogNDVcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0NvbE4xOiB7XG4gICAgICAgIHBhZGRpbmdUb3A6IDQ4LFxuICAgICAgICBwYWRkaW5nQm90dG9tOiA2MCxcbiAgICAgICAgcGFkZGluZ0xlZnQ6IDM4XG4gICAgICB9LFxuICAgICAgY29udGFjdHNDb2xOMjoge1xuICAgICAgICBwYWRkaW5nUmlnaHQ6IDQwLFxuICAgICAgICBwYWRkaW5nVG9wOiA0MCxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogNjBcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0NvbE4yTGFiZWxTdWJtaXQ6IHtcbiAgICAgICAgbWFyZ2luVG9wOiAyMFxuICAgICAgfSxcbiAgICAgIGNvbnRhY3RzQ29sTjJMYWJlbDoge1xuICAgICAgICBtYXJnaW5Ub3A6IDEwXG4gICAgICB9LFxuICAgICAgY29udGFjdHNDb2xOMkxhYmVsVGV4dDoge1xuICAgICAgICBoZWlnaHQ6IDUwXG4gICAgICB9LFxuICAgICAgY29udGFjdHNDb2xOMlRleHRhcmVhOiB7XG4gICAgICAgIG1pbkhlaWdodDogMTMwLFxuICAgICAgICBwYWRkaW5nVG9wOiAxMixcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogMTJcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0NvbE4yU3Bhbjoge1xuICAgICAgICBsaW5lSGVpZ2h0OiA1MFxuICAgICAgfVxuICAgIH0sXG4gICAgYmlnOiB7XG4gICAgICBoZWFkZXJOMToge1xuICAgICAgICBmb250U2l6ZTogNzIsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDczXG4gICAgICB9LFxuICAgICAgaGVhZGVyTjI6IHtcbiAgICAgICAgZm9udFNpemU6IDI0LFxuICAgICAgICBsaW5lSGVpZ2h0OiAyNixcbiAgICAgICAgcGFkZGluZ1RvcDogMzFcbiAgICAgIH0sXG4gICAgICBuZXh0OiB7XG4gICAgICAgIHNpemU6IDEwMCxcbiAgICAgICAgbWFyZ2luVG9wOiA2MixcbiAgICAgICAgc2NhbGU6IDEuMCxcbiAgICAgICAgaWNvblRvcDogM1xuICAgICAgfSxcbiAgICAgIGNhcmRzU3dpdGNoZXI6IHtcbiAgICAgICAgd2lkdGg6IDE0MTAsXG4gICAgICAgIGJvdHRvbTogMTUwXG4gICAgICB9LFxuICAgICAgY2FyZHNTd2l0Y2hlckFjdGl2ZUxpbmU6IHtcbiAgICAgICAgb3BhY2l0eTogMC43XG4gICAgICB9LFxuICAgICAgcG9ydGZvbGlvVGl0bGVCbG9jazoge1xuICAgICAgICBwYWRkaW5nQm90dG9tOiAxMDNcbiAgICAgIH0sXG4gICAgICBwb3J0Zm9saW9UaXRsZUJsb2NrSDI6IHtcbiAgICAgICAgZm9udFNpemU6IDYyLFxuICAgICAgICBsaW5lSGVpZ2h0OiA2NCxcbiAgICAgICAgcGFkZGluZ1RvcDogMTA2XG4gICAgICB9LFxuICAgICAgcG9ydGZvbGlvVGl0bGVCbG9ja0gzOiB7XG4gICAgICAgIGZvbnRTaXplOiAyMixcbiAgICAgICAgbGluZUhlaWdodDogMjQsXG4gICAgICAgIHBhZGRpbmdUb3A6IDI5XG4gICAgICB9LFxuICAgICAgcG9ydGZvbGlvVWxMaToge1xuICAgICAgICBoZWlnaHQ6IDMzMFxuICAgICAgfSxcbiAgICAgIHBvcnRmb2xpb1VsTGlUZXh0SDM6IHtcbiAgICAgICAgZm9udFNpemU6IDUyLFxuICAgICAgICBsaW5lSGVpZ2h0OiA1NFxuICAgICAgfSxcbiAgICAgIHBvcnRmb2xpb1VsTGlUZXh0SDQ6IHtcbiAgICAgICAgZm9udFNpemU6IDIyLFxuICAgICAgICBsaW5lSGVpZ2h0OiAyNFxuICAgICAgfSxcbiAgICAgIHBvcnRmb2xpb1VsTGlUZXh0SDNINDoge1xuICAgICAgICBwYWRkaW5nVG9wOiAxOVxuICAgICAgfSxcbiAgICAgIHBvcnRmb2xpb01vcmVCbG9ja0E6IHtcbiAgICAgICAgZm9udFNpemU6IDI0LFxuICAgICAgICBsaW5lSGVpZ2h0OiAyNixcbiAgICAgICAgcGFkZGluZ1RvcDogMTI2LFxuICAgICAgICBtYXJnaW5Ub3A6IDExMCxcbiAgICAgICAgbWFyZ2luQm90dG9tOiA2NFxuICAgICAgfSxcbiAgICAgIHBvcnRmb2xpb01vcmVCbG9ja0FJY29uOiB7XG4gICAgICAgIHNjYWxlOiAxLjBcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0hlYWQ6IHtcbiAgICAgICAgaGVpZ2h0OiA0ODVcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0gyOiB7XG4gICAgICAgIHRvcDogMTMzXG4gICAgICB9LFxuICAgICAgY29udGFjdHNIMkltZzoge1xuICAgICAgICBzY2FsZTogMS4wXG4gICAgICB9LFxuICAgICAgY29udGFjdHNTZWNvbmRGb250TjE6IHtcbiAgICAgICAgZm9udFNpemU6IDMzLFxuICAgICAgICBsaW5lSGVpZ2h0OiAzNVxuICAgICAgfSxcbiAgICAgIGNvbnRhY3RzU2Vjb25kRm9udE4yOiB7XG4gICAgICAgIGZvbnRTaXplOiAyMSxcbiAgICAgICAgbGluZUhlaWdodDogMjZcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0NvbE4xSXRlbXM6IHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6IDYwXG4gICAgICB9LFxuICAgICAgY29udGFjdHNDb2xOMToge1xuICAgICAgICBwYWRkaW5nVG9wOiA0OCxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogOTAsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiA1OFxuICAgICAgfSxcbiAgICAgIGNvbnRhY3RzQ29sTjI6IHtcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiA2MCxcbiAgICAgICAgcGFkZGluZ1RvcDogNTAsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IDkwXG4gICAgICB9LFxuICAgICAgY29udGFjdHNDb2xOMkxhYmVsU3VibWl0OiB7XG4gICAgICAgIG1hcmdpblRvcDogMzBcbiAgICAgIH0sXG4gICAgICBjb250YWN0c0NvbE4yTGFiZWw6IHtcbiAgICAgICAgbWFyZ2luVG9wOiAyMFxuICAgICAgfSxcbiAgICAgIGNvbnRhY3RzQ29sTjJMYWJlbFRleHQ6IHtcbiAgICAgICAgaGVpZ2h0OiA1MFxuICAgICAgfSxcbiAgICAgIGNvbnRhY3RzQ29sTjJUZXh0YXJlYToge1xuICAgICAgICBtaW5IZWlnaHQ6IDEzMCxcbiAgICAgICAgcGFkZGluZ1RvcDogMTIsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IDEyXG4gICAgICB9LFxuICAgICAgY29udGFjdHNDb2xOMlNwYW46IHtcbiAgICAgICAgbGluZUhlaWdodDogNTBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICdibG9nLXBhZ2UnOiB7XG4gICAgZXh0cmFTbWFsbDoge30sXG4gICAgc21hbGw6IHtcbiAgICAgIGJsb2c6IHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6IDM4LFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IDM4XG4gICAgICB9XG4gICAgfSxcbiAgICBtaWRkbGU6IHtcbiAgICAgIGJsb2c6IHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6IDQzLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IDQzXG4gICAgICB9LFxuICAgICAgdG9wTGluZToge1xuICAgICAgICBoZWlnaHQ6IDc5XG4gICAgICB9LFxuICAgICAgY29sTGVmdDoge1xuICAgICAgICBwYWRkaW5nUmlnaHQ6IDU3LFxuICAgICAgICBwYWRkaW5nQm90dG9tOiA0NFxuICAgICAgfSxcbiAgICAgIGNvbFJpZ2h0OiB7XG4gICAgICAgIHdpZHRoOiAyODdcbiAgICAgIH0sXG4gICAgICBjb2xSaWdodFRhZ3NIZWFkZXI6IHtcbiAgICAgICAgZm9udFNpemU6IDIxLFxuICAgICAgICBsaW5lSGVpZ2h0OiAyMyxcbiAgICAgICAgcGFkZGluZ1RvcDogNDlcbiAgICAgIH0sXG4gICAgICBwb3N0SXRlbToge1xuICAgICAgICBwYWRkaW5nVG9wOiAzMlxuICAgICAgfSxcbiAgICAgIHBvc3RUZXh0Rm9udDoge1xuICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDIwXG4gICAgICB9LFxuICAgICAgcG9zdFNwZWNpYWxUaXRsZUZvbnQ6IHtcbiAgICAgICAgZm9udFNpemU6IDM2LFxuICAgICAgICBsaW5lSGVpZ2h0OiAzOFxuICAgICAgfSxcbiAgICAgIHBvc3RUaXRsZUZvbnQ6IHtcbiAgICAgICAgZm9udFNpemU6IDIxLFxuICAgICAgICBsaW5lSGVpZ2h0OiAyMlxuICAgICAgfSxcbiAgICAgIHNvY2lhbEJ1dHRvbnNCbG9jazoge1xuICAgICAgICB3aWR0aDogMzYwXG4gICAgICB9XG4gICAgfSxcbiAgICBiaWc6IHtcbiAgICAgIHRvcExpbmU6IHtcbiAgICAgICAgaGVpZ2h0OiA4NVxuICAgICAgfSxcbiAgICAgIGNvbExlZnQ6IHtcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiA4MyxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogODRcbiAgICAgIH0sXG4gICAgICBjb2xSaWdodDoge1xuICAgICAgICB3aWR0aDogMzE3XG4gICAgICB9LFxuICAgICAgY29sUmlnaHRUYWdzSGVhZGVyOiB7XG4gICAgICAgIGZvbnRTaXplOiAyNCxcbiAgICAgICAgbGluZUhlaWdodDogMjYsXG4gICAgICAgIHBhZGRpbmdUb3A6IDU2XG4gICAgICB9LFxuICAgICAgcG9zdEl0ZW06IHtcbiAgICAgICAgcGFkZGluZ1RvcDogNDBcbiAgICAgIH0sXG4gICAgICBwb3N0VGV4dEZvbnQ6IHtcbiAgICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgICBsaW5lSGVpZ2h0OiAyMlxuICAgICAgfSxcbiAgICAgIHBvc3RTcGVjaWFsVGl0bGVGb250OiB7XG4gICAgICAgIGZvbnRTaXplOiA0MixcbiAgICAgICAgbGluZUhlaWdodDogNDRcbiAgICAgIH0sXG4gICAgICBwb3N0VGl0bGVGb250OiB7XG4gICAgICAgIGZvbnRTaXplOiAyNCxcbiAgICAgICAgbGluZUhlaWdodDogMjZcbiAgICAgIH0sXG4gICAgICBzb2NpYWxCdXR0b25zQmxvY2s6IHtcbiAgICAgICAgd2lkdGg6IDY3OVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgJ2Jsb2ctbGlzdC1zaXplcyc6IHtcbiAgICBwb3N0U3BhY2VQZXJjZW50OiAzLjg0LFxuICAgIHBvc3RTcGFjZVBlcmNlbnRTOiA1LjA4LFxuICAgIHBvc3RJdGVtV2lkdGg6IDMwLjc2LFxuICAgIHBvc3RJdGVtV2lkdGhTOiA0Ny4zNixcbiAgICBwb3N0U3BlY2lhbFdpZHRoOiA2NS4zOFxuICB9XG59O1xubW9kdWxlLmV4cG9ydHMucmVxdWlyZWQgPSBbJ2xhbmcnLCAnc3R5bGVzLWhyZWYnXTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBkZWZpbmUpIHtcblxuOyBnbG9iYWwualF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbi8qISBqUXVlcnkgVUkgLSB2MS4xMC4zIC0gMjAxMy0xMC0yOFxuKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4qIEluY2x1ZGVzOiBqcXVlcnkudWkud2lkZ2V0LmpzLCBqcXVlcnkudWkuZWZmZWN0LmpzXG4qIENvcHlyaWdodCAyMDEzIGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqL1xuXG4oZnVuY3Rpb24oZSx0KXt2YXIgaT0wLHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLGE9ZS5jbGVhbkRhdGE7ZS5jbGVhbkRhdGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBpLHM9MDtudWxsIT0oaT10W3NdKTtzKyspdHJ5e2UoaSkudHJpZ2dlckhhbmRsZXIoXCJyZW1vdmVcIil9Y2F0Y2gobil7fWEodCl9LGUud2lkZ2V0PWZ1bmN0aW9uKGkscyxhKXt2YXIgbixyLG8saCxsPXt9LHU9aS5zcGxpdChcIi5cIilbMF07aT1pLnNwbGl0KFwiLlwiKVsxXSxuPXUrXCItXCIraSxhfHwoYT1zLHM9ZS5XaWRnZXQpLGUuZXhwcltcIjpcIl1bbi50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbih0KXtyZXR1cm4hIWUuZGF0YSh0LG4pfSxlW3VdPWVbdV18fHt9LHI9ZVt1XVtpXSxvPWVbdV1baV09ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdGhpcy5fY3JlYXRlV2lkZ2V0Pyhhcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoZSxpKSx0KTpuZXcgbyhlLGkpfSxlLmV4dGVuZChvLHIse3ZlcnNpb246YS52ZXJzaW9uLF9wcm90bzplLmV4dGVuZCh7fSxhKSxfY2hpbGRDb25zdHJ1Y3RvcnM6W119KSxoPW5ldyBzLGgub3B0aW9ucz1lLndpZGdldC5leHRlbmQoe30saC5vcHRpb25zKSxlLmVhY2goYSxmdW5jdGlvbihpLGEpe3JldHVybiBlLmlzRnVuY3Rpb24oYSk/KGxbaV09ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe3JldHVybiBzLnByb3RvdHlwZVtpXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHMucHJvdG90eXBlW2ldLmFwcGx5KHRoaXMsZSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBpLHM9dGhpcy5fc3VwZXIsbj10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1lLHRoaXMuX3N1cGVyQXBwbHk9dCxpPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPXMsdGhpcy5fc3VwZXJBcHBseT1uLGl9fSgpLHQpOihsW2ldPWEsdCl9KSxvLnByb3RvdHlwZT1lLndpZGdldC5leHRlbmQoaCx7d2lkZ2V0RXZlbnRQcmVmaXg6cj9oLndpZGdldEV2ZW50UHJlZml4Oml9LGwse2NvbnN0cnVjdG9yOm8sbmFtZXNwYWNlOnUsd2lkZ2V0TmFtZTppLHdpZGdldEZ1bGxOYW1lOm59KSxyPyhlLmVhY2goci5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24odCxpKXt2YXIgcz1pLnByb3RvdHlwZTtlLndpZGdldChzLm5hbWVzcGFjZStcIi5cIitzLndpZGdldE5hbWUsbyxpLl9wcm90byl9KSxkZWxldGUgci5fY2hpbGRDb25zdHJ1Y3RvcnMpOnMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2gobyksZS53aWRnZXQuYnJpZGdlKGksbyl9LGUud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihpKXtmb3IodmFyIGEsbixyPXMuY2FsbChhcmd1bWVudHMsMSksbz0wLGg9ci5sZW5ndGg7aD5vO28rKylmb3IoYSBpbiByW29dKW49cltvXVthXSxyW29dLmhhc093blByb3BlcnR5KGEpJiZuIT09dCYmKGlbYV09ZS5pc1BsYWluT2JqZWN0KG4pP2UuaXNQbGFpbk9iamVjdChpW2FdKT9lLndpZGdldC5leHRlbmQoe30saVthXSxuKTplLndpZGdldC5leHRlbmQoe30sbik6bik7cmV0dXJuIGl9LGUud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihpLGEpe3ZhciBuPWEucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxpO2UuZm5baV09ZnVuY3Rpb24ocil7dmFyIG89XCJzdHJpbmdcIj09dHlwZW9mIHIsaD1zLmNhbGwoYXJndW1lbnRzLDEpLGw9dGhpcztyZXR1cm4gcj0hbyYmaC5sZW5ndGg/ZS53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW3JdLmNvbmNhdChoKSk6cixvP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBzLGE9ZS5kYXRhKHRoaXMsbik7cmV0dXJuIGE/ZS5pc0Z1bmN0aW9uKGFbcl0pJiZcIl9cIiE9PXIuY2hhckF0KDApPyhzPWFbcl0uYXBwbHkoYSxoKSxzIT09YSYmcyE9PXQ/KGw9cyYmcy5qcXVlcnk/bC5wdXNoU3RhY2socy5nZXQoKSk6cywhMSk6dCk6ZS5lcnJvcihcIm5vIHN1Y2ggbWV0aG9kICdcIityK1wiJyBmb3IgXCIraStcIiB3aWRnZXQgaW5zdGFuY2VcIik6ZS5lcnJvcihcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gXCIraStcIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgXCIrXCJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiK3IrXCInXCIpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5kYXRhKHRoaXMsbik7dD90Lm9wdGlvbihyfHx7fSkuX2luaXQoKTplLmRhdGEodGhpcyxuLG5ldyBhKHIsdGhpcykpfSksbH19LGUuV2lkZ2V0PWZ1bmN0aW9uKCl7fSxlLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W10sZS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOlwid2lkZ2V0XCIsd2lkZ2V0RXZlbnRQcmVmaXg6XCJcIixkZWZhdWx0RWxlbWVudDpcIjxkaXY+XCIsb3B0aW9uczp7ZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24odCxzKXtzPWUoc3x8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF0sdGhpcy5lbGVtZW50PWUocyksdGhpcy51dWlkPWkrKyx0aGlzLmV2ZW50TmFtZXNwYWNlPVwiLlwiK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWUud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLHQpLHRoaXMuYmluZGluZ3M9ZSgpLHRoaXMuaG92ZXJhYmxlPWUoKSx0aGlzLmZvY3VzYWJsZT1lKCkscyE9PXRoaXMmJihlLmRhdGEocyx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09cyYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1lKHMuc3R5bGU/cy5vd25lckRvY3VtZW50OnMuZG9jdW1lbnR8fHMpLHRoaXMud2luZG93PWUodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKFwiY3JlYXRlXCIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksdGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczplLm5vb3AsX2dldENyZWF0ZUV2ZW50RGF0YTplLm5vb3AsX2NyZWF0ZTplLm5vb3AsX2luaXQ6ZS5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCksdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGUuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKFwiYXJpYS1kaXNhYmxlZFwiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lK1wiLWRpc2FibGVkIFwiK1widWktc3RhdGUtZGlzYWJsZWRcIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpfSxfZGVzdHJveTplLm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGkscyl7dmFyIGEsbixyLG89aTtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpaWYobz17fSxhPWkuc3BsaXQoXCIuXCIpLGk9YS5zaGlmdCgpLGEubGVuZ3RoKXtmb3Iobj1vW2ldPWUud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbaV0pLHI9MDthLmxlbmd0aC0xPnI7cisrKW5bYVtyXV09blthW3JdXXx8e30sbj1uW2Fbcl1dO2lmKGk9YS5wb3AoKSxzPT09dClyZXR1cm4gbltpXT09PXQ/bnVsbDpuW2ldO25baV09c31lbHNle2lmKHM9PT10KXJldHVybiB0aGlzLm9wdGlvbnNbaV09PT10P251bGw6dGhpcy5vcHRpb25zW2ldO29baV09c31yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhvKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXRoaXMuX3NldE9wdGlvbih0LGVbdF0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub3B0aW9uc1tlXT10LFwiZGlzYWJsZWRcIj09PWUmJih0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrXCItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWRcIiwhIXQpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsdCksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpKSx0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKFwiZGlzYWJsZWRcIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKFwiZGlzYWJsZWRcIiwhMCl9LF9vbjpmdW5jdGlvbihpLHMsYSl7dmFyIG4scj10aGlzO1wiYm9vbGVhblwiIT10eXBlb2YgaSYmKGE9cyxzPWksaT0hMSksYT8ocz1uPWUocyksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChzKSk6KGE9cyxzPXRoaXMuZWxlbWVudCxuPXRoaXMud2lkZ2V0KCkpLGUuZWFjaChhLGZ1bmN0aW9uKGEsbyl7ZnVuY3Rpb24gaCgpe3JldHVybiBpfHxyLm9wdGlvbnMuZGlzYWJsZWQhPT0hMCYmIWUodGhpcykuaGFzQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKT8oXCJzdHJpbmdcIj09dHlwZW9mIG8/cltvXTpvKS5hcHBseShyLGFyZ3VtZW50cyk6dH1cInN0cmluZ1wiIT10eXBlb2YgbyYmKGguZ3VpZD1vLmd1aWQ9by5ndWlkfHxoLmd1aWR8fGUuZ3VpZCsrKTt2YXIgbD1hLm1hdGNoKC9eKFxcdyspXFxzKiguKikkLyksdT1sWzFdK3IuZXZlbnROYW1lc3BhY2UsYz1sWzJdO2M/bi5kZWxlZ2F0ZShjLHUsaCk6cy5iaW5kKHUsaCl9KX0sX29mZjpmdW5jdGlvbihlLHQpe3Q9KHR8fFwiXCIpLnNwbGl0KFwiIFwiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrXCIgXCIpK3RoaXMuZXZlbnROYW1lc3BhY2UsZS51bmJpbmQodCkudW5kZWxlZ2F0ZSh0KX0sX2RlbGF5OmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaSgpe3JldHVybihcInN0cmluZ1wiPT10eXBlb2YgZT9zW2VdOmUpLmFwcGx5KHMsYXJndW1lbnRzKX12YXIgcz10aGlzO3JldHVybiBzZXRUaW1lb3V0KGksdHx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24odCl7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKHQpLHRoaXMuX29uKHQse21vdXNlZW50ZXI6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwidWktc3RhdGUtaG92ZXJcIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtaG92ZXJcIil9fSl9LF9mb2N1c2FibGU6ZnVuY3Rpb24odCl7dGhpcy5mb2N1c2FibGU9dGhpcy5mb2N1c2FibGUuYWRkKHQpLHRoaXMuX29uKHQse2ZvY3VzaW46ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwidWktc3RhdGUtZm9jdXNcIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKHQpe2UodC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWZvY3VzXCIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbih0LGkscyl7dmFyIGEsbixyPXRoaXMub3B0aW9uc1t0XTtpZihzPXN8fHt9LGk9ZS5FdmVudChpKSxpLnR5cGU9KHQ9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P3Q6dGhpcy53aWRnZXRFdmVudFByZWZpeCt0KS50b0xvd2VyQ2FzZSgpLGkudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxuPWkub3JpZ2luYWxFdmVudClmb3IoYSBpbiBuKWEgaW4gaXx8KGlbYV09blthXSk7cmV0dXJuIHRoaXMuZWxlbWVudC50cmlnZ2VyKGkscyksIShlLmlzRnVuY3Rpb24ocikmJnIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtpXS5jb25jYXQocykpPT09ITF8fGkuaXNEZWZhdWx0UHJldmVudGVkKCkpfX0sZS5lYWNoKHtzaG93OlwiZmFkZUluXCIsaGlkZTpcImZhZGVPdXRcIn0sZnVuY3Rpb24odCxpKXtlLldpZGdldC5wcm90b3R5cGVbXCJfXCIrdF09ZnVuY3Rpb24ocyxhLG4pe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT17ZWZmZWN0OmF9KTt2YXIgcixvPWE/YT09PSEwfHxcIm51bWJlclwiPT10eXBlb2YgYT9pOmEuZWZmZWN0fHxpOnQ7YT1hfHx7fSxcIm51bWJlclwiPT10eXBlb2YgYSYmKGE9e2R1cmF0aW9uOmF9KSxyPSFlLmlzRW1wdHlPYmplY3QoYSksYS5jb21wbGV0ZT1uLGEuZGVsYXkmJnMuZGVsYXkoYS5kZWxheSksciYmZS5lZmZlY3RzJiZlLmVmZmVjdHMuZWZmZWN0W29dP3NbdF0oYSk6byE9PXQmJnNbb10/c1tvXShhLmR1cmF0aW9uLGEuZWFzaW5nLG4pOnMucXVldWUoZnVuY3Rpb24oaSl7ZSh0aGlzKVt0XSgpLG4mJm4uY2FsbChzWzBdKSxpKCl9KX19KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGUsdCl7dmFyIGk9XCJ1aS1lZmZlY3RzLVwiO2UuZWZmZWN0cz17ZWZmZWN0Ont9fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSx0LGkpe3ZhciBzPWNbdC50eXBlXXx8e307cmV0dXJuIG51bGw9PWU/aXx8IXQuZGVmP251bGw6dC5kZWY6KGU9cy5mbG9vcj9+fmU6cGFyc2VGbG9hdChlKSxpc05hTihlKT90LmRlZjpzLm1vZD8oZStzLm1vZCklcy5tb2Q6MD5lPzA6ZT5zLm1heD9zLm1heDplKX1mdW5jdGlvbiBzKGkpe3ZhciBzPWwoKSxhPXMuX3JnYmE9W107cmV0dXJuIGk9aS50b0xvd2VyQ2FzZSgpLGYoaCxmdW5jdGlvbihlLG4pe3ZhciByLG89bi5yZS5leGVjKGkpLGg9byYmbi5wYXJzZShvKSxsPW4uc3BhY2V8fFwicmdiYVwiO3JldHVybiBoPyhyPXNbbF0oaCksc1t1W2xdLmNhY2hlXT1yW3VbbF0uY2FjaGVdLGE9cy5fcmdiYT1yLl9yZ2JhLCExKTp0fSksYS5sZW5ndGg/KFwiMCwwLDAsMFwiPT09YS5qb2luKCkmJmUuZXh0ZW5kKGEsbi50cmFuc3BhcmVudCkscyk6bltpXX1mdW5jdGlvbiBhKGUsdCxpKXtyZXR1cm4gaT0oaSsxKSUxLDE+NippP2UrNioodC1lKSppOjE+MippP3Q6Mj4zKmk/ZSs2Kih0LWUpKigyLzMtaSk6ZX12YXIgbixyPVwiYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIGJvcmRlclRvcENvbG9yIGNvbG9yIGNvbHVtblJ1bGVDb2xvciBvdXRsaW5lQ29sb3IgdGV4dERlY29yYXRpb25Db2xvciB0ZXh0RW1waGFzaXNDb2xvclwiLG89L14oW1xcLStdKT1cXHMqKFxcZCtcXC4/XFxkKikvLGg9W3tyZTovcmdiYT9cXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKig/OixcXHMqKFxcZD8oPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm5bZVsxXSxlWzJdLGVbM10sZVs0XV19fSx7cmU6L3JnYmE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQ/KD86XFwuXFxkKyk/KVxccyopP1xcKS8scGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuWzIuNTUqZVsxXSwyLjU1KmVbMl0sMi41NSplWzNdLGVbNF1dfX0se3JlOi8jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pLyxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm5bcGFyc2VJbnQoZVsxXSwxNikscGFyc2VJbnQoZVsyXSwxNikscGFyc2VJbnQoZVszXSwxNildfX0se3JlOi8jKFthLWYwLTldKShbYS1mMC05XSkoW2EtZjAtOV0pLyxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm5bcGFyc2VJbnQoZVsxXStlWzFdLDE2KSxwYXJzZUludChlWzJdK2VbMl0sMTYpLHBhcnNlSW50KGVbM10rZVszXSwxNildfX0se3JlOi9oc2xhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLHNwYWNlOlwiaHNsYVwiLHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybltlWzFdLGVbMl0vMTAwLGVbM10vMTAwLGVbNF1dfX1dLGw9ZS5Db2xvcj1mdW5jdGlvbih0LGkscyxhKXtyZXR1cm4gbmV3IGUuQ29sb3IuZm4ucGFyc2UodCxpLHMsYSl9LHU9e3JnYmE6e3Byb3BzOntyZWQ6e2lkeDowLHR5cGU6XCJieXRlXCJ9LGdyZWVuOntpZHg6MSx0eXBlOlwiYnl0ZVwifSxibHVlOntpZHg6Mix0eXBlOlwiYnl0ZVwifX19LGhzbGE6e3Byb3BzOntodWU6e2lkeDowLHR5cGU6XCJkZWdyZWVzXCJ9LHNhdHVyYXRpb246e2lkeDoxLHR5cGU6XCJwZXJjZW50XCJ9LGxpZ2h0bmVzczp7aWR4OjIsdHlwZTpcInBlcmNlbnRcIn19fX0sYz17XCJieXRlXCI6e2Zsb29yOiEwLG1heDoyNTV9LHBlcmNlbnQ6e21heDoxfSxkZWdyZWVzOnttb2Q6MzYwLGZsb29yOiEwfX0sZD1sLnN1cHBvcnQ9e30scD1lKFwiPHA+XCIpWzBdLGY9ZS5lYWNoO3Auc3R5bGUuY3NzVGV4dD1cImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSlcIixkLnJnYmE9cC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IuaW5kZXhPZihcInJnYmFcIik+LTEsZih1LGZ1bmN0aW9uKGUsdCl7dC5jYWNoZT1cIl9cIitlLHQucHJvcHMuYWxwaGE9e2lkeDozLHR5cGU6XCJwZXJjZW50XCIsZGVmOjF9fSksbC5mbj1lLmV4dGVuZChsLnByb3RvdHlwZSx7cGFyc2U6ZnVuY3Rpb24oYSxyLG8saCl7aWYoYT09PXQpcmV0dXJuIHRoaXMuX3JnYmE9W251bGwsbnVsbCxudWxsLG51bGxdLHRoaXM7KGEuanF1ZXJ5fHxhLm5vZGVUeXBlKSYmKGE9ZShhKS5jc3Mocikscj10KTt2YXIgYz10aGlzLGQ9ZS50eXBlKGEpLHA9dGhpcy5fcmdiYT1bXTtyZXR1cm4gciE9PXQmJihhPVthLHIsbyxoXSxkPVwiYXJyYXlcIiksXCJzdHJpbmdcIj09PWQ/dGhpcy5wYXJzZShzKGEpfHxuLl9kZWZhdWx0KTpcImFycmF5XCI9PT1kPyhmKHUucmdiYS5wcm9wcyxmdW5jdGlvbihlLHQpe3BbdC5pZHhdPWkoYVt0LmlkeF0sdCl9KSx0aGlzKTpcIm9iamVjdFwiPT09ZD8oYSBpbnN0YW5jZW9mIGw/Zih1LGZ1bmN0aW9uKGUsdCl7YVt0LmNhY2hlXSYmKGNbdC5jYWNoZV09YVt0LmNhY2hlXS5zbGljZSgpKX0pOmYodSxmdW5jdGlvbih0LHMpe3ZhciBuPXMuY2FjaGU7ZihzLnByb3BzLGZ1bmN0aW9uKGUsdCl7aWYoIWNbbl0mJnMudG8pe2lmKFwiYWxwaGFcIj09PWV8fG51bGw9PWFbZV0pcmV0dXJuO2Nbbl09cy50byhjLl9yZ2JhKX1jW25dW3QuaWR4XT1pKGFbZV0sdCwhMCl9KSxjW25dJiYwPmUuaW5BcnJheShudWxsLGNbbl0uc2xpY2UoMCwzKSkmJihjW25dWzNdPTEscy5mcm9tJiYoYy5fcmdiYT1zLmZyb20oY1tuXSkpKX0pLHRoaXMpOnR9LGlzOmZ1bmN0aW9uKGUpe3ZhciBpPWwoZSkscz0hMCxhPXRoaXM7cmV0dXJuIGYodSxmdW5jdGlvbihlLG4pe3ZhciByLG89aVtuLmNhY2hlXTtyZXR1cm4gbyYmKHI9YVtuLmNhY2hlXXx8bi50byYmbi50byhhLl9yZ2JhKXx8W10sZihuLnByb3BzLGZ1bmN0aW9uKGUsaSl7cmV0dXJuIG51bGwhPW9baS5pZHhdP3M9b1tpLmlkeF09PT1yW2kuaWR4XTp0fSkpLHN9KSxzfSxfc3BhY2U6ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXRoaXM7cmV0dXJuIGYodSxmdW5jdGlvbihpLHMpe3Rbcy5jYWNoZV0mJmUucHVzaChpKX0pLGUucG9wKCl9LHRyYW5zaXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgcz1sKGUpLGE9cy5fc3BhY2UoKSxuPXVbYV0scj0wPT09dGhpcy5hbHBoYSgpP2woXCJ0cmFuc3BhcmVudFwiKTp0aGlzLG89cltuLmNhY2hlXXx8bi50byhyLl9yZ2JhKSxoPW8uc2xpY2UoKTtyZXR1cm4gcz1zW24uY2FjaGVdLGYobi5wcm9wcyxmdW5jdGlvbihlLGEpe3ZhciBuPWEuaWR4LHI9b1tuXSxsPXNbbl0sdT1jW2EudHlwZV18fHt9O251bGwhPT1sJiYobnVsbD09PXI/aFtuXT1sOih1Lm1vZCYmKGwtcj51Lm1vZC8yP3IrPXUubW9kOnItbD51Lm1vZC8yJiYoci09dS5tb2QpKSxoW25dPWkoKGwtcikqdCtyLGEpKSl9KSx0aGlzW2FdKGgpfSxibGVuZDpmdW5jdGlvbih0KXtpZigxPT09dGhpcy5fcmdiYVszXSlyZXR1cm4gdGhpczt2YXIgaT10aGlzLl9yZ2JhLnNsaWNlKCkscz1pLnBvcCgpLGE9bCh0KS5fcmdiYTtyZXR1cm4gbChlLm1hcChpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKDEtcykqYVt0XStzKmV9KSl9LHRvUmdiYVN0cmluZzpmdW5jdGlvbigpe3ZhciB0PVwicmdiYShcIixpPWUubWFwKHRoaXMuX3JnYmEsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZT90PjI/MTowOmV9KTtyZXR1cm4gMT09PWlbM10mJihpLnBvcCgpLHQ9XCJyZ2IoXCIpLHQraS5qb2luKCkrXCIpXCJ9LHRvSHNsYVN0cmluZzpmdW5jdGlvbigpe3ZhciB0PVwiaHNsYShcIixpPWUubWFwKHRoaXMuaHNsYSgpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWUmJihlPXQ+Mj8xOjApLHQmJjM+dCYmKGU9TWF0aC5yb3VuZCgxMDAqZSkrXCIlXCIpLGV9KTtyZXR1cm4gMT09PWlbM10mJihpLnBvcCgpLHQ9XCJoc2woXCIpLHQraS5qb2luKCkrXCIpXCJ9LHRvSGV4U3RyaW5nOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX3JnYmEuc2xpY2UoKSxzPWkucG9wKCk7cmV0dXJuIHQmJmkucHVzaCh+figyNTUqcykpLFwiI1wiK2UubWFwKGksZnVuY3Rpb24oZSl7cmV0dXJuIGU9KGV8fDApLnRvU3RyaW5nKDE2KSwxPT09ZS5sZW5ndGg/XCIwXCIrZTplfSkuam9pbihcIlwiKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3JnYmFbM10/XCJ0cmFuc3BhcmVudFwiOnRoaXMudG9SZ2JhU3RyaW5nKCl9fSksbC5mbi5wYXJzZS5wcm90b3R5cGU9bC5mbix1LmhzbGEudG89ZnVuY3Rpb24oZSl7aWYobnVsbD09ZVswXXx8bnVsbD09ZVsxXXx8bnVsbD09ZVsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsZVszXV07dmFyIHQsaSxzPWVbMF0vMjU1LGE9ZVsxXS8yNTUsbj1lWzJdLzI1NSxyPWVbM10sbz1NYXRoLm1heChzLGEsbiksaD1NYXRoLm1pbihzLGEsbiksbD1vLWgsdT1vK2gsYz0uNSp1O3JldHVybiB0PWg9PT1vPzA6cz09PW8/NjAqKGEtbikvbCszNjA6YT09PW8/NjAqKG4tcykvbCsxMjA6NjAqKHMtYSkvbCsyNDAsaT0wPT09bD8wOi41Pj1jP2wvdTpsLygyLXUpLFtNYXRoLnJvdW5kKHQpJTM2MCxpLGMsbnVsbD09cj8xOnJdfSx1LmhzbGEuZnJvbT1mdW5jdGlvbihlKXtpZihudWxsPT1lWzBdfHxudWxsPT1lWzFdfHxudWxsPT1lWzJdKXJldHVybltudWxsLG51bGwsbnVsbCxlWzNdXTt2YXIgdD1lWzBdLzM2MCxpPWVbMV0scz1lWzJdLG49ZVszXSxyPS41Pj1zP3MqKDEraSk6cytpLXMqaSxvPTIqcy1yO3JldHVybltNYXRoLnJvdW5kKDI1NSphKG8scix0KzEvMykpLE1hdGgucm91bmQoMjU1KmEobyxyLHQpKSxNYXRoLnJvdW5kKDI1NSphKG8scix0LTEvMykpLG5dfSxmKHUsZnVuY3Rpb24ocyxhKXt2YXIgbj1hLnByb3BzLHI9YS5jYWNoZSxoPWEudG8sdT1hLmZyb207bC5mbltzXT1mdW5jdGlvbihzKXtpZihoJiYhdGhpc1tyXSYmKHRoaXNbcl09aCh0aGlzLl9yZ2JhKSkscz09PXQpcmV0dXJuIHRoaXNbcl0uc2xpY2UoKTt2YXIgYSxvPWUudHlwZShzKSxjPVwiYXJyYXlcIj09PW98fFwib2JqZWN0XCI9PT1vP3M6YXJndW1lbnRzLGQ9dGhpc1tyXS5zbGljZSgpO3JldHVybiBmKG4sZnVuY3Rpb24oZSx0KXt2YXIgcz1jW1wib2JqZWN0XCI9PT1vP2U6dC5pZHhdO251bGw9PXMmJihzPWRbdC5pZHhdKSxkW3QuaWR4XT1pKHMsdCl9KSx1PyhhPWwodShkKSksYVtyXT1kLGEpOmwoZCl9LGYobixmdW5jdGlvbih0LGkpe2wuZm5bdF18fChsLmZuW3RdPWZ1bmN0aW9uKGEpe3ZhciBuLHI9ZS50eXBlKGEpLGg9XCJhbHBoYVwiPT09dD90aGlzLl9oc2xhP1wiaHNsYVwiOlwicmdiYVwiOnMsbD10aGlzW2hdKCksdT1sW2kuaWR4XTtyZXR1cm5cInVuZGVmaW5lZFwiPT09cj91OihcImZ1bmN0aW9uXCI9PT1yJiYoYT1hLmNhbGwodGhpcyx1KSxyPWUudHlwZShhKSksbnVsbD09YSYmaS5lbXB0eT90aGlzOihcInN0cmluZ1wiPT09ciYmKG49by5leGVjKGEpLG4mJihhPXUrcGFyc2VGbG9hdChuWzJdKSooXCIrXCI9PT1uWzFdPzE6LTEpKSksbFtpLmlkeF09YSx0aGlzW2hdKGwpKSl9KX0pfSksbC5ob29rPWZ1bmN0aW9uKHQpe3ZhciBpPXQuc3BsaXQoXCIgXCIpO2YoaSxmdW5jdGlvbih0LGkpe2UuY3NzSG9va3NbaV09e3NldDpmdW5jdGlvbih0LGEpe3ZhciBuLHIsbz1cIlwiO2lmKFwidHJhbnNwYXJlbnRcIiE9PWEmJihcInN0cmluZ1wiIT09ZS50eXBlKGEpfHwobj1zKGEpKSkpe2lmKGE9bChufHxhKSwhZC5yZ2JhJiYxIT09YS5fcmdiYVszXSl7Zm9yKHI9XCJiYWNrZ3JvdW5kQ29sb3JcIj09PWk/dC5wYXJlbnROb2RlOnQ7KFwiXCI9PT1vfHxcInRyYW5zcGFyZW50XCI9PT1vKSYmciYmci5zdHlsZTspdHJ5e289ZS5jc3MocixcImJhY2tncm91bmRDb2xvclwiKSxyPXIucGFyZW50Tm9kZX1jYXRjaChoKXt9YT1hLmJsZW5kKG8mJlwidHJhbnNwYXJlbnRcIiE9PW8/bzpcIl9kZWZhdWx0XCIpfWE9YS50b1JnYmFTdHJpbmcoKX10cnl7dC5zdHlsZVtpXT1hfWNhdGNoKGgpe319fSxlLmZ4LnN0ZXBbaV09ZnVuY3Rpb24odCl7dC5jb2xvckluaXR8fCh0LnN0YXJ0PWwodC5lbGVtLGkpLHQuZW5kPWwodC5lbmQpLHQuY29sb3JJbml0PSEwKSxlLmNzc0hvb2tzW2ldLnNldCh0LmVsZW0sdC5zdGFydC50cmFuc2l0aW9uKHQuZW5kLHQucG9zKSl9fSl9LGwuaG9vayhyKSxlLmNzc0hvb2tzLmJvcmRlckNvbG9yPXtleHBhbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGYoW1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLGZ1bmN0aW9uKGkscyl7dFtcImJvcmRlclwiK3MrXCJDb2xvclwiXT1lfSksdH19LG49ZS5Db2xvci5uYW1lcz17YXF1YTpcIiMwMGZmZmZcIixibGFjazpcIiMwMDAwMDBcIixibHVlOlwiIzAwMDBmZlwiLGZ1Y2hzaWE6XCIjZmYwMGZmXCIsZ3JheTpcIiM4MDgwODBcIixncmVlbjpcIiMwMDgwMDBcIixsaW1lOlwiIzAwZmYwMFwiLG1hcm9vbjpcIiM4MDAwMDBcIixuYXZ5OlwiIzAwMDA4MFwiLG9saXZlOlwiIzgwODAwMFwiLHB1cnBsZTpcIiM4MDAwODBcIixyZWQ6XCIjZmYwMDAwXCIsc2lsdmVyOlwiI2MwYzBjMFwiLHRlYWw6XCIjMDA4MDgwXCIsd2hpdGU6XCIjZmZmZmZmXCIseWVsbG93OlwiI2ZmZmYwMFwiLHRyYW5zcGFyZW50OltudWxsLG51bGwsbnVsbCwwXSxfZGVmYXVsdDpcIiNmZmZmZmZcIn19KGpRdWVyeSksZnVuY3Rpb24oKXtmdW5jdGlvbiBpKHQpe3ZhciBpLHMsYT10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc/dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCxudWxsKTp0LmN1cnJlbnRTdHlsZSxuPXt9O2lmKGEmJmEubGVuZ3RoJiZhWzBdJiZhW2FbMF1dKWZvcihzPWEubGVuZ3RoO3MtLTspaT1hW3NdLFwic3RyaW5nXCI9PXR5cGVvZiBhW2ldJiYobltlLmNhbWVsQ2FzZShpKV09YVtpXSk7ZWxzZSBmb3IoaSBpbiBhKVwic3RyaW5nXCI9PXR5cGVvZiBhW2ldJiYobltpXT1hW2ldKTtyZXR1cm4gbn1mdW5jdGlvbiBzKHQsaSl7dmFyIHMsYSxyPXt9O2ZvcihzIGluIGkpYT1pW3NdLHRbc10hPT1hJiYobltzXXx8KGUuZnguc3RlcFtzXXx8IWlzTmFOKHBhcnNlRmxvYXQoYSkpKSYmKHJbc109YSkpO3JldHVybiByfXZhciBhPVtcImFkZFwiLFwicmVtb3ZlXCIsXCJ0b2dnbGVcIl0sbj17Ym9yZGVyOjEsYm9yZGVyQm90dG9tOjEsYm9yZGVyQ29sb3I6MSxib3JkZXJMZWZ0OjEsYm9yZGVyUmlnaHQ6MSxib3JkZXJUb3A6MSxib3JkZXJXaWR0aDoxLG1hcmdpbjoxLHBhZGRpbmc6MX07ZS5lYWNoKFtcImJvcmRlckxlZnRTdHlsZVwiLFwiYm9yZGVyUmlnaHRTdHlsZVwiLFwiYm9yZGVyQm90dG9tU3R5bGVcIixcImJvcmRlclRvcFN0eWxlXCJdLGZ1bmN0aW9uKHQsaSl7ZS5meC5zdGVwW2ldPWZ1bmN0aW9uKGUpeyhcIm5vbmVcIiE9PWUuZW5kJiYhZS5zZXRBdHRyfHwxPT09ZS5wb3MmJiFlLnNldEF0dHIpJiYoalF1ZXJ5LnN0eWxlKGUuZWxlbSxpLGUuZW5kKSxlLnNldEF0dHI9ITApfX0pLGUuZm4uYWRkQmFja3x8KGUuZm4uYWRkQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09ZT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSl9KSxlLmVmZmVjdHMuYW5pbWF0ZUNsYXNzPWZ1bmN0aW9uKHQsbixyLG8pe3ZhciBoPWUuc3BlZWQobixyLG8pO3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIG4scj1lKHRoaXMpLG89ci5hdHRyKFwiY2xhc3NcIil8fFwiXCIsbD1oLmNoaWxkcmVuP3IuZmluZChcIipcIikuYWRkQmFjaygpOnI7bD1sLm1hcChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyk7cmV0dXJue2VsOnQsc3RhcnQ6aSh0aGlzKX19KSxuPWZ1bmN0aW9uKCl7ZS5lYWNoKGEsZnVuY3Rpb24oZSxpKXt0W2ldJiZyW2krXCJDbGFzc1wiXSh0W2ldKX0pfSxuKCksbD1sLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZD1pKHRoaXMuZWxbMF0pLHRoaXMuZGlmZj1zKHRoaXMuc3RhcnQsdGhpcy5lbmQpLHRoaXN9KSxyLmF0dHIoXCJjbGFzc1wiLG8pLGw9bC5tYXAoZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9ZS5EZWZlcnJlZCgpLHM9ZS5leHRlbmQoe30saCx7cXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXtpLnJlc29sdmUodCl9fSk7cmV0dXJuIHRoaXMuZWwuYW5pbWF0ZSh0aGlzLmRpZmYscyksaS5wcm9taXNlKCl9KSxlLndoZW4uYXBwbHkoZSxsLmdldCgpKS5kb25lKGZ1bmN0aW9uKCl7bigpLGUuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO2UuZWFjaCh0aGlzLmRpZmYsZnVuY3Rpb24oZSl7dC5jc3MoZSxcIlwiKX0pfSksaC5jb21wbGV0ZS5jYWxsKHJbMF0pfSl9KX0sZS5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHMsYSxuKXtyZXR1cm4gcz9lLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOml9LHMsYSxuKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KGUuZm4uYWRkQ2xhc3MpLHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHMsYSxuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP2UuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6aX0scyxhLG4pOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oZS5mbi5yZW1vdmVDbGFzcyksdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKHMsYSxuLHIsbyl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhfHxhPT09dD9uP2UuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLGE/e2FkZDpzfTp7cmVtb3ZlOnN9LG4scixvKTppLmFwcGx5KHRoaXMsYXJndW1lbnRzKTplLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7dG9nZ2xlOnN9LGEsbixyKX19KGUuZm4udG9nZ2xlQ2xhc3MpLHN3aXRjaENsYXNzOmZ1bmN0aW9uKHQsaSxzLGEsbil7cmV0dXJuIGUuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHthZGQ6aSxyZW1vdmU6dH0scyxhLG4pfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcyh0LGkscyxhKXtyZXR1cm4gZS5pc1BsYWluT2JqZWN0KHQpJiYoaT10LHQ9dC5lZmZlY3QpLHQ9e2VmZmVjdDp0fSxudWxsPT1pJiYoaT17fSksZS5pc0Z1bmN0aW9uKGkpJiYoYT1pLHM9bnVsbCxpPXt9KSwoXCJudW1iZXJcIj09dHlwZW9mIGl8fGUuZnguc3BlZWRzW2ldKSYmKGE9cyxzPWksaT17fSksZS5pc0Z1bmN0aW9uKHMpJiYoYT1zLHM9bnVsbCksaSYmZS5leHRlbmQodCxpKSxzPXN8fGkuZHVyYXRpb24sdC5kdXJhdGlvbj1lLmZ4Lm9mZj8wOlwibnVtYmVyXCI9PXR5cGVvZiBzP3M6cyBpbiBlLmZ4LnNwZWVkcz9lLmZ4LnNwZWVkc1tzXTplLmZ4LnNwZWVkcy5fZGVmYXVsdCx0LmNvbXBsZXRlPWF8fGkuY29tcGxldGUsdH1mdW5jdGlvbiBhKHQpe3JldHVybiF0fHxcIm51bWJlclwiPT10eXBlb2YgdHx8ZS5meC5zcGVlZHNbdF0/ITA6XCJzdHJpbmdcIiE9dHlwZW9mIHR8fGUuZWZmZWN0cy5lZmZlY3RbdF0/ZS5pc0Z1bmN0aW9uKHQpPyEwOlwib2JqZWN0XCIhPXR5cGVvZiB0fHx0LmVmZmVjdD8hMTohMDohMH1lLmV4dGVuZChlLmVmZmVjdHMse3ZlcnNpb246XCIxLjEwLjNcIixzYXZlOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBzPTA7dC5sZW5ndGg+cztzKyspbnVsbCE9PXRbc10mJmUuZGF0YShpK3Rbc10sZVswXS5zdHlsZVt0W3NdXSl9LHJlc3RvcmU6ZnVuY3Rpb24oZSxzKXt2YXIgYSxuO2ZvcihuPTA7cy5sZW5ndGg+bjtuKyspbnVsbCE9PXNbbl0mJihhPWUuZGF0YShpK3Nbbl0pLGE9PT10JiYoYT1cIlwiKSxlLmNzcyhzW25dLGEpKX0sc2V0TW9kZTpmdW5jdGlvbihlLHQpe3JldHVyblwidG9nZ2xlXCI9PT10JiYodD1lLmlzKFwiOmhpZGRlblwiKT9cInNob3dcIjpcImhpZGVcIiksdH0sZ2V0QmFzZWxpbmU6ZnVuY3Rpb24oZSx0KXt2YXIgaSxzO3N3aXRjaChlWzBdKXtjYXNlXCJ0b3BcIjppPTA7YnJlYWs7Y2FzZVwibWlkZGxlXCI6aT0uNTticmVhaztjYXNlXCJib3R0b21cIjppPTE7YnJlYWs7ZGVmYXVsdDppPWVbMF0vdC5oZWlnaHR9c3dpdGNoKGVbMV0pe2Nhc2VcImxlZnRcIjpzPTA7YnJlYWs7Y2FzZVwiY2VudGVyXCI6cz0uNTticmVhaztjYXNlXCJyaWdodFwiOnM9MTticmVhaztkZWZhdWx0OnM9ZVsxXS90LndpZHRofXJldHVybnt4OnMseTppfX0sY3JlYXRlV3JhcHBlcjpmdW5jdGlvbih0KXtpZih0LnBhcmVudCgpLmlzKFwiLnVpLWVmZmVjdHMtd3JhcHBlclwiKSlyZXR1cm4gdC5wYXJlbnQoKTt2YXIgaT17d2lkdGg6dC5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6dC5vdXRlckhlaWdodCghMCksXCJmbG9hdFwiOnQuY3NzKFwiZmxvYXRcIil9LHM9ZShcIjxkaXY+PC9kaXY+XCIpLmFkZENsYXNzKFwidWktZWZmZWN0cy13cmFwcGVyXCIpLmNzcyh7Zm9udFNpemU6XCIxMDAlXCIsYmFja2dyb3VuZDpcInRyYW5zcGFyZW50XCIsYm9yZGVyOlwibm9uZVwiLG1hcmdpbjowLHBhZGRpbmc6MH0pLGE9e3dpZHRoOnQud2lkdGgoKSxoZWlnaHQ6dC5oZWlnaHQoKX0sbj1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3RyeXtuLmlkfWNhdGNoKHIpe249ZG9jdW1lbnQuYm9keX1yZXR1cm4gdC53cmFwKHMpLCh0WzBdPT09bnx8ZS5jb250YWlucyh0WzBdLG4pKSYmZShuKS5mb2N1cygpLHM9dC5wYXJlbnQoKSxcInN0YXRpY1wiPT09dC5jc3MoXCJwb3NpdGlvblwiKT8ocy5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIn0pLHQuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KSk6KGUuZXh0ZW5kKGkse3Bvc2l0aW9uOnQuY3NzKFwicG9zaXRpb25cIiksekluZGV4OnQuY3NzKFwiei1pbmRleFwiKX0pLGUuZWFjaChbXCJ0b3BcIixcImxlZnRcIixcImJvdHRvbVwiLFwicmlnaHRcIl0sZnVuY3Rpb24oZSxzKXtpW3NdPXQuY3NzKHMpLGlzTmFOKHBhcnNlSW50KGlbc10sMTApKSYmKGlbc109XCJhdXRvXCIpfSksdC5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIix0b3A6MCxsZWZ0OjAscmlnaHQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSkpLHQuY3NzKGEpLHMuY3NzKGkpLnNob3coKX0scmVtb3ZlV3JhcHBlcjpmdW5jdGlvbih0KXt2YXIgaT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3JldHVybiB0LnBhcmVudCgpLmlzKFwiLnVpLWVmZmVjdHMtd3JhcHBlclwiKSYmKHQucGFyZW50KCkucmVwbGFjZVdpdGgodCksKHRbMF09PT1pfHxlLmNvbnRhaW5zKHRbMF0saSkpJiZlKGkpLmZvY3VzKCkpLHR9LHNldFRyYW5zaXRpb246ZnVuY3Rpb24odCxpLHMsYSl7cmV0dXJuIGE9YXx8e30sZS5lYWNoKGksZnVuY3Rpb24oZSxpKXt2YXIgbj10LmNzc1VuaXQoaSk7blswXT4wJiYoYVtpXT1uWzBdKnMrblsxXSl9KSxhfX0pLGUuZm4uZXh0ZW5kKHtlZmZlY3Q6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe2Z1bmN0aW9uIHMoKXtlLmlzRnVuY3Rpb24obikmJm4uY2FsbChhWzBdKSxlLmlzRnVuY3Rpb24odCkmJnQoKX12YXIgYT1lKHRoaXMpLG49aS5jb21wbGV0ZSxvPWkubW9kZTsoYS5pcyhcIjpoaWRkZW5cIik/XCJoaWRlXCI9PT1vOlwic2hvd1wiPT09byk/KGFbb10oKSxzKCkpOnIuY2FsbChhWzBdLGkscyl9dmFyIGk9cy5hcHBseSh0aGlzLGFyZ3VtZW50cyksYT1pLm1vZGUsbj1pLnF1ZXVlLHI9ZS5lZmZlY3RzLmVmZmVjdFtpLmVmZmVjdF07cmV0dXJuIGUuZngub2ZmfHwhcj9hP3RoaXNbYV0oaS5kdXJhdGlvbixpLmNvbXBsZXRlKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmNvbXBsZXRlJiZpLmNvbXBsZXRlLmNhbGwodGhpcyl9KTpuPT09ITE/dGhpcy5lYWNoKHQpOnRoaXMucXVldWUobnx8XCJmeFwiLHQpfSxzaG93OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihhKHQpKXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgaT1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gaS5tb2RlPVwic2hvd1wiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyxpKX19KGUuZm4uc2hvdyksaGlkZTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoYSh0KSlyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGk9cy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGkubW9kZT1cImhpZGVcIix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsaSl9fShlLmZuLmhpZGUpLHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoYSh0KXx8XCJib29sZWFuXCI9PXR5cGVvZiB0KXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgaT1zLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gaS5tb2RlPVwidG9nZ2xlXCIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLGkpfX0oZS5mbi50b2dnbGUpLGNzc1VuaXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jc3ModCkscz1bXTtyZXR1cm4gZS5lYWNoKFtcImVtXCIsXCJweFwiLFwiJVwiLFwicHRcIl0sZnVuY3Rpb24oZSx0KXtpLmluZGV4T2YodCk+MCYmKHM9W3BhcnNlRmxvYXQoaSksdF0pfSksc319KX0oKSxmdW5jdGlvbigpe3ZhciB0PXt9O2UuZWFjaChbXCJRdWFkXCIsXCJDdWJpY1wiLFwiUXVhcnRcIixcIlF1aW50XCIsXCJFeHBvXCJdLGZ1bmN0aW9uKGUsaSl7dFtpXT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCxlKzIpfX0pLGUuZXh0ZW5kKHQse1NpbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIDEtTWF0aC5jb3MoZSpNYXRoLlBJLzIpfSxDaXJjOmZ1bmN0aW9uKGUpe3JldHVybiAxLU1hdGguc3FydCgxLWUqZSl9LEVsYXN0aWM6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lfHwxPT09ZT9lOi1NYXRoLnBvdygyLDgqKGUtMSkpKk1hdGguc2luKCg4MCooZS0xKS03LjUpKk1hdGguUEkvMTUpfSxCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiBlKmUqKDMqZS0yKX0sQm91bmNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPTQ7KCh0PU1hdGgucG93KDIsLS1pKSktMSkvMTE+ZTspO3JldHVybiAxL01hdGgucG93KDQsMy1pKS03LjU2MjUqTWF0aC5wb3coKDMqdC0yKS8yMi1lLDIpfX0pLGUuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7ZS5lYXNpbmdbXCJlYXNlSW5cIit0XT1pLGUuZWFzaW5nW1wiZWFzZU91dFwiK3RdPWZ1bmN0aW9uKGUpe3JldHVybiAxLWkoMS1lKX0sZS5lYXNpbmdbXCJlYXNlSW5PdXRcIit0XT1mdW5jdGlvbihlKXtyZXR1cm4uNT5lP2koMiplKS8yOjEtaSgtMiplKzIpLzJ9fSl9KCl9KShqUXVlcnkpO1xufSkuY2FsbChnbG9iYWwsIG1vZHVsZSwgdW5kZWZpbmVkKTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBkZWZpbmUpIHtcbi8qISBqcXVlcnkua2luZXRpYyAtIHYxLjguMiAtIDIwMTMtMDMtMjMgaHR0cDovL3RoZS10YXlsb3JzLm9yZy9qcXVlcnkua2luZXRpYyBcbiAqIENvcHlyaWdodCAoYykgMjAxMyBEYXZlIFRheWxvcjsgTGljZW5zZWQgTUlUICovXG4oZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9e2N1cnNvcjpcIm1vdmVcIixkZWNlbGVyYXRlOiEwLHRyaWdnZXJIYXJkd2FyZTohMSx5OiEwLHg6ITAsc2xvd2Rvd246LjksbWF4dmVsb2NpdHk6NDAsdGhyb3R0bGVGUFM6NjAsbW92aW5nQ2xhc3M6e3VwOlwia2luZXRpYy1tb3ZpbmctdXBcIixkb3duOlwia2luZXRpYy1tb3ZpbmctZG93blwiLGxlZnQ6XCJraW5ldGljLW1vdmluZy1sZWZ0XCIscmlnaHQ6XCJraW5ldGljLW1vdmluZy1yaWdodFwifSxkZWNlbGVyYXRpbmdDbGFzczp7dXA6XCJraW5ldGljLWRlY2VsZXJhdGluZy11cFwiLGRvd246XCJraW5ldGljLWRlY2VsZXJhdGluZy1kb3duXCIsbGVmdDpcImtpbmV0aWMtZGVjZWxlcmF0aW5nLWxlZnRcIixyaWdodDpcImtpbmV0aWMtZGVjZWxlcmF0aW5nLXJpZ2h0XCJ9fSxuPVwia2luZXRpYy1zZXR0aW5nc1wiLGk9XCJraW5ldGljLWFjdGl2ZVwiO3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKHQpe3dpbmRvdy5zZXRUaW1lb3V0KHQsMWUzLzYwKX19KCkpLHQuc3VwcG9ydD10LnN1cHBvcnR8fHt9LHQuZXh0ZW5kKHQuc3VwcG9ydCx7dG91Y2g6XCJvbnRvdWNoZW5kXCJpbiBkb2N1bWVudH0pO3ZhciBvPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PU1hdGguZmxvb3IoTWF0aC5hYnModCkpPzA6dCplfSxsPWZ1bmN0aW9uKHQsZSl7dmFyIG49dDtyZXR1cm4gdD4wP3Q+ZSYmKG49ZSk6MC1lPnQmJihuPTAtZSksbn0scz1mdW5jdGlvbih0LGUpe3RoaXMucmVtb3ZlQ2xhc3ModC5tb3ZpbmdDbGFzcy51cCkucmVtb3ZlQ2xhc3ModC5tb3ZpbmdDbGFzcy5kb3duKS5yZW1vdmVDbGFzcyh0Lm1vdmluZ0NsYXNzLmxlZnQpLnJlbW92ZUNsYXNzKHQubW92aW5nQ2xhc3MucmlnaHQpLnJlbW92ZUNsYXNzKHQuZGVjZWxlcmF0aW5nQ2xhc3MudXApLnJlbW92ZUNsYXNzKHQuZGVjZWxlcmF0aW5nQ2xhc3MuZG93bikucmVtb3ZlQ2xhc3ModC5kZWNlbGVyYXRpbmdDbGFzcy5sZWZ0KS5yZW1vdmVDbGFzcyh0LmRlY2VsZXJhdGluZ0NsYXNzLnJpZ2h0KSx0LnZlbG9jaXR5PjAmJnRoaXMuYWRkQ2xhc3MoZS5yaWdodCksMD50LnZlbG9jaXR5JiZ0aGlzLmFkZENsYXNzKGUubGVmdCksdC52ZWxvY2l0eVk+MCYmdGhpcy5hZGRDbGFzcyhlLmRvd24pLDA+dC52ZWxvY2l0eVkmJnRoaXMuYWRkQ2xhc3MoZS51cCl9LGE9ZnVuY3Rpb24odCxlKXtlLnZlbG9jaXR5PTAsZS52ZWxvY2l0eVk9MCxlLmRlY2VsZXJhdGU9ITAsXCJmdW5jdGlvblwiPT10eXBlb2YgZS5zdG9wcGVkJiZlLnN0b3BwZWQuY2FsbCh0LGUpfSxyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dFswXTtlLngmJm4uc2Nyb2xsV2lkdGg+MD8obi5zY3JvbGxMZWZ0PWUuc2Nyb2xsTGVmdD1uLnNjcm9sbExlZnQrZS52ZWxvY2l0eSxNYXRoLmFicyhlLnZlbG9jaXR5KT4wJiYoZS52ZWxvY2l0eT1lLmRlY2VsZXJhdGU/YyhlLnZlbG9jaXR5LGUuc2xvd2Rvd24pOmUudmVsb2NpdHkpKTplLnZlbG9jaXR5PTAsZS55JiZuLnNjcm9sbEhlaWdodD4wPyhuLnNjcm9sbFRvcD1lLnNjcm9sbFRvcD1uLnNjcm9sbFRvcCtlLnZlbG9jaXR5WSxNYXRoLmFicyhlLnZlbG9jaXR5WSk+MCYmKGUudmVsb2NpdHlZPWUuZGVjZWxlcmF0ZT9jKGUudmVsb2NpdHlZLGUuc2xvd2Rvd24pOmUudmVsb2NpdHlZKSk6ZS52ZWxvY2l0eVk9MCxzLmNhbGwodCxlLGUuZGVjZWxlcmF0aW5nQ2xhc3MpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUubW92ZWQmJmUubW92ZWQuY2FsbCh0LGUpLE1hdGguYWJzKGUudmVsb2NpdHkpPjB8fE1hdGguYWJzKGUudmVsb2NpdHlZKT4wP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtyKHQsZSl9KTphKHQsZSl9LHU9ZnVuY3Rpb24oZSl7dmFyIGk9dC5raW5ldGljLmNhbGxNZXRob2RzW2VdLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpJiZ0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1vLnNsaWNlKDEpLGM9dCh0aGlzKS5kYXRhKG4pO2UudW5zaGlmdChjKSxpLmFwcGx5KHRoaXMsZSl9KX0sdj1mdW5jdGlvbihlLG4pe2VbMF0sdC5zdXBwb3J0LnRvdWNoP2UuYmluZChcInRvdWNoc3RhcnRcIixuLmV2ZW50cy50b3VjaFN0YXJ0KS5iaW5kKFwidG91Y2hlbmRcIixuLmV2ZW50cy5pbnB1dEVuZCkuYmluZChcInRvdWNobW92ZVwiLG4uZXZlbnRzLnRvdWNoTW92ZSk6ZS5tb3VzZWRvd24obi5ldmVudHMuaW5wdXREb3duKS5tb3VzZXVwKG4uZXZlbnRzLmlucHV0RW5kKS5tb3VzZW1vdmUobi5ldmVudHMuaW5wdXRNb3ZlKSxlLmNsaWNrKG4uZXZlbnRzLmlucHV0Q2xpY2spLnNjcm9sbChuLmV2ZW50cy5zY3JvbGwpLmJpbmQoXCJzZWxlY3RzdGFydFwiLG8pLmJpbmQoXCJkcmFnc3RhcnRcIixuLmV2ZW50cy5kcmFnU3RhcnQpfSxkPWZ1bmN0aW9uKGUsbil7ZVswXSx0LnN1cHBvcnQudG91Y2g/ZS51bmJpbmQoXCJ0b3VjaHN0YXJ0XCIsbi5ldmVudHMudG91Y2hTdGFydCkudW5iaW5kKFwidG91Y2hlbmRcIixuLmV2ZW50cy5pbnB1dEVuZCkudW5iaW5kKFwidG91Y2htb3ZlXCIsbi5ldmVudHMudG91Y2hNb3ZlKTplLnVuYmluZChcIm1vdXNlZG93blwiLG4uZXZlbnRzLmlucHV0RG93bikudW5iaW5kKFwibW91c2V1cFwiLG4uZXZlbnRzLmlucHV0RW5kKS51bmJpbmQoXCJtb3VzZW1vdmVcIixuLmV2ZW50cy5pbnB1dE1vdmUpLnVuYmluZChcInNjcm9sbFwiLG4uZXZlbnRzLnNjcm9sbCksZS51bmJpbmQoXCJjbGlja1wiLG4uZXZlbnRzLmlucHV0Q2xpY2spLnVuYmluZChcInNlbGVjdHN0YXJ0XCIsbyksZS51bmJpbmQoXCJkcmFnc3RhcnRcIixuLmV2ZW50cy5kcmFnU3RhcnQpfSxmPWZ1bmN0aW9uKG8pe3RoaXMuYWRkQ2xhc3MoaSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPXRoaXMsYz10KHRoaXMpO2lmKCFjLmRhdGEobikpe3ZhciBhLHUsZCxmLHA9dC5leHRlbmQoe30sZSxvKSxtPSExLGg9ITEsZz0hMSx3PTFlMy9wLnRocm90dGxlRlBTO3AudmVsb2NpdHk9MCxwLnZlbG9jaXR5WT0wO3ZhciB5PWZ1bmN0aW9uKCl7YT0hMSx1PSExLGc9ITF9O3QoZG9jdW1lbnQpLm1vdXNldXAoeSkuY2xpY2soeSk7dmFyIEM9ZnVuY3Rpb24oKXtwLnZlbG9jaXR5PWwobS1hLHAubWF4dmVsb2NpdHkpLHAudmVsb2NpdHlZPWwoaC11LHAubWF4dmVsb2NpdHkpfSxiPWZ1bmN0aW9uKGUpe3JldHVybiB0LmlzRnVuY3Rpb24ocC5maWx0ZXJUYXJnZXQpP3AuZmlsdGVyVGFyZ2V0LmNhbGwoaSxlKSE9PSExOiEwfSxrPWZ1bmN0aW9uKHQsZSl7Zz0hMCxwLnZlbG9jaXR5PW09MCxwLnZlbG9jaXR5WT1oPTAsYT10LHU9ZX0sWT1mdW5jdGlvbigpe2EmJm0mJnAuZGVjZWxlcmF0ZT09PSExJiYocC5kZWNlbGVyYXRlPSEwLEMoKSxhPW09Zz0hMSxyKGMscCkpfSxEPWZ1bmN0aW9uKGUsbil7KCFkfHxuZXcgRGF0ZT5uZXcgRGF0ZShkLmdldFRpbWUoKSt3KSkmJihkPW5ldyBEYXRlLGcmJihhfHx1KSYmKGYmJih0KGYpLmJsdXIoKSxmPW51bGwsYy5mb2N1cygpKSxwLmRlY2VsZXJhdGU9ITEscC52ZWxvY2l0eT1wLnZlbG9jaXR5WT0wLGNbMF0uc2Nyb2xsTGVmdD1wLnNjcm9sbExlZnQ9cC54P2NbMF0uc2Nyb2xsTGVmdC0oZS1hKTpjWzBdLnNjcm9sbExlZnQsY1swXS5zY3JvbGxUb3A9cC5zY3JvbGxUb3A9cC55P2NbMF0uc2Nyb2xsVG9wLShuLXUpOmNbMF0uc2Nyb2xsVG9wLG09YSxoPXUsYT1lLHU9bixDKCkscy5jYWxsKGMscCxwLm1vdmluZ0NsYXNzKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBwLm1vdmVkJiZwLm1vdmVkLmNhbGwoYyxwKSkpfTtwLmV2ZW50cz17dG91Y2hTdGFydDpmdW5jdGlvbih0KXt2YXIgZTtiKHQudGFyZ2V0KSYmKGU9dC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0sayhlLmNsaWVudFgsZS5jbGllbnRZKSx0LnN0b3BQcm9wYWdhdGlvbigpKX0sdG91Y2hNb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlO2cmJihlPXQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLEQoZS5jbGllbnRYLGUuY2xpZW50WSksdC5wcmV2ZW50RGVmYXVsdCYmdC5wcmV2ZW50RGVmYXVsdCgpKX0saW5wdXREb3duOmZ1bmN0aW9uKHQpe2IodC50YXJnZXQpJiYoayh0LmNsaWVudFgsdC5jbGllbnRZKSxmPXQudGFyZ2V0LFwiSU1HXCI9PT10LnRhcmdldC5ub2RlTmFtZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfSxpbnB1dEVuZDpmdW5jdGlvbih0KXtZKCksZj1udWxsLHQucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKX0saW5wdXRNb3ZlOmZ1bmN0aW9uKHQpe2cmJihEKHQuY2xpZW50WCx0LmNsaWVudFkpLHQucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKSl9LHNjcm9sbDpmdW5jdGlvbih0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBwLm1vdmVkJiZwLm1vdmVkLmNhbGwoYyxwKSx0LnByZXZlbnREZWZhdWx0JiZ0LnByZXZlbnREZWZhdWx0KCl9LGlucHV0Q2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYWJzKHAudmVsb2NpdHkpPjA/KHQucHJldmVudERlZmF1bHQoKSwhMSk6dm9pZCAwfSxkcmFnU3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZj8hMTp2b2lkIDB9fSx2KGMscCksYy5kYXRhKG4scCkuY3NzKFwiY3Vyc29yXCIscC5jdXJzb3IpLHAudHJpZ2dlckhhcmR3YXJlJiZjLmNzcyh7XCItd2Via2l0LXRyYW5zZm9ybVwiOlwidHJhbnNsYXRlM2QoMCwwLDApXCIsXCItd2Via2l0LXBlcnNwZWN0aXZlXCI6XCIxMDAwXCIsXCItd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHlcIjpcImhpZGRlblwifSl9fSl9O3Qua2luZXRpYz17c2V0dGluZ3NLZXk6bixjYWxsTWV0aG9kczp7c3RhcnQ6ZnVuY3Rpb24oZSxuKXt2YXIgaT10KHRoaXMpO2U9dC5leHRlbmQoZSxuKSxlJiYoZS5kZWNlbGVyYXRlPSExLHIoaSxlKSl9LGVuZDpmdW5jdGlvbihlKXt0KHRoaXMpLGUmJihlLmRlY2VsZXJhdGU9ITApfSxzdG9wOmZ1bmN0aW9uKGUpe3ZhciBuPXQodGhpcyk7YShuLGUpfSxkZXRhY2g6ZnVuY3Rpb24oZSl7dmFyIG49dCh0aGlzKTtkKG4sZSksbi5yZW1vdmVDbGFzcyhpKS5jc3MoXCJjdXJzb3JcIixcIlwiKX0sYXR0YWNoOmZ1bmN0aW9uKGUpe3ZhciBuPXQodGhpcyk7dihuLGUpLG4uYWRkQ2xhc3MoaSkuY3NzKFwiY3Vyc29yXCIsXCJtb3ZlXCIpfX19LHQuZm4ua2luZXRpYz1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD91LmFwcGx5KHRoaXMsYXJndW1lbnRzKTpmLmNhbGwodGhpcyx0KSx0aGlzfX0pKHdpbmRvdy5qUXVlcnl8fHdpbmRvdy5aZXB0byk7XG59KS5jYWxsKGdsb2JhbCwgbW9kdWxlLCB1bmRlZmluZWQpO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbihmdW5jdGlvbiBicm93c2VyaWZ5U2hpbShtb2R1bGUsIGRlZmluZSkge1xuLyohIENvcHlyaWdodCAoYykgMjAxMyBCcmFuZG9uIEFhcm9uIChodHRwOi8vYnJhbmRvbi5hYXJvbi5zaClcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChMSUNFTlNFLnR4dCkuXHJcbiAqXHJcbiAqIFZlcnNpb246IDMuMS40XHJcbiAqXHJcbiAqIFJlcXVpcmVzOiAxLjIuMitcclxuICovXHJcbihmdW5jdGlvbihlKXtpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW1wianF1ZXJ5XCJdLGUpfWVsc2UgaWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiKXttb2R1bGUuZXhwb3J0cz1lfWVsc2V7ZShqUXVlcnkpfX0pKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG8odCl7dmFyIG49dHx8d2luZG93LmV2ZW50LHM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbz0wLHU9MCxhPTAsZj0wLGw9MCxjO3Q9ZS5ldmVudC5maXgobik7dC50eXBlPVwibW91c2V3aGVlbFwiO2lmKG4ud2hlZWxEZWx0YSl7bz1uLndoZWVsRGVsdGF9aWYobi5kZXRhaWwpe289bi5kZXRhaWwqLTF9YT1vO2lmKG4uYXhpcyE9PXVuZGVmaW5lZCYmbi5heGlzPT09bi5IT1JJWk9OVEFMX0FYSVMpe2E9MDt1PW8qLTF9aWYobi5kZWx0YVkpe2E9bi5kZWx0YVkqLTE7bz1hfWlmKG4uZGVsdGFYKXt1PW4uZGVsdGFYO289dSotMX1pZihuLndoZWVsRGVsdGFZIT09dW5kZWZpbmVkKXthPW4ud2hlZWxEZWx0YVl9aWYobi53aGVlbERlbHRhWCE9PXVuZGVmaW5lZCl7dT1uLndoZWVsRGVsdGFYKi0xfWY9TWF0aC5hYnMobyk7aWYoIXJ8fGY8cil7cj1mfWw9TWF0aC5tYXgoTWF0aC5hYnMoYSksTWF0aC5hYnModSkpO2lmKCFpfHxsPGkpe2k9bH1jPW8+MD9cImZsb29yXCI6XCJjZWlsXCI7bz1NYXRoW2NdKG8vcik7dT1NYXRoW2NdKHUvaSk7YT1NYXRoW2NdKGEvaSk7cy51bnNoaWZ0KHQsbyx1LGEpO3JldHVybihlLmV2ZW50LmRpc3BhdGNofHxlLmV2ZW50LmhhbmRsZSkuYXBwbHkodGhpcyxzKX12YXIgdD1bXCJ3aGVlbFwiLFwibW91c2V3aGVlbFwiLFwiRE9NTW91c2VTY3JvbGxcIixcIk1vek1vdXNlUGl4ZWxTY3JvbGxcIl07dmFyIG49XCJvbndoZWVsXCJpbiBkb2N1bWVudHx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPj05P1tcIndoZWVsXCJdOltcIm1vdXNld2hlZWxcIixcIkRvbU1vdXNlU2Nyb2xsXCIsXCJNb3pNb3VzZVBpeGVsU2Nyb2xsXCJdO3ZhciByLGk7aWYoZS5ldmVudC5maXhIb29rcyl7Zm9yKHZhciBzPXQubGVuZ3RoO3M7KXtlLmV2ZW50LmZpeEhvb2tzW3RbLS1zXV09ZS5ldmVudC5tb3VzZUhvb2tzfX1lLmV2ZW50LnNwZWNpYWwubW91c2V3aGVlbD17c2V0dXA6ZnVuY3Rpb24oKXtpZih0aGlzLmFkZEV2ZW50TGlzdGVuZXIpe2Zvcih2YXIgZT1uLmxlbmd0aDtlOyl7dGhpcy5hZGRFdmVudExpc3RlbmVyKG5bLS1lXSxvLGZhbHNlKX19ZWxzZXt0aGlzLm9ubW91c2V3aGVlbD1vfX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIpe2Zvcih2YXIgZT1uLmxlbmd0aDtlOyl7dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG5bLS1lXSxvLGZhbHNlKX19ZWxzZXt0aGlzLm9ubW91c2V3aGVlbD1udWxsfX19O2UuZm4uZXh0ZW5kKHttb3VzZXdoZWVsOmZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuYmluZChcIm1vdXNld2hlZWxcIixlKTp0aGlzLnRyaWdnZXIoXCJtb3VzZXdoZWVsXCIpfSx1bm1vdXNld2hlZWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudW5iaW5kKFwibW91c2V3aGVlbFwiLGUpfX0pfSlcbn0pLmNhbGwoZ2xvYmFsLCBtb2R1bGUsIHVuZGVmaW5lZCk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuKGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZGVmaW5lKSB7XG5cbjsgZ2xvYmFsLmpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG5yZXF1aXJlKFwianF1ZXJ5LXVpXCIpO1xucmVxdWlyZShcImpxdWVyeS1tb3VzZXdoZWVsXCIpO1xucmVxdWlyZShcImpxdWVyeS1raW5ldGljXCIpO1xuLypcclxuICogalF1ZXJ5IFNtb290aERpdlNjcm9sbCAxLjNcclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEzIFRob21hcyBLYWhuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBHUEwgbGljZW5zZS5cclxuICpcclxuICogaHR0cDovL3d3dy5zbW9vdGhkaXZzY3JvbGwuY29tL1xyXG4gKi9cclxuIFxyXG4gKGZ1bmN0aW9uKCQpeyQud2lkZ2V0KFwidGhvbWFza2Fobi5zbW9vdGhEaXZTY3JvbGxcIix7b3B0aW9uczp7c2Nyb2xsaW5nSG90U3BvdExlZnRDbGFzczpcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIsc2Nyb2xsaW5nSG90U3BvdFJpZ2h0Q2xhc3M6XCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIixzY3JvbGxpbmdIb3RTcG90TGVmdFZpc2libGVDbGFzczpcInNjcm9sbGluZ0hvdFNwb3RMZWZ0VmlzaWJsZVwiLHNjcm9sbGluZ0hvdFNwb3RSaWdodFZpc2libGVDbGFzczpcInNjcm9sbGluZ0hvdFNwb3RSaWdodFZpc2libGVcIixzY3JvbGxhYmxlQXJlYUNsYXNzOlwic2Nyb2xsYWJsZUFyZWFcIixzY3JvbGxXcmFwcGVyQ2xhc3M6XCJzY3JvbGxXcmFwcGVyXCIsaGlkZGVuT25TdGFydDpmYWxzZSxnZXRDb250ZW50T25Mb2FkOnt9LGNvdW50T25seUNsYXNzOlwiXCIsc3RhcnRBdEVsZW1lbnRJZDpcIlwiLGhvdFNwb3RTY3JvbGxpbmc6dHJ1ZSxob3RTcG90U2Nyb2xsaW5nU3RlcDoxNSxob3RTcG90U2Nyb2xsaW5nSW50ZXJ2YWw6MTAsaG90U3BvdE1vdXNlRG93blNwZWVkQm9vc3RlcjozLHZpc2libGVIb3RTcG90QmFja2dyb3VuZHM6XCJob3ZlclwiLGhvdFNwb3RzVmlzaWJsZVRpbWU6NTAwMCxlYXNpbmdBZnRlckhvdFNwb3RTY3JvbGxpbmc6dHJ1ZSxlYXNpbmdBZnRlckhvdFNwb3RTY3JvbGxpbmdEaXN0YW5jZToxMCxlYXNpbmdBZnRlckhvdFNwb3RTY3JvbGxpbmdEdXJhdGlvbjozMDAsZWFzaW5nQWZ0ZXJIb3RTcG90U2Nyb2xsaW5nRnVuY3Rpb246XCJlYXNlT3V0UXVhcnRcIixtb3VzZXdoZWVsU2Nyb2xsaW5nOlwiXCIsbW91c2V3aGVlbFNjcm9sbGluZ1N0ZXA6NzAsZWFzaW5nQWZ0ZXJNb3VzZVdoZWVsU2Nyb2xsaW5nOnRydWUsZWFzaW5nQWZ0ZXJNb3VzZVdoZWVsU2Nyb2xsaW5nRHVyYXRpb246MzAwLGVhc2luZ0FmdGVyTW91c2VXaGVlbFNjcm9sbGluZ0Z1bmN0aW9uOlwiZWFzZU91dFF1YXJ0XCIsbWFudWFsQ29udGludW91c1Njcm9sbGluZzpmYWxzZSxhdXRvU2Nyb2xsaW5nTW9kZTpcIlwiLGF1dG9TY3JvbGxpbmdEaXJlY3Rpb246XCJlbmRsZXNzTG9vcFJpZ2h0XCIsYXV0b1Njcm9sbGluZ1N0ZXA6MSxhdXRvU2Nyb2xsaW5nSW50ZXJ2YWw6MTAsdG91Y2hTY3JvbGxpbmc6ZmFsc2Usc2Nyb2xsVG9BbmltYXRpb25EdXJhdGlvbjoxMDAwLHNjcm9sbFRvRWFzaW5nRnVuY3Rpb246XCJlYXNlT3V0UXVhcnRcIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBzZWxmPXRoaXMsbz10aGlzLm9wdGlvbnMsZWw9dGhpcy5lbGVtZW50O2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIsZWwuZmluZChcIi5cIitvLnNjcm9sbFdyYXBwZXJDbGFzcykpO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIixlbC5maW5kKFwiLlwiK28uc2Nyb2xsaW5nSG90U3BvdFJpZ2h0Q2xhc3MpKTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdExlZnRcIixlbC5maW5kKFwiLlwiK28uc2Nyb2xsaW5nSG90U3BvdExlZnRDbGFzcykpO2VsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiLGVsLmZpbmQoXCIuXCIrby5zY3JvbGxhYmxlQXJlYUNsYXNzKSk7aWYoZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5sZW5ndGg+MCl7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5kZXRhY2goKX1pZihlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdExlZnRcIikubGVuZ3RoPjApe2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5kZXRhY2goKX1pZihlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikubGVuZ3RoPT09MCYmZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikubGVuZ3RoPT09MCl7ZWwud3JhcElubmVyKFwiPGRpdiBjbGFzcz0nXCIrby5zY3JvbGxhYmxlQXJlYUNsYXNzK1wiJz5cIikud3JhcElubmVyKFwiPGRpdiBjbGFzcz0nXCIrby5zY3JvbGxXcmFwcGVyQ2xhc3MrXCInPlwiKTtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiLGVsLmZpbmQoXCIuXCIrby5zY3JvbGxXcmFwcGVyQ2xhc3MpKTtlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIixlbC5maW5kKFwiLlwiK28uc2Nyb2xsYWJsZUFyZWFDbGFzcykpfWVsc2UgaWYoZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikubGVuZ3RoPT09MCl7ZWwud3JhcElubmVyKFwiPGRpdiBjbGFzcz0nXCIrby5zY3JvbGxXcmFwcGVyQ2xhc3MrXCInPlwiKTtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiLGVsLmZpbmQoXCIuXCIrby5zY3JvbGxXcmFwcGVyQ2xhc3MpKX1lbHNlIGlmKGVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5sZW5ndGg9PT0wKXtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS53cmFwSW5uZXIoXCI8ZGl2IGNsYXNzPSdcIitvLnNjcm9sbGFibGVBcmVhQ2xhc3MrXCInPlwiKTtlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIixlbC5maW5kKFwiLlwiK28uc2Nyb2xsYWJsZUFyZWFDbGFzcykpfWlmKGVsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIikubGVuZ3RoPT09MCl7ZWwucHJlcGVuZChcIjxkaXYgY2xhc3M9J1wiK28uc2Nyb2xsaW5nSG90U3BvdFJpZ2h0Q2xhc3MrXCInPjwvZGl2PlwiKTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdFJpZ2h0XCIsZWwuZmluZChcIi5cIitvLnNjcm9sbGluZ0hvdFNwb3RSaWdodENsYXNzKSl9ZWxzZXtlbC5wcmVwZW5kKGVsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIikpfWlmKGVsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5sZW5ndGg9PT0wKXtlbC5wcmVwZW5kKFwiPGRpdiBjbGFzcz0nXCIrby5zY3JvbGxpbmdIb3RTcG90TGVmdENsYXNzK1wiJz48L2Rpdj5cIik7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIsZWwuZmluZChcIi5cIitvLnNjcm9sbGluZ0hvdFNwb3RMZWZ0Q2xhc3MpKX1lbHNle2VsLnByZXBlbmQoZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIpKX1lbC5kYXRhKFwic3BlZWRCb29zdGVyXCIsMSk7ZWwuZGF0YShcInNjcm9sbFhQb3NcIiwwKTtlbC5kYXRhKFwiaG90U3BvdFdpZHRoXCIsZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIpLmlubmVyV2lkdGgoKSk7ZWwuZGF0YShcInNjcm9sbGFibGVBcmVhV2lkdGhcIiwwKTtlbC5kYXRhKFwic3RhcnRpbmdQb3NpdGlvblwiLDApO2VsLmRhdGEoXCJyaWdodFNjcm9sbGluZ0ludGVydmFsXCIsbnVsbCk7ZWwuZGF0YShcImxlZnRTY3JvbGxpbmdJbnRlcnZhbFwiLG51bGwpO2VsLmRhdGEoXCJhdXRvU2Nyb2xsaW5nSW50ZXJ2YWxcIixudWxsKTtlbC5kYXRhKFwiaGlkZUhvdFNwb3RCYWNrZ3JvdW5kc0ludGVydmFsXCIsbnVsbCk7ZWwuZGF0YShcInByZXZpb3VzU2Nyb2xsTGVmdFwiLDApO2VsLmRhdGEoXCJwaW5nUG9uZ0RpcmVjdGlvblwiLFwicmlnaHRcIik7ZWwuZGF0YShcImdldE5leHRFbGVtZW50V2lkdGhcIix0cnVlKTtlbC5kYXRhKFwic3dhcEF0XCIsbnVsbCk7ZWwuZGF0YShcInN0YXJ0QXRFbGVtZW50SGFzTm90UGFzc2VkXCIsdHJ1ZSk7ZWwuZGF0YShcInN3YXBwZWRFbGVtZW50XCIsbnVsbCk7ZWwuZGF0YShcIm9yaWdpbmFsRWxlbWVudHNcIixlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuY2hpbGRyZW4oby5jb3VudE9ubHlDbGFzcykpO2VsLmRhdGEoXCJ2aXNpYmxlXCIsdHJ1ZSk7ZWwuZGF0YShcImVuYWJsZWRcIix0cnVlKTtlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFIZWlnaHRcIixlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuaGVpZ2h0KCkpO2VsLmRhdGEoXCJzY3JvbGxlck9mZnNldFwiLGVsLm9mZnNldCgpKTtpZihvLnRvdWNoU2Nyb2xsaW5nJiZlbC5kYXRhKFwiZW5hYmxlZFwiKSl7ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikua2luZXRpYyh7eTpmYWxzZSxtb3ZlZDpmdW5jdGlvbihzZXR0aW5ncyl7aWYoby5tYW51YWxDb250aW51b3VzU2Nyb2xsaW5nKXtpZihlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KCk8PTApe3NlbGYuX2NoZWNrQ29udGludW91c1N3YXBMZWZ0KCl9ZWxzZXtzZWxmLl9jaGVja0NvbnRpbnVvdXNTd2FwUmlnaHQoKX19c2VsZi5fdHJpZ2dlcihcInRvdWNoTW92ZWRcIil9LHN0b3BwZWQ6ZnVuY3Rpb24oc2V0dGluZ3Mpe2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnN0b3AodHJ1ZSxmYWxzZSk7c2VsZi5zdG9wQXV0b1Njcm9sbGluZygpO3NlbGYuX3RyaWdnZXIoXCJ0b3VjaFN0b3BwZWRcIil9fSl9ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5iaW5kKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oZSl7aWYoby5ob3RTcG90U2Nyb2xsaW5nKXt2YXIgeD1lLnBhZ2VYLSQodGhpcykub2Zmc2V0KCkubGVmdDtlbC5kYXRhKFwic2Nyb2xsWFBvc1wiLE1hdGgucm91bmQoKHgvZWwuZGF0YShcImhvdFNwb3RXaWR0aFwiKSkqby5ob3RTcG90U2Nyb2xsaW5nU3RlcCkpO2lmKGVsLmRhdGEoXCJzY3JvbGxYUG9zXCIpPT09SW5maW5pdHl8fGVsLmRhdGEoXCJzY3JvbGxYUG9zXCIpPDEpe2VsLmRhdGEoXCJzY3JvbGxYUG9zXCIsMSl9fX0pO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIikuYmluZChcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKCl7aWYoby5ob3RTcG90U2Nyb2xsaW5nKXtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zdG9wKHRydWUsZmFsc2UpO3NlbGYuc3RvcEF1dG9TY3JvbGxpbmcoKTtlbC5kYXRhKFwicmlnaHRTY3JvbGxpbmdJbnRlcnZhbFwiLHNldEludGVydmFsKGZ1bmN0aW9uKCl7aWYoZWwuZGF0YShcInNjcm9sbFhQb3NcIik+MCYmZWwuZGF0YShcImVuYWJsZWRcIikpe2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpKyhlbC5kYXRhKFwic2Nyb2xsWFBvc1wiKSplbC5kYXRhKFwic3BlZWRCb29zdGVyXCIpKSk7aWYoby5tYW51YWxDb250aW51b3VzU2Nyb2xsaW5nKXtzZWxmLl9jaGVja0NvbnRpbnVvdXNTd2FwUmlnaHQoKX1zZWxmLl9zaG93SGlkZUhvdFNwb3RzKCl9fSxvLmhvdFNwb3RTY3JvbGxpbmdJbnRlcnZhbCkpO3NlbGYuX3RyaWdnZXIoXCJtb3VzZU92ZXJSaWdodEhvdFNwb3RcIil9fSk7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5iaW5kKFwibW91c2VvdXRcIixmdW5jdGlvbigpe2lmKG8uaG90U3BvdFNjcm9sbGluZyl7Y2xlYXJJbnRlcnZhbChlbC5kYXRhKFwicmlnaHRTY3JvbGxpbmdJbnRlcnZhbFwiKSk7ZWwuZGF0YShcInNjcm9sbFhQb3NcIiwwKTtpZihvLmVhc2luZ0FmdGVySG90U3BvdFNjcm9sbGluZyYmZWwuZGF0YShcImVuYWJsZWRcIikpe2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLmFuaW1hdGUoe3Njcm9sbExlZnQ6ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpK28uZWFzaW5nQWZ0ZXJIb3RTcG90U2Nyb2xsaW5nRGlzdGFuY2V9LHtkdXJhdGlvbjpvLmVhc2luZ0FmdGVySG90U3BvdFNjcm9sbGluZ0R1cmF0aW9uLGVhc2luZzpvLmVhc2luZ0FmdGVySG90U3BvdFNjcm9sbGluZ0Z1bmN0aW9ufSl9fX0pO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIikuYmluZChcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7ZWwuZGF0YShcInNwZWVkQm9vc3RlclwiLG8uaG90U3BvdE1vdXNlRG93blNwZWVkQm9vc3Rlcil9KTskKFwiYm9keVwiKS5iaW5kKFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7ZWwuZGF0YShcInNwZWVkQm9vc3RlclwiLDEpfSk7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIpLmJpbmQoXCJtb3VzZW1vdmVcIixmdW5jdGlvbihlKXtpZihvLmhvdFNwb3RTY3JvbGxpbmcpe3ZhciB4PWVsLmRhdGEoXCJob3RTcG90V2lkdGhcIiktKGUucGFnZVgtJCh0aGlzKS5vZmZzZXQoKS5sZWZ0KTtlbC5kYXRhKFwic2Nyb2xsWFBvc1wiLE1hdGgucm91bmQoKHgvZWwuZGF0YShcImhvdFNwb3RXaWR0aFwiKSkqby5ob3RTcG90U2Nyb2xsaW5nU3RlcCkpO2lmKGVsLmRhdGEoXCJzY3JvbGxYUG9zXCIpPT09SW5maW5pdHl8fGVsLmRhdGEoXCJzY3JvbGxYUG9zXCIpPDEpe2VsLmRhdGEoXCJzY3JvbGxYUG9zXCIsMSl9fX0pO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5iaW5kKFwibW91c2VvdmVyXCIsZnVuY3Rpb24oKXtpZihvLmhvdFNwb3RTY3JvbGxpbmcpe2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnN0b3AodHJ1ZSxmYWxzZSk7c2VsZi5zdG9wQXV0b1Njcm9sbGluZygpO2VsLmRhdGEoXCJsZWZ0U2Nyb2xsaW5nSW50ZXJ2YWxcIixzZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKGVsLmRhdGEoXCJzY3JvbGxYUG9zXCIpPjAmJmVsLmRhdGEoXCJlbmFibGVkXCIpKXtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KGVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKS0oZWwuZGF0YShcInNjcm9sbFhQb3NcIikqZWwuZGF0YShcInNwZWVkQm9vc3RlclwiKSkpO2lmKG8ubWFudWFsQ29udGludW91c1Njcm9sbGluZyl7c2VsZi5fY2hlY2tDb250aW51b3VzU3dhcExlZnQoKX1zZWxmLl9zaG93SGlkZUhvdFNwb3RzKCl9fSxvLmhvdFNwb3RTY3JvbGxpbmdJbnRlcnZhbCkpO3NlbGYuX3RyaWdnZXIoXCJtb3VzZU92ZXJMZWZ0SG90U3BvdFwiKX19KTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdExlZnRcIikuYmluZChcIm1vdXNlb3V0XCIsZnVuY3Rpb24oKXtpZihvLmhvdFNwb3RTY3JvbGxpbmcpe2NsZWFySW50ZXJ2YWwoZWwuZGF0YShcImxlZnRTY3JvbGxpbmdJbnRlcnZhbFwiKSk7ZWwuZGF0YShcInNjcm9sbFhQb3NcIiwwKTtpZihvLmVhc2luZ0FmdGVySG90U3BvdFNjcm9sbGluZyYmZWwuZGF0YShcImVuYWJsZWRcIikpe2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLmFuaW1hdGUoe3Njcm9sbExlZnQ6ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpLW8uZWFzaW5nQWZ0ZXJIb3RTcG90U2Nyb2xsaW5nRGlzdGFuY2V9LHtkdXJhdGlvbjpvLmVhc2luZ0FmdGVySG90U3BvdFNjcm9sbGluZ0R1cmF0aW9uLGVhc2luZzpvLmVhc2luZ0FmdGVySG90U3BvdFNjcm9sbGluZ0Z1bmN0aW9ufSl9fX0pO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5iaW5kKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtlbC5kYXRhKFwic3BlZWRCb29zdGVyXCIsby5ob3RTcG90TW91c2VEb3duU3BlZWRCb29zdGVyKX0pO2VsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5tb3VzZXdoZWVsKGZ1bmN0aW9uKGV2ZW50LGRlbHRhLGRlbHRhWCxkZWx0YVkpe2lmKGVsLmRhdGEoXCJlbmFibGVkXCIpJiZvLm1vdXNld2hlZWxTY3JvbGxpbmcubGVuZ3RoPjApe3ZhciBwaXhlbHM7aWYoby5tb3VzZXdoZWVsU2Nyb2xsaW5nPT09XCJ2ZXJ0aWNhbFwiJiZkZWx0YVkhPT0wKXtzZWxmLnN0b3BBdXRvU2Nyb2xsaW5nKCk7ZXZlbnQucHJldmVudERlZmF1bHQoKTtwaXhlbHM9TWF0aC5yb3VuZCgoby5tb3VzZXdoZWVsU2Nyb2xsaW5nU3RlcCpkZWx0YVkpKi0xKTtzZWxmLm1vdmUocGl4ZWxzKX1lbHNlIGlmKG8ubW91c2V3aGVlbFNjcm9sbGluZz09PVwiaG9yaXpvbnRhbFwiJiZkZWx0YVghPT0wKXtzZWxmLnN0b3BBdXRvU2Nyb2xsaW5nKCk7ZXZlbnQucHJldmVudERlZmF1bHQoKTtwaXhlbHM9TWF0aC5yb3VuZCgoby5tb3VzZXdoZWVsU2Nyb2xsaW5nU3RlcCpkZWx0YVgpKi0xKTtzZWxmLm1vdmUocGl4ZWxzKX1lbHNlIGlmKG8ubW91c2V3aGVlbFNjcm9sbGluZz09PVwiYWxsRGlyZWN0aW9uc1wiKXtzZWxmLnN0b3BBdXRvU2Nyb2xsaW5nKCk7ZXZlbnQucHJldmVudERlZmF1bHQoKTtwaXhlbHM9TWF0aC5yb3VuZCgoby5tb3VzZXdoZWVsU2Nyb2xsaW5nU3RlcCpkZWx0YSkqLTEpO3NlbGYubW92ZShwaXhlbHMpfX19KTtpZihvLm1vdXNld2hlZWxTY3JvbGxpbmcpe2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5hZGQoZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKSkubW91c2V3aGVlbChmdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKX0pfSQod2luZG93KS5iaW5kKFwicmVzaXplXCIsZnVuY3Rpb24oKXtzZWxmLl9zaG93SGlkZUhvdFNwb3RzKCk7c2VsZi5fdHJpZ2dlcihcIndpbmRvd1Jlc2l6ZWRcIil9KTtpZighKGpRdWVyeS5pc0VtcHR5T2JqZWN0KG8uZ2V0Q29udGVudE9uTG9hZCkpKXtzZWxmW28uZ2V0Q29udGVudE9uTG9hZC5tZXRob2RdKG8uZ2V0Q29udGVudE9uTG9hZC5jb250ZW50LG8uZ2V0Q29udGVudE9uTG9hZC5tYW5pcHVsYXRpb25NZXRob2Qsby5nZXRDb250ZW50T25Mb2FkLmFkZFdoZXJlLG8uZ2V0Q29udGVudE9uTG9hZC5maWx0ZXJUYWcpfWlmKG8uaGlkZGVuT25TdGFydCl7c2VsZi5oaWRlKCl9JCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKXtpZighKG8uaGlkZGVuT25TdGFydCkpe3NlbGYucmVjYWxjdWxhdGVTY3JvbGxhYmxlQXJlYSgpfWlmKChvLmF1dG9TY3JvbGxpbmdNb2RlLmxlbmd0aD4wKSYmIShvLmhpZGRlbk9uU3RhcnQpKXtzZWxmLnN0YXJ0QXV0b1Njcm9sbGluZygpfWlmKG8uYXV0b1Njcm9sbGluZ01vZGUhPT1cImFsd2F5c1wiKXtzd2l0Y2goby52aXNpYmxlSG90U3BvdEJhY2tncm91bmRzKXtjYXNlXCJhbHdheXNcIjpzZWxmLnNob3dIb3RTcG90QmFja2dyb3VuZHMoKTticmVhaztjYXNlXCJvblN0YXJ0XCI6c2VsZi5zaG93SG90U3BvdEJhY2tncm91bmRzKCk7ZWwuZGF0YShcImhpZGVIb3RTcG90QmFja2dyb3VuZHNJbnRlcnZhbFwiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLmhpZGVIb3RTcG90QmFja2dyb3VuZHMoMjUwKX0sby5ob3RTcG90c1Zpc2libGVUaW1lKSk7YnJlYWs7Y2FzZVwiaG92ZXJcIjplbC5tb3VzZWVudGVyKGZ1bmN0aW9uKGV2ZW50KXtpZihvLmhvdFNwb3RTY3JvbGxpbmcpe2V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO3NlbGYuc2hvd0hvdFNwb3RCYWNrZ3JvdW5kcygyNTApfX0pLm1vdXNlbGVhdmUoZnVuY3Rpb24oZXZlbnQpe2lmKG8uaG90U3BvdFNjcm9sbGluZyl7ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7c2VsZi5oaWRlSG90U3BvdEJhY2tncm91bmRzKDI1MCl9fSk7YnJlYWs7ZGVmYXVsdDpicmVha319c2VsZi5fc2hvd0hpZGVIb3RTcG90cygpO3NlbGYuX3RyaWdnZXIoXCJzZXR1cENvbXBsZXRlXCIpfSl9LF9pbml0OmZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpcyxlbD10aGlzLmVsZW1lbnQ7c2VsZi5yZWNhbGN1bGF0ZVNjcm9sbGFibGVBcmVhKCk7c2VsZi5fc2hvd0hpZGVIb3RTcG90cygpO3NlbGYuX3RyaWdnZXIoXCJpbml0aWFsaXphdGlvbkNvbXBsZXRlXCIpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGtleSx2YWx1ZSl7dmFyIHNlbGY9dGhpcyxvPXRoaXMub3B0aW9ucyxlbD10aGlzLmVsZW1lbnQ7b1trZXldPXZhbHVlO2lmKGtleT09PVwiaG90U3BvdFNjcm9sbGluZ1wiKXtpZih2YWx1ZT09PXRydWUpe3NlbGYuX3Nob3dIaWRlSG90U3BvdHMoKX1lbHNle2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5oaWRlKCk7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5oaWRlKCl9fWVsc2UgaWYoa2V5PT09XCJhdXRvU2Nyb2xsaW5nU3RlcFwifHxrZXk9PT1cImVhc2luZ0FmdGVySG90U3BvdFNjcm9sbGluZ0Rpc3RhbmNlXCJ8fGtleT09PVwiZWFzaW5nQWZ0ZXJIb3RTcG90U2Nyb2xsaW5nRHVyYXRpb25cInx8a2V5PT09XCJlYXNpbmdBZnRlck1vdXNlV2hlZWxTY3JvbGxpbmdEdXJhdGlvblwiKXtvW2tleV09cGFyc2VJbnQodmFsdWUsMTApfWVsc2UgaWYoa2V5PT09XCJhdXRvU2Nyb2xsaW5nSW50ZXJ2YWxcIil7b1trZXldPXBhcnNlSW50KHZhbHVlLDEwKTtzZWxmLnN0YXJ0QXV0b1Njcm9sbGluZygpfX0sc2hvd0hvdFNwb3RCYWNrZ3JvdW5kczpmdW5jdGlvbihmYWRlU3BlZWQpe3ZhciBzZWxmPXRoaXMsZWw9dGhpcy5lbGVtZW50LG89dGhpcy5vcHRpb25zO2lmKGZhZGVTcGVlZCE9PXVuZGVmaW5lZCl7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIpLmFkZENsYXNzKG8uc2Nyb2xsaW5nSG90U3BvdExlZnRWaXNpYmxlQ2xhc3MpO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIikuYWRkQ2xhc3Moby5zY3JvbGxpbmdIb3RTcG90UmlnaHRWaXNpYmxlQ2xhc3MpO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5hZGQoZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKSkuZmFkZVRvKGZhZGVTcGVlZCwwLjM1KX1lbHNle2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5hZGRDbGFzcyhvLnNjcm9sbGluZ0hvdFNwb3RMZWZ0VmlzaWJsZUNsYXNzKTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdExlZnRcIikucmVtb3ZlQXR0cihcInN0eWxlXCIpO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIikuYWRkQ2xhc3Moby5zY3JvbGxpbmdIb3RTcG90UmlnaHRWaXNpYmxlQ2xhc3MpO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIikucmVtb3ZlQXR0cihcInN0eWxlXCIpfXNlbGYuX3Nob3dIaWRlSG90U3BvdHMoKX0saGlkZUhvdFNwb3RCYWNrZ3JvdW5kczpmdW5jdGlvbihmYWRlU3BlZWQpe3ZhciBlbD10aGlzLmVsZW1lbnQsbz10aGlzLm9wdGlvbnM7aWYoZmFkZVNwZWVkIT09dW5kZWZpbmVkKXtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdExlZnRcIikuZmFkZVRvKGZhZGVTcGVlZCwwLjAsZnVuY3Rpb24oKXtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdExlZnRcIikucmVtb3ZlQ2xhc3Moby5zY3JvbGxpbmdIb3RTcG90TGVmdFZpc2libGVDbGFzcyl9KTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdFJpZ2h0XCIpLmZhZGVUbyhmYWRlU3BlZWQsMC4wLGZ1bmN0aW9uKCl7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5yZW1vdmVDbGFzcyhvLnNjcm9sbGluZ0hvdFNwb3RSaWdodFZpc2libGVDbGFzcyl9KX1lbHNle2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5yZW1vdmVDbGFzcyhvLnNjcm9sbGluZ0hvdFNwb3RMZWZ0VmlzaWJsZUNsYXNzKS5yZW1vdmVBdHRyKFwic3R5bGVcIik7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5yZW1vdmVDbGFzcyhvLnNjcm9sbGluZ0hvdFNwb3RSaWdodFZpc2libGVDbGFzcykucmVtb3ZlQXR0cihcInN0eWxlXCIpfX0sX3Nob3dIaWRlSG90U3BvdHM6ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzLGVsPXRoaXMuZWxlbWVudCxvPXRoaXMub3B0aW9ucztpZighKG8uaG90U3BvdFNjcm9sbGluZykpe2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5oaWRlKCk7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5oaWRlKCl9ZWxzZXtpZihvLmhvdFNwb3RTY3JvbGxpbmcmJm8uYXV0b1Njcm9sbGluZ01vZGUhPT1cImFsd2F5c1wiJiZlbC5kYXRhKFwiYXV0b1Njcm9sbGluZ0ludGVydmFsXCIpIT09bnVsbCl7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIpLnNob3coKTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdFJpZ2h0XCIpLnNob3coKX1lbHNlIGlmKG8uYXV0b1Njcm9sbGluZ01vZGUhPT1cImFsd2F5c1wiJiZvLmhvdFNwb3RTY3JvbGxpbmcpe2lmKGVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVdpZHRoXCIpPD0oZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuaW5uZXJXaWR0aCgpKSl7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIpLmhpZGUoKTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdFJpZ2h0XCIpLmhpZGUoKX1lbHNlIGlmKGVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKT09PTApe2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5oaWRlKCk7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5zaG93KCk7c2VsZi5fdHJpZ2dlcihcInNjcm9sbGVyTGVmdExpbWl0UmVhY2hlZFwiKTtjbGVhckludGVydmFsKGVsLmRhdGEoXCJsZWZ0U2Nyb2xsaW5nSW50ZXJ2YWxcIikpO2VsLmRhdGEoXCJsZWZ0U2Nyb2xsaW5nSW50ZXJ2YWxcIixudWxsKX1lbHNlIGlmKGVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVdpZHRoXCIpPD0oZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuaW5uZXJXaWR0aCgpK2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKSkpe2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5zaG93KCk7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5oaWRlKCk7c2VsZi5fdHJpZ2dlcihcInNjcm9sbGVyUmlnaHRMaW1pdFJlYWNoZWRcIik7Y2xlYXJJbnRlcnZhbChlbC5kYXRhKFwicmlnaHRTY3JvbGxpbmdJbnRlcnZhbFwiKSk7ZWwuZGF0YShcInJpZ2h0U2Nyb2xsaW5nSW50ZXJ2YWxcIixudWxsKX1lbHNle2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5zaG93KCk7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS5zaG93KCl9fWVsc2V7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIpLmhpZGUoKTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdFJpZ2h0XCIpLmhpZGUoKX19fSxfc2V0RWxlbWVudFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKG1ldGhvZCxlbGVtZW50KXt2YXIgZWw9dGhpcy5lbGVtZW50LG89dGhpcy5vcHRpb25zLHRlbXBTY3JvbGxQb3NpdGlvbj0wO3N3aXRjaChtZXRob2Qpe2Nhc2VcImZpcnN0XCI6ZWwuZGF0YShcInNjcm9sbFhQb3NcIiwwKTtyZXR1cm4gdHJ1ZTtjYXNlXCJzdGFydFwiOmlmKG8uc3RhcnRBdEVsZW1lbnRJZCE9PVwiXCIpe2lmKGVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5oYXMoXCIjXCIrby5zdGFydEF0RWxlbWVudElkKSl7dGVtcFNjcm9sbFBvc2l0aW9uPSQoXCIjXCIrby5zdGFydEF0RWxlbWVudElkKS5wb3NpdGlvbigpLmxlZnQ7ZWwuZGF0YShcInNjcm9sbFhQb3NcIix0ZW1wU2Nyb2xsUG9zaXRpb24pO3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2U7Y2FzZVwibGFzdFwiOmVsLmRhdGEoXCJzY3JvbGxYUG9zXCIsKGVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVdpZHRoXCIpLWVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLmlubmVyV2lkdGgoKSkpO3JldHVybiB0cnVlO2Nhc2VcIm51bWJlclwiOmlmKCEoaXNOYU4oZWxlbWVudCkpKXt0ZW1wU2Nyb2xsUG9zaXRpb249ZWwuZGF0YShcInNjcm9sbGFibGVBcmVhXCIpLmNoaWxkcmVuKG8uY291bnRPbmx5Q2xhc3MpLmVxKGVsZW1lbnQtMSkucG9zaXRpb24oKS5sZWZ0O2VsLmRhdGEoXCJzY3JvbGxYUG9zXCIsdGVtcFNjcm9sbFBvc2l0aW9uKTtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2U7Y2FzZVwiaWRcIjppZihlbGVtZW50Lmxlbmd0aD4wKXtpZihlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuaGFzKFwiI1wiK2VsZW1lbnQpKXt0ZW1wU2Nyb2xsUG9zaXRpb249JChcIiNcIitlbGVtZW50KS5wb3NpdGlvbigpLmxlZnQ7ZWwuZGF0YShcInNjcm9sbFhQb3NcIix0ZW1wU2Nyb2xsUG9zaXRpb24pO3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2U7ZGVmYXVsdDpyZXR1cm4gZmFsc2V9fSxqdW1wVG9FbGVtZW50OmZ1bmN0aW9uKGp1bXBUbyxlbGVtZW50KXt2YXIgc2VsZj10aGlzLGVsPXRoaXMuZWxlbWVudDtpZihlbC5kYXRhKFwiZW5hYmxlZFwiKSl7aWYoc2VsZi5fc2V0RWxlbWVudFNjcm9sbFBvc2l0aW9uKGp1bXBUbyxlbGVtZW50KSl7ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdChlbC5kYXRhKFwic2Nyb2xsWFBvc1wiKSk7c2VsZi5fc2hvd0hpZGVIb3RTcG90cygpO3N3aXRjaChqdW1wVG8pe2Nhc2VcImZpcnN0XCI6c2VsZi5fdHJpZ2dlcihcImp1bXBlZFRvRmlyc3RFbGVtZW50XCIpO2JyZWFrO2Nhc2VcInN0YXJ0XCI6c2VsZi5fdHJpZ2dlcihcImp1bXBlZFRvU3RhcnRFbGVtZW50XCIpO2JyZWFrO2Nhc2VcImxhc3RcIjpzZWxmLl90cmlnZ2VyKFwianVtcGVkVG9MYXN0RWxlbWVudFwiKTticmVhaztjYXNlXCJudW1iZXJcIjpzZWxmLl90cmlnZ2VyKFwianVtcGVkVG9FbGVtZW50TnVtYmVyXCIsbnVsbCx7XCJlbGVtZW50TnVtYmVyXCI6ZWxlbWVudH0pO2JyZWFrO2Nhc2VcImlkXCI6c2VsZi5fdHJpZ2dlcihcImp1bXBlZFRvRWxlbWVudElkXCIsbnVsbCx7XCJlbGVtZW50SWRcIjplbGVtZW50fSk7YnJlYWs7ZGVmYXVsdDpicmVha319fX0sc2Nyb2xsVG9FbGVtZW50OmZ1bmN0aW9uKHNjcm9sbFRvLGVsZW1lbnQpe3ZhciBzZWxmPXRoaXMsZWw9dGhpcy5lbGVtZW50LG89dGhpcy5vcHRpb25zLGF1dG9zY3JvbGxpbmdXYXNSdW5uaW5nPWZhbHNlO2lmKGVsLmRhdGEoXCJlbmFibGVkXCIpKXtpZihzZWxmLl9zZXRFbGVtZW50U2Nyb2xsUG9zaXRpb24oc2Nyb2xsVG8sZWxlbWVudCkpe2lmKGVsLmRhdGEoXCJhdXRvU2Nyb2xsaW5nSW50ZXJ2YWxcIikhPT1udWxsKXtzZWxmLnN0b3BBdXRvU2Nyb2xsaW5nKCk7YXV0b3Njcm9sbGluZ1dhc1J1bm5pbmc9dHJ1ZX1lbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zdG9wKHRydWUsZmFsc2UpO2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLmFuaW1hdGUoe3Njcm9sbExlZnQ6ZWwuZGF0YShcInNjcm9sbFhQb3NcIil9LHtkdXJhdGlvbjpvLnNjcm9sbFRvQW5pbWF0aW9uRHVyYXRpb24sZWFzaW5nOm8uc2Nyb2xsVG9FYXNpbmdGdW5jdGlvbixjb21wbGV0ZTpmdW5jdGlvbigpe2lmKGF1dG9zY3JvbGxpbmdXYXNSdW5uaW5nKXtzZWxmLnN0YXJ0QXV0b1Njcm9sbGluZygpfXNlbGYuX3Nob3dIaWRlSG90U3BvdHMoKTtzd2l0Y2goc2Nyb2xsVG8pe2Nhc2VcImZpcnN0XCI6c2VsZi5fdHJpZ2dlcihcInNjcm9sbGVkVG9GaXJzdEVsZW1lbnRcIik7YnJlYWs7Y2FzZVwic3RhcnRcIjpzZWxmLl90cmlnZ2VyKFwic2Nyb2xsZWRUb1N0YXJ0RWxlbWVudFwiKTticmVhaztjYXNlXCJsYXN0XCI6c2VsZi5fdHJpZ2dlcihcInNjcm9sbGVkVG9MYXN0RWxlbWVudFwiKTticmVhaztjYXNlXCJudW1iZXJcIjpzZWxmLl90cmlnZ2VyKFwic2Nyb2xsZWRUb0VsZW1lbnROdW1iZXJcIixudWxsLHtcImVsZW1lbnROdW1iZXJcIjplbGVtZW50fSk7YnJlYWs7Y2FzZVwiaWRcIjpzZWxmLl90cmlnZ2VyKFwic2Nyb2xsZWRUb0VsZW1lbnRJZFwiLG51bGwse1wiZWxlbWVudElkXCI6ZWxlbWVudH0pO2JyZWFrO2RlZmF1bHQ6YnJlYWt9fX0pfX19LG1vdmU6ZnVuY3Rpb24ocGl4ZWxzKXt2YXIgc2VsZj10aGlzLGVsPXRoaXMuZWxlbWVudCxvPXRoaXMub3B0aW9ucztlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zdG9wKHRydWUsdHJ1ZSk7aWYoKHBpeGVsczwwJiZlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KCk+MCl8fChwaXhlbHM+MCYmZWwuZGF0YShcInNjcm9sbGFibGVBcmVhV2lkdGhcIik+KGVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLmlubmVyV2lkdGgoKStlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KCkpKXx8by5tYW51YWxDb250aW51b3VzU2Nyb2xsaW5nKXt2YXIgc2Nyb2xsTGVuZ3RoPWVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS53aWR0aCgpLWVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLndpZHRoKCk7dmFyIHNPZmZzZXQ9ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpK3BpeGVscztpZihzT2Zmc2V0PDApe3ZhciBmb3JjZVN3YXBFbGVtZW50TGVmdD1mdW5jdGlvbigpe2VsLmRhdGEoXCJzd2FwcGVkRWxlbWVudFwiLGVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5jaGlsZHJlbihcIjpsYXN0XCIpLmRldGFjaCgpKTtlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikucHJlcGVuZChlbC5kYXRhKFwic3dhcHBlZEVsZW1lbnRcIikpO2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpK2VsLmRhdGEoXCJzd2FwcGVkRWxlbWVudFwiKS5vdXRlcldpZHRoKHRydWUpKX07d2hpbGUoc09mZnNldDwwKXtmb3JjZVN3YXBFbGVtZW50TGVmdCgpO3NPZmZzZXQ9ZWwuZGF0YShcInNjcm9sbGFibGVBcmVhXCIpLmNoaWxkcmVuKFwiOmZpcnN0XCIpLm91dGVyV2lkdGgodHJ1ZSkrc09mZnNldH19ZWxzZSBpZihzT2Zmc2V0LXNjcm9sbExlbmd0aD4wKXt2YXIgZm9yY2VTd2FwRWxlbWVudFJpZ2h0PWZ1bmN0aW9uKCl7ZWwuZGF0YShcInN3YXBwZWRFbGVtZW50XCIsZWwuZGF0YShcInNjcm9sbGFibGVBcmVhXCIpLmNoaWxkcmVuKFwiOmZpcnN0XCIpLmRldGFjaCgpKTtlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuYXBwZW5kKGVsLmRhdGEoXCJzd2FwcGVkRWxlbWVudFwiKSk7dmFyIHdyYXBwZXJMZWZ0PWVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKTtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KHdyYXBwZXJMZWZ0LWVsLmRhdGEoXCJzd2FwcGVkRWxlbWVudFwiKS5vdXRlcldpZHRoKHRydWUpKX07d2hpbGUoc09mZnNldC1zY3JvbGxMZW5ndGg+MCl7Zm9yY2VTd2FwRWxlbWVudFJpZ2h0KCk7c09mZnNldD1zT2Zmc2V0LWVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5jaGlsZHJlbihcIjpsYXN0XCIpLm91dGVyV2lkdGgodHJ1ZSl9fWlmKG8uZWFzaW5nQWZ0ZXJNb3VzZVdoZWVsU2Nyb2xsaW5nKXtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5hbmltYXRlKHtzY3JvbGxMZWZ0OmVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKStwaXhlbHN9LHtkdXJhdGlvbjpvLmVhc2luZ0FmdGVyTW91c2VXaGVlbFNjcm9sbGluZ0R1cmF0aW9uLGVhc2luZzpvLmVhc2luZ0FmdGVyTW91c2VXaGVlbEZ1bmN0aW9uLGNvbXBsZXRlOmZ1bmN0aW9uKCl7c2VsZi5fc2hvd0hpZGVIb3RTcG90cygpO2lmKG8ubWFudWFsQ29udGludW91c1Njcm9sbGluZyl7aWYocGl4ZWxzPjApe3NlbGYuX2NoZWNrQ29udGludW91c1N3YXBSaWdodCgpfWVsc2V7c2VsZi5fY2hlY2tDb250aW51b3VzU3dhcExlZnQoKX19fX0pfWVsc2V7ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdChlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KCkrcGl4ZWxzKTtzZWxmLl9zaG93SGlkZUhvdFNwb3RzKCk7aWYoby5tYW51YWxDb250aW51b3VzU2Nyb2xsaW5nKXtpZihwaXhlbHM+MCl7c2VsZi5fY2hlY2tDb250aW51b3VzU3dhcFJpZ2h0KCl9ZWxzZXtzZWxmLl9jaGVja0NvbnRpbnVvdXNTd2FwTGVmdCgpfX19fX0sZ2V0RmxpY2tyQ29udGVudDpmdW5jdGlvbihjb250ZW50LG1hbmlwdWxhdGlvbk1ldGhvZCl7dmFyIHNlbGY9dGhpcyxlbD10aGlzLmVsZW1lbnQ7JC5nZXRKU09OKGNvbnRlbnQsZnVuY3Rpb24oZGF0YSl7dmFyIGZsaWNrckltYWdlU2l6ZXM9W3tzaXplOlwic21hbGwgc3F1YXJlXCIscGl4ZWxzOjc1LGxldHRlcjpcIl9zXCJ9LHtzaXplOlwidGh1bWJuYWlsXCIscGl4ZWxzOjEwMCxsZXR0ZXI6XCJfdFwifSx7c2l6ZTpcInNtYWxsXCIscGl4ZWxzOjI0MCxsZXR0ZXI6XCJfbVwifSx7c2l6ZTpcIm1lZGl1bVwiLHBpeGVsczo1MDAsbGV0dGVyOlwiXCJ9LHtzaXplOlwibWVkaXVtIDY0MFwiLHBpeGVsczo2NDAsbGV0dGVyOlwiX3pcIn0se3NpemU6XCJsYXJnZVwiLHBpeGVsczoxMDI0LGxldHRlcjpcIl9iXCJ9XTt2YXIgbG9hZGVkRmxpY2tySW1hZ2VzPVtdO3ZhciBpbWFnZUlkU3RyaW5nQnVmZmVyPVtdO3ZhciBzdGFydGluZ0luZGV4O3ZhciBudW1iZXJPZkZsaWNrckl0ZW1zPWRhdGEuaXRlbXMubGVuZ3RoO3ZhciBsb2FkZWRGbGlja3JJbWFnZXNDb3VudGVyPTA7aWYoZWwuZGF0YShcInNjcm9sbGFibGVBcmVhSGVpZ2h0XCIpPD03NSl7c3RhcnRpbmdJbmRleD0wfWVsc2UgaWYoZWwuZGF0YShcInNjcm9sbGFibGVBcmVhSGVpZ2h0XCIpPD0xMDApe3N0YXJ0aW5nSW5kZXg9MX1lbHNlIGlmKGVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYUhlaWdodFwiKTw9MjQwKXtzdGFydGluZ0luZGV4PTJ9ZWxzZSBpZihlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFIZWlnaHRcIik8PTUwMCl7c3RhcnRpbmdJbmRleD0zfWVsc2UgaWYoZWwuZGF0YShcInNjcm9sbGFibGVBcmVhSGVpZ2h0XCIpPD02NDApe3N0YXJ0aW5nSW5kZXg9NH1lbHNle3N0YXJ0aW5nSW5kZXg9NX0kLmVhY2goZGF0YS5pdGVtcyxmdW5jdGlvbihpbmRleCxpdGVtKXtsb2FkRmxpY2tySW1hZ2UoaXRlbSxzdGFydGluZ0luZGV4KX0pO2Z1bmN0aW9uIGxvYWRGbGlja3JJbWFnZShpdGVtLHNpemVJbmRleCl7dmFyIHBhdGg9aXRlbS5tZWRpYS5tO3ZhciBpbWdTcmM9cGF0aC5yZXBsYWNlKFwiX21cIixmbGlja3JJbWFnZVNpemVzW3NpemVJbmRleF0ubGV0dGVyKTt2YXIgdGVtcEltZz0kKFwiPGltZyAvPlwiKS5hdHRyKFwic3JjXCIsaW1nU3JjKTt0ZW1wSW1nLmxvYWQoZnVuY3Rpb24oKXtpZih0aGlzLmhlaWdodDxlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFIZWlnaHRcIikpe2lmKChzaXplSW5kZXgrMSk8ZmxpY2tySW1hZ2VTaXplcy5sZW5ndGgpe2xvYWRGbGlja3JJbWFnZShpdGVtLHNpemVJbmRleCsxKX1lbHNle2FkZEltYWdlVG9Mb2FkZWRJbWFnZXModGhpcyl9fWVsc2V7YWRkSW1hZ2VUb0xvYWRlZEltYWdlcyh0aGlzKX1pZihsb2FkZWRGbGlja3JJbWFnZXNDb3VudGVyPT09bnVtYmVyT2ZGbGlja3JJdGVtcyl7c3dpdGNoKG1hbmlwdWxhdGlvbk1ldGhvZCl7Y2FzZVwiYWRkRmlyc3RcIjplbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuY2hpbGRyZW4oXCI6Zmlyc3RcIikuYmVmb3JlKGxvYWRlZEZsaWNrckltYWdlcyk7YnJlYWs7Y2FzZVwiYWRkTGFzdFwiOmVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5jaGlsZHJlbihcIjpsYXN0XCIpLmFmdGVyKGxvYWRlZEZsaWNrckltYWdlcyk7YnJlYWs7ZGVmYXVsdDplbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuaHRtbChsb2FkZWRGbGlja3JJbWFnZXMpO2JyZWFrfXNlbGYucmVjYWxjdWxhdGVTY3JvbGxhYmxlQXJlYSgpO3NlbGYuX3Nob3dIaWRlSG90U3BvdHMoKTtzZWxmLl90cmlnZ2VyKFwiYWRkZWRGbGlja3JDb250ZW50XCIsbnVsbCx7XCJhZGRlZEVsZW1lbnRJZHNcIjppbWFnZUlkU3RyaW5nQnVmZmVyfSl9fSl9ZnVuY3Rpb24gYWRkSW1hZ2VUb0xvYWRlZEltYWdlcyhpbWFnZU9iail7dmFyIHdpZHRoU2NhbGluZ0ZhY3Rvcj1lbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFIZWlnaHRcIikvaW1hZ2VPYmouaGVpZ2h0O3ZhciB0ZW1wV2lkdGg9TWF0aC5yb3VuZChpbWFnZU9iai53aWR0aCp3aWR0aFNjYWxpbmdGYWN0b3IpO3ZhciB0ZW1wSWRBcnI9JChpbWFnZU9iaikuYXR0cihcInNyY1wiKS5zcGxpdChcIi9cIik7dmFyIGxhc3RFbGVtSW5kZXg9KHRlbXBJZEFyci5sZW5ndGgtMSk7dGVtcElkQXJyPXRlbXBJZEFycltsYXN0RWxlbUluZGV4XS5zcGxpdChcIi5cIik7JChpbWFnZU9iaikuYXR0cihcImlkXCIsdGVtcElkQXJyWzBdKTskKGltYWdlT2JqKS5jc3Moe1wiaGVpZ2h0XCI6ZWwuZGF0YShcInNjcm9sbGFibGVBcmVhSGVpZ2h0XCIpLFwid2lkdGhcIjp0ZW1wV2lkdGh9KTtpbWFnZUlkU3RyaW5nQnVmZmVyLnB1c2godGVtcElkQXJyWzBdKTtsb2FkZWRGbGlja3JJbWFnZXMucHVzaChpbWFnZU9iaik7bG9hZGVkRmxpY2tySW1hZ2VzQ291bnRlcisrfX0pfSxnZXRBamF4Q29udGVudDpmdW5jdGlvbihjb250ZW50LG1hbmlwdWxhdGlvbk1ldGhvZCxmaWx0ZXJUYWcpe3ZhciBzZWxmPXRoaXMsZWw9dGhpcy5lbGVtZW50OyQuYWpheFNldHVwKHtjYWNoZTpmYWxzZX0pOyQuZ2V0KGNvbnRlbnQsZnVuY3Rpb24oZGF0YSl7dmFyIGZpbHRlcmVkQ29udGVudDtpZihmaWx0ZXJUYWchPT11bmRlZmluZWQpe2lmKGZpbHRlclRhZy5sZW5ndGg+MCl7ZmlsdGVyZWRDb250ZW50PSQoXCI8ZGl2PlwiKS5odG1sKGRhdGEpLmZpbmQoZmlsdGVyVGFnKX1lbHNle2ZpbHRlcmVkQ29udGVudD1jb250ZW50fX1lbHNle2ZpbHRlcmVkQ29udGVudD1kYXRhfXN3aXRjaChtYW5pcHVsYXRpb25NZXRob2Qpe2Nhc2VcImFkZEZpcnN0XCI6ZWwuZGF0YShcInNjcm9sbGFibGVBcmVhXCIpLmNoaWxkcmVuKFwiOmZpcnN0XCIpLmJlZm9yZShmaWx0ZXJlZENvbnRlbnQpO2JyZWFrO2Nhc2VcImFkZExhc3RcIjplbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuY2hpbGRyZW4oXCI6bGFzdFwiKS5hZnRlcihmaWx0ZXJlZENvbnRlbnQpO2JyZWFrO2RlZmF1bHQ6ZWwuZGF0YShcInNjcm9sbGFibGVBcmVhXCIpLmh0bWwoZmlsdGVyZWRDb250ZW50KTticmVha31zZWxmLnJlY2FsY3VsYXRlU2Nyb2xsYWJsZUFyZWEoKTtzZWxmLl9zaG93SGlkZUhvdFNwb3RzKCk7c2VsZi5fdHJpZ2dlcihcImFkZGVkQWpheENvbnRlbnRcIil9KX0sZ2V0SHRtbENvbnRlbnQ6ZnVuY3Rpb24oY29udGVudCxtYW5pcHVsYXRpb25NZXRob2QsZmlsdGVyVGFnKXt2YXIgc2VsZj10aGlzLGVsPXRoaXMuZWxlbWVudDt2YXIgZmlsdGVyZWRDb250ZW50O2lmKGZpbHRlclRhZyE9PXVuZGVmaW5lZCl7aWYoZmlsdGVyVGFnLmxlbmd0aD4wKXtmaWx0ZXJlZENvbnRlbnQ9JChcIjxkaXY+XCIpLmh0bWwoY29udGVudCkuZmluZChmaWx0ZXJUYWcpfWVsc2V7ZmlsdGVyZWRDb250ZW50PWNvbnRlbnR9fWVsc2V7ZmlsdGVyZWRDb250ZW50PWNvbnRlbnR9c3dpdGNoKG1hbmlwdWxhdGlvbk1ldGhvZCl7Y2FzZVwiYWRkRmlyc3RcIjplbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuY2hpbGRyZW4oXCI6Zmlyc3RcIikuYmVmb3JlKGZpbHRlcmVkQ29udGVudCk7YnJlYWs7Y2FzZVwiYWRkTGFzdFwiOmVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5jaGlsZHJlbihcIjpsYXN0XCIpLmFmdGVyKGZpbHRlcmVkQ29udGVudCk7YnJlYWs7ZGVmYXVsdDplbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuaHRtbChmaWx0ZXJlZENvbnRlbnQpO2JyZWFrfXNlbGYucmVjYWxjdWxhdGVTY3JvbGxhYmxlQXJlYSgpO3NlbGYuX3Nob3dIaWRlSG90U3BvdHMoKTtzZWxmLl90cmlnZ2VyKFwiYWRkZWRIdG1sQ29udGVudFwiKX0scmVjYWxjdWxhdGVTY3JvbGxhYmxlQXJlYTpmdW5jdGlvbigpe3ZhciB0ZW1wU2Nyb2xsYWJsZUFyZWFXaWR0aD0wLGZvdW5kU3RhcnRBdEVsZW1lbnQ9ZmFsc2Usbz10aGlzLm9wdGlvbnMsZWw9dGhpcy5lbGVtZW50O2VsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5jaGlsZHJlbihvLmNvdW50T25seUNsYXNzKS5lYWNoKGZ1bmN0aW9uKCl7aWYoKG8uc3RhcnRBdEVsZW1lbnRJZC5sZW5ndGg+MCkmJigoJCh0aGlzKS5hdHRyKFwiaWRcIikpPT09by5zdGFydEF0RWxlbWVudElkKSl7ZWwuZGF0YShcInN0YXJ0aW5nUG9zaXRpb25cIix0ZW1wU2Nyb2xsYWJsZUFyZWFXaWR0aCk7Zm91bmRTdGFydEF0RWxlbWVudD10cnVlfXRlbXBTY3JvbGxhYmxlQXJlYVdpZHRoPXRlbXBTY3JvbGxhYmxlQXJlYVdpZHRoKyQodGhpcykub3V0ZXJXaWR0aCh0cnVlKX0pO2lmKCEoZm91bmRTdGFydEF0RWxlbWVudCkpe2VsLmRhdGEoXCJzdGFydEF0RWxlbWVudElkXCIsXCJcIil9ZWwuZGF0YShcInNjcm9sbGFibGVBcmVhV2lkdGhcIix0ZW1wU2Nyb2xsYWJsZUFyZWFXaWR0aCk7ZWwuZGF0YShcInNjcm9sbGFibGVBcmVhXCIpLndpZHRoKGVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVdpZHRoXCIpKTtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KGVsLmRhdGEoXCJzdGFydGluZ1Bvc2l0aW9uXCIpKTtlbC5kYXRhKFwic2Nyb2xsWFBvc1wiLGVsLmRhdGEoXCJzdGFydGluZ1Bvc2l0aW9uXCIpKX0sZ2V0U2Nyb2xsZXJPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgZWw9dGhpcy5lbGVtZW50O3JldHVybiBlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KCl9LHN0b3BBdXRvU2Nyb2xsaW5nOmZ1bmN0aW9uKCl7dmFyIHNlbGY9dGhpcyxlbD10aGlzLmVsZW1lbnQ7aWYoZWwuZGF0YShcImF1dG9TY3JvbGxpbmdJbnRlcnZhbFwiKSE9PW51bGwpe2NsZWFySW50ZXJ2YWwoZWwuZGF0YShcImF1dG9TY3JvbGxpbmdJbnRlcnZhbFwiKSk7ZWwuZGF0YShcImF1dG9TY3JvbGxpbmdJbnRlcnZhbFwiLG51bGwpO3NlbGYuX3Nob3dIaWRlSG90U3BvdHMoKTtzZWxmLl90cmlnZ2VyKFwiYXV0b1Njcm9sbGluZ1N0b3BwZWRcIil9fSxzdGFydEF1dG9TY3JvbGxpbmc6ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzLGVsPXRoaXMuZWxlbWVudCxvPXRoaXMub3B0aW9ucztpZihlbC5kYXRhKFwiZW5hYmxlZFwiKSl7c2VsZi5fc2hvd0hpZGVIb3RTcG90cygpO2NsZWFySW50ZXJ2YWwoZWwuZGF0YShcImF1dG9TY3JvbGxpbmdJbnRlcnZhbFwiKSk7ZWwuZGF0YShcImF1dG9TY3JvbGxpbmdJbnRlcnZhbFwiLG51bGwpO3NlbGYuX3RyaWdnZXIoXCJhdXRvU2Nyb2xsaW5nU3RhcnRlZFwiKTtlbC5kYXRhKFwiYXV0b1Njcm9sbGluZ0ludGVydmFsXCIsc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZighKGVsLmRhdGEoXCJ2aXNpYmxlXCIpKXx8KGVsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVdpZHRoXCIpPD0oZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuaW5uZXJXaWR0aCgpKSkpe2NsZWFySW50ZXJ2YWwoZWwuZGF0YShcImF1dG9TY3JvbGxpbmdJbnRlcnZhbFwiKSk7ZWwuZGF0YShcImF1dG9TY3JvbGxpbmdJbnRlcnZhbFwiLG51bGwpfWVsc2V7ZWwuZGF0YShcInByZXZpb3VzU2Nyb2xsTGVmdFwiLGVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKSk7c3dpdGNoKG8uYXV0b1Njcm9sbGluZ0RpcmVjdGlvbil7Y2FzZVwicmlnaHRcIjplbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KGVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKStvLmF1dG9TY3JvbGxpbmdTdGVwKTtpZihlbC5kYXRhKFwicHJldmlvdXNTY3JvbGxMZWZ0XCIpPT09ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpKXtzZWxmLl90cmlnZ2VyKFwiYXV0b1Njcm9sbGluZ1JpZ2h0TGltaXRSZWFjaGVkXCIpO3NlbGYuc3RvcEF1dG9TY3JvbGxpbmcoKX1icmVhaztjYXNlXCJsZWZ0XCI6ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdChlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KCktby5hdXRvU2Nyb2xsaW5nU3RlcCk7aWYoZWwuZGF0YShcInByZXZpb3VzU2Nyb2xsTGVmdFwiKT09PWVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKSl7c2VsZi5fdHJpZ2dlcihcImF1dG9TY3JvbGxpbmdMZWZ0TGltaXRSZWFjaGVkXCIpO3NlbGYuc3RvcEF1dG9TY3JvbGxpbmcoKX1icmVhaztjYXNlXCJiYWNrQW5kRm9ydGhcIjppZihlbC5kYXRhKFwicGluZ1BvbmdEaXJlY3Rpb25cIik9PT1cInJpZ2h0XCIpe2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpKyhvLmF1dG9TY3JvbGxpbmdTdGVwKSl9ZWxzZXtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KGVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKS0oby5hdXRvU2Nyb2xsaW5nU3RlcCkpfWlmKGVsLmRhdGEoXCJwcmV2aW91c1Njcm9sbExlZnRcIik9PT1lbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KCkpe2lmKGVsLmRhdGEoXCJwaW5nUG9uZ0RpcmVjdGlvblwiKT09PVwicmlnaHRcIil7ZWwuZGF0YShcInBpbmdQb25nRGlyZWN0aW9uXCIsXCJsZWZ0XCIpO3NlbGYuX3RyaWdnZXIoXCJhdXRvU2Nyb2xsaW5nUmlnaHRMaW1pdFJlYWNoZWRcIil9ZWxzZXtlbC5kYXRhKFwicGluZ1BvbmdEaXJlY3Rpb25cIixcInJpZ2h0XCIpO3NlbGYuX3RyaWdnZXIoXCJhdXRvU2Nyb2xsaW5nTGVmdExpbWl0UmVhY2hlZFwiKX19YnJlYWs7Y2FzZVwiZW5kbGVzc0xvb3BSaWdodFwiOmVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpK28uYXV0b1Njcm9sbGluZ1N0ZXApO3NlbGYuX2NoZWNrQ29udGludW91c1N3YXBSaWdodCgpO2JyZWFrO2Nhc2VcImVuZGxlc3NMb29wTGVmdFwiOmVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpLW8uYXV0b1Njcm9sbGluZ1N0ZXApO3NlbGYuX2NoZWNrQ29udGludW91c1N3YXBMZWZ0KCk7YnJlYWs7ZGVmYXVsdDpicmVha319fSxvLmF1dG9TY3JvbGxpbmdJbnRlcnZhbCkpfX0sX2NoZWNrQ29udGludW91c1N3YXBSaWdodDpmdW5jdGlvbigpe3ZhciBlbD10aGlzLmVsZW1lbnQsbz10aGlzLm9wdGlvbnM7aWYoZWwuZGF0YShcImdldE5leHRFbGVtZW50V2lkdGhcIikpe2lmKChvLnN0YXJ0QXRFbGVtZW50SWQubGVuZ3RoPjApJiYoZWwuZGF0YShcInN0YXJ0QXRFbGVtZW50SGFzTm90UGFzc2VkXCIpKSl7ZWwuZGF0YShcInN3YXBBdFwiLCQoXCIjXCIrby5zdGFydEF0RWxlbWVudElkKS5vdXRlcldpZHRoKHRydWUpKTtlbC5kYXRhKFwic3RhcnRBdEVsZW1lbnRIYXNOb3RQYXNzZWRcIixmYWxzZSl9ZWxzZXtlbC5kYXRhKFwic3dhcEF0XCIsZWwuZGF0YShcInNjcm9sbGFibGVBcmVhXCIpLmNoaWxkcmVuKFwiOmZpcnN0XCIpLm91dGVyV2lkdGgodHJ1ZSkpfWVsLmRhdGEoXCJnZXROZXh0RWxlbWVudFdpZHRoXCIsZmFsc2UpfWlmKGVsLmRhdGEoXCJzd2FwQXRcIik8PWVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKSl7ZWwuZGF0YShcInN3YXBwZWRFbGVtZW50XCIsZWwuZGF0YShcInNjcm9sbGFibGVBcmVhXCIpLmNoaWxkcmVuKFwiOmZpcnN0XCIpLmRldGFjaCgpKTtlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuYXBwZW5kKGVsLmRhdGEoXCJzd2FwcGVkRWxlbWVudFwiKSk7dmFyIHdyYXBwZXJMZWZ0PWVsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLnNjcm9sbExlZnQoKTtlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KHdyYXBwZXJMZWZ0LWVsLmRhdGEoXCJzd2FwcGVkRWxlbWVudFwiKS5vdXRlcldpZHRoKHRydWUpKTtlbC5kYXRhKFwiZ2V0TmV4dEVsZW1lbnRXaWR0aFwiLHRydWUpfX0sX2NoZWNrQ29udGludW91c1N3YXBMZWZ0OmZ1bmN0aW9uKCl7dmFyIGVsPXRoaXMuZWxlbWVudCxvPXRoaXMub3B0aW9ucztpZihlbC5kYXRhKFwiZ2V0TmV4dEVsZW1lbnRXaWR0aFwiKSl7aWYoKG8uc3RhcnRBdEVsZW1lbnRJZC5sZW5ndGg+MCkmJihlbC5kYXRhKFwic3RhcnRBdEVsZW1lbnRIYXNOb3RQYXNzZWRcIikpKXtlbC5kYXRhKFwic3dhcEF0XCIsJChcIiNcIitvLnN0YXJ0QXRFbGVtZW50SWQpLm91dGVyV2lkdGgodHJ1ZSkpO2VsLmRhdGEoXCJzdGFydEF0RWxlbWVudEhhc05vdFBhc3NlZFwiLGZhbHNlKX1lbHNle2VsLmRhdGEoXCJzd2FwQXRcIixlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikuY2hpbGRyZW4oXCI6Zmlyc3RcIikub3V0ZXJXaWR0aCh0cnVlKSl9ZWwuZGF0YShcImdldE5leHRFbGVtZW50V2lkdGhcIixmYWxzZSl9aWYoZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdCgpPT09MCl7ZWwuZGF0YShcInN3YXBwZWRFbGVtZW50XCIsZWwuZGF0YShcInNjcm9sbGFibGVBcmVhXCIpLmNoaWxkcmVuKFwiOmxhc3RcIikuZGV0YWNoKCkpO2VsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5wcmVwZW5kKGVsLmRhdGEoXCJzd2FwcGVkRWxlbWVudFwiKSk7ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikuc2Nyb2xsTGVmdChlbC5kYXRhKFwic2Nyb2xsV3JhcHBlclwiKS5zY3JvbGxMZWZ0KCkrZWwuZGF0YShcInN3YXBwZWRFbGVtZW50XCIpLm91dGVyV2lkdGgodHJ1ZSkpO2VsLmRhdGEoXCJnZXROZXh0RWxlbWVudFdpZHRoXCIsdHJ1ZSl9fSxyZXN0b3JlT3JpZ2luYWxFbGVtZW50czpmdW5jdGlvbigpe3ZhciBzZWxmPXRoaXMsZWw9dGhpcy5lbGVtZW50O2VsLmRhdGEoXCJzY3JvbGxhYmxlQXJlYVwiKS5odG1sKGVsLmRhdGEoXCJvcmlnaW5hbEVsZW1lbnRzXCIpKTtzZWxmLnJlY2FsY3VsYXRlU2Nyb2xsYWJsZUFyZWEoKTtzZWxmLmp1bXBUb0VsZW1lbnQoXCJmaXJzdFwiKX0sc2hvdzpmdW5jdGlvbigpe3ZhciBlbD10aGlzLmVsZW1lbnQ7ZWwuZGF0YShcInZpc2libGVcIix0cnVlKTtlbC5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oKXt2YXIgZWw9dGhpcy5lbGVtZW50O2VsLmRhdGEoXCJ2aXNpYmxlXCIsZmFsc2UpO2VsLmhpZGUoKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGVsPXRoaXMuZWxlbWVudDtpZih0aGlzLm9wdGlvbnMudG91Y2hTY3JvbGxpbmcpe2VsLmRhdGEoXCJzY3JvbGxXcmFwcGVyXCIpLmtpbmV0aWMoJ2F0dGFjaCcpfWVsLmRhdGEoXCJlbmFibGVkXCIsdHJ1ZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzLGVsPXRoaXMuZWxlbWVudDtzZWxmLnN0b3BBdXRvU2Nyb2xsaW5nKCk7Y2xlYXJJbnRlcnZhbChlbC5kYXRhKFwicmlnaHRTY3JvbGxpbmdJbnRlcnZhbFwiKSk7Y2xlYXJJbnRlcnZhbChlbC5kYXRhKFwibGVmdFNjcm9sbGluZ0ludGVydmFsXCIpKTtjbGVhckludGVydmFsKGVsLmRhdGEoXCJoaWRlSG90U3BvdEJhY2tncm91bmRzSW50ZXJ2YWxcIikpO2lmKHRoaXMub3B0aW9ucy50b3VjaFNjcm9sbGluZyl7ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikua2luZXRpYygnZGV0YWNoJyl9ZWwuZGF0YShcImVuYWJsZWRcIixmYWxzZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgc2VsZj10aGlzLGVsPXRoaXMuZWxlbWVudDtzZWxmLnN0b3BBdXRvU2Nyb2xsaW5nKCk7Y2xlYXJJbnRlcnZhbChlbC5kYXRhKFwicmlnaHRTY3JvbGxpbmdJbnRlcnZhbFwiKSk7Y2xlYXJJbnRlcnZhbChlbC5kYXRhKFwibGVmdFNjcm9sbGluZ0ludGVydmFsXCIpKTtjbGVhckludGVydmFsKGVsLmRhdGEoXCJoaWRlSG90U3BvdEJhY2tncm91bmRzSW50ZXJ2YWxcIikpO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIikudW5iaW5kKFwibW91c2VvdmVyXCIpO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90UmlnaHRcIikudW5iaW5kKFwibW91c2VvdXRcIik7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RSaWdodFwiKS51bmJpbmQoXCJtb3VzZWRvd25cIik7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIpLnVuYmluZChcIm1vdXNlb3ZlclwiKTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdExlZnRcIikudW5iaW5kKFwibW91c2VvdXRcIik7ZWwuZGF0YShcInNjcm9sbGluZ0hvdFNwb3RMZWZ0XCIpLnVuYmluZChcIm1vdXNlZG93blwiKTtlbC51bmJpbmQoXCJtb3VzZW50ZXJcIik7ZWwudW5iaW5kKFwibW91c2VsZWF2ZVwiKTtlbC5kYXRhKFwic2Nyb2xsaW5nSG90U3BvdFJpZ2h0XCIpLnJlbW92ZSgpO2VsLmRhdGEoXCJzY3JvbGxpbmdIb3RTcG90TGVmdFwiKS5yZW1vdmUoKTtlbC5kYXRhKFwic2Nyb2xsYWJsZUFyZWFcIikucmVtb3ZlKCk7ZWwuZGF0YShcInNjcm9sbFdyYXBwZXJcIikucmVtb3ZlKCk7ZWwuaHRtbChlbC5kYXRhKFwib3JpZ2luYWxFbGVtZW50c1wiKSk7JC5XaWRnZXQucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfSkoalF1ZXJ5KTtcclxuXG59KS5jYWxsKGdsb2JhbCwgbW9kdWxlLCB1bmRlZmluZWQpO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbihmdW5jdGlvbiBicm93c2VyaWZ5U2hpbShtb2R1bGUsIGV4cG9ydHMsIGRlZmluZSwgYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18pIHtcbi8vIFNuYXAuc3ZnIDAuMy4wXG4vLyBcbi8vIENvcHlyaWdodCAoYykgMjAxMyBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIFxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy8gXG4vLyBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vIFxuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbi8vIFxuLy8gYnVpbGQ6IDIwMTQtMDYtMDNcbiFmdW5jdGlvbihhKXt2YXIgYixjLGQ9XCIwLjQuMlwiLGU9XCJoYXNPd25Qcm9wZXJ0eVwiLGY9L1tcXC5cXC9dLyxnPS9cXHMqLFxccyovLGg9XCIqXCIsaT1mdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9LGo9e246e319LGs9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMubGVuZ3RoO2I+YTthKyspaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXNbYV0pcmV0dXJuIHRoaXNbYV19LGw9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sZW5ndGg7LS1hOylpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpc1thXSlyZXR1cm4gdGhpc1thXX0sbT1mdW5jdGlvbihhLGQpe2E9U3RyaW5nKGEpO3ZhciBlLGY9YyxnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxoPW0ubGlzdGVuZXJzKGEpLGo9MCxuPVtdLG89e30scD1bXSxxPWI7cC5maXJzdERlZmluZWQ9ayxwLmxhc3REZWZpbmVkPWwsYj1hLGM9MDtmb3IodmFyIHI9MCxzPWgubGVuZ3RoO3M+cjtyKyspXCJ6SW5kZXhcImluIGhbcl0mJihuLnB1c2goaFtyXS56SW5kZXgpLGhbcl0uekluZGV4PDAmJihvW2hbcl0uekluZGV4XT1oW3JdKSk7Zm9yKG4uc29ydChpKTtuW2pdPDA7KWlmKGU9b1tuW2orK11dLHAucHVzaChlLmFwcGx5KGQsZykpLGMpcmV0dXJuIGM9ZixwO2ZvcihyPTA7cz5yO3IrKylpZihlPWhbcl0sXCJ6SW5kZXhcImluIGUpaWYoZS56SW5kZXg9PW5bal0pe2lmKHAucHVzaChlLmFwcGx5KGQsZykpLGMpYnJlYWs7ZG8gaWYoaisrLGU9b1tuW2pdXSxlJiZwLnB1c2goZS5hcHBseShkLGcpKSxjKWJyZWFrO3doaWxlKGUpfWVsc2Ugb1tlLnpJbmRleF09ZTtlbHNlIGlmKHAucHVzaChlLmFwcGx5KGQsZykpLGMpYnJlYWs7cmV0dXJuIGM9ZixiPXEscH07bS5fZXZlbnRzPWosbS5saXN0ZW5lcnM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZyxpLGssbCxtPWEuc3BsaXQoZiksbj1qLG89W25dLHA9W107Zm9yKGU9MCxnPW0ubGVuZ3RoO2c+ZTtlKyspe2ZvcihsPVtdLGk9MCxrPW8ubGVuZ3RoO2s+aTtpKyspZm9yKG49b1tpXS5uLGM9W25bbVtlXV0sbltoXV0sZD0yO2QtLTspYj1jW2RdLGImJihsLnB1c2goYikscD1wLmNvbmNhdChiLmZ8fFtdKSk7bz1sfXJldHVybiBwfSxtLm9uPWZ1bmN0aW9uKGEsYil7aWYoYT1TdHJpbmcoYSksXCJmdW5jdGlvblwiIT10eXBlb2YgYilyZXR1cm4gZnVuY3Rpb24oKXt9O2Zvcih2YXIgYz1hLnNwbGl0KGcpLGQ9MCxlPWMubGVuZ3RoO2U+ZDtkKyspIWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPWEuc3BsaXQoZiksZT1qLGc9MCxoPWQubGVuZ3RoO2g+ZztnKyspZT1lLm4sZT1lLmhhc093blByb3BlcnR5KGRbZ10pJiZlW2RbZ11dfHwoZVtkW2ddXT17bjp7fX0pO2ZvcihlLmY9ZS5mfHxbXSxnPTAsaD1lLmYubGVuZ3RoO2g+ZztnKyspaWYoZS5mW2ddPT1iKXtjPSEwO2JyZWFrfSFjJiZlLmYucHVzaChiKX0oY1tkXSk7cmV0dXJuIGZ1bmN0aW9uKGEpeythPT0rYSYmKGIuekluZGV4PSthKX19LG0uZj1mdW5jdGlvbihhKXt2YXIgYj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXttLmFwcGx5KG51bGwsW2EsbnVsbF0uY29uY2F0KGIpLmNvbmNhdChbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSkpfX0sbS5zdG9wPWZ1bmN0aW9uKCl7Yz0xfSxtLm50PWZ1bmN0aW9uKGEpe3JldHVybiBhP25ldyBSZWdFeHAoXCIoPzpcXFxcLnxcXFxcL3xeKVwiK2ErXCIoPzpcXFxcLnxcXFxcL3wkKVwiKS50ZXN0KGIpOmJ9LG0ubnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGIuc3BsaXQoZil9LG0ub2ZmPW0udW5iaW5kPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIHZvaWQobS5fZXZlbnRzPWo9e246e319KTt2YXIgYz1hLnNwbGl0KGcpO2lmKGMubGVuZ3RoPjEpZm9yKHZhciBkPTAsaT1jLmxlbmd0aDtpPmQ7ZCsrKW0ub2ZmKGNbZF0sYik7ZWxzZXtjPWEuc3BsaXQoZik7dmFyIGssbCxuLGQsaSxvLHAscT1bal07Zm9yKGQ9MCxpPWMubGVuZ3RoO2k+ZDtkKyspZm9yKG89MDtvPHEubGVuZ3RoO28rPW4ubGVuZ3RoLTIpe2lmKG49W28sMV0saz1xW29dLm4sY1tkXSE9aClrW2NbZF1dJiZuLnB1c2goa1tjW2RdXSk7ZWxzZSBmb3IobCBpbiBrKWtbZV0obCkmJm4ucHVzaChrW2xdKTtxLnNwbGljZS5hcHBseShxLG4pfWZvcihkPTAsaT1xLmxlbmd0aDtpPmQ7ZCsrKWZvcihrPXFbZF07ay5uOyl7aWYoYil7aWYoay5mKXtmb3Iobz0wLHA9ay5mLmxlbmd0aDtwPm87bysrKWlmKGsuZltvXT09Yil7ay5mLnNwbGljZShvLDEpO2JyZWFrfSFrLmYubGVuZ3RoJiZkZWxldGUgay5mfWZvcihsIGluIGsubilpZihrLm5bZV0obCkmJmsubltsXS5mKXt2YXIgcj1rLm5bbF0uZjtmb3Iobz0wLHA9ci5sZW5ndGg7cD5vO28rKylpZihyW29dPT1iKXtyLnNwbGljZShvLDEpO2JyZWFrfSFyLmxlbmd0aCYmZGVsZXRlIGsubltsXS5mfX1lbHNle2RlbGV0ZSBrLmY7Zm9yKGwgaW4gay5uKWsubltlXShsKSYmay5uW2xdLmYmJmRlbGV0ZSBrLm5bbF0uZn1rPWsubn19fSxtLm9uY2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe3JldHVybiBtLnVuYmluZChhLGMpLGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gbS5vbihhLGMpfSxtLnZlcnNpb249ZCxtLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJZb3UgYXJlIHJ1bm5pbmcgRXZlIFwiK2R9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW06XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImV2ZVwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG19KTphLmV2ZT1tfSh0aGlzKSxmdW5jdGlvbihhLGIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXZlXCJdLGZ1bmN0aW9uKGMpe3JldHVybiBiKGEsYyl9KTpiKGEsYS5ldmUpfSh0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYil7dmFyIGM9e30sZD1hLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8YS53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGEubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxhLm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGEubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwxNil9LGU9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBcnJheXx8XCJbb2JqZWN0IEFycmF5XVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9LGY9MCxnPVwiTVwiKygrbmV3IERhdGUpLnRvU3RyaW5nKDM2KSxoPWZ1bmN0aW9uKCl7cmV0dXJuIGcrKGYrKykudG9TdHJpbmcoMzYpfSxpPURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0saj1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKG51bGw9PWEpcmV0dXJuIGIuczt2YXIgYz1iLnMtYTtiLmIrPWIuZHVyKmMsYi5CKz1iLmR1cipjLGIucz1hfSxrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIG51bGw9PWE/Yi5zcGQ6dm9pZChiLnNwZD1hKX0sbD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBudWxsPT1hP2IuZHVyOihiLnM9Yi5zKmEvYi5kdXIsdm9pZChiLmR1cj1hKSl9LG09ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2RlbGV0ZSBjW2EuaWRdLGEudXBkYXRlKCksYihcIm1pbmEuc3RvcC5cIithLmlkLGEpfSxuPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnBkaWZ8fChkZWxldGUgY1thLmlkXSxhLnVwZGF0ZSgpLGEucGRpZj1hLmdldCgpLWEuYil9LG89ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EucGRpZiYmKGEuYj1hLmdldCgpLWEucGRpZixkZWxldGUgYS5wZGlmLGNbYS5pZF09YSl9LHA9ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXM7aWYoZShiLnN0YXJ0KSl7YT1bXTtmb3IodmFyIGM9MCxkPWIuc3RhcnQubGVuZ3RoO2Q+YztjKyspYVtjXT0rYi5zdGFydFtjXSsoYi5lbmRbY10tYi5zdGFydFtjXSkqYi5lYXNpbmcoYi5zKX1lbHNlIGE9K2Iuc3RhcnQrKGIuZW5kLWIuc3RhcnQpKmIuZWFzaW5nKGIucyk7Yi5zZXQoYSl9LHE9ZnVuY3Rpb24oKXt2YXIgYT0wO2Zvcih2YXIgZSBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBmPWNbZV0sZz1mLmdldCgpO2ErKyxmLnM9KGctZi5iKS8oZi5kdXIvZi5zcGQpLGYucz49MSYmKGRlbGV0ZSBjW2VdLGYucz0xLGEtLSxmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihcIm1pbmEuZmluaXNoLlwiK2EuaWQsYSl9KX0oZikpLGYudXBkYXRlKCl9YSYmZChxKX0scj1mdW5jdGlvbihhLGIsZSxmLGcsaSxzKXt2YXIgdD17aWQ6aCgpLHN0YXJ0OmEsZW5kOmIsYjplLHM6MCxkdXI6Zi1lLHNwZDoxLGdldDpnLHNldDppLGVhc2luZzpzfHxyLmxpbmVhcixzdGF0dXM6aixzcGVlZDprLGR1cmF0aW9uOmwsc3RvcDptLHBhdXNlOm4scmVzdW1lOm8sdXBkYXRlOnB9O2NbdC5pZF09dDt2YXIgdSx2PTA7Zm9yKHUgaW4gYylpZihjLmhhc093blByb3BlcnR5KHUpJiYodisrLDI9PXYpKWJyZWFrO3JldHVybiAxPT12JiZkKHEpLHR9O3JldHVybiByLnRpbWU9aSxyLmdldEJ5SWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV18fG51bGx9LHIubGluZWFyPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxyLmVhc2VvdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucG93KGEsMS43KX0sci5lYXNlaW49ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucG93KGEsLjQ4KX0sci5lYXNlaW5vdXQ9ZnVuY3Rpb24oYSl7aWYoMT09YSlyZXR1cm4gMTtpZigwPT1hKXJldHVybiAwO3ZhciBiPS40OC1hLzEuMDQsYz1NYXRoLnNxcnQoLjE3MzQrYipiKSxkPWMtYixlPU1hdGgucG93KE1hdGguYWJzKGQpLDEvMykqKDA+ZD8tMToxKSxmPS1jLWIsZz1NYXRoLnBvdyhNYXRoLmFicyhmKSwxLzMpKigwPmY/LTE6MSksaD1lK2crLjU7cmV0dXJuIDMqKDEtaCkqaCpoK2gqaCpofSxyLmJhY2tpbj1mdW5jdGlvbihhKXtpZigxPT1hKXJldHVybiAxO3ZhciBiPTEuNzAxNTg7cmV0dXJuIGEqYSooKGIrMSkqYS1iKX0sci5iYWNrb3V0PWZ1bmN0aW9uKGEpe2lmKDA9PWEpcmV0dXJuIDA7YS09MTt2YXIgYj0xLjcwMTU4O3JldHVybiBhKmEqKChiKzEpKmErYikrMX0sci5lbGFzdGljPWZ1bmN0aW9uKGEpe3JldHVybiBhPT0hIWE/YTpNYXRoLnBvdygyLC0xMCphKSpNYXRoLnNpbigyKihhLS4wNzUpKk1hdGguUEkvLjMpKzF9LHIuYm91bmNlPWZ1bmN0aW9uKGEpe3ZhciBiLGM9Ny41NjI1LGQ9Mi43NTtyZXR1cm4gMS9kPmE/Yj1jKmEqYToyL2Q+YT8oYS09MS41L2QsYj1jKmEqYSsuNzUpOjIuNS9kPmE/KGEtPTIuMjUvZCxiPWMqYSphKy45Mzc1KTooYS09Mi42MjUvZCxiPWMqYSphKy45ODQzNzUpLGJ9LGEubWluYT1yLHJ9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiP2Z1bmN0aW9uKCl7fTpiKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChhLGIpe2lmKGEpe2lmKGEudGFnTmFtZSlyZXR1cm4geShhKTtpZihmKGEsXCJhcnJheVwiKSYmZC5zZXQpcmV0dXJuIGQuc2V0LmFwcGx5KGQsYSk7aWYoYSBpbnN0YW5jZW9mIHUpcmV0dXJuIGE7aWYobnVsbD09YilyZXR1cm4gYT16LmRvYy5xdWVyeVNlbGVjdG9yKGEpLHkoYSl9cmV0dXJuIGE9bnVsbD09YT9cIjEwMCVcIjphLGI9bnVsbD09Yj9cIjEwMCVcIjpiLG5ldyB4KGEsYil9ZnVuY3Rpb24gZShhLGIpe2lmKGIpe2lmKFwiI3RleHRcIj09YSYmKGE9ei5kb2MuY3JlYXRlVGV4dE5vZGUoYi50ZXh0fHxcIlwiKSksXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPWUoYSkpLFwic3RyaW5nXCI9PXR5cGVvZiBiKXJldHVyblwieGxpbms6XCI9PWIuc3Vic3RyaW5nKDAsNik/YS5nZXRBdHRyaWJ1dGVOUyhXLGIuc3Vic3RyaW5nKDYpKTpcInhtbDpcIj09Yi5zdWJzdHJpbmcoMCw0KT9hLmdldEF0dHJpYnV0ZU5TKFgsYi5zdWJzdHJpbmcoNCkpOmEuZ2V0QXR0cmlidXRlKGIpO2Zvcih2YXIgYyBpbiBiKWlmKGJbQV0oYykpe3ZhciBkPUIoYltjXSk7ZD9cInhsaW5rOlwiPT1jLnN1YnN0cmluZygwLDYpP2Euc2V0QXR0cmlidXRlTlMoVyxjLnN1YnN0cmluZyg2KSxkKTpcInhtbDpcIj09Yy5zdWJzdHJpbmcoMCw0KT9hLnNldEF0dHJpYnV0ZU5TKFgsYy5zdWJzdHJpbmcoNCksZCk6YS5zZXRBdHRyaWJ1dGUoYyxkKTphLnJlbW92ZUF0dHJpYnV0ZShjKX19ZWxzZSBhPXouZG9jLmNyZWF0ZUVsZW1lbnROUyhYLGEpO3JldHVybiBhfWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYj1CLnByb3RvdHlwZS50b0xvd2VyQ2FzZS5jYWxsKGIpLFwiZmluaXRlXCI9PWI/aXNGaW5pdGUoYSk6XCJhcnJheVwiPT1iJiYoYSBpbnN0YW5jZW9mIEFycmF5fHxBcnJheS5pc0FycmF5JiZBcnJheS5pc0FycmF5KGEpKT8hMDpcIm51bGxcIj09YiYmbnVsbD09PWF8fGI9PXR5cGVvZiBhJiZudWxsIT09YXx8XCJvYmplY3RcIj09YiYmYT09PU9iamVjdChhKXx8TC5jYWxsKGEpLnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCk9PWJ9ZnVuY3Rpb24gaChhKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhfHxPYmplY3QoYSkhPT1hKXJldHVybiBhO3ZhciBiPW5ldyBhLmNvbnN0cnVjdG9yO2Zvcih2YXIgYyBpbiBhKWFbQV0oYykmJihiW2NdPWgoYVtjXSkpO3JldHVybiBifWZ1bmN0aW9uIGkoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspaWYoYVtjXT09PWIpcmV0dXJuIGEucHVzaChhLnNwbGljZShjLDEpWzBdKX1mdW5jdGlvbiBqKGEsYixjKXtmdW5jdGlvbiBkKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLGY9ZS5qb2luKFwi4pCAXCIpLGc9ZC5jYWNoZT1kLmNhY2hlfHx7fSxoPWQuY291bnQ9ZC5jb3VudHx8W107cmV0dXJuIGdbQV0oZik/KGkoaCxmKSxjP2MoZ1tmXSk6Z1tmXSk6KGgubGVuZ3RoPj0xZTMmJmRlbGV0ZSBnW2guc2hpZnQoKV0saC5wdXNoKGYpLGdbZl09YS5hcHBseShiLGUpLGM/YyhnW2ZdKTpnW2ZdKX1yZXR1cm4gZH1mdW5jdGlvbiBrKGEsYixjLGQsZSxmKXtpZihudWxsPT1lKXt2YXIgZz1hLWMsaD1iLWQ7cmV0dXJuIGd8fGg/KDE4MCsxODAqRS5hdGFuMigtaCwtZykvSSszNjApJTM2MDowfXJldHVybiBrKGEsYixlLGYpLWsoYyxkLGUsZil9ZnVuY3Rpb24gbChhKXtyZXR1cm4gYSUzNjAqSS8xODB9ZnVuY3Rpb24gbShhKXtyZXR1cm4gMTgwKmEvSSUzNjB9ZnVuY3Rpb24gbihhKXt2YXIgYj1bXTtyZXR1cm4gYT1hLnJlcGxhY2UoLyg/Ol58XFxzKShcXHcrKVxcKChbXildKylcXCkvZyxmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGQ9ZC5zcGxpdCgvXFxzKixcXHMqfFxccysvKSxcInJvdGF0ZVwiPT1jJiYxPT1kLmxlbmd0aCYmZC5wdXNoKDAsMCksXCJzY2FsZVwiPT1jJiYoZC5sZW5ndGg+Mj9kPWQuc2xpY2UoMCwyKToyPT1kLmxlbmd0aCYmZC5wdXNoKDAsMCksMT09ZC5sZW5ndGgmJmQucHVzaChkWzBdLDAsMCkpLGIucHVzaChcInNrZXdYXCI9PWM/W1wibVwiLDEsMCxFLnRhbihsKGRbMF0pKSwxLDAsMF06XCJza2V3WVwiPT1jP1tcIm1cIiwxLEUudGFuKGwoZFswXSkpLDAsMSwwLDBdOltjLmNoYXJBdCgwKV0uY29uY2F0KGQpKSxhfSksYn1mdW5jdGlvbiBvKGEsYil7dmFyIGM9ZWIoYSksZT1uZXcgZC5NYXRyaXg7aWYoYylmb3IodmFyIGY9MCxnPWMubGVuZ3RoO2c+ZjtmKyspe3ZhciBoLGksaixrLGwsbT1jW2ZdLG49bS5sZW5ndGgsbz1CKG1bMF0pLnRvTG93ZXJDYXNlKCkscD1tWzBdIT1vLHE9cD9lLmludmVydCgpOjA7XCJ0XCI9PW8mJjI9PW4/ZS50cmFuc2xhdGUobVsxXSwwKTpcInRcIj09byYmMz09bj9wPyhoPXEueCgwLDApLGk9cS55KDAsMCksaj1xLngobVsxXSxtWzJdKSxrPXEueShtWzFdLG1bMl0pLGUudHJhbnNsYXRlKGotaCxrLWkpKTplLnRyYW5zbGF0ZShtWzFdLG1bMl0pOlwiclwiPT1vPzI9PW4/KGw9bHx8YixlLnJvdGF0ZShtWzFdLGwueCtsLndpZHRoLzIsbC55K2wuaGVpZ2h0LzIpKTo0PT1uJiYocD8oaj1xLngobVsyXSxtWzNdKSxrPXEueShtWzJdLG1bM10pLGUucm90YXRlKG1bMV0saixrKSk6ZS5yb3RhdGUobVsxXSxtWzJdLG1bM10pKTpcInNcIj09bz8yPT1ufHwzPT1uPyhsPWx8fGIsZS5zY2FsZShtWzFdLG1bbi0xXSxsLngrbC53aWR0aC8yLGwueStsLmhlaWdodC8yKSk6ND09bj9wPyhqPXEueChtWzJdLG1bM10pLGs9cS55KG1bMl0sbVszXSksZS5zY2FsZShtWzFdLG1bMV0saixrKSk6ZS5zY2FsZShtWzFdLG1bMV0sbVsyXSxtWzNdKTo1PT1uJiYocD8oaj1xLngobVszXSxtWzRdKSxrPXEueShtWzNdLG1bNF0pLGUuc2NhbGUobVsxXSxtWzJdLGosaykpOmUuc2NhbGUobVsxXSxtWzJdLG1bM10sbVs0XSkpOlwibVwiPT1vJiY3PT1uJiZlLmFkZChtWzFdLG1bMl0sbVszXSxtWzRdLG1bNV0sbVs2XSl9cmV0dXJuIGV9ZnVuY3Rpb24gcChhLGIpe2lmKG51bGw9PWIpe3ZhciBjPSEwO2lmKGI9YS5ub2RlLmdldEF0dHJpYnV0ZShcImxpbmVhckdyYWRpZW50XCI9PWEudHlwZXx8XCJyYWRpYWxHcmFkaWVudFwiPT1hLnR5cGU/XCJncmFkaWVudFRyYW5zZm9ybVwiOlwicGF0dGVyblwiPT1hLnR5cGU/XCJwYXR0ZXJuVHJhbnNmb3JtXCI6XCJ0cmFuc2Zvcm1cIiksIWIpcmV0dXJuIG5ldyBkLk1hdHJpeDtiPW4oYil9ZWxzZSBiPWQuXy5yZ1RyYW5zZm9ybS50ZXN0KGIpP0IoYikucmVwbGFjZSgvXFwuezN9fFxcdTIwMjYvZyxhLl8udHJhbnNmb3JtfHxKKTpuKGIpLGYoYixcImFycmF5XCIpJiYoYj1kLnBhdGg/ZC5wYXRoLnRvU3RyaW5nLmNhbGwoYik6QihiKSksYS5fLnRyYW5zZm9ybT1iO3ZhciBlPW8oYixhLmdldEJCb3goMSkpO3JldHVybiBjP2U6dm9pZChhLm1hdHJpeD1lKX1mdW5jdGlvbiBxKGEpe3ZhciBiPWEubm9kZS5vd25lclNWR0VsZW1lbnQmJnkoYS5ub2RlLm93bmVyU1ZHRWxlbWVudCl8fGEubm9kZS5wYXJlbnROb2RlJiZ5KGEubm9kZS5wYXJlbnROb2RlKXx8ZC5zZWxlY3QoXCJzdmdcIil8fGQoMCwwKSxjPWIuc2VsZWN0KFwiZGVmc1wiKSxlPW51bGw9PWM/ITE6Yy5ub2RlO3JldHVybiBlfHwoZT13KFwiZGVmc1wiLGIubm9kZSkubm9kZSksZX1mdW5jdGlvbiByKGEpe3JldHVybiBhLm5vZGUub3duZXJTVkdFbGVtZW50JiZ5KGEubm9kZS5vd25lclNWR0VsZW1lbnQpfHxkLnNlbGVjdChcInN2Z1wiKX1mdW5jdGlvbiBzKGEsYixjKXtmdW5jdGlvbiBkKGEpe2lmKG51bGw9PWEpcmV0dXJuIEo7aWYoYT09K2EpcmV0dXJuIGE7ZShqLHt3aWR0aDphfSk7dHJ5e3JldHVybiBqLmdldEJCb3goKS53aWR0aH1jYXRjaChiKXtyZXR1cm4gMH19ZnVuY3Rpb24gZihhKXtpZihudWxsPT1hKXJldHVybiBKO2lmKGE9PSthKXJldHVybiBhO2Uoaix7aGVpZ2h0OmF9KTt0cnl7cmV0dXJuIGouZ2V0QkJveCgpLmhlaWdodH1jYXRjaChiKXtyZXR1cm4gMH19ZnVuY3Rpb24gZyhkLGUpe251bGw9PWI/aVtkXT1lKGEuYXR0cihkKXx8MCk6ZD09YiYmKGk9ZShudWxsPT1jP2EuYXR0cihkKXx8MDpjKSl9dmFyIGg9cihhKS5ub2RlLGk9e30saj1oLnF1ZXJ5U2VsZWN0b3IoXCIuc3ZnLS0tbWdyXCIpO3N3aXRjaChqfHwoaj1lKFwicmVjdFwiKSxlKGose3g6LTllOSx5Oi05ZTksd2lkdGg6MTAsaGVpZ2h0OjEwLFwiY2xhc3NcIjpcInN2Zy0tLW1nclwiLGZpbGw6XCJub25lXCJ9KSxoLmFwcGVuZENoaWxkKGopKSxhLnR5cGUpe2Nhc2VcInJlY3RcIjpnKFwicnhcIixkKSxnKFwicnlcIixmKTtjYXNlXCJpbWFnZVwiOmcoXCJ3aWR0aFwiLGQpLGcoXCJoZWlnaHRcIixmKTtjYXNlXCJ0ZXh0XCI6ZyhcInhcIixkKSxnKFwieVwiLGYpO2JyZWFrO2Nhc2VcImNpcmNsZVwiOmcoXCJjeFwiLGQpLGcoXCJjeVwiLGYpLGcoXCJyXCIsZCk7YnJlYWs7Y2FzZVwiZWxsaXBzZVwiOmcoXCJjeFwiLGQpLGcoXCJjeVwiLGYpLGcoXCJyeFwiLGQpLGcoXCJyeVwiLGYpO2JyZWFrO2Nhc2VcImxpbmVcIjpnKFwieDFcIixkKSxnKFwieDJcIixkKSxnKFwieTFcIixmKSxnKFwieTJcIixmKTticmVhaztjYXNlXCJtYXJrZXJcIjpnKFwicmVmWFwiLGQpLGcoXCJtYXJrZXJXaWR0aFwiLGQpLGcoXCJyZWZZXCIsZiksZyhcIm1hcmtlckhlaWdodFwiLGYpO2JyZWFrO2Nhc2VcInJhZGlhbEdyYWRpZW50XCI6ZyhcImZ4XCIsZCksZyhcImZ5XCIsZik7YnJlYWs7Y2FzZVwidHNwYW5cIjpnKFwiZHhcIixkKSxnKFwiZHlcIixmKTticmVhaztkZWZhdWx0OmcoYixkKX1yZXR1cm4gaC5yZW1vdmVDaGlsZChqKSxpfWZ1bmN0aW9uIHQoYSl7ZihhLFwiYXJyYXlcIil8fChhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSk7Zm9yKHZhciBiPTAsYz0wLGQ9dGhpcy5ub2RlO3RoaXNbYl07KWRlbGV0ZSB0aGlzW2IrK107Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKylcInNldFwiPT1hW2JdLnR5cGU/YVtiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2QuYXBwZW5kQ2hpbGQoYS5ub2RlKX0pOmQuYXBwZW5kQ2hpbGQoYVtiXS5ub2RlKTt2YXIgZT1kLmNoaWxkTm9kZXM7Zm9yKGI9MDtiPGUubGVuZ3RoO2IrKyl0aGlzW2MrK109eShlW2JdKTtyZXR1cm4gdGhpc31mdW5jdGlvbiB1KGEpe2lmKGEuc25hcCBpbiBZKXJldHVybiBZW2Euc25hcF07dmFyIGIsYz10aGlzLmlkPVYoKTt0cnl7Yj1hLm93bmVyU1ZHRWxlbWVudH1jYXRjaChkKXt9aWYodGhpcy5ub2RlPWEsYiYmKHRoaXMucGFwZXI9bmV3IHgoYikpLHRoaXMudHlwZT1hLnRhZ05hbWUsdGhpcy5hbmltcz17fSx0aGlzLl89e3RyYW5zZm9ybTpbXX0sYS5zbmFwPWMsWVtjXT10aGlzLFwiZ1wiPT10aGlzLnR5cGUmJih0aGlzLmFkZD10KSx0aGlzLnR5cGUgaW57ZzoxLG1hc2s6MSxwYXR0ZXJuOjF9KWZvcih2YXIgZSBpbiB4LnByb3RvdHlwZSl4LnByb3RvdHlwZVtBXShlKSYmKHRoaXNbZV09eC5wcm90b3R5cGVbZV0pfWZ1bmN0aW9uIHYoYSl7dGhpcy5ub2RlPWF9ZnVuY3Rpb24gdyhhLGIpe3ZhciBjPWUoYSk7Yi5hcHBlbmRDaGlsZChjKTt2YXIgZD15KGMpO3JldHVybiBkfWZ1bmN0aW9uIHgoYSxiKXt2YXIgYyxkLGYsZz14LnByb3RvdHlwZTtpZihhJiZcInN2Z1wiPT1hLnRhZ05hbWUpe2lmKGEuc25hcCBpbiBZKXJldHVybiBZW2Euc25hcF07dmFyIGg9YS5vd25lckRvY3VtZW50O2M9bmV3IHUoYSksZD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGVzY1wiKVswXSxmPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkZWZzXCIpWzBdLGR8fChkPWUoXCJkZXNjXCIpLGQuYXBwZW5kQ2hpbGQoaC5jcmVhdGVUZXh0Tm9kZShcIkNyZWF0ZWQgd2l0aCBTbmFwXCIpKSxjLm5vZGUuYXBwZW5kQ2hpbGQoZCkpLGZ8fChmPWUoXCJkZWZzXCIpLGMubm9kZS5hcHBlbmRDaGlsZChmKSksYy5kZWZzPWY7Zm9yKHZhciBpIGluIGcpZ1tBXShpKSYmKGNbaV09Z1tpXSk7Yy5wYXBlcj1jLnJvb3Q9Y31lbHNlIGM9dyhcInN2Z1wiLHouZG9jLmJvZHkpLGUoYy5ub2RlLHtoZWlnaHQ6Yix2ZXJzaW9uOjEuMSx3aWR0aDphLHhtbG5zOlh9KTtyZXR1cm4gY31mdW5jdGlvbiB5KGEpe3JldHVybiBhP2EgaW5zdGFuY2VvZiB1fHxhIGluc3RhbmNlb2Ygdj9hOmEudGFnTmFtZSYmXCJzdmdcIj09YS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/bmV3IHgoYSk6YS50YWdOYW1lJiZcIm9iamVjdFwiPT1hLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmXCJpbWFnZS9zdmcreG1sXCI9PWEudHlwZT9uZXcgeChhLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN2Z1wiKVswXSk6bmV3IHUoYSk6YX1kLnZlcnNpb249XCIwLjMuMFwiLGQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlNuYXAgdlwiK3RoaXMudmVyc2lvbn0sZC5fPXt9O3ZhciB6PXt3aW46YSxkb2M6YS5kb2N1bWVudH07ZC5fLmdsb2I9ejt2YXIgQT1cImhhc093blByb3BlcnR5XCIsQj1TdHJpbmcsQz1wYXJzZUZsb2F0LEQ9cGFyc2VJbnQsRT1NYXRoLEY9RS5tYXgsRz1FLm1pbixIPUUuYWJzLEk9KEUucG93LEUuUEkpLEo9KEUucm91bmQsXCJcIiksSz1cIiBcIixMPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsTT0vXlxccyooKCNbYS1mXFxkXXs2fSl8KCNbYS1mXFxkXXszfSl8cmdiYT9cXChcXHMqKFtcXGRcXC5dKyU/XFxzKixcXHMqW1xcZFxcLl0rJT9cXHMqLFxccypbXFxkXFwuXSslPyg/OlxccyosXFxzKltcXGRcXC5dKyU/KT8pXFxzKlxcKXxoc2JhP1xcKFxccyooW1xcZFxcLl0rKD86ZGVnfFxceGIwfCUpP1xccyosXFxzKltcXGRcXC5dKyU/XFxzKixcXHMqW1xcZFxcLl0rKD86JT9cXHMqLFxccypbXFxkXFwuXSspPyU/KVxccypcXCl8aHNsYT9cXChcXHMqKFtcXGRcXC5dKyg/OmRlZ3xcXHhiMHwlKT9cXHMqLFxccypbXFxkXFwuXSslP1xccyosXFxzKltcXGRcXC5dKyg/OiU/XFxzKixcXHMqW1xcZFxcLl0rKT8lPylcXHMqXFwpKVxccyokL2ksTj1cIlx0XFxuXHUwMDBiXFxmXFxyIMKg4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXFx1MjAyOFxcdTIwMjlcIixPPShkLl8uc2VwYXJhdG9yPW5ldyBSZWdFeHAoXCJbLFwiK04rXCJdK1wiKSxuZXcgUmVnRXhwKFwiW1wiK04rXCJdXCIsXCJnXCIpLG5ldyBSZWdFeHAoXCJbXCIrTitcIl0qLFtcIitOK1wiXSpcIikpLFA9e2hzOjEscmc6MX0sUT1uZXcgUmVnRXhwKFwiKFthLXpdKVtcIitOK1wiLF0qKCgtP1xcXFxkKlxcXFwuP1xcXFxkKig/OmVbXFxcXC0rXT9cXFxcZCspP1tcIitOK1wiXSosP1tcIitOK1wiXSopKylcIixcImlnXCIpLFI9bmV3IFJlZ0V4cChcIihbcnN0bV0pW1wiK04rXCIsXSooKC0/XFxcXGQqXFxcXC4/XFxcXGQqKD86ZVtcXFxcLStdP1xcXFxkKyk/W1wiK04rXCJdKiw/W1wiK04rXCJdKikrKVwiLFwiaWdcIiksUz1uZXcgUmVnRXhwKFwiKC0/XFxcXGQqXFxcXC4/XFxcXGQqKD86ZVtcXFxcLStdP1xcXFxkKyk/KVtcIitOK1wiXSosP1tcIitOK1wiXSpcIixcImlnXCIpLFQ9MCxVPVwiU1wiKygrbmV3IERhdGUpLnRvU3RyaW5nKDM2KSxWPWZ1bmN0aW9uKCl7cmV0dXJuIFUrKFQrKykudG9TdHJpbmcoMzYpfSxXPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFg9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFk9e30sWj1kLnVybD1mdW5jdGlvbihhKXtyZXR1cm5cInVybCgnI1wiK2ErXCInKVwifTtkLl8uJD1lLGQuXy5pZD1WLGQuZm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGE9L1xceyhbXlxcfV0rKVxcfS9nLGI9Lyg/Oig/Ol58XFwuKSguKz8pKD89XFxbfFxcLnwkfFxcKCl8XFxbKCd8XCIpKC4rPylcXDJcXF0pKFxcKFxcKSk/L2csYz1mdW5jdGlvbihhLGMsZCl7dmFyIGU9ZDtyZXR1cm4gYy5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGMsZCxmKXtiPWJ8fGQsZSYmKGIgaW4gZSYmKGU9ZVtiXSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZiYmKGU9ZSgpKSl9KSxlPShudWxsPT1lfHxlPT1kP2E6ZSkrXCJcIn07cmV0dXJuIGZ1bmN0aW9uKGIsZCl7cmV0dXJuIEIoYikucmVwbGFjZShhLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGMoYSxiLGQpfSl9fSgpLGQuXy5jbG9uZT1oLGQuXy5jYWNoZXI9aixkLnJhZD1sLGQuZGVnPW0sZC5hbmdsZT1rLGQuaXM9ZixkLnNuYXBUbz1mdW5jdGlvbihhLGIsYyl7aWYoYz1mKGMsXCJmaW5pdGVcIik/YzoxMCxmKGEsXCJhcnJheVwiKSl7Zm9yKHZhciBkPWEubGVuZ3RoO2QtLTspaWYoSChhW2RdLWIpPD1jKXJldHVybiBhW2RdfWVsc2V7YT0rYTt2YXIgZT1iJWE7aWYoYz5lKXJldHVybiBiLWU7aWYoZT5hLWMpcmV0dXJuIGItZSthfXJldHVybiBifSxkLmdldFJHQj1qKGZ1bmN0aW9uKGEpe2lmKCFhfHwoYT1CKGEpKS5pbmRleE9mKFwiLVwiKSsxKXJldHVybntyOi0xLGc6LTEsYjotMSxoZXg6XCJub25lXCIsZXJyb3I6MSx0b1N0cmluZzpiYn07aWYoXCJub25lXCI9PWEpcmV0dXJue3I6LTEsZzotMSxiOi0xLGhleDpcIm5vbmVcIix0b1N0cmluZzpiYn07aWYoIShQW0FdKGEudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCwyKSl8fFwiI1wiPT1hLmNoYXJBdCgpKSYmKGE9JChhKSksIWEpcmV0dXJue3I6LTEsZzotMSxiOi0xLGhleDpcIm5vbmVcIixlcnJvcjoxLHRvU3RyaW5nOmJifTt2YXIgYixjLGUsZyxoLGksaj1hLm1hdGNoKE0pO3JldHVybiBqPyhqWzJdJiYoZT1EKGpbMl0uc3Vic3RyaW5nKDUpLDE2KSxjPUQoalsyXS5zdWJzdHJpbmcoMyw1KSwxNiksYj1EKGpbMl0uc3Vic3RyaW5nKDEsMyksMTYpKSxqWzNdJiYoZT1EKChoPWpbM10uY2hhckF0KDMpKStoLDE2KSxjPUQoKGg9alszXS5jaGFyQXQoMikpK2gsMTYpLGI9RCgoaD1qWzNdLmNoYXJBdCgxKSkraCwxNikpLGpbNF0mJihpPWpbNF0uc3BsaXQoTyksYj1DKGlbMF0pLFwiJVwiPT1pWzBdLnNsaWNlKC0xKSYmKGIqPTIuNTUpLGM9QyhpWzFdKSxcIiVcIj09aVsxXS5zbGljZSgtMSkmJihjKj0yLjU1KSxlPUMoaVsyXSksXCIlXCI9PWlbMl0uc2xpY2UoLTEpJiYoZSo9Mi41NSksXCJyZ2JhXCI9PWpbMV0udG9Mb3dlckNhc2UoKS5zbGljZSgwLDQpJiYoZz1DKGlbM10pKSxpWzNdJiZcIiVcIj09aVszXS5zbGljZSgtMSkmJihnLz0xMDApKSxqWzVdPyhpPWpbNV0uc3BsaXQoTyksYj1DKGlbMF0pLFwiJVwiPT1pWzBdLnNsaWNlKC0xKSYmKGIvPTEwMCksYz1DKGlbMV0pLFwiJVwiPT1pWzFdLnNsaWNlKC0xKSYmKGMvPTEwMCksZT1DKGlbMl0pLFwiJVwiPT1pWzJdLnNsaWNlKC0xKSYmKGUvPTEwMCksKFwiZGVnXCI9PWlbMF0uc2xpY2UoLTMpfHxcIsKwXCI9PWlbMF0uc2xpY2UoLTEpKSYmKGIvPTM2MCksXCJoc2JhXCI9PWpbMV0udG9Mb3dlckNhc2UoKS5zbGljZSgwLDQpJiYoZz1DKGlbM10pKSxpWzNdJiZcIiVcIj09aVszXS5zbGljZSgtMSkmJihnLz0xMDApLGQuaHNiMnJnYihiLGMsZSxnKSk6als2XT8oaT1qWzZdLnNwbGl0KE8pLGI9QyhpWzBdKSxcIiVcIj09aVswXS5zbGljZSgtMSkmJihiLz0xMDApLGM9QyhpWzFdKSxcIiVcIj09aVsxXS5zbGljZSgtMSkmJihjLz0xMDApLGU9QyhpWzJdKSxcIiVcIj09aVsyXS5zbGljZSgtMSkmJihlLz0xMDApLChcImRlZ1wiPT1pWzBdLnNsaWNlKC0zKXx8XCLCsFwiPT1pWzBdLnNsaWNlKC0xKSkmJihiLz0zNjApLFwiaHNsYVwiPT1qWzFdLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCw0KSYmKGc9QyhpWzNdKSksaVszXSYmXCIlXCI9PWlbM10uc2xpY2UoLTEpJiYoZy89MTAwKSxkLmhzbDJyZ2IoYixjLGUsZykpOihiPUcoRS5yb3VuZChiKSwyNTUpLGM9RyhFLnJvdW5kKGMpLDI1NSksZT1HKEUucm91bmQoZSksMjU1KSxnPUcoRihnLDApLDEpLGo9e3I6YixnOmMsYjplLHRvU3RyaW5nOmJifSxqLmhleD1cIiNcIisoMTY3NzcyMTZ8ZXxjPDw4fGI8PDE2KS50b1N0cmluZygxNikuc2xpY2UoMSksai5vcGFjaXR5PWYoZyxcImZpbml0ZVwiKT9nOjEsaikpOntyOi0xLGc6LTEsYjotMSxoZXg6XCJub25lXCIsZXJyb3I6MSx0b1N0cmluZzpiYn19LGQpLGQuaHNiPWooZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkLmhzYjJyZ2IoYSxiLGMpLmhleH0pLGQuaHNsPWooZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkLmhzbDJyZ2IoYSxiLGMpLmhleH0pLGQucmdiPWooZnVuY3Rpb24oYSxiLGMsZCl7aWYoZihkLFwiZmluaXRlXCIpKXt2YXIgZT1FLnJvdW5kO3JldHVyblwicmdiYShcIitbZShhKSxlKGIpLGUoYyksK2QudG9GaXhlZCgyKV0rXCIpXCJ9cmV0dXJuXCIjXCIrKDE2Nzc3MjE2fGN8Yjw8OHxhPDwxNikudG9TdHJpbmcoMTYpLnNsaWNlKDEpfSk7dmFyICQ9ZnVuY3Rpb24oYSl7dmFyIGI9ei5kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdfHx6LmRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN2Z1wiKVswXSxjPVwicmdiKDI1NSwgMCwgMClcIjtyZXR1cm4oJD1qKGZ1bmN0aW9uKGEpe2lmKFwicmVkXCI9PWEudG9Mb3dlckNhc2UoKSlyZXR1cm4gYztiLnN0eWxlLmNvbG9yPWMsYi5zdHlsZS5jb2xvcj1hO3ZhciBkPXouZG9jLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYixKKS5nZXRQcm9wZXJ0eVZhbHVlKFwiY29sb3JcIik7cmV0dXJuIGQ9PWM/bnVsbDpkfSkpKGEpfSxfPWZ1bmN0aW9uKCl7cmV0dXJuXCJoc2IoXCIrW3RoaXMuaCx0aGlzLnMsdGhpcy5iXStcIilcIn0sYWI9ZnVuY3Rpb24oKXtyZXR1cm5cImhzbChcIitbdGhpcy5oLHRoaXMucyx0aGlzLmxdK1wiKVwifSxiYj1mdW5jdGlvbigpe3JldHVybiAxPT10aGlzLm9wYWNpdHl8fG51bGw9PXRoaXMub3BhY2l0eT90aGlzLmhleDpcInJnYmEoXCIrW3RoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMub3BhY2l0eV0rXCIpXCJ9LGNiPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsPT1iJiZmKGEsXCJvYmplY3RcIikmJlwiclwiaW4gYSYmXCJnXCJpbiBhJiZcImJcImluIGEmJihjPWEuYixiPWEuZyxhPWEuciksbnVsbD09YiYmZihhLHN0cmluZykpe3ZhciBlPWQuZ2V0UkdCKGEpO2E9ZS5yLGI9ZS5nLGM9ZS5ifXJldHVybihhPjF8fGI+MXx8Yz4xKSYmKGEvPTI1NSxiLz0yNTUsYy89MjU1KSxbYSxiLGNdfSxkYj1mdW5jdGlvbihhLGIsYyxlKXthPUUucm91bmQoMjU1KmEpLGI9RS5yb3VuZCgyNTUqYiksYz1FLnJvdW5kKDI1NSpjKTt2YXIgZz17cjphLGc6YixiOmMsb3BhY2l0eTpmKGUsXCJmaW5pdGVcIik/ZToxLGhleDpkLnJnYihhLGIsYyksdG9TdHJpbmc6YmJ9O3JldHVybiBmKGUsXCJmaW5pdGVcIikmJihnLm9wYWNpdHk9ZSksZ307ZC5jb2xvcj1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gZihhLFwib2JqZWN0XCIpJiZcImhcImluIGEmJlwic1wiaW4gYSYmXCJiXCJpbiBhPyhiPWQuaHNiMnJnYihhKSxhLnI9Yi5yLGEuZz1iLmcsYS5iPWIuYixhLm9wYWNpdHk9MSxhLmhleD1iLmhleCk6ZihhLFwib2JqZWN0XCIpJiZcImhcImluIGEmJlwic1wiaW4gYSYmXCJsXCJpbiBhPyhiPWQuaHNsMnJnYihhKSxhLnI9Yi5yLGEuZz1iLmcsYS5iPWIuYixhLm9wYWNpdHk9MSxhLmhleD1iLmhleCk6KGYoYSxcInN0cmluZ1wiKSYmKGE9ZC5nZXRSR0IoYSkpLGYoYSxcIm9iamVjdFwiKSYmXCJyXCJpbiBhJiZcImdcImluIGEmJlwiYlwiaW4gYSYmIShcImVycm9yXCJpbiBhKT8oYj1kLnJnYjJoc2woYSksYS5oPWIuaCxhLnM9Yi5zLGEubD1iLmwsYj1kLnJnYjJoc2IoYSksYS52PWIuYik6KGE9e2hleDpcIm5vbmVcIn0sYS5yPWEuZz1hLmI9YS5oPWEucz1hLnY9YS5sPS0xLGEuZXJyb3I9MSkpLGEudG9TdHJpbmc9YmIsYX0sZC5oc2IycmdiPWZ1bmN0aW9uKGEsYixjLGQpe2YoYSxcIm9iamVjdFwiKSYmXCJoXCJpbiBhJiZcInNcImluIGEmJlwiYlwiaW4gYSYmKGM9YS5iLGI9YS5zLGE9YS5oLGQ9YS5vKSxhKj0zNjA7dmFyIGUsZyxoLGksajtyZXR1cm4gYT1hJTM2MC82MCxqPWMqYixpPWoqKDEtSChhJTItMSkpLGU9Zz1oPWMtaixhPX5+YSxlKz1baixpLDAsMCxpLGpdW2FdLGcrPVtpLGosaixpLDAsMF1bYV0saCs9WzAsMCxpLGosaixpXVthXSxkYihlLGcsaCxkKX0sZC5oc2wycmdiPWZ1bmN0aW9uKGEsYixjLGQpe2YoYSxcIm9iamVjdFwiKSYmXCJoXCJpbiBhJiZcInNcImluIGEmJlwibFwiaW4gYSYmKGM9YS5sLGI9YS5zLGE9YS5oKSwoYT4xfHxiPjF8fGM+MSkmJihhLz0zNjAsYi89MTAwLGMvPTEwMCksYSo9MzYwO3ZhciBlLGcsaCxpLGo7cmV0dXJuIGE9YSUzNjAvNjAsaj0yKmIqKC41PmM/YzoxLWMpLGk9aiooMS1IKGElMi0xKSksZT1nPWg9Yy1qLzIsYT1+fmEsZSs9W2osaSwwLDAsaSxqXVthXSxnKz1baSxqLGosaSwwLDBdW2FdLGgrPVswLDAsaSxqLGosaV1bYV0sZGIoZSxnLGgsZCl9LGQucmdiMmhzYj1mdW5jdGlvbihhLGIsYyl7Yz1jYihhLGIsYyksYT1jWzBdLGI9Y1sxXSxjPWNbMl07dmFyIGQsZSxmLGc7cmV0dXJuIGY9RihhLGIsYyksZz1mLUcoYSxiLGMpLGQ9MD09Zz9udWxsOmY9PWE/KGItYykvZzpmPT1iPyhjLWEpL2crMjooYS1iKS9nKzQsZD0oZCszNjApJTYqNjAvMzYwLGU9MD09Zz8wOmcvZix7aDpkLHM6ZSxiOmYsdG9TdHJpbmc6X319LGQucmdiMmhzbD1mdW5jdGlvbihhLGIsYyl7Yz1jYihhLGIsYyksYT1jWzBdLGI9Y1sxXSxjPWNbMl07dmFyIGQsZSxmLGcsaCxpO3JldHVybiBnPUYoYSxiLGMpLGg9RyhhLGIsYyksaT1nLWgsZD0wPT1pP251bGw6Zz09YT8oYi1jKS9pOmc9PWI/KGMtYSkvaSsyOihhLWIpL2krNCxkPShkKzM2MCklNio2MC8zNjAsZj0oZytoKS8yLGU9MD09aT8wOi41PmY/aS8oMipmKTppLygyLTIqZikse2g6ZCxzOmUsbDpmLHRvU3RyaW5nOmFifX0sZC5wYXJzZVBhdGhTdHJpbmc9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9ZC5wYXRoKGEpO2lmKGIuYXJyKXJldHVybiBkLnBhdGguY2xvbmUoYi5hcnIpO3ZhciBjPXthOjcsYzo2LG86MixoOjEsbDoyLG06MixyOjQscTo0LHM6NCx0OjIsdjoxLHU6Myx6OjB9LGU9W107cmV0dXJuIGYoYSxcImFycmF5XCIpJiZmKGFbMF0sXCJhcnJheVwiKSYmKGU9ZC5wYXRoLmNsb25lKGEpKSxlLmxlbmd0aHx8QihhKS5yZXBsYWNlKFEsZnVuY3Rpb24oYSxiLGQpe3ZhciBmPVtdLGc9Yi50b0xvd2VyQ2FzZSgpO2lmKGQucmVwbGFjZShTLGZ1bmN0aW9uKGEsYil7YiYmZi5wdXNoKCtiKX0pLFwibVwiPT1nJiZmLmxlbmd0aD4yJiYoZS5wdXNoKFtiXS5jb25jYXQoZi5zcGxpY2UoMCwyKSkpLGc9XCJsXCIsYj1cIm1cIj09Yj9cImxcIjpcIkxcIiksXCJvXCI9PWcmJjE9PWYubGVuZ3RoJiZlLnB1c2goW2IsZlswXV0pLFwiclwiPT1nKWUucHVzaChbYl0uY29uY2F0KGYpKTtlbHNlIGZvcig7Zi5sZW5ndGg+PWNbZ10mJihlLnB1c2goW2JdLmNvbmNhdChmLnNwbGljZSgwLGNbZ10pKSksY1tnXSk7KTt9KSxlLnRvU3RyaW5nPWQucGF0aC50b1N0cmluZyxiLmFycj1kLnBhdGguY2xvbmUoZSksZX07dmFyIGViPWQucGFyc2VUcmFuc2Zvcm1TdHJpbmc9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGI9W107cmV0dXJuIGYoYSxcImFycmF5XCIpJiZmKGFbMF0sXCJhcnJheVwiKSYmKGI9ZC5wYXRoLmNsb25lKGEpKSxiLmxlbmd0aHx8QihhKS5yZXBsYWNlKFIsZnVuY3Rpb24oYSxjLGQpe3t2YXIgZT1bXTtjLnRvTG93ZXJDYXNlKCl9ZC5yZXBsYWNlKFMsZnVuY3Rpb24oYSxiKXtiJiZlLnB1c2goK2IpfSksYi5wdXNoKFtjXS5jb25jYXQoZSkpfSksYi50b1N0cmluZz1kLnBhdGgudG9TdHJpbmcsYn07ZC5fLnN2Z1RyYW5zZm9ybTJzdHJpbmc9bixkLl8ucmdUcmFuc2Zvcm09bmV3IFJlZ0V4cChcIl5bYS16XVtcIitOK1wiXSotP1xcXFwuP1xcXFxkXCIsXCJpXCIpLGQuXy50cmFuc2Zvcm0ybWF0cml4PW8sZC5fdW5pdDJweD1zO3ouZG9jLmNvbnRhaW5zfHx6LmRvYy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihhLGIpe3ZhciBjPTk9PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09ZHx8ISghZHx8MSE9ZC5ub2RlVHlwZXx8IShjLmNvbnRhaW5zP2MuY29udGFpbnMoZCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkKSkpfTpmdW5jdGlvbihhLGIpe2lmKGIpZm9yKDtiOylpZihiPWIucGFyZW50Tm9kZSxiPT1hKXJldHVybiEwO3JldHVybiExfTtkLl8uZ2V0U29tZURlZnM9cSxkLl8uZ2V0U29tZVNWRz1yLGQuc2VsZWN0PWZ1bmN0aW9uKGEpe3JldHVybiB5KHouZG9jLnF1ZXJ5U2VsZWN0b3IoYSkpfSxkLnNlbGVjdEFsbD1mdW5jdGlvbihhKXtmb3IodmFyIGI9ei5kb2MucXVlcnlTZWxlY3RvckFsbChhKSxjPShkLnNldHx8QXJyYXkpKCksZT0wO2U8Yi5sZW5ndGg7ZSsrKWMucHVzaCh5KGJbZV0pKTtyZXR1cm4gY30sc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gWSlpZihZW0FdKGEpKXt2YXIgYj1ZW2FdLGM9Yi5ub2RlOyhcInN2Z1wiIT1iLnR5cGUmJiFjLm93bmVyU1ZHRWxlbWVudHx8XCJzdmdcIj09Yi50eXBlJiYoIWMucGFyZW50Tm9kZXx8XCJvd25lclNWR0VsZW1lbnRcImluIGMucGFyZW50Tm9kZSYmIWMub3duZXJTVkdFbGVtZW50KSkmJmRlbGV0ZSBZW2FdfX0sMWU0KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBnKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz1lKGEubm9kZSxiKTtjPWMmJmMubWF0Y2goZyksYz1jJiZjWzJdLGMmJlwiI1wiPT1jLmNoYXJBdCgpJiYoYz1jLnN1YnN0cmluZygxKSxjJiYoaVtjXT0oaVtjXXx8W10pLmNvbmNhdChmdW5jdGlvbihjKXt2YXIgZD17fTtkW2JdPVooYyksZShhLm5vZGUsZCl9KSkpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZShhLm5vZGUsXCJ4bGluazpocmVmXCIpO2ImJlwiI1wiPT1iLmNoYXJBdCgpJiYoYj1iLnN1YnN0cmluZygxKSxiJiYoaVtiXT0oaVtiXXx8W10pLmNvbmNhdChmdW5jdGlvbihiKXthLmF0dHIoXCJ4bGluazpocmVmXCIsXCIjXCIrYil9KSkpfWZvcih2YXIgZCxmPWEuc2VsZWN0QWxsKFwiKlwiKSxnPS9eXFxzKnVybFxcKChcInwnfCkoLiopXFwxXFwpXFxzKiQvLGg9W10saT17fSxqPTAsaz1mLmxlbmd0aDtrPmo7aisrKXtkPWZbal0sYihkLFwiZmlsbFwiKSxiKGQsXCJzdHJva2VcIiksYihkLFwiZmlsdGVyXCIpLGIoZCxcIm1hc2tcIiksYihkLFwiY2xpcC1wYXRoXCIpLGMoZCk7dmFyIGw9ZShkLm5vZGUsXCJpZFwiKTtsJiYoZShkLm5vZGUse2lkOmQuaWR9KSxoLnB1c2goe29sZDpsLGlkOmQuaWR9KSl9Zm9yKGo9MCxrPWgubGVuZ3RoO2s+ajtqKyspe3ZhciBtPWlbaFtqXS5vbGRdO2lmKG0pZm9yKHZhciBuPTAsbz1tLmxlbmd0aDtvPm47bisrKW1bbl0oaFtqXS5pZCl9fWZ1bmN0aW9uIGgoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1kLnNsaWNlKGEsYik7cmV0dXJuIDE9PWUubGVuZ3RoJiYoZT1lWzBdKSxjP2MoZSk6ZX19ZnVuY3Rpb24gaShhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1hP1wiPFwiK3RoaXMudHlwZTpcIlwiLGM9dGhpcy5ub2RlLmF0dHJpYnV0ZXMsZD10aGlzLm5vZGUuY2hpbGROb2RlcztpZihhKWZvcih2YXIgZT0wLGY9Yy5sZW5ndGg7Zj5lO2UrKyliKz1cIiBcIitjW2VdLm5hbWUrJz1cIicrY1tlXS52YWx1ZS5yZXBsYWNlKC9cIi9nLCdcXFxcXCInKSsnXCInO2lmKGQubGVuZ3RoKXtmb3IoYSYmKGIrPVwiPlwiKSxlPTAsZj1kLmxlbmd0aDtmPmU7ZSsrKTM9PWRbZV0ubm9kZVR5cGU/Yis9ZFtlXS5ub2RlVmFsdWU6MT09ZFtlXS5ub2RlVHlwZSYmKGIrPXkoZFtlXSkudG9TdHJpbmcoKSk7YSYmKGIrPVwiPC9cIit0aGlzLnR5cGUrXCI+XCIpfWVsc2UgYSYmKGIrPVwiLz5cIik7cmV0dXJuIGJ9fWEuYXR0cj1mdW5jdGlvbihhLGMpe3t2YXIgZD10aGlzO2Qubm9kZX1pZighYSlyZXR1cm4gZDtpZihmKGEsXCJzdHJpbmdcIikpe2lmKCEoYXJndW1lbnRzLmxlbmd0aD4xKSlyZXR1cm4gYihcInNuYXAudXRpbC5nZXRhdHRyLlwiK2EsZCkuZmlyc3REZWZpbmVkKCk7dmFyIGU9e307ZVthXT1jLGE9ZX1mb3IodmFyIGcgaW4gYSlhW0FdKGcpJiZiKFwic25hcC51dGlsLmF0dHIuXCIrZyxkLGFbZ10pO3JldHVybiBkfSxhLmdldEJCb3g9ZnVuY3Rpb24oYSl7aWYoIWQuTWF0cml4fHwhZC5wYXRoKXJldHVybiB0aGlzLm5vZGUuZ2V0QkJveCgpO3ZhciBiPXRoaXMsYz1uZXcgZC5NYXRyaXg7aWYoYi5yZW1vdmVkKXJldHVybiBkLl8uYm94KCk7Zm9yKDtcInVzZVwiPT1iLnR5cGU7KWlmKGF8fChjPWMuYWRkKGIudHJhbnNmb3JtKCkubG9jYWxNYXRyaXgudHJhbnNsYXRlKGIuYXR0cihcInhcIil8fDAsYi5hdHRyKFwieVwiKXx8MCkpKSxiLm9yaWdpbmFsKWI9Yi5vcmlnaW5hbDtlbHNle3ZhciBlPWIuYXR0cihcInhsaW5rOmhyZWZcIik7Yj1iLm9yaWdpbmFsPWIubm9kZS5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUuc3Vic3RyaW5nKGUuaW5kZXhPZihcIiNcIikrMSkpfXZhciBmPWIuXyxnPWQucGF0aC5nZXRbYi50eXBlXXx8ZC5wYXRoLmdldC5kZWZsdDt0cnl7cmV0dXJuIGE/KGYuYmJveHd0PWc/ZC5wYXRoLmdldEJCb3goYi5yZWFsUGF0aD1nKGIpKTpkLl8uYm94KGIubm9kZS5nZXRCQm94KCkpLGQuXy5ib3goZi5iYm94d3QpKTooYi5yZWFsUGF0aD1nKGIpLGIubWF0cml4PWIudHJhbnNmb3JtKCkubG9jYWxNYXRyaXgsZi5iYm94PWQucGF0aC5nZXRCQm94KGQucGF0aC5tYXAoYi5yZWFsUGF0aCxjLmFkZChiLm1hdHJpeCkpKSxkLl8uYm94KGYuYmJveCkpfWNhdGNoKGgpe3JldHVybiBkLl8uYm94KCl9fTt2YXIgaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmluZ307YS50cmFuc2Zvcm09ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fO2lmKG51bGw9PWEpe2Zvcih2YXIgYyxmPXRoaXMsZz1uZXcgZC5NYXRyaXgodGhpcy5ub2RlLmdldENUTSgpKSxoPXAodGhpcyksaT1baF0saz1uZXcgZC5NYXRyaXgsbD1oLnRvVHJhbnNmb3JtU3RyaW5nKCksbT1CKGgpPT1CKHRoaXMubWF0cml4KT9CKGIudHJhbnNmb3JtKTpsO1wic3ZnXCIhPWYudHlwZSYmKGY9Zi5wYXJlbnQoKSk7KWkucHVzaChwKGYpKTtmb3IoYz1pLmxlbmd0aDtjLS07KWsuYWRkKGlbY10pO3JldHVybntzdHJpbmc6bSxnbG9iYWxNYXRyaXg6Zyx0b3RhbE1hdHJpeDprLGxvY2FsTWF0cml4OmgsZGlmZk1hdHJpeDpnLmNsb25lKCkuYWRkKGguaW52ZXJ0KCkpLGdsb2JhbDpnLnRvVHJhbnNmb3JtU3RyaW5nKCksdG90YWw6ay50b1RyYW5zZm9ybVN0cmluZygpLGxvY2FsOmwsdG9TdHJpbmc6an19cmV0dXJuIGEgaW5zdGFuY2VvZiBkLk1hdHJpeD90aGlzLm1hdHJpeD1hOnAodGhpcyxhKSx0aGlzLm5vZGUmJihcImxpbmVhckdyYWRpZW50XCI9PXRoaXMudHlwZXx8XCJyYWRpYWxHcmFkaWVudFwiPT10aGlzLnR5cGU/ZSh0aGlzLm5vZGUse2dyYWRpZW50VHJhbnNmb3JtOnRoaXMubWF0cml4fSk6XCJwYXR0ZXJuXCI9PXRoaXMudHlwZT9lKHRoaXMubm9kZSx7cGF0dGVyblRyYW5zZm9ybTp0aGlzLm1hdHJpeH0pOmUodGhpcy5ub2RlLHt0cmFuc2Zvcm06dGhpcy5tYXRyaXh9KSksdGhpc30sYS5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLm5vZGUucGFyZW50Tm9kZSl9LGEuYXBwZW5kPWEuYWRkPWZ1bmN0aW9uKGEpe2lmKGEpe2lmKFwic2V0XCI9PWEudHlwZSl7dmFyIGI9dGhpcztyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IuYWRkKGEpfSksdGhpc31hPXkoYSksdGhpcy5ub2RlLmFwcGVuZENoaWxkKGEubm9kZSksYS5wYXBlcj10aGlzLnBhcGVyfXJldHVybiB0aGlzfSxhLmFwcGVuZFRvPWZ1bmN0aW9uKGEpe3JldHVybiBhJiYoYT15KGEpLGEuYXBwZW5kKHRoaXMpKSx0aGlzfSxhLnByZXBlbmQ9ZnVuY3Rpb24oYSl7aWYoYSl7aWYoXCJzZXRcIj09YS50eXBlKXt2YXIgYixjPXRoaXM7cmV0dXJuIGEuZm9yRWFjaChmdW5jdGlvbihhKXtiP2IuYWZ0ZXIoYSk6Yy5wcmVwZW5kKGEpLGI9YX0pLHRoaXN9YT15KGEpO3ZhciBkPWEucGFyZW50KCk7dGhpcy5ub2RlLmluc2VydEJlZm9yZShhLm5vZGUsdGhpcy5ub2RlLmZpcnN0Q2hpbGQpLHRoaXMuYWRkJiZ0aGlzLmFkZCgpLGEucGFwZXI9dGhpcy5wYXBlcix0aGlzLnBhcmVudCgpJiZ0aGlzLnBhcmVudCgpLmFkZCgpLGQmJmQuYWRkKCl9cmV0dXJuIHRoaXN9LGEucHJlcGVuZFRvPWZ1bmN0aW9uKGEpe3JldHVybiBhPXkoYSksYS5wcmVwZW5kKHRoaXMpLHRoaXN9LGEuYmVmb3JlPWZ1bmN0aW9uKGEpe2lmKFwic2V0XCI9PWEudHlwZSl7dmFyIGI9dGhpcztyZXR1cm4gYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWEucGFyZW50KCk7Yi5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEubm9kZSxiLm5vZGUpLGMmJmMuYWRkKCl9KSx0aGlzLnBhcmVudCgpLmFkZCgpLHRoaXN9YT15KGEpO3ZhciBjPWEucGFyZW50KCk7cmV0dXJuIHRoaXMubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLm5vZGUsdGhpcy5ub2RlKSx0aGlzLnBhcmVudCgpJiZ0aGlzLnBhcmVudCgpLmFkZCgpLGMmJmMuYWRkKCksYS5wYXBlcj10aGlzLnBhcGVyLHRoaXN9LGEuYWZ0ZXI9ZnVuY3Rpb24oYSl7YT15KGEpO3ZhciBiPWEucGFyZW50KCk7cmV0dXJuIHRoaXMubm9kZS5uZXh0U2libGluZz90aGlzLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYS5ub2RlLHRoaXMubm9kZS5uZXh0U2libGluZyk6dGhpcy5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYS5ub2RlKSx0aGlzLnBhcmVudCgpJiZ0aGlzLnBhcmVudCgpLmFkZCgpLGImJmIuYWRkKCksYS5wYXBlcj10aGlzLnBhcGVyLHRoaXN9LGEuaW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGEpe2E9eShhKTt2YXIgYj10aGlzLnBhcmVudCgpO3JldHVybiBhLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLGEubm9kZSksdGhpcy5wYXBlcj1hLnBhcGVyLGImJmIuYWRkKCksYS5wYXJlbnQoKSYmYS5wYXJlbnQoKS5hZGQoKSx0aGlzfSxhLmluc2VydEFmdGVyPWZ1bmN0aW9uKGEpe2E9eShhKTt2YXIgYj10aGlzLnBhcmVudCgpO3JldHVybiBhLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLGEubm9kZS5uZXh0U2libGluZyksdGhpcy5wYXBlcj1hLnBhcGVyLGImJmIuYWRkKCksYS5wYXJlbnQoKSYmYS5wYXJlbnQoKS5hZGQoKSx0aGlzfSxhLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50KCk7cmV0dXJuIHRoaXMubm9kZS5wYXJlbnROb2RlJiZ0aGlzLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpLGRlbGV0ZSB0aGlzLnBhcGVyLHRoaXMucmVtb3ZlZD0hMCxhJiZhLmFkZCgpLHRoaXN9LGEuc2VsZWN0PWZ1bmN0aW9uKGEpe3JldHVybiB5KHRoaXMubm9kZS5xdWVyeVNlbGVjdG9yKGEpKX0sYS5zZWxlY3RBbGw9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMubm9kZS5xdWVyeVNlbGVjdG9yQWxsKGEpLGM9KGQuc2V0fHxBcnJheSkoKSxlPTA7ZTxiLmxlbmd0aDtlKyspYy5wdXNoKHkoYltlXSkpO3JldHVybiBjfSxhLmFzUFg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YiYmKGI9dGhpcy5hdHRyKGEpKSwrcyh0aGlzLGEsYil9LGEudXNlPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm5vZGUuaWQ7cmV0dXJuIGJ8fChiPXRoaXMuaWQsZSh0aGlzLm5vZGUse2lkOmJ9KSksYT1cImxpbmVhckdyYWRpZW50XCI9PXRoaXMudHlwZXx8XCJyYWRpYWxHcmFkaWVudFwiPT10aGlzLnR5cGV8fFwicGF0dGVyblwiPT10aGlzLnR5cGU/dyh0aGlzLnR5cGUsdGhpcy5ub2RlLnBhcmVudE5vZGUpOncoXCJ1c2VcIix0aGlzLm5vZGUucGFyZW50Tm9kZSksZShhLm5vZGUse1wieGxpbms6aHJlZlwiOlwiI1wiK2J9KSxhLm9yaWdpbmFsPXRoaXMsYX07dmFyIGs9L1xcUysvZzthLmFkZENsYXNzPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGY9KGF8fFwiXCIpLm1hdGNoKGspfHxbXSxnPXRoaXMubm9kZSxoPWcuY2xhc3NOYW1lLmJhc2VWYWwsaT1oLm1hdGNoKGspfHxbXTtpZihmLmxlbmd0aCl7Zm9yKGI9MDtkPWZbYisrXTspYz1pLmluZGV4T2YoZCksfmN8fGkucHVzaChkKTtlPWkuam9pbihcIiBcIiksaCE9ZSYmKGcuY2xhc3NOYW1lLmJhc2VWYWw9ZSl9cmV0dXJuIHRoaXN9LGEucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZj0oYXx8XCJcIikubWF0Y2goayl8fFtdLGc9dGhpcy5ub2RlLGg9Zy5jbGFzc05hbWUuYmFzZVZhbCxpPWgubWF0Y2goayl8fFtdO2lmKGkubGVuZ3RoKXtmb3IoYj0wO2Q9ZltiKytdOyljPWkuaW5kZXhPZihkKSx+YyYmaS5zcGxpY2UoYywxKTtlPWkuam9pbihcIiBcIiksaCE9ZSYmKGcuY2xhc3NOYW1lLmJhc2VWYWw9ZSl9cmV0dXJuIHRoaXN9LGEuaGFzQ2xhc3M9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ub2RlLGM9Yi5jbGFzc05hbWUuYmFzZVZhbCxkPWMubWF0Y2goayl8fFtdO3JldHVybiEhfmQuaW5kZXhPZihhKX0sYS50b2dnbGVDbGFzcz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWIpcmV0dXJuIGI/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpO3ZhciBjLGQsZSxmLGc9KGF8fFwiXCIpLm1hdGNoKGspfHxbXSxoPXRoaXMubm9kZSxpPWguY2xhc3NOYW1lLmJhc2VWYWwsaj1pLm1hdGNoKGspfHxbXTtmb3IoYz0wO2U9Z1tjKytdOylkPWouaW5kZXhPZihlKSx+ZD9qLnNwbGljZShkLDEpOmoucHVzaChlKTtyZXR1cm4gZj1qLmpvaW4oXCIgXCIpLGkhPWYmJihoLmNsYXNzTmFtZS5iYXNlVmFsPWYpLHRoaXN9LGEuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT15KHRoaXMubm9kZS5jbG9uZU5vZGUoITApKTtyZXR1cm4gZShhLm5vZGUsXCJpZFwiKSYmZShhLm5vZGUse2lkOmEuaWR9KSxnKGEpLGEuaW5zZXJ0QWZ0ZXIodGhpcyksYX0sYS50b0RlZnM9ZnVuY3Rpb24oKXt2YXIgYT1xKHRoaXMpO3JldHVybiBhLmFwcGVuZENoaWxkKHRoaXMubm9kZSksdGhpc30sYS5wYXR0ZXJuPWEudG9QYXR0ZXJuPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBnPXcoXCJwYXR0ZXJuXCIscSh0aGlzKSk7cmV0dXJuIG51bGw9PWEmJihhPXRoaXMuZ2V0QkJveCgpKSxmKGEsXCJvYmplY3RcIikmJlwieFwiaW4gYSYmKGI9YS55LGM9YS53aWR0aCxkPWEuaGVpZ2h0LGE9YS54KSxlKGcubm9kZSx7eDphLHk6Yix3aWR0aDpjLGhlaWdodDpkLHBhdHRlcm5Vbml0czpcInVzZXJTcGFjZU9uVXNlXCIsaWQ6Zy5pZCx2aWV3Qm94OlthLGIsYyxkXS5qb2luKFwiIFwiKX0pLGcubm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpLGd9LGEubWFya2VyPWZ1bmN0aW9uKGEsYixjLGQsZyxoKXt2YXIgaT13KFwibWFya2VyXCIscSh0aGlzKSk7cmV0dXJuIG51bGw9PWEmJihhPXRoaXMuZ2V0QkJveCgpKSxmKGEsXCJvYmplY3RcIikmJlwieFwiaW4gYSYmKGI9YS55LGM9YS53aWR0aCxkPWEuaGVpZ2h0LGc9YS5yZWZYfHxhLmN4LGg9YS5yZWZZfHxhLmN5LGE9YS54KSxlKGkubm9kZSx7dmlld0JveDpbYSxiLGMsZF0uam9pbihLKSxtYXJrZXJXaWR0aDpjLG1hcmtlckhlaWdodDpkLG9yaWVudDpcImF1dG9cIixyZWZYOmd8fDAscmVmWTpofHwwLGlkOmkuaWR9KSxpLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKSxpfTt2YXIgbD1mdW5jdGlvbihhLGIsZCxlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBkfHxkLmxlbmd0aHx8KGU9ZCxkPWMubGluZWFyKSx0aGlzLmF0dHI9YSx0aGlzLmR1cj1iLGQmJih0aGlzLmVhc2luZz1kKSxlJiYodGhpcy5jYWxsYmFjaz1lKX07ZC5fLkFuaW1hdGlvbj1sLGQuYW5pbWF0aW9uPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBuZXcgbChhLGIsYyxkKX0sYS5pbkFuaW09ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9W107Zm9yKHZhciBjIGluIGEuYW5pbXMpYS5hbmltc1tBXShjKSYmIWZ1bmN0aW9uKGEpe2IucHVzaCh7YW5pbTpuZXcgbChhLl9hdHRycyxhLmR1cixhLmVhc2luZyxhLl9jYWxsYmFjayksbWluYTphLGN1clN0YXR1czphLnN0YXR1cygpLHN0YXR1czpmdW5jdGlvbihiKXtyZXR1cm4gYS5zdGF0dXMoYil9LHN0b3A6ZnVuY3Rpb24oKXthLnN0b3AoKX19KX0oYS5hbmltc1tjXSk7cmV0dXJuIGJ9LGQuYW5pbWF0ZT1mdW5jdGlvbihhLGQsZSxmLGcsaCl7XCJmdW5jdGlvblwiIT10eXBlb2YgZ3x8Zy5sZW5ndGh8fChoPWcsZz1jLmxpbmVhcik7dmFyIGk9Yy50aW1lKCksaj1jKGEsZCxpLGkrZixjLnRpbWUsZSxnKTtyZXR1cm4gaCYmYi5vbmNlKFwibWluYS5maW5pc2guXCIrai5pZCxoKSxqfSxhLnN0b3A9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5pbkFuaW0oKSxiPTAsYz1hLmxlbmd0aDtjPmI7YisrKWFbYl0uc3RvcCgpO3JldHVybiB0aGlzfSxhLmFuaW1hdGU9ZnVuY3Rpb24oYSxkLGUsZyl7XCJmdW5jdGlvblwiIT10eXBlb2YgZXx8ZS5sZW5ndGh8fChnPWUsZT1jLmxpbmVhciksYSBpbnN0YW5jZW9mIGwmJihnPWEuY2FsbGJhY2ssZT1hLmVhc2luZyxkPWUuZHVyLGE9YS5hdHRyKTt2YXIgaSxqLGssbSxuPVtdLG89W10scD17fSxxPXRoaXM7Zm9yKHZhciByIGluIGEpaWYoYVtBXShyKSl7cS5lcXVhbD8obT1xLmVxdWFsKHIsQihhW3JdKSksaT1tLmZyb20saj1tLnRvLGs9bS5mKTooaT0rcS5hdHRyKHIpLGo9K2Fbcl0pO3ZhciBzPWYoaSxcImFycmF5XCIpP2kubGVuZ3RoOjE7cFtyXT1oKG4ubGVuZ3RoLG4ubGVuZ3RoK3Msayksbj1uLmNvbmNhdChpKSxvPW8uY29uY2F0KGopfXZhciB0PWMudGltZSgpLHU9YyhuLG8sdCx0K2QsYy50aW1lLGZ1bmN0aW9uKGEpe3ZhciBiPXt9O2Zvcih2YXIgYyBpbiBwKXBbQV0oYykmJihiW2NdPXBbY10oYSkpO3EuYXR0cihiKX0sZSk7cmV0dXJuIHEuYW5pbXNbdS5pZF09dSx1Ll9hdHRycz1hLHUuX2NhbGxiYWNrPWcsYihcInNuYXAuYW5pbWNyZWF0ZWQuXCIrcS5pZCx1KSxiLm9uY2UoXCJtaW5hLmZpbmlzaC5cIit1LmlkLGZ1bmN0aW9uKCl7ZGVsZXRlIHEuYW5pbXNbdS5pZF0sZyYmZy5jYWxsKHEpfSksYi5vbmNlKFwibWluYS5zdG9wLlwiK3UuaWQsZnVuY3Rpb24oKXtkZWxldGUgcS5hbmltc1t1LmlkXX0pLHF9O3ZhciBtPXt9O2EuZGF0YT1mdW5jdGlvbihhLGMpe3ZhciBlPW1bdGhpcy5pZF09bVt0aGlzLmlkXXx8e307aWYoMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYihcInNuYXAuZGF0YS5nZXQuXCIrdGhpcy5pZCx0aGlzLGUsbnVsbCksZTtpZigxPT1hcmd1bWVudHMubGVuZ3RoKXtpZihkLmlzKGEsXCJvYmplY3RcIikpe2Zvcih2YXIgZiBpbiBhKWFbQV0oZikmJnRoaXMuZGF0YShmLGFbZl0pO3JldHVybiB0aGlzfXJldHVybiBiKFwic25hcC5kYXRhLmdldC5cIit0aGlzLmlkLHRoaXMsZVthXSxhKSxlW2FdfXJldHVybiBlW2FdPWMsYihcInNuYXAuZGF0YS5zZXQuXCIrdGhpcy5pZCx0aGlzLGMsYSksdGhpc30sYS5yZW1vdmVEYXRhPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP21bdGhpcy5pZF09e306bVt0aGlzLmlkXSYmZGVsZXRlIG1bdGhpcy5pZF1bYV0sdGhpc30sYS5vdXRlclNWRz1hLnRvU3RyaW5nPWkoMSksYS5pbm5lclNWRz1pKCl9KHUucHJvdG90eXBlKSxkLnBhcnNlPWZ1bmN0aW9uKGEpe3ZhciBiPXouZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxjPSEwLGQ9ei5kb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihhPUIoYSksYS5tYXRjaCgvXlxccyo8XFxzKnN2Zyg/Olxcc3w+KS8pfHwoYT1cIjxzdmc+XCIrYStcIjwvc3ZnPlwiLGM9ITEpLGQuaW5uZXJIVE1MPWEsYT1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3ZnXCIpWzBdKWlmKGMpYj1hO2Vsc2UgZm9yKDthLmZpcnN0Q2hpbGQ7KWIuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKTtyZXR1cm4gZC5pbm5lckhUTUw9SixuZXcgdihiKX0sdi5wcm90b3R5cGUuc2VsZWN0PXUucHJvdG90eXBlLnNlbGVjdCx2LnByb3RvdHlwZS5zZWxlY3RBbGw9dS5wcm90b3R5cGUuc2VsZWN0QWxsLGQuZnJhZ21lbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLGI9ei5kb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGM9MCxlPWEubGVuZ3RoO2U+YztjKyspe3ZhciBmPWFbY107Zi5ub2RlJiZmLm5vZGUubm9kZVR5cGUmJmIuYXBwZW5kQ2hpbGQoZi5ub2RlKSxmLm5vZGVUeXBlJiZiLmFwcGVuZENoaWxkKGYpLFwic3RyaW5nXCI9PXR5cGVvZiBmJiZiLmFwcGVuZENoaWxkKGQucGFyc2UoZikubm9kZSl9cmV0dXJuIG5ldyB2KGIpfSxkLl8ubWFrZT13LGQuXy53cmFwPXkseC5wcm90b3R5cGUuZWw9ZnVuY3Rpb24oYSxiKXt2YXIgYz13KGEsdGhpcy5ub2RlKTtyZXR1cm4gYiYmYy5hdHRyKGIpLGN9LGIub24oXCJzbmFwLnV0aWwuZ2V0YXR0clwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5udCgpO2E9YS5zdWJzdHJpbmcoYS5sYXN0SW5kZXhPZihcIi5cIikrMSk7dmFyIGM9YS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiLVwiK2EudG9Mb3dlckNhc2UoKX0pO3JldHVybiBmYltBXShjKT90aGlzLm5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHRoaXMubm9kZSxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKGMpOmUodGhpcy5ub2RlLGEpfSk7dmFyIGZiPXtcImFsaWdubWVudC1iYXNlbGluZVwiOjAsXCJiYXNlbGluZS1zaGlmdFwiOjAsY2xpcDowLFwiY2xpcC1wYXRoXCI6MCxcImNsaXAtcnVsZVwiOjAsY29sb3I6MCxcImNvbG9yLWludGVycG9sYXRpb25cIjowLFwiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzXCI6MCxcImNvbG9yLXByb2ZpbGVcIjowLFwiY29sb3ItcmVuZGVyaW5nXCI6MCxjdXJzb3I6MCxkaXJlY3Rpb246MCxkaXNwbGF5OjAsXCJkb21pbmFudC1iYXNlbGluZVwiOjAsXCJlbmFibGUtYmFja2dyb3VuZFwiOjAsZmlsbDowLFwiZmlsbC1vcGFjaXR5XCI6MCxcImZpbGwtcnVsZVwiOjAsZmlsdGVyOjAsXCJmbG9vZC1jb2xvclwiOjAsXCJmbG9vZC1vcGFjaXR5XCI6MCxmb250OjAsXCJmb250LWZhbWlseVwiOjAsXCJmb250LXNpemVcIjowLFwiZm9udC1zaXplLWFkanVzdFwiOjAsXCJmb250LXN0cmV0Y2hcIjowLFwiZm9udC1zdHlsZVwiOjAsXCJmb250LXZhcmlhbnRcIjowLFwiZm9udC13ZWlnaHRcIjowLFwiZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbFwiOjAsXCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbFwiOjAsXCJpbWFnZS1yZW5kZXJpbmdcIjowLGtlcm5pbmc6MCxcImxldHRlci1zcGFjaW5nXCI6MCxcImxpZ2h0aW5nLWNvbG9yXCI6MCxtYXJrZXI6MCxcIm1hcmtlci1lbmRcIjowLFwibWFya2VyLW1pZFwiOjAsXCJtYXJrZXItc3RhcnRcIjowLG1hc2s6MCxvcGFjaXR5OjAsb3ZlcmZsb3c6MCxcInBvaW50ZXItZXZlbnRzXCI6MCxcInNoYXBlLXJlbmRlcmluZ1wiOjAsXCJzdG9wLWNvbG9yXCI6MCxcInN0b3Atb3BhY2l0eVwiOjAsc3Ryb2tlOjAsXCJzdHJva2UtZGFzaGFycmF5XCI6MCxcInN0cm9rZS1kYXNob2Zmc2V0XCI6MCxcInN0cm9rZS1saW5lY2FwXCI6MCxcInN0cm9rZS1saW5lam9pblwiOjAsXCJzdHJva2UtbWl0ZXJsaW1pdFwiOjAsXCJzdHJva2Utb3BhY2l0eVwiOjAsXCJzdHJva2Utd2lkdGhcIjowLFwidGV4dC1hbmNob3JcIjowLFwidGV4dC1kZWNvcmF0aW9uXCI6MCxcInRleHQtcmVuZGVyaW5nXCI6MCxcInVuaWNvZGUtYmlkaVwiOjAsdmlzaWJpbGl0eTowLFwid29yZC1zcGFjaW5nXCI6MCxcIndyaXRpbmctbW9kZVwiOjB9O2Iub24oXCJzbmFwLnV0aWwuYXR0clwiLGZ1bmN0aW9uKGEpe3ZhciBjPWIubnQoKSxkPXt9O2M9Yy5zdWJzdHJpbmcoYy5sYXN0SW5kZXhPZihcIi5cIikrMSksZFtjXT1hO3ZhciBmPWMucmVwbGFjZSgvLShcXHcpL2dpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX0pLGc9Yy5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiLVwiK2EudG9Mb3dlckNhc2UoKX0pO2ZiW0FdKGcpP3RoaXMubm9kZS5zdHlsZVtmXT1udWxsPT1hP0o6YTplKHRoaXMubm9kZSxkKX0pLGZ1bmN0aW9uKCl7fSh4LnByb3RvdHlwZSksZC5hamF4PWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBnPW5ldyBYTUxIdHRwUmVxdWVzdCxoPVYoKTtpZihnKXtpZihmKGMsXCJmdW5jdGlvblwiKSllPWQsZD1jLGM9bnVsbDtlbHNlIGlmKGYoYyxcIm9iamVjdFwiKSl7dmFyIGk9W107Zm9yKHZhciBqIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShqKSYmaS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChqKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoY1tqXSkpO2M9aS5qb2luKFwiJlwiKX1yZXR1cm4gZy5vcGVuKGM/XCJQT1NUXCI6XCJHRVRcIixhLCEwKSxjJiYoZy5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLFwiWE1MSHR0cFJlcXVlc3RcIiksZy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikpLGQmJihiLm9uY2UoXCJzbmFwLmFqYXguXCIraCtcIi4wXCIsZCksYi5vbmNlKFwic25hcC5hamF4LlwiK2grXCIuMjAwXCIsZCksYi5vbmNlKFwic25hcC5hamF4LlwiK2grXCIuMzA0XCIsZCkpLGcub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09Zy5yZWFkeVN0YXRlJiZiKFwic25hcC5hamF4LlwiK2grXCIuXCIrZy5zdGF0dXMsZSxnKX0sND09Zy5yZWFkeVN0YXRlP2c6KGcuc2VuZChjKSxnKX19LGQubG9hZD1mdW5jdGlvbihhLGIsYyl7ZC5hamF4KGEsZnVuY3Rpb24oYSl7dmFyIGU9ZC5wYXJzZShhLnJlc3BvbnNlVGV4dCk7Yz9iLmNhbGwoYyxlKTpiKGUpfSl9O3ZhciBnYj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9YS5vd25lckRvY3VtZW50LGQ9Yy5ib2R5LGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1lLmNsaWVudFRvcHx8ZC5jbGllbnRUb3B8fDAsaD1lLmNsaWVudExlZnR8fGQuY2xpZW50TGVmdHx8MCxpPWIudG9wKyhnLndpbi5wYWdlWU9mZnNldHx8ZS5zY3JvbGxUb3B8fGQuc2Nyb2xsVG9wKS1mLGo9Yi5sZWZ0KyhnLndpbi5wYWdlWE9mZnNldHx8ZS5zY3JvbGxMZWZ0fHxkLnNjcm9sbExlZnQpLWg7cmV0dXJue3k6aSx4Omp9fTtyZXR1cm4gZC5nZXRFbGVtZW50QnlQb2ludD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD0oYy5jYW52YXMsei5kb2MuZWxlbWVudEZyb21Qb2ludChhLGIpKTtpZih6Lndpbi5vcGVyYSYmXCJzdmdcIj09ZC50YWdOYW1lKXt2YXIgZT1nYihkKSxmPWQuY3JlYXRlU1ZHUmVjdCgpO2YueD1hLWUueCxmLnk9Yi1lLnksZi53aWR0aD1mLmhlaWdodD0xO3ZhciBnPWQuZ2V0SW50ZXJzZWN0aW9uTGlzdChmLG51bGwpO2cubGVuZ3RoJiYoZD1nW2cubGVuZ3RoLTFdKX1yZXR1cm4gZD95KGQpOm51bGx9LGQucGx1Z2luPWZ1bmN0aW9uKGEpe2EoZCx1LHgseix2KX0sei53aW4uU25hcD1kLGR9KCk7cmV0dXJuIGQucGx1Z2luKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGQsZSxmLGcpe3JldHVybiBudWxsPT1iJiZcIltvYmplY3QgU1ZHTWF0cml4XVwiPT1jLmNhbGwoYSk/KHRoaXMuYT1hLmEsdGhpcy5iPWEuYix0aGlzLmM9YS5jLHRoaXMuZD1hLmQsdGhpcy5lPWEuZSx2b2lkKHRoaXMuZj1hLmYpKTp2b2lkKG51bGwhPWE/KHRoaXMuYT0rYSx0aGlzLmI9K2IsdGhpcy5jPStkLHRoaXMuZD0rZSx0aGlzLmU9K2YsdGhpcy5mPStnKToodGhpcy5hPTEsdGhpcy5iPTAsdGhpcy5jPTAsdGhpcy5kPTEsdGhpcy5lPTAsdGhpcy5mPTApKX12YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGQ9U3RyaW5nLGU9TWF0aCxmPVwiXCI7IWZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuIGFbMF0qYVswXSthWzFdKmFbMV1cbn1mdW5jdGlvbiBoKGEpe3ZhciBiPWUuc3FydChnKGEpKTthWzBdJiYoYVswXS89YiksYVsxXSYmKGFbMV0vPWIpfWMuYWRkPWZ1bmN0aW9uKGEsYyxkLGUsZixnKXt2YXIgaCxpLGosayxsPVtbXSxbXSxbXV0sbT1bW3RoaXMuYSx0aGlzLmMsdGhpcy5lXSxbdGhpcy5iLHRoaXMuZCx0aGlzLmZdLFswLDAsMV1dLG49W1thLGQsZl0sW2MsZSxnXSxbMCwwLDFdXTtmb3IoYSYmYSBpbnN0YW5jZW9mIGImJihuPVtbYS5hLGEuYyxhLmVdLFthLmIsYS5kLGEuZl0sWzAsMCwxXV0pLGg9MDszPmg7aCsrKWZvcihpPTA7Mz5pO2krKyl7Zm9yKGs9MCxqPTA7Mz5qO2orKylrKz1tW2hdW2pdKm5bal1baV07bFtoXVtpXT1rfXJldHVybiB0aGlzLmE9bFswXVswXSx0aGlzLmI9bFsxXVswXSx0aGlzLmM9bFswXVsxXSx0aGlzLmQ9bFsxXVsxXSx0aGlzLmU9bFswXVsyXSx0aGlzLmY9bFsxXVsyXSx0aGlzfSxjLmludmVydD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1hLmEqYS5kLWEuYiphLmM7cmV0dXJuIG5ldyBiKGEuZC9jLC1hLmIvYywtYS5jL2MsYS5hL2MsKGEuYyphLmYtYS5kKmEuZSkvYywoYS5iKmEuZS1hLmEqYS5mKS9jKX0sYy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgYih0aGlzLmEsdGhpcy5iLHRoaXMuYyx0aGlzLmQsdGhpcy5lLHRoaXMuZil9LGMudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYWRkKDEsMCwwLDEsYSxiKX0sYy5zY2FsZT1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gbnVsbD09YiYmKGI9YSksKGN8fGQpJiZ0aGlzLmFkZCgxLDAsMCwxLGMsZCksdGhpcy5hZGQoYSwwLDAsYiwwLDApLChjfHxkKSYmdGhpcy5hZGQoMSwwLDAsMSwtYywtZCksdGhpc30sYy5yb3RhdGU9ZnVuY3Rpb24oYixjLGQpe2I9YS5yYWQoYiksYz1jfHwwLGQ9ZHx8MDt2YXIgZj0rZS5jb3MoYikudG9GaXhlZCg5KSxnPStlLnNpbihiKS50b0ZpeGVkKDkpO3JldHVybiB0aGlzLmFkZChmLGcsLWcsZixjLGQpLHRoaXMuYWRkKDEsMCwwLDEsLWMsLWQpfSxjLng9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSp0aGlzLmErYip0aGlzLmMrdGhpcy5lfSxjLnk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSp0aGlzLmIrYip0aGlzLmQrdGhpcy5mfSxjLmdldD1mdW5jdGlvbihhKXtyZXR1cm4rdGhpc1tkLmZyb21DaGFyQ29kZSg5NythKV0udG9GaXhlZCg0KX0sYy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwibWF0cml4KFwiK1t0aGlzLmdldCgwKSx0aGlzLmdldCgxKSx0aGlzLmdldCgyKSx0aGlzLmdldCgzKSx0aGlzLmdldCg0KSx0aGlzLmdldCg1KV0uam9pbigpK1wiKVwifSxjLm9mZnNldD1mdW5jdGlvbigpe3JldHVyblt0aGlzLmUudG9GaXhlZCg0KSx0aGlzLmYudG9GaXhlZCg0KV19LGMuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hKnRoaXMuZC10aGlzLmIqdGhpcy5jfSxjLnNwbGl0PWZ1bmN0aW9uKCl7dmFyIGI9e307Yi5keD10aGlzLmUsYi5keT10aGlzLmY7dmFyIGM9W1t0aGlzLmEsdGhpcy5jXSxbdGhpcy5iLHRoaXMuZF1dO2Iuc2NhbGV4PWUuc3FydChnKGNbMF0pKSxoKGNbMF0pLGIuc2hlYXI9Y1swXVswXSpjWzFdWzBdK2NbMF1bMV0qY1sxXVsxXSxjWzFdPVtjWzFdWzBdLWNbMF1bMF0qYi5zaGVhcixjWzFdWzFdLWNbMF1bMV0qYi5zaGVhcl0sYi5zY2FsZXk9ZS5zcXJ0KGcoY1sxXSkpLGgoY1sxXSksYi5zaGVhci89Yi5zY2FsZXksdGhpcy5kZXRlcm1pbmFudCgpPDAmJihiLnNjYWxleD0tYi5zY2FsZXgpO3ZhciBkPS1jWzBdWzFdLGY9Y1sxXVsxXTtyZXR1cm4gMD5mPyhiLnJvdGF0ZT1hLmRlZyhlLmFjb3MoZikpLDA+ZCYmKGIucm90YXRlPTM2MC1iLnJvdGF0ZSkpOmIucm90YXRlPWEuZGVnKGUuYXNpbihkKSksYi5pc1NpbXBsZT0hKCtiLnNoZWFyLnRvRml4ZWQoOSl8fGIuc2NhbGV4LnRvRml4ZWQoOSkhPWIuc2NhbGV5LnRvRml4ZWQoOSkmJmIucm90YXRlKSxiLmlzU3VwZXJTaW1wbGU9IStiLnNoZWFyLnRvRml4ZWQoOSkmJmIuc2NhbGV4LnRvRml4ZWQoOSk9PWIuc2NhbGV5LnRvRml4ZWQoOSkmJiFiLnJvdGF0ZSxiLm5vUm90YXRpb249IStiLnNoZWFyLnRvRml4ZWQoOSkmJiFiLnJvdGF0ZSxifSxjLnRvVHJhbnNmb3JtU3RyaW5nPWZ1bmN0aW9uKGEpe3ZhciBiPWF8fHRoaXMuc3BsaXQoKTtyZXR1cm4rYi5zaGVhci50b0ZpeGVkKDkpP1wibVwiK1t0aGlzLmdldCgwKSx0aGlzLmdldCgxKSx0aGlzLmdldCgyKSx0aGlzLmdldCgzKSx0aGlzLmdldCg0KSx0aGlzLmdldCg1KV06KGIuc2NhbGV4PStiLnNjYWxleC50b0ZpeGVkKDQpLGIuc2NhbGV5PStiLnNjYWxleS50b0ZpeGVkKDQpLGIucm90YXRlPStiLnJvdGF0ZS50b0ZpeGVkKDQpLChiLmR4fHxiLmR5P1widFwiK1srYi5keC50b0ZpeGVkKDQpLCtiLmR5LnRvRml4ZWQoNCldOmYpKygxIT1iLnNjYWxleHx8MSE9Yi5zY2FsZXk/XCJzXCIrW2Iuc2NhbGV4LGIuc2NhbGV5LDAsMF06ZikrKGIucm90YXRlP1wiclwiK1srYi5yb3RhdGUudG9GaXhlZCg0KSwwLDBdOmYpKX19KGIucHJvdG90eXBlKSxhLk1hdHJpeD1iLGEubWF0cml4PWZ1bmN0aW9uKGEsYyxkLGUsZixnKXtyZXR1cm4gbmV3IGIoYSxjLGQsZSxmLGcpfX0pLGQucGx1Z2luKGZ1bmN0aW9uKGEsYyxkLGUsZil7ZnVuY3Rpb24gZyhkKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoYi5zdG9wKCksZSBpbnN0YW5jZW9mIGYmJjE9PWUubm9kZS5jaGlsZE5vZGVzLmxlbmd0aCYmKFwicmFkaWFsR3JhZGllbnRcIj09ZS5ub2RlLmZpcnN0Q2hpbGQudGFnTmFtZXx8XCJsaW5lYXJHcmFkaWVudFwiPT1lLm5vZGUuZmlyc3RDaGlsZC50YWdOYW1lfHxcInBhdHRlcm5cIj09ZS5ub2RlLmZpcnN0Q2hpbGQudGFnTmFtZSkmJihlPWUubm9kZS5maXJzdENoaWxkLG4odGhpcykuYXBwZW5kQ2hpbGQoZSksZT1sKGUpKSxlIGluc3RhbmNlb2YgYylpZihcInJhZGlhbEdyYWRpZW50XCI9PWUudHlwZXx8XCJsaW5lYXJHcmFkaWVudFwiPT1lLnR5cGV8fFwicGF0dGVyblwiPT1lLnR5cGUpe2Uubm9kZS5pZHx8cChlLm5vZGUse2lkOmUuaWR9KTt2YXIgZz1xKGUubm9kZS5pZCl9ZWxzZSBnPWUuYXR0cihkKTtlbHNlIGlmKGc9YS5jb2xvcihlKSxnLmVycm9yKXt2YXIgaD1hKG4odGhpcykub3duZXJTVkdFbGVtZW50KS5ncmFkaWVudChlKTtoPyhoLm5vZGUuaWR8fHAoaC5ub2RlLHtpZDpoLmlkfSksZz1xKGgubm9kZS5pZCkpOmc9ZX1lbHNlIGc9cihnKTt2YXIgaT17fTtpW2RdPWcscCh0aGlzLm5vZGUsaSksdGhpcy5ub2RlLnN0eWxlW2RdPXR9fWZ1bmN0aW9uIGgoYSl7Yi5zdG9wKCksYT09K2EmJihhKz1cInB4XCIpLHRoaXMubm9kZS5zdHlsZS5mb250U2l6ZT1hfWZ1bmN0aW9uIGkoYSl7Zm9yKHZhciBiPVtdLGM9YS5jaGlsZE5vZGVzLGQ9MCxlPWMubGVuZ3RoO2U+ZDtkKyspe3ZhciBmPWNbZF07Mz09Zi5ub2RlVHlwZSYmYi5wdXNoKGYubm9kZVZhbHVlKSxcInRzcGFuXCI9PWYudGFnTmFtZSYmYi5wdXNoKDE9PWYuY2hpbGROb2Rlcy5sZW5ndGgmJjM9PWYuZmlyc3RDaGlsZC5ub2RlVHlwZT9mLmZpcnN0Q2hpbGQubm9kZVZhbHVlOmkoZikpfXJldHVybiBifWZ1bmN0aW9uIGooKXtyZXR1cm4gYi5zdG9wKCksdGhpcy5ub2RlLnN0eWxlLmZvbnRTaXplfXZhciBrPWEuXy5tYWtlLGw9YS5fLndyYXAsbT1hLmlzLG49YS5fLmdldFNvbWVEZWZzLG89L151cmxcXCgjPyhbXildKylcXCkkLyxwPWEuXy4kLHE9YS51cmwscj1TdHJpbmcscz1hLl8uc2VwYXJhdG9yLHQ9XCJcIjtiLm9uKFwic25hcC51dGlsLmF0dHIubWFza1wiLGZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBjfHxhIGluc3RhbmNlb2YgZil7aWYoYi5zdG9wKCksYSBpbnN0YW5jZW9mIGYmJjE9PWEubm9kZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGE9YS5ub2RlLmZpcnN0Q2hpbGQsbih0aGlzKS5hcHBlbmRDaGlsZChhKSxhPWwoYSkpLFwibWFza1wiPT1hLnR5cGUpdmFyIGQ9YTtlbHNlIGQ9ayhcIm1hc2tcIixuKHRoaXMpKSxkLm5vZGUuYXBwZW5kQ2hpbGQoYS5ub2RlKTshZC5ub2RlLmlkJiZwKGQubm9kZSx7aWQ6ZC5pZH0pLHAodGhpcy5ub2RlLHttYXNrOnEoZC5pZCl9KX19KSxmdW5jdGlvbihhKXtiLm9uKFwic25hcC51dGlsLmF0dHIuY2xpcFwiLGEpLGIub24oXCJzbmFwLnV0aWwuYXR0ci5jbGlwLXBhdGhcIixhKSxiLm9uKFwic25hcC51dGlsLmF0dHIuY2xpcFBhdGhcIixhKX0oZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIGN8fGEgaW5zdGFuY2VvZiBmKXtpZihiLnN0b3AoKSxcImNsaXBQYXRoXCI9PWEudHlwZSl2YXIgZD1hO2Vsc2UgZD1rKFwiY2xpcFBhdGhcIixuKHRoaXMpKSxkLm5vZGUuYXBwZW5kQ2hpbGQoYS5ub2RlKSwhZC5ub2RlLmlkJiZwKGQubm9kZSx7aWQ6ZC5pZH0pO3AodGhpcy5ub2RlLHtcImNsaXAtcGF0aFwiOnEoZC5pZCl9KX19KSxiLm9uKFwic25hcC51dGlsLmF0dHIuZmlsbFwiLGcoXCJmaWxsXCIpKSxiLm9uKFwic25hcC51dGlsLmF0dHIuc3Ryb2tlXCIsZyhcInN0cm9rZVwiKSk7dmFyIHU9L14oW2xyXSkoPzpcXCgoW14pXSopXFwpKT8oLiopJC9pO2Iub24oXCJzbmFwLnV0aWwuZ3JhZC5wYXJzZVwiLGZ1bmN0aW9uKGEpe2E9cihhKTt2YXIgYj1hLm1hdGNoKHUpO2lmKCFiKXJldHVybiBudWxsO3ZhciBjPWJbMV0sZD1iWzJdLGU9YlszXTtyZXR1cm4gZD1kLnNwbGl0KC9cXHMqLFxccyovKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuK2E9PWE/K2E6YX0pLDE9PWQubGVuZ3RoJiYwPT1kWzBdJiYoZD1bXSksZT1lLnNwbGl0KFwiLVwiKSxlPWUubWFwKGZ1bmN0aW9uKGEpe2E9YS5zcGxpdChcIjpcIik7dmFyIGI9e2NvbG9yOmFbMF19O3JldHVybiBhWzFdJiYoYi5vZmZzZXQ9cGFyc2VGbG9hdChhWzFdKSksYn0pLHt0eXBlOmMscGFyYW1zOmQsc3RvcHM6ZX19KSxiLm9uKFwic25hcC51dGlsLmF0dHIuZFwiLGZ1bmN0aW9uKGMpe2Iuc3RvcCgpLG0oYyxcImFycmF5XCIpJiZtKGNbMF0sXCJhcnJheVwiKSYmKGM9YS5wYXRoLnRvU3RyaW5nLmNhbGwoYykpLGM9cihjKSxjLm1hdGNoKC9bcnVvXS9pKSYmKGM9YS5wYXRoLnRvQWJzb2x1dGUoYykpLHAodGhpcy5ub2RlLHtkOmN9KX0pKC0xKSxiLm9uKFwic25hcC51dGlsLmF0dHIuI3RleHRcIixmdW5jdGlvbihhKXtiLnN0b3AoKSxhPXIoYSk7Zm9yKHZhciBjPWUuZG9jLmNyZWF0ZVRleHROb2RlKGEpO3RoaXMubm9kZS5maXJzdENoaWxkOyl0aGlzLm5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlLmZpcnN0Q2hpbGQpO3RoaXMubm9kZS5hcHBlbmRDaGlsZChjKX0pKC0xKSxiLm9uKFwic25hcC51dGlsLmF0dHIucGF0aFwiLGZ1bmN0aW9uKGEpe2Iuc3RvcCgpLHRoaXMuYXR0cih7ZDphfSl9KSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLmNsYXNzXCIsZnVuY3Rpb24oYSl7Yi5zdG9wKCksdGhpcy5ub2RlLmNsYXNzTmFtZS5iYXNlVmFsPWF9KSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLnZpZXdCb3hcIixmdW5jdGlvbihhKXt2YXIgYztjPW0oYSxcIm9iamVjdFwiKSYmXCJ4XCJpbiBhP1thLngsYS55LGEud2lkdGgsYS5oZWlnaHRdLmpvaW4oXCIgXCIpOm0oYSxcImFycmF5XCIpP2Euam9pbihcIiBcIik6YSxwKHRoaXMubm9kZSx7dmlld0JveDpjfSksYi5zdG9wKCl9KSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLnRyYW5zZm9ybVwiLGZ1bmN0aW9uKGEpe3RoaXMudHJhbnNmb3JtKGEpLGIuc3RvcCgpfSkoLTEpLGIub24oXCJzbmFwLnV0aWwuYXR0ci5yXCIsZnVuY3Rpb24oYSl7XCJyZWN0XCI9PXRoaXMudHlwZSYmKGIuc3RvcCgpLHAodGhpcy5ub2RlLHtyeDphLHJ5OmF9KSl9KSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLnRleHRwYXRoXCIsZnVuY3Rpb24oYSl7aWYoYi5zdG9wKCksXCJ0ZXh0XCI9PXRoaXMudHlwZSl7dmFyIGQsZSxmO2lmKCFhJiZ0aGlzLnRleHRQYXRoKXtmb3IoZT10aGlzLnRleHRQYXRoO2Uubm9kZS5maXJzdENoaWxkOyl0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoZS5ub2RlLmZpcnN0Q2hpbGQpO3JldHVybiBlLnJlbW92ZSgpLHZvaWQgZGVsZXRlIHRoaXMudGV4dFBhdGh9aWYobShhLFwic3RyaW5nXCIpKXt2YXIgZz1uKHRoaXMpLGg9bChnLnBhcmVudE5vZGUpLnBhdGgoYSk7Zy5hcHBlbmRDaGlsZChoLm5vZGUpLGQ9aC5pZCxoLmF0dHIoe2lkOmR9KX1lbHNlIGE9bChhKSxhIGluc3RhbmNlb2YgYyYmKGQ9YS5hdHRyKFwiaWRcIiksZHx8KGQ9YS5pZCxhLmF0dHIoe2lkOmR9KSkpO2lmKGQpaWYoZT10aGlzLnRleHRQYXRoLGY9dGhpcy5ub2RlLGUpZS5hdHRyKHtcInhsaW5rOmhyZWZcIjpcIiNcIitkfSk7ZWxzZXtmb3IoZT1wKFwidGV4dFBhdGhcIix7XCJ4bGluazpocmVmXCI6XCIjXCIrZH0pO2YuZmlyc3RDaGlsZDspZS5hcHBlbmRDaGlsZChmLmZpcnN0Q2hpbGQpO2YuYXBwZW5kQ2hpbGQoZSksdGhpcy50ZXh0UGF0aD1sKGUpfX19KSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLnRleHRcIixmdW5jdGlvbihhKXtpZihcInRleHRcIj09dGhpcy50eXBlKXtmb3IodmFyIGM9dGhpcy5ub2RlLGQ9ZnVuY3Rpb24oYSl7dmFyIGI9cChcInRzcGFuXCIpO2lmKG0oYSxcImFycmF5XCIpKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWIuYXBwZW5kQ2hpbGQoZChhW2NdKSk7ZWxzZSBiLmFwcGVuZENoaWxkKGUuZG9jLmNyZWF0ZVRleHROb2RlKGEpKTtyZXR1cm4gYi5ub3JtYWxpemUmJmIubm9ybWFsaXplKCksYn07Yy5maXJzdENoaWxkOyljLnJlbW92ZUNoaWxkKGMuZmlyc3RDaGlsZCk7Zm9yKHZhciBmPWQoYSk7Zi5maXJzdENoaWxkOyljLmFwcGVuZENoaWxkKGYuZmlyc3RDaGlsZCl9Yi5zdG9wKCl9KSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLmZvbnRTaXplXCIsaCkoLTEpLGIub24oXCJzbmFwLnV0aWwuYXR0ci5mb250LXNpemVcIixoKSgtMSksYi5vbihcInNuYXAudXRpbC5nZXRhdHRyLnRyYW5zZm9ybVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGIuc3RvcCgpLHRoaXMudHJhbnNmb3JtKCl9KSgtMSksYi5vbihcInNuYXAudXRpbC5nZXRhdHRyLnRleHRwYXRoXCIsZnVuY3Rpb24oKXtyZXR1cm4gYi5zdG9wKCksdGhpcy50ZXh0UGF0aH0pKC0xKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYyl7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5zdG9wKCk7dmFyIGQ9ZS5kb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLm5vZGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShcIm1hcmtlci1cIitjKTtyZXR1cm5cIm5vbmVcIj09ZD9kOmEoZS5kb2MuZ2V0RWxlbWVudEJ5SWQoZC5tYXRjaChvKVsxXSkpfX1mdW5jdGlvbiBkKGEpe3JldHVybiBmdW5jdGlvbihjKXtiLnN0b3AoKTt2YXIgZD1cIm1hcmtlclwiK2EuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHJpbmcoMSk7aWYoXCJcIj09Y3x8IWMpcmV0dXJuIHZvaWQodGhpcy5ub2RlLnN0eWxlW2RdPVwibm9uZVwiKTtpZihcIm1hcmtlclwiPT1jLnR5cGUpe3ZhciBlPWMubm9kZS5pZDtyZXR1cm4gZXx8cChjLm5vZGUse2lkOmMuaWR9KSx2b2lkKHRoaXMubm9kZS5zdHlsZVtkXT1xKGUpKX19fWIub24oXCJzbmFwLnV0aWwuZ2V0YXR0ci5tYXJrZXItZW5kXCIsYyhcImVuZFwiKSkoLTEpLGIub24oXCJzbmFwLnV0aWwuZ2V0YXR0ci5tYXJrZXJFbmRcIixjKFwiZW5kXCIpKSgtMSksYi5vbihcInNuYXAudXRpbC5nZXRhdHRyLm1hcmtlci1zdGFydFwiLGMoXCJzdGFydFwiKSkoLTEpLGIub24oXCJzbmFwLnV0aWwuZ2V0YXR0ci5tYXJrZXJTdGFydFwiLGMoXCJzdGFydFwiKSkoLTEpLGIub24oXCJzbmFwLnV0aWwuZ2V0YXR0ci5tYXJrZXItbWlkXCIsYyhcIm1pZFwiKSkoLTEpLGIub24oXCJzbmFwLnV0aWwuZ2V0YXR0ci5tYXJrZXJNaWRcIixjKFwibWlkXCIpKSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLm1hcmtlci1lbmRcIixkKFwiZW5kXCIpKSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLm1hcmtlckVuZFwiLGQoXCJlbmRcIikpKC0xKSxiLm9uKFwic25hcC51dGlsLmF0dHIubWFya2VyLXN0YXJ0XCIsZChcInN0YXJ0XCIpKSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLm1hcmtlclN0YXJ0XCIsZChcInN0YXJ0XCIpKSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLm1hcmtlci1taWRcIixkKFwibWlkXCIpKSgtMSksYi5vbihcInNuYXAudXRpbC5hdHRyLm1hcmtlck1pZFwiLGQoXCJtaWRcIikpKC0xKX0oKSxiLm9uKFwic25hcC51dGlsLmdldGF0dHIuclwiLGZ1bmN0aW9uKCl7cmV0dXJuXCJyZWN0XCI9PXRoaXMudHlwZSYmcCh0aGlzLm5vZGUsXCJyeFwiKT09cCh0aGlzLm5vZGUsXCJyeVwiKT8oYi5zdG9wKCkscCh0aGlzLm5vZGUsXCJyeFwiKSk6dm9pZCAwfSkoLTEpLGIub24oXCJzbmFwLnV0aWwuZ2V0YXR0ci50ZXh0XCIsZnVuY3Rpb24oKXtpZihcInRleHRcIj09dGhpcy50eXBlfHxcInRzcGFuXCI9PXRoaXMudHlwZSl7Yi5zdG9wKCk7dmFyIGE9aSh0aGlzLm5vZGUpO3JldHVybiAxPT1hLmxlbmd0aD9hWzBdOmF9fSkoLTEpLGIub24oXCJzbmFwLnV0aWwuZ2V0YXR0ci4jdGV4dFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS50ZXh0Q29udGVudH0pKC0xKSxiLm9uKFwic25hcC51dGlsLmdldGF0dHIudmlld0JveFwiLGZ1bmN0aW9uKCl7Yi5zdG9wKCk7dmFyIGM9cCh0aGlzLm5vZGUsXCJ2aWV3Qm94XCIpO3JldHVybiBjPyhjPWMuc3BsaXQocyksYS5fLmJveCgrY1swXSwrY1sxXSwrY1syXSwrY1szXSkpOnZvaWQgMH0pKC0xKSxiLm9uKFwic25hcC51dGlsLmdldGF0dHIucG9pbnRzXCIsZnVuY3Rpb24oKXt2YXIgYT1wKHRoaXMubm9kZSxcInBvaW50c1wiKTtyZXR1cm4gYi5zdG9wKCksYT9hLnNwbGl0KHMpOnZvaWQgMH0pKC0xKSxiLm9uKFwic25hcC51dGlsLmdldGF0dHIucGF0aFwiLGZ1bmN0aW9uKCl7dmFyIGE9cCh0aGlzLm5vZGUsXCJkXCIpO3JldHVybiBiLnN0b3AoKSxhfSkoLTEpLGIub24oXCJzbmFwLnV0aWwuZ2V0YXR0ci5jbGFzc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5jbGFzc05hbWUuYmFzZVZhbH0pKC0xKSxiLm9uKFwic25hcC51dGlsLmdldGF0dHIuZm9udFNpemVcIixqKSgtMSksYi5vbihcInNuYXAudXRpbC5nZXRhdHRyLmZvbnQtc2l6ZVwiLGopKC0xKX0pLGQucGx1Z2luKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4rYi50b0ZpeGVkKDMpK2F9fXZhciBkPXtcIitcIjpmdW5jdGlvbihhLGIpe3JldHVybiBhK2J9LFwiLVwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0sXCIvXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS9ifSxcIipcIjpmdW5jdGlvbihhLGIpe3JldHVybiBhKmJ9fSxlPVN0cmluZyxmPS9bYS16XSskL2ksZz0vXlxccyooWytcXC1cXC8qXSlcXHMqPVxccyooW1xcZC5lRStcXC1dKylcXHMqKFteXFxkXFxzXSspP1xccyokLztiLm9uKFwic25hcC51dGlsLmF0dHJcIixmdW5jdGlvbihhKXt2YXIgYz1lKGEpLm1hdGNoKGcpO2lmKGMpe3ZhciBoPWIubnQoKSxpPWguc3Vic3RyaW5nKGgubGFzdEluZGV4T2YoXCIuXCIpKzEpLGo9dGhpcy5hdHRyKGkpLGs9e307Yi5zdG9wKCk7dmFyIGw9Y1szXXx8XCJcIixtPWoubWF0Y2goZiksbj1kW2NbMV1dO2lmKG0mJm09PWw/YT1uKHBhcnNlRmxvYXQoaiksK2NbMl0pOihqPXRoaXMuYXNQWChpKSxhPW4odGhpcy5hc1BYKGkpLHRoaXMuYXNQWChpLGNbMl0rbCkpKSxpc05hTihqKXx8aXNOYU4oYSkpcmV0dXJuO2tbaV09YSx0aGlzLmF0dHIoayl9fSkoLTEwKSxiLm9uKFwic25hcC51dGlsLmVxdWFsXCIsZnVuY3Rpb24oaCxpKXt2YXIgaj1lKHRoaXMuYXR0cihoKXx8XCJcIiksaz1lKGkpLm1hdGNoKGcpO2lmKGspe2Iuc3RvcCgpO3ZhciBsPWtbM118fFwiXCIsbT1qLm1hdGNoKGYpLG49ZFtrWzFdXTtyZXR1cm4gbSYmbT09bD97ZnJvbTpwYXJzZUZsb2F0KGopLHRvOm4ocGFyc2VGbG9hdChqKSwra1syXSksZjpjKG0pfTooaj10aGlzLmFzUFgoaCkse2Zyb206aix0bzpuKGosdGhpcy5hc1BYKGgsa1syXStsKSksZjphfSl9fSkoLTEwKX0pLGQucGx1Z2luKGZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmPWQucHJvdG90eXBlLGc9YS5pcztmLnJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBoO3JldHVybiBudWxsPT1mJiYoZj1lKSxnKGEsXCJvYmplY3RcIikmJlwiW29iamVjdCBPYmplY3RdXCI9PWE/aD1hOm51bGwhPWEmJihoPXt4OmEseTpiLHdpZHRoOmMsaGVpZ2h0OmR9LG51bGwhPWUmJihoLnJ4PWUsaC5yeT1mKSksdGhpcy5lbChcInJlY3RcIixoKX0sZi5jaXJjbGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBnKGEsXCJvYmplY3RcIikmJlwiW29iamVjdCBPYmplY3RdXCI9PWE/ZD1hOm51bGwhPWEmJihkPXtjeDphLGN5OmIscjpjfSksdGhpcy5lbChcImNpcmNsZVwiLGQpfTt2YXIgaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyl9cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dmFyIGQ9ZS5kb2MuY3JlYXRlRWxlbWVudChcImltZ1wiKSxmPWUuZG9jLmJvZHk7ZC5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OWVtO3RvcDotOTk5OWVtXCIsZC5vbmxvYWQ9ZnVuY3Rpb24oKXtjLmNhbGwoZCksZC5vbmxvYWQ9ZC5vbmVycm9yPW51bGwsZi5yZW1vdmVDaGlsZChkKX0sZC5vbmVycm9yPWEsZi5hcHBlbmRDaGlsZChkKSxkLnNyYz1ifX0oKTtmLmltYWdlPWZ1bmN0aW9uKGIsYyxkLGUsZil7dmFyIGk9dGhpcy5lbChcImltYWdlXCIpO2lmKGcoYixcIm9iamVjdFwiKSYmXCJzcmNcImluIGIpaS5hdHRyKGIpO2Vsc2UgaWYobnVsbCE9Yil7dmFyIGo9e1wieGxpbms6aHJlZlwiOmIscHJlc2VydmVBc3BlY3RSYXRpbzpcIm5vbmVcIn07bnVsbCE9YyYmbnVsbCE9ZCYmKGoueD1jLGoueT1kKSxudWxsIT1lJiZudWxsIT1mPyhqLndpZHRoPWUsai5oZWlnaHQ9Zik6aChiLGZ1bmN0aW9uKCl7YS5fLiQoaS5ub2RlLHt3aWR0aDp0aGlzLm9mZnNldFdpZHRoLGhlaWdodDp0aGlzLm9mZnNldEhlaWdodH0pfSksYS5fLiQoaS5ub2RlLGopfXJldHVybiBpfSxmLmVsbGlwc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU7cmV0dXJuIGcoYSxcIm9iamVjdFwiKSYmXCJbb2JqZWN0IE9iamVjdF1cIj09YT9lPWE6bnVsbCE9YSYmKGU9e2N4OmEsY3k6YixyeDpjLHJ5OmR9KSx0aGlzLmVsKFwiZWxsaXBzZVwiLGUpfSxmLnBhdGg9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGcoYSxcIm9iamVjdFwiKSYmIWcoYSxcImFycmF5XCIpP2I9YTphJiYoYj17ZDphfSksdGhpcy5lbChcInBhdGhcIixiKX0sZi5ncm91cD1mLmc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbChcImdcIik7cmV0dXJuIDE9PWFyZ3VtZW50cy5sZW5ndGgmJmEmJiFhLnR5cGU/Yi5hdHRyKGEpOmFyZ3VtZW50cy5sZW5ndGgmJmIuYWRkKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSksYn0sZi5zdmc9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsaCxpKXt2YXIgaj17fTtyZXR1cm4gZyhhLFwib2JqZWN0XCIpJiZudWxsPT1iP2o9YToobnVsbCE9YSYmKGoueD1hKSxudWxsIT1iJiYoai55PWIpLG51bGwhPWMmJihqLndpZHRoPWMpLG51bGwhPWQmJihqLmhlaWdodD1kKSxudWxsIT1lJiZudWxsIT1mJiZudWxsIT1oJiZudWxsIT1pJiYoai52aWV3Qm94PVtlLGYsaCxpXSkpLHRoaXMuZWwoXCJzdmdcIixqKX0sZi5tYXNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWwoXCJtYXNrXCIpO3JldHVybiAxPT1hcmd1bWVudHMubGVuZ3RoJiZhJiYhYS50eXBlP2IuYXR0cihhKTphcmd1bWVudHMubGVuZ3RoJiZiLmFkZChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpLGJ9LGYucHRybj1mdW5jdGlvbihhLGIsYyxkLGUsZixoLGkpe2lmKGcoYSxcIm9iamVjdFwiKSl2YXIgaj1hO2Vsc2UgYXJndW1lbnRzLmxlbmd0aD8oaj17fSxudWxsIT1hJiYoai54PWEpLG51bGwhPWImJihqLnk9YiksbnVsbCE9YyYmKGoud2lkdGg9YyksbnVsbCE9ZCYmKGouaGVpZ2h0PWQpLG51bGwhPWUmJm51bGwhPWYmJm51bGwhPWgmJm51bGwhPWkmJihqLnZpZXdCb3g9W2UsZixoLGldKSk6aj17cGF0dGVyblVuaXRzOlwidXNlclNwYWNlT25Vc2VcIn07cmV0dXJuIHRoaXMuZWwoXCJwYXR0ZXJuXCIsail9LGYudXNlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ttYWtlKFwidXNlXCIsdGhpcy5ub2RlKX1yZXR1cm4gYSBpbnN0YW5jZW9mIGMmJihhLmF0dHIoXCJpZFwiKXx8YS5hdHRyKHtpZDpJRCgpfSksYT1hLmF0dHIoXCJpZFwiKSksdGhpcy5lbChcInVzZVwiLHtcInhsaW5rOmhyZWZcIjphfSl9cmV0dXJuIGMucHJvdG90eXBlLnVzZS5jYWxsKHRoaXMpfSxmLnRleHQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9O3JldHVybiBnKGEsXCJvYmplY3RcIik/ZD1hOm51bGwhPWEmJihkPXt4OmEseTpiLHRleHQ6Y3x8XCJcIn0pLHRoaXMuZWwoXCJ0ZXh0XCIsZCl9LGYubGluZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtyZXR1cm4gZyhhLFwib2JqZWN0XCIpP2U9YTpudWxsIT1hJiYoZT17eDE6YSx4MjpjLHkxOmIseTI6ZH0pLHRoaXMuZWwoXCJsaW5lXCIsZSl9LGYucG9seWxpbmU9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aD4xJiYoYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpO3ZhciBiPXt9O3JldHVybiBnKGEsXCJvYmplY3RcIikmJiFnKGEsXCJhcnJheVwiKT9iPWE6bnVsbCE9YSYmKGI9e3BvaW50czphfSksdGhpcy5lbChcInBvbHlsaW5lXCIsYil9LGYucG9seWdvbj1mdW5jdGlvbihhKXthcmd1bWVudHMubGVuZ3RoPjEmJihhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSk7dmFyIGI9e307cmV0dXJuIGcoYSxcIm9iamVjdFwiKSYmIWcoYSxcImFycmF5XCIpP2I9YTpudWxsIT1hJiYoYj17cG9pbnRzOmF9KSx0aGlzLmVsKFwicG9seWdvblwiLGIpfSxmdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gdGhpcy5zZWxlY3RBbGwoXCJzdG9wXCIpfWZ1bmN0aW9uIGQoYixjKXt2YXIgZD1qKFwic3RvcFwiKSxlPXtvZmZzZXQ6K2MrXCIlXCJ9O3JldHVybiBiPWEuY29sb3IoYiksZVtcInN0b3AtY29sb3JcIl09Yi5oZXgsYi5vcGFjaXR5PDEmJihlW1wic3RvcC1vcGFjaXR5XCJdPWIub3BhY2l0eSksaihkLGUpLHRoaXMubm9kZS5hcHBlbmRDaGlsZChkKSx0aGlzfWZ1bmN0aW9uIGUoKXtpZihcImxpbmVhckdyYWRpZW50XCI9PXRoaXMudHlwZSl7dmFyIGI9aih0aGlzLm5vZGUsXCJ4MVwiKXx8MCxjPWoodGhpcy5ub2RlLFwieDJcIil8fDEsZD1qKHRoaXMubm9kZSxcInkxXCIpfHwwLGU9aih0aGlzLm5vZGUsXCJ5MlwiKXx8MDtyZXR1cm4gYS5fLmJveChiLGQsbWF0aC5hYnMoYy1iKSxtYXRoLmFicyhlLWQpKX12YXIgZj10aGlzLm5vZGUuY3h8fC41LGc9dGhpcy5ub2RlLmN5fHwuNSxoPXRoaXMubm9kZS5yfHwwO3JldHVybiBhLl8uYm94KGYtaCxnLWgsMipoLDIqaCl9ZnVuY3Rpb24gZyhhLGMpe2Z1bmN0aW9uIGQoYSxiKXtmb3IodmFyIGM9KGItbCkvKGEtbSksZD1tO2E+ZDtkKyspZ1tkXS5vZmZzZXQ9KygrbCtjKihkLW0pKS50b0ZpeGVkKDIpO209YSxsPWJ9dmFyIGUsZj1iKFwic25hcC51dGlsLmdyYWQucGFyc2VcIixudWxsLGMpLmZpcnN0RGVmaW5lZCgpO2lmKCFmKXJldHVybiBudWxsO2YucGFyYW1zLnVuc2hpZnQoYSksZT1cImxcIj09Zi50eXBlLnRvTG93ZXJDYXNlKCk/aC5hcHBseSgwLGYucGFyYW1zKTppLmFwcGx5KDAsZi5wYXJhbXMpLGYudHlwZSE9Zi50eXBlLnRvTG93ZXJDYXNlKCkmJmooZS5ub2RlLHtncmFkaWVudFVuaXRzOlwidXNlclNwYWNlT25Vc2VcIn0pO3ZhciBnPWYuc3RvcHMsaz1nLmxlbmd0aCxsPTAsbT0wO2stLTtmb3IodmFyIG49MDtrPm47bisrKVwib2Zmc2V0XCJpbiBnW25dJiZkKG4sZ1tuXS5vZmZzZXQpO2ZvcihnW2tdLm9mZnNldD1nW2tdLm9mZnNldHx8MTAwLGQoayxnW2tdLm9mZnNldCksbj0wO2s+PW47bisrKXt2YXIgbz1nW25dO2UuYWRkU3RvcChvLmNvbG9yLG8ub2Zmc2V0KX1yZXR1cm4gZX1mdW5jdGlvbiBoKGIsZixnLGgsaSl7dmFyIGs9YS5fLm1ha2UoXCJsaW5lYXJHcmFkaWVudFwiLGIpO3JldHVybiBrLnN0b3BzPWMsay5hZGRTdG9wPWQsay5nZXRCQm94PWUsbnVsbCE9ZiYmaihrLm5vZGUse3gxOmYseTE6Zyx4MjpoLHkyOml9KSxrfWZ1bmN0aW9uIGkoYixmLGcsaCxpLGspe3ZhciBsPWEuXy5tYWtlKFwicmFkaWFsR3JhZGllbnRcIixiKTtyZXR1cm4gbC5zdG9wcz1jLGwuYWRkU3RvcD1kLGwuZ2V0QkJveD1lLG51bGwhPWYmJmoobC5ub2RlLHtjeDpmLGN5OmcscjpofSksbnVsbCE9aSYmbnVsbCE9ayYmaihsLm5vZGUse2Z4OmksZnk6a30pLGx9dmFyIGo9YS5fLiQ7Zi5ncmFkaWVudD1mdW5jdGlvbihhKXtyZXR1cm4gZyh0aGlzLmRlZnMsYSl9LGYuZ3JhZGllbnRMaW5lYXI9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGgodGhpcy5kZWZzLGEsYixjLGQpfSxmLmdyYWRpZW50UmFkaWFsPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIGkodGhpcy5kZWZzLGEsYixjLGQsZSl9LGYudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMubm9kZS5vd25lckRvY3VtZW50LGQ9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZT1jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZj10aGlzLm5vZGUuY2xvbmVOb2RlKCEwKTtyZXR1cm4gZC5hcHBlbmRDaGlsZChlKSxlLmFwcGVuZENoaWxkKGYpLGEuXy4kKGYse3htbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIn0pLGI9ZS5pbm5lckhUTUwsZC5yZW1vdmVDaGlsZChkLmZpcnN0Q2hpbGQpLGJ9LGYuY2xlYXI9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj10aGlzLm5vZGUuZmlyc3RDaGlsZDtiOylhPWIubmV4dFNpYmxpbmcsXCJkZWZzXCIhPWIudGFnTmFtZT9iLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik6Zi5jbGVhci5jYWxsKHtub2RlOmJ9KSxiPWF9fSgpfSksZC5wbHVnaW4oZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3ZhciBiPWMucHM9Yy5wc3x8e307cmV0dXJuIGJbYV0/YlthXS5zbGVlcD0xMDA6YlthXT17c2xlZXA6MTAwfSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBjIGluIGIpYltLXShjKSYmYyE9YSYmKGJbY10uc2xlZXAtLSwhYltjXS5zbGVlcCYmZGVsZXRlIGJbY10pfSksYlthXX1mdW5jdGlvbiBkKGEsYixjLGQpe3JldHVybiBudWxsPT1hJiYoYT1iPWM9ZD0wKSxudWxsPT1iJiYoYj1hLnksYz1hLndpZHRoLGQ9YS5oZWlnaHQsYT1hLngpLHt4OmEseTpiLHdpZHRoOmMsdzpjLGhlaWdodDpkLGg6ZCx4MjphK2MseTI6YitkLGN4OmErYy8yLGN5OmIrZC8yLHIxOk4ubWluKGMsZCkvMixyMjpOLm1heChjLGQpLzIscjA6Ti5zcXJ0KGMqYytkKmQpLzIscGF0aDp3KGEsYixjLGQpLHZiOlthLGIsYyxkXS5qb2luKFwiIFwiKX19ZnVuY3Rpb24gZSgpe3JldHVybiB0aGlzLmpvaW4oXCIsXCIpLnJlcGxhY2UoTCxcIiQxXCIpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9SihhKTtyZXR1cm4gYi50b1N0cmluZz1lLGJ9ZnVuY3Rpb24gZyhhLGIsYyxkLGUsZixnLGgsail7cmV0dXJuIG51bGw9PWo/bihhLGIsYyxkLGUsZixnLGgpOmkoYSxiLGMsZCxlLGYsZyxoLG8oYSxiLGMsZCxlLGYsZyxoLGopKX1mdW5jdGlvbiBoKGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4rKCthKS50b0ZpeGVkKDMpfXJldHVybiBhLl8uY2FjaGVyKGZ1bmN0aW9uKGEsZixoKXthIGluc3RhbmNlb2YgYiYmKGE9YS5hdHRyKFwiZFwiKSksYT1FKGEpO2Zvcih2YXIgaixrLGwsbSxuLG89XCJcIixwPXt9LHE9MCxyPTAscz1hLmxlbmd0aDtzPnI7cisrKXtpZihsPWFbcl0sXCJNXCI9PWxbMF0paj0rbFsxXSxrPStsWzJdO2Vsc2V7aWYobT1nKGosayxsWzFdLGxbMl0sbFszXSxsWzRdLGxbNV0sbFs2XSkscSttPmYpe2lmKGQmJiFwLnN0YXJ0KXtpZihuPWcoaixrLGxbMV0sbFsyXSxsWzNdLGxbNF0sbFs1XSxsWzZdLGYtcSksbys9W1wiQ1wiK2Uobi5zdGFydC54KSxlKG4uc3RhcnQueSksZShuLm0ueCksZShuLm0ueSksZShuLngpLGUobi55KV0saClyZXR1cm4gbztwLnN0YXJ0PW8sbz1bXCJNXCIrZShuLngpLGUobi55KStcIkNcIitlKG4ubi54KSxlKG4ubi55KSxlKG4uZW5kLngpLGUobi5lbmQueSksZShsWzVdKSxlKGxbNl0pXS5qb2luKCkscSs9bSxqPStsWzVdLGs9K2xbNl07Y29udGludWV9aWYoIWMmJiFkKXJldHVybiBuPWcoaixrLGxbMV0sbFsyXSxsWzNdLGxbNF0sbFs1XSxsWzZdLGYtcSl9cSs9bSxqPStsWzVdLGs9K2xbNl19bys9bC5zaGlmdCgpK2x9cmV0dXJuIHAuZW5kPW8sbj1jP3E6ZD9wOmkoaixrLGxbMF0sbFsxXSxsWzJdLGxbM10sbFs0XSxsWzVdLDEpfSxudWxsLGEuXy5jbG9uZSl9ZnVuY3Rpb24gaShhLGIsYyxkLGUsZixnLGgsaSl7dmFyIGo9MS1pLGs9UihqLDMpLGw9UihqLDIpLG09aSppLG49bSppLG89ayphKzMqbCppKmMrMypqKmkqaSplK24qZyxwPWsqYiszKmwqaSpkKzMqaippKmkqZituKmgscT1hKzIqaSooYy1hKSttKihlLTIqYythKSxyPWIrMippKihkLWIpK20qKGYtMipkK2IpLHM9YysyKmkqKGUtYykrbSooZy0yKmUrYyksdD1kKzIqaSooZi1kKSttKihoLTIqZitkKSx1PWoqYStpKmMsdj1qKmIraSpkLHc9aiplK2kqZyx4PWoqZitpKmgseT05MC0xODAqTi5hdGFuMihxLXMsci10KS9PO3JldHVybnt4Om8seTpwLG06e3g6cSx5OnJ9LG46e3g6cyx5OnR9LHN0YXJ0Ont4OnUseTp2fSxlbmQ6e3g6dyx5Onh9LGFscGhhOnl9fWZ1bmN0aW9uIGooYixjLGUsZixnLGgsaSxqKXthLmlzKGIsXCJhcnJheVwiKXx8KGI9W2IsYyxlLGYsZyxoLGksal0pO3ZhciBrPUQuYXBwbHkobnVsbCxiKTtyZXR1cm4gZChrLm1pbi54LGsubWluLnksay5tYXgueC1rLm1pbi54LGsubWF4Lnktay5taW4ueSl9ZnVuY3Rpb24gayhhLGIsYyl7cmV0dXJuIGI+PWEueCYmYjw9YS54K2Eud2lkdGgmJmM+PWEueSYmYzw9YS55K2EuaGVpZ2h0fWZ1bmN0aW9uIGwoYSxiKXtyZXR1cm4gYT1kKGEpLGI9ZChiKSxrKGIsYS54LGEueSl8fGsoYixhLngyLGEueSl8fGsoYixhLngsYS55Mil8fGsoYixhLngyLGEueTIpfHxrKGEsYi54LGIueSl8fGsoYSxiLngyLGIueSl8fGsoYSxiLngsYi55Mil8fGsoYSxiLngyLGIueTIpfHwoYS54PGIueDImJmEueD5iLnh8fGIueDxhLngyJiZiLng+YS54KSYmKGEueTxiLnkyJiZhLnk+Yi55fHxiLnk8YS55MiYmYi55PmEueSl9ZnVuY3Rpb24gbShhLGIsYyxkLGUpe3ZhciBmPS0zKmIrOSpjLTkqZCszKmUsZz1hKmYrNipiLTEyKmMrNipkO3JldHVybiBhKmctMypiKzMqY31mdW5jdGlvbiBuKGEsYixjLGQsZSxmLGcsaCxpKXtudWxsPT1pJiYoaT0xKSxpPWk+MT8xOjA+aT8wOmk7Zm9yKHZhciBqPWkvMixrPTEyLGw9Wy0uMTI1MiwuMTI1MiwtLjM2NzgsLjM2NzgsLS41ODczLC41ODczLC0uNzY5OSwuNzY5OSwtLjkwNDEsLjkwNDEsLS45ODE2LC45ODE2XSxuPVsuMjQ5MSwuMjQ5MSwuMjMzNSwuMjMzNSwuMjAzMiwuMjAzMiwuMTYwMSwuMTYwMSwuMTA2OSwuMTA2OSwuMDQ3MiwuMDQ3Ml0sbz0wLHA9MDtrPnA7cCsrKXt2YXIgcT1qKmxbcF0raixyPW0ocSxhLGMsZSxnKSxzPW0ocSxiLGQsZixoKSx0PXIqcitzKnM7bys9bltwXSpOLnNxcnQodCl9cmV0dXJuIGoqb31mdW5jdGlvbiBvKGEsYixjLGQsZSxmLGcsaCxpKXtpZighKDA+aXx8bihhLGIsYyxkLGUsZixnLGgpPGkpKXt2YXIgaixrPTEsbD1rLzIsbT1rLWwsbz0uMDE7Zm9yKGo9bihhLGIsYyxkLGUsZixnLGgsbSk7UyhqLWkpPm87KWwvPTIsbSs9KGk+aj8xOi0xKSpsLGo9bihhLGIsYyxkLGUsZixnLGgsbSk7cmV0dXJuIG19fWZ1bmN0aW9uIHAoYSxiLGMsZCxlLGYsZyxoKXtpZighKFEoYSxjKTxQKGUsZyl8fFAoYSxjKT5RKGUsZyl8fFEoYixkKTxQKGYsaCl8fFAoYixkKT5RKGYsaCkpKXt2YXIgaT0oYSpkLWIqYykqKGUtZyktKGEtYykqKGUqaC1mKmcpLGo9KGEqZC1iKmMpKihmLWgpLShiLWQpKihlKmgtZipnKSxrPShhLWMpKihmLWgpLShiLWQpKihlLWcpO2lmKGspe3ZhciBsPWkvayxtPWovayxuPStsLnRvRml4ZWQoMiksbz0rbS50b0ZpeGVkKDIpO2lmKCEobjwrUChhLGMpLnRvRml4ZWQoMil8fG4+K1EoYSxjKS50b0ZpeGVkKDIpfHxuPCtQKGUsZykudG9GaXhlZCgyKXx8bj4rUShlLGcpLnRvRml4ZWQoMil8fG88K1AoYixkKS50b0ZpeGVkKDIpfHxvPitRKGIsZCkudG9GaXhlZCgyKXx8bzwrUChmLGgpLnRvRml4ZWQoMil8fG8+K1EoZixoKS50b0ZpeGVkKDIpKSlyZXR1cm57eDpsLHk6bX19fX1mdW5jdGlvbiBxKGEsYixjKXt2YXIgZD1qKGEpLGU9aihiKTtpZighbChkLGUpKXJldHVybiBjPzA6W107Zm9yKHZhciBmPW4uYXBwbHkoMCxhKSxnPW4uYXBwbHkoMCxiKSxoPX5+KGYvOCksaz1+fihnLzgpLG09W10sbz1bXSxxPXt9LHI9Yz8wOltdLHM9MDtoKzE+cztzKyspe3ZhciB0PWkuYXBwbHkoMCxhLmNvbmNhdChzL2gpKTttLnB1c2goe3g6dC54LHk6dC55LHQ6cy9ofSl9Zm9yKHM9MDtrKzE+cztzKyspdD1pLmFwcGx5KDAsYi5jb25jYXQocy9rKSksby5wdXNoKHt4OnQueCx5OnQueSx0OnMva30pO2ZvcihzPTA7aD5zO3MrKylmb3IodmFyIHU9MDtrPnU7dSsrKXt2YXIgdj1tW3NdLHc9bVtzKzFdLHg9b1t1XSx5PW9bdSsxXSx6PVMody54LXYueCk8LjAwMT9cInlcIjpcInhcIixBPVMoeS54LXgueCk8LjAwMT9cInlcIjpcInhcIixCPXAodi54LHYueSx3Lngsdy55LHgueCx4LnkseS54LHkueSk7aWYoQil7aWYocVtCLngudG9GaXhlZCg0KV09PUIueS50b0ZpeGVkKDQpKWNvbnRpbnVlO3FbQi54LnRvRml4ZWQoNCldPUIueS50b0ZpeGVkKDQpO3ZhciBDPXYudCtTKChCW3pdLXZbel0pLyh3W3pdLXZbel0pKSoody50LXYudCksRD14LnQrUygoQltBXS14W0FdKS8oeVtBXS14W0FdKSkqKHkudC14LnQpO0M+PTAmJjE+PUMmJkQ+PTAmJjE+PUQmJihjP3IrKzpyLnB1c2goe3g6Qi54LHk6Qi55LHQxOkMsdDI6RH0pKX19cmV0dXJuIHJ9ZnVuY3Rpb24gcihhLGIpe3JldHVybiB0KGEsYil9ZnVuY3Rpb24gcyhhLGIpe3JldHVybiB0KGEsYiwxKX1mdW5jdGlvbiB0KGEsYixjKXthPUUoYSksYj1FKGIpO2Zvcih2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuPWM/MDpbXSxvPTAscD1hLmxlbmd0aDtwPm87bysrKXt2YXIgcj1hW29dO2lmKFwiTVwiPT1yWzBdKWQ9aD1yWzFdLGU9aT1yWzJdO2Vsc2V7XCJDXCI9PXJbMF0/KGw9W2QsZV0uY29uY2F0KHIuc2xpY2UoMSkpLGQ9bFs2XSxlPWxbN10pOihsPVtkLGUsZCxlLGgsaSxoLGldLGQ9aCxlPWkpO2Zvcih2YXIgcz0wLHQ9Yi5sZW5ndGg7dD5zO3MrKyl7dmFyIHU9YltzXTtpZihcIk1cIj09dVswXSlmPWo9dVsxXSxnPWs9dVsyXTtlbHNle1wiQ1wiPT11WzBdPyhtPVtmLGddLmNvbmNhdCh1LnNsaWNlKDEpKSxmPW1bNl0sZz1tWzddKToobT1bZixnLGYsZyxqLGssaixrXSxmPWosZz1rKTt2YXIgdj1xKGwsbSxjKTtpZihjKW4rPXY7ZWxzZXtmb3IodmFyIHc9MCx4PXYubGVuZ3RoO3g+dzt3Kyspdlt3XS5zZWdtZW50MT1vLHZbd10uc2VnbWVudDI9cyx2W3ddLmJlejE9bCx2W3ddLmJlejI9bTtuPW4uY29uY2F0KHYpfX19fX1yZXR1cm4gbn1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZD12KGEpO3JldHVybiBrKGQsYixjKSYmdChhLFtbXCJNXCIsYixjXSxbXCJIXCIsZC54MisxMF1dLDEpJTI9PTF9ZnVuY3Rpb24gdihhKXt2YXIgYj1jKGEpO2lmKGIuYmJveClyZXR1cm4gSihiLmJib3gpO2lmKCFhKXJldHVybiBkKCk7YT1FKGEpO2Zvcih2YXIgZSxmPTAsZz0wLGg9W10saT1bXSxqPTAsaz1hLmxlbmd0aDtrPmo7aisrKWlmKGU9YVtqXSxcIk1cIj09ZVswXSlmPWVbMV0sZz1lWzJdLGgucHVzaChmKSxpLnB1c2goZyk7ZWxzZXt2YXIgbD1EKGYsZyxlWzFdLGVbMl0sZVszXSxlWzRdLGVbNV0sZVs2XSk7aD1oLmNvbmNhdChsLm1pbi54LGwubWF4LngpLGk9aS5jb25jYXQobC5taW4ueSxsLm1heC55KSxmPWVbNV0sZz1lWzZdfXZhciBtPVAuYXBwbHkoMCxoKSxuPVAuYXBwbHkoMCxpKSxvPVEuYXBwbHkoMCxoKSxwPVEuYXBwbHkoMCxpKSxxPWQobSxuLG8tbSxwLW4pO3JldHVybiBiLmJib3g9SihxKSxxfWZ1bmN0aW9uIHcoYSxiLGMsZCxmKXtpZihmKXJldHVybltbXCJNXCIsK2ErICtmLGJdLFtcImxcIixjLTIqZiwwXSxbXCJhXCIsZixmLDAsMCwxLGYsZl0sW1wibFwiLDAsZC0yKmZdLFtcImFcIixmLGYsMCwwLDEsLWYsZl0sW1wibFwiLDIqZi1jLDBdLFtcImFcIixmLGYsMCwwLDEsLWYsLWZdLFtcImxcIiwwLDIqZi1kXSxbXCJhXCIsZixmLDAsMCwxLGYsLWZdLFtcInpcIl1dO3ZhciBnPVtbXCJNXCIsYSxiXSxbXCJsXCIsYywwXSxbXCJsXCIsMCxkXSxbXCJsXCIsLWMsMF0sW1wielwiXV07cmV0dXJuIGcudG9TdHJpbmc9ZSxnfWZ1bmN0aW9uIHgoYSxiLGMsZCxmKXtpZihudWxsPT1mJiZudWxsPT1kJiYoZD1jKSxhPSthLGI9K2IsYz0rYyxkPStkLG51bGwhPWYpdmFyIGc9TWF0aC5QSS8xODAsaD1hK2MqTWF0aC5jb3MoLWQqZyksaT1hK2MqTWF0aC5jb3MoLWYqZyksaj1iK2MqTWF0aC5zaW4oLWQqZyksaz1iK2MqTWF0aC5zaW4oLWYqZyksbD1bW1wiTVwiLGgsal0sW1wiQVwiLGMsYywwLCsoZi1kPjE4MCksMCxpLGtdXTtlbHNlIGw9W1tcIk1cIixhLGJdLFtcIm1cIiwwLC1kXSxbXCJhXCIsYyxkLDAsMSwxLDAsMipkXSxbXCJhXCIsYyxkLDAsMSwxLDAsLTIqZF0sW1wielwiXV07cmV0dXJuIGwudG9TdHJpbmc9ZSxsfWZ1bmN0aW9uIHkoYil7dmFyIGQ9YyhiKSxnPVN0cmluZy5wcm90b3R5cGUudG9Mb3dlckNhc2U7aWYoZC5yZWwpcmV0dXJuIGYoZC5yZWwpO2EuaXMoYixcImFycmF5XCIpJiZhLmlzKGImJmJbMF0sXCJhcnJheVwiKXx8KGI9YS5wYXJzZVBhdGhTdHJpbmcoYikpO3ZhciBoPVtdLGk9MCxqPTAsaz0wLGw9MCxtPTA7XCJNXCI9PWJbMF1bMF0mJihpPWJbMF1bMV0saj1iWzBdWzJdLGs9aSxsPWosbSsrLGgucHVzaChbXCJNXCIsaSxqXSkpO2Zvcih2YXIgbj1tLG89Yi5sZW5ndGg7bz5uO24rKyl7dmFyIHA9aFtuXT1bXSxxPWJbbl07aWYocVswXSE9Zy5jYWxsKHFbMF0pKXN3aXRjaChwWzBdPWcuY2FsbChxWzBdKSxwWzBdKXtjYXNlXCJhXCI6cFsxXT1xWzFdLHBbMl09cVsyXSxwWzNdPXFbM10scFs0XT1xWzRdLHBbNV09cVs1XSxwWzZdPSsocVs2XS1pKS50b0ZpeGVkKDMpLHBbN109KyhxWzddLWopLnRvRml4ZWQoMyk7YnJlYWs7Y2FzZVwidlwiOnBbMV09KyhxWzFdLWopLnRvRml4ZWQoMyk7YnJlYWs7Y2FzZVwibVwiOms9cVsxXSxsPXFbMl07ZGVmYXVsdDpmb3IodmFyIHI9MSxzPXEubGVuZ3RoO3M+cjtyKyspcFtyXT0rKHFbcl0tKHIlMj9pOmopKS50b0ZpeGVkKDMpfWVsc2V7cD1oW25dPVtdLFwibVwiPT1xWzBdJiYoaz1xWzFdK2ksbD1xWzJdK2opO2Zvcih2YXIgdD0wLHU9cS5sZW5ndGg7dT50O3QrKyloW25dW3RdPXFbdF19dmFyIHY9aFtuXS5sZW5ndGg7c3dpdGNoKGhbbl1bMF0pe2Nhc2VcInpcIjppPWssaj1sO2JyZWFrO2Nhc2VcImhcIjppKz0raFtuXVt2LTFdO2JyZWFrO2Nhc2VcInZcIjpqKz0raFtuXVt2LTFdO2JyZWFrO2RlZmF1bHQ6aSs9K2hbbl1bdi0yXSxqKz0raFtuXVt2LTFdfX1yZXR1cm4gaC50b1N0cmluZz1lLGQucmVsPWYoaCksaH1mdW5jdGlvbiB6KGIpe3ZhciBkPWMoYik7aWYoZC5hYnMpcmV0dXJuIGYoZC5hYnMpO2lmKEkoYixcImFycmF5XCIpJiZJKGImJmJbMF0sXCJhcnJheVwiKXx8KGI9YS5wYXJzZVBhdGhTdHJpbmcoYikpLCFifHwhYi5sZW5ndGgpcmV0dXJuW1tcIk1cIiwwLDBdXTt2YXIgZyxoPVtdLGk9MCxqPTAsaz0wLGw9MCxtPTA7XCJNXCI9PWJbMF1bMF0mJihpPStiWzBdWzFdLGo9K2JbMF1bMl0saz1pLGw9aixtKyssaFswXT1bXCJNXCIsaSxqXSk7Zm9yKHZhciBuLG8scD0zPT1iLmxlbmd0aCYmXCJNXCI9PWJbMF1bMF0mJlwiUlwiPT1iWzFdWzBdLnRvVXBwZXJDYXNlKCkmJlwiWlwiPT1iWzJdWzBdLnRvVXBwZXJDYXNlKCkscT1tLHI9Yi5sZW5ndGg7cj5xO3ErKyl7aWYoaC5wdXNoKG49W10pLG89YltxXSxnPW9bMF0sZyE9Zy50b1VwcGVyQ2FzZSgpKXN3aXRjaChuWzBdPWcudG9VcHBlckNhc2UoKSxuWzBdKXtjYXNlXCJBXCI6blsxXT1vWzFdLG5bMl09b1syXSxuWzNdPW9bM10sbls0XT1vWzRdLG5bNV09b1s1XSxuWzZdPStvWzZdK2ksbls3XT0rb1s3XStqO2JyZWFrO2Nhc2VcIlZcIjpuWzFdPStvWzFdK2o7YnJlYWs7Y2FzZVwiSFwiOm5bMV09K29bMV0raTticmVhaztjYXNlXCJSXCI6Zm9yKHZhciBzPVtpLGpdLmNvbmNhdChvLnNsaWNlKDEpKSx0PTIsdT1zLmxlbmd0aDt1PnQ7dCsrKXNbdF09K3NbdF0raSxzWysrdF09K3NbdF0rajtoLnBvcCgpLGg9aC5jb25jYXQoRyhzLHApKTticmVhaztjYXNlXCJPXCI6aC5wb3AoKSxzPXgoaSxqLG9bMV0sb1syXSkscy5wdXNoKHNbMF0pLGg9aC5jb25jYXQocyk7YnJlYWs7Y2FzZVwiVVwiOmgucG9wKCksaD1oLmNvbmNhdCh4KGksaixvWzFdLG9bMl0sb1szXSkpLG49W1wiVVwiXS5jb25jYXQoaFtoLmxlbmd0aC0xXS5zbGljZSgtMikpO2JyZWFrO2Nhc2VcIk1cIjprPStvWzFdK2ksbD0rb1syXStqO2RlZmF1bHQ6Zm9yKHQ9MSx1PW8ubGVuZ3RoO3U+dDt0Kyspblt0XT0rb1t0XSsodCUyP2k6ail9ZWxzZSBpZihcIlJcIj09ZylzPVtpLGpdLmNvbmNhdChvLnNsaWNlKDEpKSxoLnBvcCgpLGg9aC5jb25jYXQoRyhzLHApKSxuPVtcIlJcIl0uY29uY2F0KG8uc2xpY2UoLTIpKTtlbHNlIGlmKFwiT1wiPT1nKWgucG9wKCkscz14KGksaixvWzFdLG9bMl0pLHMucHVzaChzWzBdKSxoPWguY29uY2F0KHMpO2Vsc2UgaWYoXCJVXCI9PWcpaC5wb3AoKSxoPWguY29uY2F0KHgoaSxqLG9bMV0sb1syXSxvWzNdKSksbj1bXCJVXCJdLmNvbmNhdChoW2gubGVuZ3RoLTFdLnNsaWNlKC0yKSk7ZWxzZSBmb3IodmFyIHY9MCx3PW8ubGVuZ3RoO3c+djt2Kyspblt2XT1vW3ZdO2lmKGc9Zy50b1VwcGVyQ2FzZSgpLFwiT1wiIT1nKXN3aXRjaChuWzBdKXtjYXNlXCJaXCI6aT0rayxqPStsO2JyZWFrO2Nhc2VcIkhcIjppPW5bMV07YnJlYWs7Y2FzZVwiVlwiOmo9blsxXTticmVhaztjYXNlXCJNXCI6az1uW24ubGVuZ3RoLTJdLGw9bltuLmxlbmd0aC0xXTtkZWZhdWx0Omk9bltuLmxlbmd0aC0yXSxqPW5bbi5sZW5ndGgtMV19fXJldHVybiBoLnRvU3RyaW5nPWUsZC5hYnM9ZihoKSxofWZ1bmN0aW9uIEEoYSxiLGMsZCl7cmV0dXJuW2EsYixjLGQsYyxkXX1mdW5jdGlvbiBCKGEsYixjLGQsZSxmKXt2YXIgZz0xLzMsaD0yLzM7cmV0dXJuW2cqYStoKmMsZypiK2gqZCxnKmUraCpjLGcqZitoKmQsZSxmXX1mdW5jdGlvbiBDKGIsYyxkLGUsZixnLGgsaSxqLGspe3ZhciBsLG09MTIwKk8vMTgwLG49Ty8xODAqKCtmfHwwKSxvPVtdLHA9YS5fLmNhY2hlcihmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSpOLmNvcyhjKS1iKk4uc2luKGMpLGU9YSpOLnNpbihjKStiKk4uY29zKGMpO3JldHVybnt4OmQseTplfX0pO2lmKGspeT1rWzBdLHo9a1sxXSx3PWtbMl0seD1rWzNdO2Vsc2V7bD1wKGIsYywtbiksYj1sLngsYz1sLnksbD1wKGksaiwtbiksaT1sLngsaj1sLnk7dmFyIHE9KE4uY29zKE8vMTgwKmYpLE4uc2luKE8vMTgwKmYpLChiLWkpLzIpLHI9KGMtaikvMixzPXEqcS8oZCpkKStyKnIvKGUqZSk7cz4xJiYocz1OLnNxcnQocyksZD1zKmQsZT1zKmUpO3ZhciB0PWQqZCx1PWUqZSx2PShnPT1oPy0xOjEpKk4uc3FydChTKCh0KnUtdCpyKnItdSpxKnEpLyh0KnIqcit1KnEqcSkpKSx3PXYqZCpyL2UrKGIraSkvMix4PXYqLWUqcS9kKyhjK2opLzIseT1OLmFzaW4oKChjLXgpL2UpLnRvRml4ZWQoOSkpLHo9Ti5hc2luKCgoai14KS9lKS50b0ZpeGVkKDkpKTt5PXc+Yj9PLXk6eSx6PXc+aT9PLXo6eiwwPnkmJih5PTIqTyt5KSwwPnomJih6PTIqTyt6KSxoJiZ5PnomJih5LT0yKk8pLCFoJiZ6PnkmJih6LT0yKk8pfXZhciBBPXoteTtpZihTKEEpPm0pe3ZhciBCPXosRD1pLEU9ajt6PXkrbSooaCYmej55PzE6LTEpLGk9dytkKk4uY29zKHopLGo9eCtlKk4uc2luKHopLG89QyhpLGosZCxlLGYsMCxoLEQsRSxbeixCLHcseF0pfUE9ei15O3ZhciBGPU4uY29zKHkpLEc9Ti5zaW4oeSksSD1OLmNvcyh6KSxJPU4uc2luKHopLEo9Ti50YW4oQS80KSxLPTQvMypkKkosTD00LzMqZSpKLE09W2IsY10sUD1bYitLKkcsYy1MKkZdLFE9W2krSypJLGotTCpIXSxSPVtpLGpdO2lmKFBbMF09MipNWzBdLVBbMF0sUFsxXT0yKk1bMV0tUFsxXSxrKXJldHVybltQLFEsUl0uY29uY2F0KG8pO289W1AsUSxSXS5jb25jYXQobykuam9pbigpLnNwbGl0KFwiLFwiKTtmb3IodmFyIFQ9W10sVT0wLFY9by5sZW5ndGg7Vj5VO1UrKylUW1VdPVUlMj9wKG9bVS0xXSxvW1VdLG4pLnk6cChvW1VdLG9bVSsxXSxuKS54O3JldHVybiBUfWZ1bmN0aW9uIEQoYSxiLGMsZCxlLGYsZyxoKXtmb3IodmFyIGksaixrLGwsbSxuLG8scCxxPVtdLHI9W1tdLFtdXSxzPTA7Mj5zOysrcylpZigwPT1zPyhqPTYqYS0xMipjKzYqZSxpPS0zKmErOSpjLTkqZSszKmcsaz0zKmMtMyphKTooaj02KmItMTIqZCs2KmYsaT0tMypiKzkqZC05KmYrMypoLGs9MypkLTMqYiksUyhpKTwxZS0xMil7aWYoUyhqKTwxZS0xMiljb250aW51ZTtsPS1rL2osbD4wJiYxPmwmJnEucHVzaChsKX1lbHNlIG89aipqLTQqayppLHA9Ti5zcXJ0KG8pLDA+b3x8KG09KC1qK3ApLygyKmkpLG0+MCYmMT5tJiZxLnB1c2gobSksbj0oLWotcCkvKDIqaSksbj4wJiYxPm4mJnEucHVzaChuKSk7Zm9yKHZhciB0LHU9cS5sZW5ndGgsdj11O3UtLTspbD1xW3VdLHQ9MS1sLHJbMF1bdV09dCp0KnQqYSszKnQqdCpsKmMrMyp0KmwqbCplK2wqbCpsKmcsclsxXVt1XT10KnQqdCpiKzMqdCp0KmwqZCszKnQqbCpsKmYrbCpsKmwqaDtyZXR1cm4gclswXVt2XT1hLHJbMV1bdl09YixyWzBdW3YrMV09ZyxyWzFdW3YrMV09aCxyWzBdLmxlbmd0aD1yWzFdLmxlbmd0aD12KzIse21pbjp7eDpQLmFwcGx5KDAsclswXSkseTpQLmFwcGx5KDAsclsxXSl9LG1heDp7eDpRLmFwcGx5KDAsclswXSkseTpRLmFwcGx5KDAsclsxXSl9fX1mdW5jdGlvbiBFKGEsYil7dmFyIGQ9IWImJmMoYSk7aWYoIWImJmQuY3VydmUpcmV0dXJuIGYoZC5jdXJ2ZSk7Zm9yKHZhciBlPXooYSksZz1iJiZ6KGIpLGg9e3g6MCx5OjAsYng6MCxieTowLFg6MCxZOjAscXg6bnVsbCxxeTpudWxsfSxpPXt4OjAseTowLGJ4OjAsYnk6MCxYOjAsWTowLHF4Om51bGwscXk6bnVsbH0saj0oZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoIWEpcmV0dXJuW1wiQ1wiLGIueCxiLnksYi54LGIueSxiLngsYi55XTtzd2l0Y2goIShhWzBdaW57VDoxLFE6MX0pJiYoYi5xeD1iLnF5PW51bGwpLGFbMF0pe2Nhc2VcIk1cIjpiLlg9YVsxXSxiLlk9YVsyXTticmVhaztjYXNlXCJBXCI6YT1bXCJDXCJdLmNvbmNhdChDLmFwcGx5KDAsW2IueCxiLnldLmNvbmNhdChhLnNsaWNlKDEpKSkpO2JyZWFrO2Nhc2VcIlNcIjpcIkNcIj09Y3x8XCJTXCI9PWM/KGQ9MipiLngtYi5ieCxlPTIqYi55LWIuYnkpOihkPWIueCxlPWIueSksYT1bXCJDXCIsZCxlXS5jb25jYXQoYS5zbGljZSgxKSk7YnJlYWs7Y2FzZVwiVFwiOlwiUVwiPT1jfHxcIlRcIj09Yz8oYi5xeD0yKmIueC1iLnF4LGIucXk9MipiLnktYi5xeSk6KGIucXg9Yi54LGIucXk9Yi55KSxhPVtcIkNcIl0uY29uY2F0KEIoYi54LGIueSxiLnF4LGIucXksYVsxXSxhWzJdKSk7YnJlYWs7Y2FzZVwiUVwiOmIucXg9YVsxXSxiLnF5PWFbMl0sYT1bXCJDXCJdLmNvbmNhdChCKGIueCxiLnksYVsxXSxhWzJdLGFbM10sYVs0XSkpO2JyZWFrO2Nhc2VcIkxcIjphPVtcIkNcIl0uY29uY2F0KEEoYi54LGIueSxhWzFdLGFbMl0pKTticmVhaztjYXNlXCJIXCI6YT1bXCJDXCJdLmNvbmNhdChBKGIueCxiLnksYVsxXSxiLnkpKTticmVhaztjYXNlXCJWXCI6YT1bXCJDXCJdLmNvbmNhdChBKGIueCxiLnksYi54LGFbMV0pKTticmVhaztjYXNlXCJaXCI6YT1bXCJDXCJdLmNvbmNhdChBKGIueCxiLnksYi5YLGIuWSkpfXJldHVybiBhfSksaz1mdW5jdGlvbihhLGIpe2lmKGFbYl0ubGVuZ3RoPjcpe2FbYl0uc2hpZnQoKTtmb3IodmFyIGM9YVtiXTtjLmxlbmd0aDspbVtiXT1cIkFcIixnJiYobltiXT1cIkFcIiksYS5zcGxpY2UoYisrLDAsW1wiQ1wiXS5jb25jYXQoYy5zcGxpY2UoMCw2KSkpO2Euc3BsaWNlKGIsMSkscj1RKGUubGVuZ3RoLGcmJmcubGVuZ3RofHwwKX19LGw9ZnVuY3Rpb24oYSxiLGMsZCxmKXthJiZiJiZcIk1cIj09YVtmXVswXSYmXCJNXCIhPWJbZl1bMF0mJihiLnNwbGljZShmLDAsW1wiTVwiLGQueCxkLnldKSxjLmJ4PTAsYy5ieT0wLGMueD1hW2ZdWzFdLGMueT1hW2ZdWzJdLHI9UShlLmxlbmd0aCxnJiZnLmxlbmd0aHx8MCkpfSxtPVtdLG49W10sbz1cIlwiLHA9XCJcIixxPTAscj1RKGUubGVuZ3RoLGcmJmcubGVuZ3RofHwwKTtyPnE7cSsrKXtlW3FdJiYobz1lW3FdWzBdKSxcIkNcIiE9byYmKG1bcV09byxxJiYocD1tW3EtMV0pKSxlW3FdPWooZVtxXSxoLHApLFwiQVwiIT1tW3FdJiZcIkNcIj09byYmKG1bcV09XCJDXCIpLGsoZSxxKSxnJiYoZ1txXSYmKG89Z1txXVswXSksXCJDXCIhPW8mJihuW3FdPW8scSYmKHA9bltxLTFdKSksZ1txXT1qKGdbcV0saSxwKSxcIkFcIiE9bltxXSYmXCJDXCI9PW8mJihuW3FdPVwiQ1wiKSxrKGcscSkpLGwoZSxnLGgsaSxxKSxsKGcsZSxpLGgscSk7dmFyIHM9ZVtxXSx0PWcmJmdbcV0sdT1zLmxlbmd0aCx2PWcmJnQubGVuZ3RoO2gueD1zW3UtMl0saC55PXNbdS0xXSxoLmJ4PU0oc1t1LTRdKXx8aC54LGguYnk9TShzW3UtM10pfHxoLnksaS5ieD1nJiYoTSh0W3YtNF0pfHxpLngpLGkuYnk9ZyYmKE0odFt2LTNdKXx8aS55KSxpLng9ZyYmdFt2LTJdLGkueT1nJiZ0W3YtMV19cmV0dXJuIGd8fChkLmN1cnZlPWYoZSkpLGc/W2UsZ106ZX1mdW5jdGlvbiBGKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGMsZCxlLGYsZyxoLGk7Zm9yKGE9RShhKSxlPTAsZz1hLmxlbmd0aDtnPmU7ZSsrKWZvcihpPWFbZV0sZj0xLGg9aS5sZW5ndGg7aD5mO2YrPTIpYz1iLngoaVtmXSxpW2YrMV0pLGQ9Yi55KGlbZl0saVtmKzFdKSxpW2ZdPWMsaVtmKzFdPWQ7cmV0dXJuIGF9ZnVuY3Rpb24gRyhhLGIpe2Zvcih2YXIgYz1bXSxkPTAsZT1hLmxlbmd0aDtlLTIqIWI+ZDtkKz0yKXt2YXIgZj1be3g6K2FbZC0yXSx5OithW2QtMV19LHt4OithW2RdLHk6K2FbZCsxXX0se3g6K2FbZCsyXSx5OithW2QrM119LHt4OithW2QrNF0seTorYVtkKzVdfV07Yj9kP2UtND09ZD9mWzNdPXt4OithWzBdLHk6K2FbMV19OmUtMj09ZCYmKGZbMl09e3g6K2FbMF0seTorYVsxXX0sZlszXT17eDorYVsyXSx5OithWzNdfSk6ZlswXT17eDorYVtlLTJdLHk6K2FbZS0xXX06ZS00PT1kP2ZbM109ZlsyXTpkfHwoZlswXT17eDorYVtkXSx5OithW2QrMV19KSxjLnB1c2goW1wiQ1wiLCgtZlswXS54KzYqZlsxXS54K2ZbMl0ueCkvNiwoLWZbMF0ueSs2KmZbMV0ueStmWzJdLnkpLzYsKGZbMV0ueCs2KmZbMl0ueC1mWzNdLngpLzYsKGZbMV0ueSs2KmZbMl0ueS1mWzNdLnkpLzYsZlsyXS54LGZbMl0ueV0pfXJldHVybiBjfXZhciBIPWIucHJvdG90eXBlLEk9YS5pcyxKPWEuXy5jbG9uZSxLPVwiaGFzT3duUHJvcGVydHlcIixMPS8sPyhbYS16XSksPy9naSxNPXBhcnNlRmxvYXQsTj1NYXRoLE89Ti5QSSxQPU4ubWluLFE9Ti5tYXgsUj1OLnBvdyxTPU4uYWJzLFQ9aCgxKSxVPWgoKSxWPWgoMCwxKSxXPWEuX3VuaXQycHgsWD17cGF0aDpmdW5jdGlvbihhKXtyZXR1cm4gYS5hdHRyKFwicGF0aFwiKX0sY2lyY2xlOmZ1bmN0aW9uKGEpe3ZhciBiPVcoYSk7cmV0dXJuIHgoYi5jeCxiLmN5LGIucil9LGVsbGlwc2U6ZnVuY3Rpb24oYSl7dmFyIGI9VyhhKTtyZXR1cm4geChiLmN4fHwwLGIuY3l8fDAsYi5yeCxiLnJ5KX0scmVjdDpmdW5jdGlvbihhKXt2YXIgYj1XKGEpO3JldHVybiB3KGIueHx8MCxiLnl8fDAsYi53aWR0aCxiLmhlaWdodCxiLnJ4LGIucnkpfSxpbWFnZTpmdW5jdGlvbihhKXt2YXIgYj1XKGEpO3JldHVybiB3KGIueHx8MCxiLnl8fDAsYi53aWR0aCxiLmhlaWdodCl9LGxpbmU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJNXCIrW2EuYXR0cihcIngxXCIpfHwwLGEuYXR0cihcInkxXCIpfHwwLGEuYXR0cihcIngyXCIpLGEuYXR0cihcInkyXCIpXX0scG9seWxpbmU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJNXCIrYS5hdHRyKFwicG9pbnRzXCIpfSxwb2x5Z29uOmZ1bmN0aW9uKGEpe3JldHVyblwiTVwiK2EuYXR0cihcInBvaW50c1wiKStcInpcIn0sZGVmbHQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlLmdldEJCb3goKTtyZXR1cm4gdyhiLngsYi55LGIud2lkdGgsYi5oZWlnaHQpfX07YS5wYXRoPWMsYS5wYXRoLmdldFRvdGFsTGVuZ3RoPVQsYS5wYXRoLmdldFBvaW50QXRMZW5ndGg9VSxhLnBhdGguZ2V0U3VicGF0aD1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy5nZXRUb3RhbExlbmd0aChhKS1jPDFlLTYpcmV0dXJuIFYoYSxiKS5lbmQ7dmFyIGQ9VihhLGMsMSk7cmV0dXJuIGI/VihkLGIpLmVuZDpkfSxILmdldFRvdGFsTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZS5nZXRUb3RhbExlbmd0aD90aGlzLm5vZGUuZ2V0VG90YWxMZW5ndGgoKTp2b2lkIDB9LEguZ2V0UG9pbnRBdExlbmd0aD1mdW5jdGlvbihhKXtyZXR1cm4gVSh0aGlzLmF0dHIoXCJkXCIpLGEpfSxILmdldFN1YnBhdGg9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5wYXRoLmdldFN1YnBhdGgodGhpcy5hdHRyKFwiZFwiKSxiLGMpfSxhLl8uYm94PWQsYS5wYXRoLmZpbmREb3RzQXRTZWdtZW50PWksYS5wYXRoLmJlemllckJCb3g9aixhLnBhdGguaXNQb2ludEluc2lkZUJCb3g9ayxhLnBhdGguaXNCQm94SW50ZXJzZWN0PWwsYS5wYXRoLmludGVyc2VjdGlvbj1yLGEucGF0aC5pbnRlcnNlY3Rpb25OdW1iZXI9cyxhLnBhdGguaXNQb2ludEluc2lkZT11LGEucGF0aC5nZXRCQm94PXYsYS5wYXRoLmdldD1YLGEucGF0aC50b1JlbGF0aXZlPXksYS5wYXRoLnRvQWJzb2x1dGU9eixhLnBhdGgudG9DdWJpYz1FLGEucGF0aC5tYXA9RixhLnBhdGgudG9TdHJpbmc9ZSxhLnBhdGguY2xvbmU9Zn0pLGQucGx1Z2luKGZ1bmN0aW9uKGEpe3ZhciBkPU1hdGgubWF4LGU9TWF0aC5taW4sZj1mdW5jdGlvbihhKXtpZih0aGlzLml0ZW1zPVtdLHRoaXMuYmluZGluZ3M9e30sdGhpcy5sZW5ndGg9MCx0aGlzLnR5cGU9XCJzZXRcIixhKWZvcih2YXIgYj0wLGM9YS5sZW5ndGg7Yz5iO2IrKylhW2JdJiYodGhpc1t0aGlzLml0ZW1zLmxlbmd0aF09dGhpcy5pdGVtc1t0aGlzLml0ZW1zLmxlbmd0aF09YVtiXSx0aGlzLmxlbmd0aCsrKX0sZz1mLnByb3RvdHlwZTtnLnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYixjPTAsZD1hcmd1bWVudHMubGVuZ3RoO2Q+YztjKyspYT1hcmd1bWVudHNbY10sYSYmKGI9dGhpcy5pdGVtcy5sZW5ndGgsdGhpc1tiXT10aGlzLml0ZW1zW2JdPWEsdGhpcy5sZW5ndGgrKyk7cmV0dXJuIHRoaXN9LGcucG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoJiZkZWxldGUgdGhpc1t0aGlzLmxlbmd0aC0tXSx0aGlzLml0ZW1zLnBvcCgpfSxnLmZvckVhY2g9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPXRoaXMuaXRlbXMubGVuZ3RoO2Q+YztjKyspaWYoYS5jYWxsKGIsdGhpcy5pdGVtc1tjXSxjKT09PSExKXJldHVybiB0aGlzO3JldHVybiB0aGlzfSxnLmFuaW1hdGU9ZnVuY3Rpb24oZCxlLGYsZyl7XCJmdW5jdGlvblwiIT10eXBlb2YgZnx8Zi5sZW5ndGh8fChnPWYsZj1jLmxpbmVhciksZCBpbnN0YW5jZW9mIGEuXy5BbmltYXRpb24mJihnPWQuY2FsbGJhY2ssZj1kLmVhc2luZyxlPWYuZHVyLGQ9ZC5hdHRyKTt2YXIgaD1hcmd1bWVudHM7aWYoYS5pcyhkLFwiYXJyYXlcIikmJmEuaXMoaFtoLmxlbmd0aC0xXSxcImFycmF5XCIpKXZhciBpPSEwO3ZhciBqLGs9ZnVuY3Rpb24oKXtqP3RoaXMuYj1qOmo9dGhpcy5ifSxsPTAsbT1nJiZmdW5jdGlvbigpe2wrKz09dGhpcy5sZW5ndGgmJmcuY2FsbCh0aGlzKX07cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihhLGMpe2Iub25jZShcInNuYXAuYW5pbWNyZWF0ZWQuXCIrYS5pZCxrKSxpP2hbY10mJmEuYW5pbWF0ZS5hcHBseShhLGhbY10pOmEuYW5pbWF0ZShkLGUsZixtKX0pfSxnLnJlbW92ZT1mdW5jdGlvbigpe2Zvcig7dGhpcy5sZW5ndGg7KXRoaXMucG9wKCkucmVtb3ZlKCk7cmV0dXJuIHRoaXN9LGcuYmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9e307aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYil0aGlzLmJpbmRpbmdzW2FdPWI7ZWxzZXt2YXIgZT1jfHxhO3RoaXMuYmluZGluZ3NbYV09ZnVuY3Rpb24oYSl7ZFtlXT1hLGIuYXR0cihkKX19cmV0dXJuIHRoaXN9LGcuYXR0cj1mdW5jdGlvbihhKXt2YXIgYj17fTtmb3IodmFyIGMgaW4gYSl0aGlzLmJpbmRpbmdzW2NdP3RoaXMuYmluZGluZ3NbY10oYVtjXSk6YltjXT1hW2NdO2Zvcih2YXIgZD0wLGU9dGhpcy5pdGVtcy5sZW5ndGg7ZT5kO2QrKyl0aGlzLml0ZW1zW2RdLmF0dHIoYik7cmV0dXJuIHRoaXN9LGcuY2xlYXI9ZnVuY3Rpb24oKXtmb3IoO3RoaXMubGVuZ3RoOyl0aGlzLnBvcCgpfSxnLnNwbGljZT1mdW5jdGlvbihhLGIpe2E9MD5hP2QodGhpcy5sZW5ndGgrYSwwKTphLGI9ZCgwLGUodGhpcy5sZW5ndGgtYSxiKSk7dmFyIGMsZz1bXSxoPVtdLGk9W107Zm9yKGM9MjtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWkucHVzaChhcmd1bWVudHNbY10pO2ZvcihjPTA7Yj5jO2MrKyloLnB1c2godGhpc1thK2NdKTtmb3IoO2M8dGhpcy5sZW5ndGgtYTtjKyspZy5wdXNoKHRoaXNbYStjXSk7dmFyIGo9aS5sZW5ndGg7Zm9yKGM9MDtjPGorZy5sZW5ndGg7YysrKXRoaXMuaXRlbXNbYStjXT10aGlzW2ErY109aj5jP2lbY106Z1tjLWpdO2ZvcihjPXRoaXMuaXRlbXMubGVuZ3RoPXRoaXMubGVuZ3RoLT1iLWo7dGhpc1tjXTspZGVsZXRlIHRoaXNbYysrXTtyZXR1cm4gbmV3IGYoaCl9LGcuZXhjbHVkZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMubGVuZ3RoO2M+YjtiKyspaWYodGhpc1tiXT09YSlyZXR1cm4gdGhpcy5zcGxpY2UoYiwxKSwhMDtyZXR1cm4hMX0sZy5pbnNlcnRBZnRlcj1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5pdGVtcy5sZW5ndGg7Yi0tOyl0aGlzLml0ZW1zW2JdLmluc2VydEFmdGVyKGEpO3JldHVybiB0aGlzfSxnLmdldEJCb3g9ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj1bXSxjPVtdLGY9W10sZz10aGlzLml0ZW1zLmxlbmd0aDtnLS07KWlmKCF0aGlzLml0ZW1zW2ddLnJlbW92ZWQpe3ZhciBoPXRoaXMuaXRlbXNbZ10uZ2V0QkJveCgpO2EucHVzaChoLngpLGIucHVzaChoLnkpLGMucHVzaChoLngraC53aWR0aCksZi5wdXNoKGgueStoLmhlaWdodCl9cmV0dXJuIGE9ZS5hcHBseSgwLGEpLGI9ZS5hcHBseSgwLGIpLGM9ZC5hcHBseSgwLGMpLGY9ZC5hcHBseSgwLGYpLHt4OmEseTpiLHgyOmMseTI6Zix3aWR0aDpjLWEsaGVpZ2h0OmYtYixjeDphKyhjLWEpLzIsY3k6YisoZi1iKS8yfX0sZy5jbG9uZT1mdW5jdGlvbihhKXthPW5ldyBmO2Zvcih2YXIgYj0wLGM9dGhpcy5pdGVtcy5sZW5ndGg7Yz5iO2IrKylhLnB1c2godGhpcy5pdGVtc1tiXS5jbG9uZSgpKTtyZXR1cm4gYX0sZy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiU25hcOKAmHMgc2V0XCJ9LGcudHlwZT1cInNldFwiLGEuc2V0PWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGY7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJmEucHVzaC5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSksYX19KSxkLnBsdWdpbihmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSl7dmFyIGI9YVswXTtzd2l0Y2goYi50b0xvd2VyQ2FzZSgpKXtjYXNlXCJ0XCI6cmV0dXJuW2IsMCwwXTtjYXNlXCJtXCI6cmV0dXJuW2IsMSwwLDAsMSwwLDBdO2Nhc2VcInJcIjpyZXR1cm4gND09YS5sZW5ndGg/W2IsMCxhWzJdLGFbM11dOltiLDBdO2Nhc2VcInNcIjpyZXR1cm4gNT09YS5sZW5ndGg/W2IsMSwxLGFbM10sYVs0XV06Mz09YS5sZW5ndGg/W2IsMSwxXTpbYiwxXX19ZnVuY3Rpb24gZShiLGMsZSl7Yz1tKGMpLnJlcGxhY2UoL1xcLnszfXxcXHUyMDI2L2csYiksYj1hLnBhcnNlVHJhbnNmb3JtU3RyaW5nKGIpfHxbXSxjPWEucGFyc2VUcmFuc2Zvcm1TdHJpbmcoYyl8fFtdO2Zvcih2YXIgZixnLGgsayxsPU1hdGgubWF4KGIubGVuZ3RoLGMubGVuZ3RoKSxuPVtdLG89W10scD0wO2w+cDtwKyspe2lmKGg9YltwXXx8ZChjW3BdKSxrPWNbcF18fGQoaCksaFswXSE9a1swXXx8XCJyXCI9PWhbMF0udG9Mb3dlckNhc2UoKSYmKGhbMl0hPWtbMl18fGhbM10hPWtbM10pfHxcInNcIj09aFswXS50b0xvd2VyQ2FzZSgpJiYoaFszXSE9a1szXXx8aFs0XSE9a1s0XSkpe2I9YS5fLnRyYW5zZm9ybTJtYXRyaXgoYixlKCkpLGM9YS5fLnRyYW5zZm9ybTJtYXRyaXgoYyxlKCkpLG49W1tcIm1cIixiLmEsYi5iLGIuYyxiLmQsYi5lLGIuZl1dLG89W1tcIm1cIixjLmEsYy5iLGMuYyxjLmQsYy5lLGMuZl1dO2JyZWFrfWZvcihuW3BdPVtdLG9bcF09W10sZj0wLGc9TWF0aC5tYXgoaC5sZW5ndGgsay5sZW5ndGgpO2c+ZjtmKyspZiBpbiBoJiYobltwXVtmXT1oW2ZdKSxmIGluIGsmJihvW3BdW2ZdPWtbZl0pfXJldHVybntmcm9tOmoobiksdG86aihvKSxmOmkobil9fWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuK2IudG9GaXhlZCgzKSthfX1mdW5jdGlvbiBoKGIpe3JldHVybiBhLnJnYihiWzBdLGJbMV0sYlsyXSl9ZnVuY3Rpb24gaShhKXt2YXIgYixjLGQsZSxmLGcsaD0wLGk9W107Zm9yKGI9MCxjPWEubGVuZ3RoO2M+YjtiKyspe2ZvcihmPVwiW1wiLGc9WydcIicrYVtiXVswXSsnXCInXSxkPTEsZT1hW2JdLmxlbmd0aDtlPmQ7ZCsrKWdbZF09XCJ2YWxbXCIraCsrICtcIl1cIjtcbmYrPWcrXCJdXCIsaVtiXT1mfXJldHVybiBGdW5jdGlvbihcInZhbFwiLFwicmV0dXJuIFNuYXAucGF0aC50b1N0cmluZy5jYWxsKFtcIitpK1wiXSlcIil9ZnVuY3Rpb24gaihhKXtmb3IodmFyIGI9W10sYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylmb3IodmFyIGU9MSxmPWFbY10ubGVuZ3RoO2Y+ZTtlKyspYi5wdXNoKGFbY11bZV0pO3JldHVybiBifXZhciBrPXt9LGw9L1thLXpdKyQvaSxtPVN0cmluZztrLnN0cm9rZT1rLmZpbGw9XCJjb2xvdXJcIixjLnByb3RvdHlwZS5lcXVhbD1mdW5jdGlvbihhLGMpe3JldHVybiBiKFwic25hcC51dGlsLmVxdWFsXCIsdGhpcyxhLGMpLmZpcnN0RGVmaW5lZCgpfSxiLm9uKFwic25hcC51dGlsLmVxdWFsXCIsZnVuY3Rpb24oYixjKXt2YXIgZCxuLG89bSh0aGlzLmF0dHIoYil8fFwiXCIpLHA9dGhpcztpZihvPT0rbyYmYz09K2MpcmV0dXJue2Zyb206K28sdG86K2MsZjpmfTtpZihcImNvbG91clwiPT1rW2JdKXJldHVybiBkPWEuY29sb3Iobyksbj1hLmNvbG9yKGMpLHtmcm9tOltkLnIsZC5nLGQuYixkLm9wYWNpdHldLHRvOltuLnIsbi5nLG4uYixuLm9wYWNpdHldLGY6aH07aWYoXCJ0cmFuc2Zvcm1cIj09Ynx8XCJncmFkaWVudFRyYW5zZm9ybVwiPT1ifHxcInBhdHRlcm5UcmFuc2Zvcm1cIj09YilyZXR1cm4gYyBpbnN0YW5jZW9mIGEuTWF0cml4JiYoYz1jLnRvVHJhbnNmb3JtU3RyaW5nKCkpLGEuXy5yZ1RyYW5zZm9ybS50ZXN0KGMpfHwoYz1hLl8uc3ZnVHJhbnNmb3JtMnN0cmluZyhjKSksZShvLGMsZnVuY3Rpb24oKXtyZXR1cm4gcC5nZXRCQm94KDEpfSk7aWYoXCJkXCI9PWJ8fFwicGF0aFwiPT1iKXJldHVybiBkPWEucGF0aC50b0N1YmljKG8sYykse2Zyb206aihkWzBdKSx0bzpqKGRbMV0pLGY6aShkWzBdKX07aWYoXCJwb2ludHNcIj09YilyZXR1cm4gZD1tKG8pLnNwbGl0KGEuXy5zZXBhcmF0b3IpLG49bShjKS5zcGxpdChhLl8uc2VwYXJhdG9yKSx7ZnJvbTpkLHRvOm4sZjpmdW5jdGlvbihhKXtyZXR1cm4gYX19O2FVbml0PW8ubWF0Y2gobCk7dmFyIHE9bShjKS5tYXRjaChsKTtyZXR1cm4gYVVuaXQmJmFVbml0PT1xP3tmcm9tOnBhcnNlRmxvYXQobyksdG86cGFyc2VGbG9hdChjKSxmOmcoYVVuaXQpfTp7ZnJvbTp0aGlzLmFzUFgoYiksdG86dGhpcy5hc1BYKGIsYyksZjpmfX0pfSksZC5wbHVnaW4oZnVuY3Rpb24oYSxjLGQsZSl7Zm9yKHZhciBmPWMucHJvdG90eXBlLGc9XCJoYXNPd25Qcm9wZXJ0eVwiLGg9KFwiY3JlYXRlVG91Y2hcImluIGUuZG9jKSxpPVtcImNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2Vkb3duXCIsXCJtb3VzZW1vdmVcIixcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIixcIm1vdXNldXBcIixcInRvdWNoc3RhcnRcIixcInRvdWNobW92ZVwiLFwidG91Y2hlbmRcIixcInRvdWNoY2FuY2VsXCJdLGo9e21vdXNlZG93bjpcInRvdWNoc3RhcnRcIixtb3VzZW1vdmU6XCJ0b3VjaG1vdmVcIixtb3VzZXVwOlwidG91Y2hlbmRcIn0saz0oZnVuY3Rpb24oYSxiKXt2YXIgYz1cInlcIj09YT9cInNjcm9sbFRvcFwiOlwic2Nyb2xsTGVmdFwiLGQ9YiYmYi5ub2RlP2Iubm9kZS5vd25lckRvY3VtZW50OmUuZG9jO3JldHVybiBkW2MgaW4gZC5kb2N1bWVudEVsZW1lbnQ/XCJkb2N1bWVudEVsZW1lbnRcIjpcImJvZHlcIl1bY119KSxsPWZ1bmN0aW9uKCl7dGhpcy5yZXR1cm5WYWx1ZT0hMX0sbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKX0sbj1mdW5jdGlvbigpe3RoaXMuY2FuY2VsQnViYmxlPSEwfSxvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKX0scD1mdW5jdGlvbigpe3JldHVybiBlLmRvYy5hZGRFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWgmJmpbYl0/altiXTpiLGY9ZnVuY3Rpb24oZSl7dmFyIGY9ayhcInlcIixkKSxpPWsoXCJ4XCIsZCk7aWYoaCYmaltnXShiKSlmb3IodmFyIGw9MCxuPWUudGFyZ2V0VG91Y2hlcyYmZS50YXJnZXRUb3VjaGVzLmxlbmd0aDtuPmw7bCsrKWlmKGUudGFyZ2V0VG91Y2hlc1tsXS50YXJnZXQ9PWF8fGEuY29udGFpbnMoZS50YXJnZXRUb3VjaGVzW2xdLnRhcmdldCkpe3ZhciBwPWU7ZT1lLnRhcmdldFRvdWNoZXNbbF0sZS5vcmlnaW5hbEV2ZW50PXAsZS5wcmV2ZW50RGVmYXVsdD1tLGUuc3RvcFByb3BhZ2F0aW9uPW87YnJlYWt9dmFyIHE9ZS5jbGllbnRYK2kscj1lLmNsaWVudFkrZjtyZXR1cm4gYy5jYWxsKGQsZSxxLHIpfTtyZXR1cm4gYiE9PWUmJmEuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGEuYWRkRXZlbnRMaXN0ZW5lcihlLGYsITEpLGZ1bmN0aW9uKCl7cmV0dXJuIGIhPT1lJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixmLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxmLCExKSwhMH19OmUuZG9jLmF0dGFjaEV2ZW50P2Z1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWZ1bmN0aW9uKGEpe2E9YXx8ZC5ub2RlLm93bmVyRG9jdW1lbnQud2luZG93LmV2ZW50O3ZhciBiPWsoXCJ5XCIsZCksZT1rKFwieFwiLGQpLGY9YS5jbGllbnRYK2UsZz1hLmNsaWVudFkrYjtyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdD1hLnByZXZlbnREZWZhdWx0fHxsLGEuc3RvcFByb3BhZ2F0aW9uPWEuc3RvcFByb3BhZ2F0aW9ufHxuLGMuY2FsbChkLGEsZixnKX07YS5hdHRhY2hFdmVudChcIm9uXCIrYixlKTt2YXIgZj1mdW5jdGlvbigpe3JldHVybiBhLmRldGFjaEV2ZW50KFwib25cIitiLGUpLCEwfTtyZXR1cm4gZn06dm9pZCAwfSgpLHE9W10scj1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD1hLmNsaWVudFgsZT1hLmNsaWVudFksZj1rKFwieVwiKSxnPWsoXCJ4XCIpLGk9cS5sZW5ndGg7aS0tOyl7aWYoYz1xW2ldLGgpe2Zvcih2YXIgaixsPWEudG91Y2hlcyYmYS50b3VjaGVzLmxlbmd0aDtsLS07KWlmKGo9YS50b3VjaGVzW2xdLGouaWRlbnRpZmllcj09Yy5lbC5fZHJhZy5pZHx8Yy5lbC5ub2RlLmNvbnRhaW5zKGoudGFyZ2V0KSl7ZD1qLmNsaWVudFgsZT1qLmNsaWVudFksKGEub3JpZ2luYWxFdmVudD9hLm9yaWdpbmFsRXZlbnQ6YSkucHJldmVudERlZmF1bHQoKTticmVha319ZWxzZSBhLnByZXZlbnREZWZhdWx0KCk7e3ZhciBtPWMuZWwubm9kZTttLm5leHRTaWJsaW5nLG0ucGFyZW50Tm9kZSxtLnN0eWxlLmRpc3BsYXl9ZCs9ZyxlKz1mLGIoXCJzbmFwLmRyYWcubW92ZS5cIitjLmVsLmlkLGMubW92ZV9zY29wZXx8Yy5lbCxkLWMuZWwuX2RyYWcueCxlLWMuZWwuX2RyYWcueSxkLGUsYSl9fSxzPWZ1bmN0aW9uKGMpe2EudW5tb3VzZW1vdmUocikudW5tb3VzZXVwKHMpO2Zvcih2YXIgZCxlPXEubGVuZ3RoO2UtLTspZD1xW2VdLGQuZWwuX2RyYWc9e30sYihcInNuYXAuZHJhZy5lbmQuXCIrZC5lbC5pZCxkLmVuZF9zY29wZXx8ZC5zdGFydF9zY29wZXx8ZC5tb3ZlX3Njb3BlfHxkLmVsLGMpO3E9W119LHQ9aS5sZW5ndGg7dC0tOykhZnVuY3Rpb24oYil7YVtiXT1mW2JdPWZ1bmN0aW9uKGMsZCl7cmV0dXJuIGEuaXMoYyxcImZ1bmN0aW9uXCIpJiYodGhpcy5ldmVudHM9dGhpcy5ldmVudHN8fFtdLHRoaXMuZXZlbnRzLnB1c2goe25hbWU6YixmOmMsdW5iaW5kOnAodGhpcy5ub2RlfHxkb2N1bWVudCxiLGMsZHx8dGhpcyl9KSksdGhpc30sYVtcInVuXCIrYl09ZltcInVuXCIrYl09ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPXRoaXMuZXZlbnRzfHxbXSxkPWMubGVuZ3RoO2QtLTspaWYoY1tkXS5uYW1lPT1iJiYoY1tkXS5mPT1hfHwhYSkpcmV0dXJuIGNbZF0udW5iaW5kKCksYy5zcGxpY2UoZCwxKSwhYy5sZW5ndGgmJmRlbGV0ZSB0aGlzLmV2ZW50cyx0aGlzO3JldHVybiB0aGlzfX0oaVt0XSk7Zi5ob3Zlcj1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5tb3VzZW92ZXIoYSxjKS5tb3VzZW91dChiLGR8fGMpfSxmLnVuaG92ZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy51bm1vdXNlb3ZlcihhKS51bm1vdXNlb3V0KGIpfTt2YXIgdT1bXTtmLmRyYWc9ZnVuY3Rpb24oYyxkLGUsZixnLGgpe2Z1bmN0aW9uIGkoaSxqLGspeyhpLm9yaWdpbmFsRXZlbnR8fGkpLnByZXZlbnREZWZhdWx0KCksdGhpcy5fZHJhZy54PWosdGhpcy5fZHJhZy55PWssdGhpcy5fZHJhZy5pZD1pLmlkZW50aWZpZXIsIXEubGVuZ3RoJiZhLm1vdXNlbW92ZShyKS5tb3VzZXVwKHMpLHEucHVzaCh7ZWw6dGhpcyxtb3ZlX3Njb3BlOmYsc3RhcnRfc2NvcGU6ZyxlbmRfc2NvcGU6aH0pLGQmJmIub24oXCJzbmFwLmRyYWcuc3RhcnQuXCIrdGhpcy5pZCxkKSxjJiZiLm9uKFwic25hcC5kcmFnLm1vdmUuXCIrdGhpcy5pZCxjKSxlJiZiLm9uKFwic25hcC5kcmFnLmVuZC5cIit0aGlzLmlkLGUpLGIoXCJzbmFwLmRyYWcuc3RhcnQuXCIrdGhpcy5pZCxnfHxmfHx0aGlzLGosayxpKX1pZighYXJndW1lbnRzLmxlbmd0aCl7dmFyIGo7cmV0dXJuIHRoaXMuZHJhZyhmdW5jdGlvbihhLGIpe3RoaXMuYXR0cih7dHJhbnNmb3JtOmorKGo/XCJUXCI6XCJ0XCIpK1thLGJdfSl9LGZ1bmN0aW9uKCl7aj10aGlzLnRyYW5zZm9ybSgpLmxvY2FsfSl9cmV0dXJuIHRoaXMuX2RyYWc9e30sdS5wdXNoKHtlbDp0aGlzLHN0YXJ0Oml9KSx0aGlzLm1vdXNlZG93bihpKSx0aGlzfSxmLnVuZHJhZz1mdW5jdGlvbigpe2Zvcih2YXIgYz11Lmxlbmd0aDtjLS07KXVbY10uZWw9PXRoaXMmJih0aGlzLnVubW91c2Vkb3duKHVbY10uc3RhcnQpLHUuc3BsaWNlKGMsMSksYi51bmJpbmQoXCJzbmFwLmRyYWcuKi5cIit0aGlzLmlkKSk7cmV0dXJuIXUubGVuZ3RoJiZhLnVubW91c2Vtb3ZlKHIpLnVubW91c2V1cChzKSx0aGlzfX0pLGQucGx1Z2luKGZ1bmN0aW9uKGEsYyxkKXt2YXIgZT0oYy5wcm90b3R5cGUsZC5wcm90b3R5cGUpLGY9L15cXHMqdXJsXFwoKC4rKVxcKS8sZz1TdHJpbmcsaD1hLl8uJDthLmZpbHRlcj17fSxlLmZpbHRlcj1mdW5jdGlvbihiKXt2YXIgZD10aGlzO1wic3ZnXCIhPWQudHlwZSYmKGQ9ZC5wYXBlcik7dmFyIGU9YS5wYXJzZShnKGIpKSxmPWEuXy5pZCgpLGk9KGQubm9kZS5vZmZzZXRXaWR0aCxkLm5vZGUub2Zmc2V0SGVpZ2h0LGgoXCJmaWx0ZXJcIikpO3JldHVybiBoKGkse2lkOmYsZmlsdGVyVW5pdHM6XCJ1c2VyU3BhY2VPblVzZVwifSksaS5hcHBlbmRDaGlsZChlLm5vZGUpLGQuZGVmcy5hcHBlbmRDaGlsZChpKSxuZXcgYyhpKX0sYi5vbihcInNuYXAudXRpbC5nZXRhdHRyLmZpbHRlclwiLGZ1bmN0aW9uKCl7Yi5zdG9wKCk7dmFyIGM9aCh0aGlzLm5vZGUsXCJmaWx0ZXJcIik7aWYoYyl7dmFyIGQ9ZyhjKS5tYXRjaChmKTtyZXR1cm4gZCYmYS5zZWxlY3QoZFsxXSl9fSksYi5vbihcInNuYXAudXRpbC5hdHRyLmZpbHRlclwiLGZ1bmN0aW9uKGQpe2lmKGQgaW5zdGFuY2VvZiBjJiZcImZpbHRlclwiPT1kLnR5cGUpe2Iuc3RvcCgpO3ZhciBlPWQubm9kZS5pZDtlfHwoaChkLm5vZGUse2lkOmQuaWR9KSxlPWQuaWQpLGgodGhpcy5ub2RlLHtmaWx0ZXI6YS51cmwoZSl9KX1kJiZcIm5vbmVcIiE9ZHx8KGIuc3RvcCgpLHRoaXMubm9kZS5yZW1vdmVBdHRyaWJ1dGUoXCJmaWx0ZXJcIikpfSksYS5maWx0ZXIuYmx1cj1mdW5jdGlvbihiLGMpe251bGw9PWImJihiPTIpO3ZhciBkPW51bGw9PWM/YjpbYixjXTtyZXR1cm4gYS5mb3JtYXQoJzxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249XCJ7ZGVmfVwiLz4nLHtkZWY6ZH0pfSxhLmZpbHRlci5ibHVyLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoKX0sYS5maWx0ZXIuc2hhZG93PWZ1bmN0aW9uKGIsYyxkLGUsZil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPWQsZj1lLGQ9NCksXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihmPWUsZT1cIiMwMDBcIiksZT1lfHxcIiMwMDBcIixudWxsPT1kJiYoZD00KSxudWxsPT1mJiYoZj0xKSxudWxsPT1iJiYoYj0wLGM9MiksbnVsbD09YyYmKGM9YiksZT1hLmNvbG9yKGUpLGEuZm9ybWF0KCc8ZmVHYXVzc2lhbkJsdXIgaW49XCJTb3VyY2VBbHBoYVwiIHN0ZERldmlhdGlvbj1cIntibHVyfVwiLz48ZmVPZmZzZXQgZHg9XCJ7ZHh9XCIgZHk9XCJ7ZHl9XCIgcmVzdWx0PVwib2Zmc2V0Ymx1clwiLz48ZmVGbG9vZCBmbG9vZC1jb2xvcj1cIntjb2xvcn1cIi8+PGZlQ29tcG9zaXRlIGluMj1cIm9mZnNldGJsdXJcIiBvcGVyYXRvcj1cImluXCIvPjxmZUNvbXBvbmVudFRyYW5zZmVyPjxmZUZ1bmNBIHR5cGU9XCJsaW5lYXJcIiBzbG9wZT1cIntvcGFjaXR5fVwiLz48L2ZlQ29tcG9uZW50VHJhbnNmZXI+PGZlTWVyZ2U+PGZlTWVyZ2VOb2RlLz48ZmVNZXJnZU5vZGUgaW49XCJTb3VyY2VHcmFwaGljXCIvPjwvZmVNZXJnZT4nLHtjb2xvcjplLGR4OmIsZHk6YyxibHVyOmQsb3BhY2l0eTpmfSl9LGEuZmlsdGVyLnNoYWRvdy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzKCl9LGEuZmlsdGVyLmdyYXlzY2FsZT1mdW5jdGlvbihiKXtyZXR1cm4gbnVsbD09YiYmKGI9MSksYS5mb3JtYXQoJzxmZUNvbG9yTWF0cml4IHR5cGU9XCJtYXRyaXhcIiB2YWx1ZXM9XCJ7YX0ge2J9IHtjfSAwIDAge2R9IHtlfSB7Zn0gMCAwIHtnfSB7Yn0ge2h9IDAgMCAwIDAgMCAxIDBcIi8+Jyx7YTouMjEyNisuNzg3NCooMS1iKSxiOi43MTUyLS43MTUyKigxLWIpLGM6LjA3MjItLjA3MjIqKDEtYiksZDouMjEyNi0uMjEyNiooMS1iKSxlOi43MTUyKy4yODQ4KigxLWIpLGY6LjA3MjItLjA3MjIqKDEtYiksZzouMjEyNi0uMjEyNiooMS1iKSxoOi4wNzIyKy45Mjc4KigxLWIpfSl9LGEuZmlsdGVyLmdyYXlzY2FsZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzKCl9LGEuZmlsdGVyLnNlcGlhPWZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT1iJiYoYj0xKSxhLmZvcm1hdCgnPGZlQ29sb3JNYXRyaXggdHlwZT1cIm1hdHJpeFwiIHZhbHVlcz1cInthfSB7Yn0ge2N9IDAgMCB7ZH0ge2V9IHtmfSAwIDAge2d9IHtofSB7aX0gMCAwIDAgMCAwIDEgMFwiLz4nLHthOi4zOTMrLjYwNyooMS1iKSxiOi43NjktLjc2OSooMS1iKSxjOi4xODktLjE4OSooMS1iKSxkOi4zNDktLjM0OSooMS1iKSxlOi42ODYrLjMxNCooMS1iKSxmOi4xNjgtLjE2OCooMS1iKSxnOi4yNzItLjI3MiooMS1iKSxoOi41MzQtLjUzNCooMS1iKSxpOi4xMzErLjg2OSooMS1iKX0pfSxhLmZpbHRlci5zZXBpYS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzKCl9LGEuZmlsdGVyLnNhdHVyYXRlPWZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT1iJiYoYj0xKSxhLmZvcm1hdCgnPGZlQ29sb3JNYXRyaXggdHlwZT1cInNhdHVyYXRlXCIgdmFsdWVzPVwie2Ftb3VudH1cIi8+Jyx7YW1vdW50OjEtYn0pfSxhLmZpbHRlci5zYXR1cmF0ZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzKCl9LGEuZmlsdGVyLmh1ZVJvdGF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYj1ifHwwLGEuZm9ybWF0KCc8ZmVDb2xvck1hdHJpeCB0eXBlPVwiaHVlUm90YXRlXCIgdmFsdWVzPVwie2FuZ2xlfVwiLz4nLHthbmdsZTpifSl9LGEuZmlsdGVyLmh1ZVJvdGF0ZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzKCl9LGEuZmlsdGVyLmludmVydD1mdW5jdGlvbihiKXtyZXR1cm4gbnVsbD09YiYmKGI9MSksYS5mb3JtYXQoJzxmZUNvbXBvbmVudFRyYW5zZmVyPjxmZUZ1bmNSIHR5cGU9XCJ0YWJsZVwiIHRhYmxlVmFsdWVzPVwie2Ftb3VudH0ge2Ftb3VudDJ9XCIvPjxmZUZ1bmNHIHR5cGU9XCJ0YWJsZVwiIHRhYmxlVmFsdWVzPVwie2Ftb3VudH0ge2Ftb3VudDJ9XCIvPjxmZUZ1bmNCIHR5cGU9XCJ0YWJsZVwiIHRhYmxlVmFsdWVzPVwie2Ftb3VudH0ge2Ftb3VudDJ9XCIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj4nLHthbW91bnQ6YixhbW91bnQyOjEtYn0pfSxhLmZpbHRlci5pbnZlcnQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpfSxhLmZpbHRlci5icmlnaHRuZXNzPWZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT1iJiYoYj0xKSxhLmZvcm1hdCgnPGZlQ29tcG9uZW50VHJhbnNmZXI+PGZlRnVuY1IgdHlwZT1cImxpbmVhclwiIHNsb3BlPVwie2Ftb3VudH1cIi8+PGZlRnVuY0cgdHlwZT1cImxpbmVhclwiIHNsb3BlPVwie2Ftb3VudH1cIi8+PGZlRnVuY0IgdHlwZT1cImxpbmVhclwiIHNsb3BlPVwie2Ftb3VudH1cIi8+PC9mZUNvbXBvbmVudFRyYW5zZmVyPicse2Ftb3VudDpifSl9LGEuZmlsdGVyLmJyaWdodG5lc3MudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcygpfSxhLmZpbHRlci5jb250cmFzdD1mdW5jdGlvbihiKXtyZXR1cm4gbnVsbD09YiYmKGI9MSksYS5mb3JtYXQoJzxmZUNvbXBvbmVudFRyYW5zZmVyPjxmZUZ1bmNSIHR5cGU9XCJsaW5lYXJcIiBzbG9wZT1cInthbW91bnR9XCIgaW50ZXJjZXB0PVwie2Ftb3VudDJ9XCIvPjxmZUZ1bmNHIHR5cGU9XCJsaW5lYXJcIiBzbG9wZT1cInthbW91bnR9XCIgaW50ZXJjZXB0PVwie2Ftb3VudDJ9XCIvPjxmZUZ1bmNCIHR5cGU9XCJsaW5lYXJcIiBzbG9wZT1cInthbW91bnR9XCIgaW50ZXJjZXB0PVwie2Ftb3VudDJ9XCIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj4nLHthbW91bnQ6YixhbW91bnQyOi41LWIvMn0pfSxhLmZpbHRlci5jb250cmFzdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzKCl9fSksZH0pO1xuOyBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXyh0eXBlb2YgU25hcCAhPSBcInVuZGVmaW5lZFwiID8gU25hcCA6IHdpbmRvdy5TbmFwKTtcblxufSkuY2FsbChnbG9iYWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uIGRlZmluZUV4cG9ydChleCkgeyBtb2R1bGUuZXhwb3J0cyA9IGV4OyB9KTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBleHBvcnRzLCBkZWZpbmUsIGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKSB7XG5cInVzZSBzdHJpY3RcIjshZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIixcImdvb2dsZW1hcHMhXCJdLGIpOmEuR01hcHM9YigpfSh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXt2YXIgYztpZihhPT09YilyZXR1cm4gYTtmb3IoYyBpbiBiKWFbY109YltjXTtyZXR1cm4gYX0sYj1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGU9W10sZj1hLmxlbmd0aDtpZihBcnJheS5wcm90b3R5cGUubWFwJiZhLm1hcD09PUFycmF5LnByb3RvdHlwZS5tYXApZT1BcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYSxmdW5jdGlvbihhKXt2YXIgYz1kLnNsaWNlKDApO3JldHVybiBjLnNwbGljZSgwLDAsYSksYi5hcHBseSh0aGlzLGMpfSk7ZWxzZSBmb3IoYz0wO2Y+YztjKyspY2FsbGJhY2tfcGFyYW1zPWQsY2FsbGJhY2tfcGFyYW1zLnNwbGljZSgwLDAsYVtjXSksZS5wdXNoKGIuYXBwbHkodGhpcyxjYWxsYmFja19wYXJhbXMpKTtyZXR1cm4gZX0sYz1mdW5jdGlvbihhKXt2YXIgYixjPVtdO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspYz1jLmNvbmNhdChhW2JdKTtyZXR1cm4gY30sZD1mdW5jdGlvbihhLGIpe3ZhciBjPWFbMF0sZD1hWzFdO3JldHVybiBiJiYoYz1hWzFdLGQ9YVswXSksbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhjLGQpfSxmPWZ1bmN0aW9uKGEsYil7dmFyIGM7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmd8fChhW2NdLmxlbmd0aD4wJiZcIm9iamVjdFwiPT10eXBlb2YgYVtjXVswXT9hW2NdPWYoYVtjXSxiKTphW2NdPWQoYVtjXSxiKSk7cmV0dXJuIGF9LGc9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEucmVwbGFjZShcIi5cIixcIlwiKTtyZXR1cm4gYz1cImpRdWVyeVwiaW4gdGhpcyYmYj8kKFwiLlwiK2QsYilbMF06ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShkKVswXX0saD1mdW5jdGlvbihhLGIpe3ZhciBjLGE9YS5yZXBsYWNlKFwiI1wiLFwiXCIpO3JldHVybiBjPVwialF1ZXJ5XCJpbiB3aW5kb3cmJmI/JChcIiNcIithLGIpWzBdOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpfSxpPWZ1bmN0aW9uKGEpe3ZhciBiPTAsYz0wO2lmKGEub2Zmc2V0UGFyZW50KWRvIGIrPWEub2Zmc2V0TGVmdCxjKz1hLm9mZnNldFRvcDt3aGlsZShhPWEub2Zmc2V0UGFyZW50KTtyZXR1cm5bYixjXX0saj1mdW5jdGlvbihiKXtpZihcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93Lmdvb2dsZXx8IXdpbmRvdy5nb29nbGUubWFwcylyZXR1cm5cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKFwiR29vZ2xlIE1hcHMgQVBJIGlzIHJlcXVpcmVkLiBQbGVhc2UgcmVnaXN0ZXIgdGhlIGZvbGxvd2luZyBKYXZhU2NyaXB0IGxpYnJhcnkgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzLlwiKSxmdW5jdGlvbigpe307dmFyIGM9ZG9jdW1lbnQsZD1mdW5jdGlvbihiKXtpZighdGhpcylyZXR1cm4gbmV3IGQoYik7Yi56b29tPWIuem9vbXx8MTUsYi5tYXBUeXBlPWIubWFwVHlwZXx8XCJyb2FkbWFwXCI7dmFyIGUsZj1mdW5jdGlvbihhLGIpe3JldHVybiB2b2lkIDA9PT1hP2I6YX0saj10aGlzLGs9W1wiYm91bmRzX2NoYW5nZWRcIixcImNlbnRlcl9jaGFuZ2VkXCIsXCJjbGlja1wiLFwiZGJsY2xpY2tcIixcImRyYWdcIixcImRyYWdlbmRcIixcImRyYWdzdGFydFwiLFwiaWRsZVwiLFwibWFwdHlwZWlkX2NoYW5nZWRcIixcInByb2plY3Rpb25fY2hhbmdlZFwiLFwicmVzaXplXCIsXCJ0aWxlc2xvYWRlZFwiLFwiem9vbV9jaGFuZ2VkXCJdLGw9W1wibW91c2Vtb3ZlXCIsXCJtb3VzZW91dFwiLFwibW91c2VvdmVyXCJdLG09W1wiZWxcIixcImxhdFwiLFwibG5nXCIsXCJtYXBUeXBlXCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJtYXJrZXJDbHVzdGVyZXJcIixcImVuYWJsZU5ld1N0eWxlXCJdLG49Yi5lbHx8Yi5kaXYsbz1iLm1hcmtlckNsdXN0ZXJlcixwPWdvb2dsZS5tYXBzLk1hcFR5cGVJZFtiLm1hcFR5cGUudG9VcHBlckNhc2UoKV0scT1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGIubGF0LGIubG5nKSxyPWYoYi56b29tQ29udHJvbCwhMCkscz1iLnpvb21Db250cm9sT3B0fHx7c3R5bGU6XCJERUZBVUxUXCIscG9zaXRpb246XCJUT1BfTEVGVFwifSx0PXMuc3R5bGV8fFwiREVGQVVMVFwiLHU9cy5wb3NpdGlvbnx8XCJUT1BfTEVGVFwiLHY9ZihiLnBhbkNvbnRyb2wsITApLHc9ZihiLm1hcFR5cGVDb250cm9sLCEwKSx4PWYoYi5zY2FsZUNvbnRyb2wsITApLHk9ZihiLnN0cmVldFZpZXdDb250cm9sLCEwKSx6PWYoeiwhMCksQT17fSxCPXt6b29tOnRoaXMuem9vbSxjZW50ZXI6cSxtYXBUeXBlSWQ6cH0sQz17cGFuQ29udHJvbDp2LHpvb21Db250cm9sOnIsem9vbUNvbnRyb2xPcHRpb25zOntzdHlsZTpnb29nbGUubWFwcy5ab29tQ29udHJvbFN0eWxlW3RdLHBvc2l0aW9uOmdvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvblt1XX0sbWFwVHlwZUNvbnRyb2w6dyxzY2FsZUNvbnRyb2w6eCxzdHJlZXRWaWV3Q29udHJvbDp5LG92ZXJ2aWV3TWFwQ29udHJvbDp6fTtpZihcInN0cmluZ1wiPT10eXBlb2YgYi5lbHx8XCJzdHJpbmdcIj09dHlwZW9mIGIuZGl2P24uaW5kZXhPZihcIiNcIik+LTE/dGhpcy5lbD1oKG4sYi5jb250ZXh0KTp0aGlzLmVsPWcuYXBwbHkodGhpcyxbbixiLmNvbnRleHRdKTp0aGlzLmVsPW4sXCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMuZWx8fG51bGw9PT10aGlzLmVsKXRocm93XCJObyBlbGVtZW50IGRlZmluZWQuXCI7Zm9yKHdpbmRvdy5jb250ZXh0X21lbnU9d2luZG93LmNvbnRleHRfbWVudXx8e30sd2luZG93LmNvbnRleHRfbWVudVtqLmVsLmlkXT17fSx0aGlzLmNvbnRyb2xzPVtdLHRoaXMub3ZlcmxheXM9W10sdGhpcy5sYXllcnM9W10sdGhpcy5zaW5nbGVMYXllcnM9e30sdGhpcy5tYXJrZXJzPVtdLHRoaXMucG9seWxpbmVzPVtdLHRoaXMucm91dGVzPVtdLHRoaXMucG9seWdvbnM9W10sdGhpcy5pbmZvV2luZG93PW51bGwsdGhpcy5vdmVybGF5X2VsPW51bGwsdGhpcy56b29tPWIuem9vbSx0aGlzLnJlZ2lzdGVyZWRfZXZlbnRzPXt9LHRoaXMuZWwuc3R5bGUud2lkdGg9Yi53aWR0aHx8dGhpcy5lbC5zY3JvbGxXaWR0aHx8dGhpcy5lbC5vZmZzZXRXaWR0aCx0aGlzLmVsLnN0eWxlLmhlaWdodD1iLmhlaWdodHx8dGhpcy5lbC5zY3JvbGxIZWlnaHR8fHRoaXMuZWwub2Zmc2V0SGVpZ2h0LGdvb2dsZS5tYXBzLnZpc3VhbFJlZnJlc2g9Yi5lbmFibGVOZXdTdHlsZSxlPTA7ZTxtLmxlbmd0aDtlKyspZGVsZXRlIGJbbVtlXV07Zm9yKDEhPWIuZGlzYWJsZURlZmF1bHRVSSYmKEI9YShCLEMpKSxBPWEoQixiKSxlPTA7ZTxrLmxlbmd0aDtlKyspZGVsZXRlIEFba1tlXV07Zm9yKGU9MDtlPGwubGVuZ3RoO2UrKylkZWxldGUgQVtsW2VdXTt0aGlzLm1hcD1uZXcgZ29vZ2xlLm1hcHMuTWFwKHRoaXMuZWwsQSksbyYmKHRoaXMubWFya2VyQ2x1c3RlcmVyPW8uYXBwbHkodGhpcyxbdGhpcy5tYXBdKSk7dmFyIEQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1cIlwiLGQ9d2luZG93LmNvbnRleHRfbWVudVtqLmVsLmlkXVthXTtmb3IodmFyIGUgaW4gZClpZihkLmhhc093blByb3BlcnR5KGUpKXt2YXIgZj1kW2VdO2MrPSc8bGk+PGEgaWQ9XCInK2ErXCJfXCIrZSsnXCIgaHJlZj1cIiNcIj4nK2YudGl0bGUrXCI8L2E+PC9saT5cIn1pZihoKFwiZ21hcHNfY29udGV4dF9tZW51XCIpKXt2YXIgZz1oKFwiZ21hcHNfY29udGV4dF9tZW51XCIpO2cuaW5uZXJIVE1MPWM7dmFyIGUsaz1nLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKSxsPWsubGVuZ3RoO2ZvcihlPTA7bD5lO2UrKyl7dmFyIG09a1tlXSxuPWZ1bmN0aW9uKGMpe2MucHJldmVudERlZmF1bHQoKSxkW3RoaXMuaWQucmVwbGFjZShhK1wiX1wiLFwiXCIpXS5hY3Rpb24uYXBwbHkoaixbYl0pLGouaGlkZUNvbnRleHRNZW51KCl9O2dvb2dsZS5tYXBzLmV2ZW50LmNsZWFyTGlzdGVuZXJzKG0sXCJjbGlja1wiKSxnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lck9uY2UobSxcImNsaWNrXCIsbiwhMSl9dmFyIG89aS5hcHBseSh0aGlzLFtqLmVsXSkscD1vWzBdK2IucGl4ZWwueC0xNSxxPW9bMV0rYi5waXhlbC55LTE1O2cuc3R5bGUubGVmdD1wK1wicHhcIixnLnN0eWxlLnRvcD1xK1wicHhcIn19O3RoaXMuYnVpbGRDb250ZXh0TWVudT1mdW5jdGlvbihhLGIpe2lmKFwibWFya2VyXCI9PT1hKXtiLnBpeGVsPXt9O3ZhciBjPW5ldyBnb29nbGUubWFwcy5PdmVybGF5VmlldztjLnNldE1hcChqLm1hcCksYy5kcmF3PWZ1bmN0aW9uKCl7dmFyIGQ9Yy5nZXRQcm9qZWN0aW9uKCksZT1iLm1hcmtlci5nZXRQb3NpdGlvbigpO2IucGl4ZWw9ZC5mcm9tTGF0TG5nVG9Db250YWluZXJQaXhlbChlKSxEKGEsYil9fWVsc2UgRChhLGIpO3ZhciBkPWgoXCJnbWFwc19jb250ZXh0X21lbnVcIik7c2V0VGltZW91dChmdW5jdGlvbigpe2Quc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LDApfSx0aGlzLnNldENvbnRleHRNZW51PWZ1bmN0aW9uKGEpe3dpbmRvdy5jb250ZXh0X21lbnVbai5lbC5pZF1bYS5jb250cm9sXT17fTt2YXIgYixkPWMuY3JlYXRlRWxlbWVudChcInVsXCIpO2ZvcihiIGluIGEub3B0aW9ucylpZihhLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoYikpe3ZhciBlPWEub3B0aW9uc1tiXTt3aW5kb3cuY29udGV4dF9tZW51W2ouZWwuaWRdW2EuY29udHJvbF1bZS5uYW1lXT17dGl0bGU6ZS50aXRsZSxhY3Rpb246ZS5hY3Rpb259fWQuaWQ9XCJnbWFwc19jb250ZXh0X21lbnVcIixkLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZC5zdHlsZS5taW5XaWR0aD1cIjEwMHB4XCIsZC5zdHlsZS5iYWNrZ3JvdW5kPVwid2hpdGVcIixkLnN0eWxlLmxpc3RTdHlsZT1cIm5vbmVcIixkLnN0eWxlLnBhZGRpbmc9XCI4cHhcIixkLnN0eWxlLmJveFNoYWRvdz1cIjJweCAycHggNnB4ICNjY2NcIixoKFwiZ21hcHNfY29udGV4dF9tZW51XCIpfHxjLmJvZHkuYXBwZW5kQ2hpbGQoZCk7dmFyIGY9aChcImdtYXBzX2NvbnRleHRfbWVudVwiKTtnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcihmLFwibW91c2VvdXRcIixmdW5jdGlvbihhKXthLnJlbGF0ZWRUYXJnZXQmJnRoaXMuY29udGFpbnMoYS5yZWxhdGVkVGFyZ2V0KXx8d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LDQwMCl9LCExKX0sdGhpcy5oaWRlQ29udGV4dE1lbnU9ZnVuY3Rpb24oKXt2YXIgYT1oKFwiZ21hcHNfY29udGV4dF9tZW51XCIpO2EmJihhLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfTt2YXIgRT1mdW5jdGlvbihhLGMpe2dvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGEsYyxmdW5jdGlvbihhKXt2b2lkIDA9PWEmJihhPXRoaXMpLGJbY10uYXBwbHkodGhpcyxbYV0pLGouaGlkZUNvbnRleHRNZW51KCl9KX07Z29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5tYXAsXCJ6b29tX2NoYW5nZWRcIix0aGlzLmhpZGVDb250ZXh0TWVudSk7Zm9yKHZhciBGPTA7RjxrLmxlbmd0aDtGKyspe3ZhciBHPWtbRl07RyBpbiBiJiZFKHRoaXMubWFwLEcpfWZvcih2YXIgRj0wO0Y8bC5sZW5ndGg7RisrKXt2YXIgRz1sW0ZdO0cgaW4gYiYmRSh0aGlzLm1hcCxHKX1nb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcih0aGlzLm1hcCxcInJpZ2h0Y2xpY2tcIixmdW5jdGlvbihhKXtiLnJpZ2h0Y2xpY2smJmIucmlnaHRjbGljay5hcHBseSh0aGlzLFthXSksdm9pZCAwIT13aW5kb3cuY29udGV4dF9tZW51W2ouZWwuaWRdLm1hcCYmai5idWlsZENvbnRleHRNZW51KFwibWFwXCIsYSl9KSx0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oKXtnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMubWFwLFwicmVzaXplXCIpfSx0aGlzLmZpdFpvb209ZnVuY3Rpb24oKXt2YXIgYSxiPVtdLGM9dGhpcy5tYXJrZXJzLmxlbmd0aDtmb3IoYT0wO2M+YTthKyspXCJib29sZWFuXCI9PXR5cGVvZiB0aGlzLm1hcmtlcnNbYV0udmlzaWJsZSYmdGhpcy5tYXJrZXJzW2FdLnZpc2libGUmJmIucHVzaCh0aGlzLm1hcmtlcnNbYV0uZ2V0UG9zaXRpb24oKSk7dGhpcy5maXRMYXRMbmdCb3VuZHMoYil9LHRoaXMuZml0TGF0TG5nQm91bmRzPWZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5sZW5ndGgsZD1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzO2ZvcihiPTA7Yz5iO2IrKylkLmV4dGVuZChhW2JdKTt0aGlzLm1hcC5maXRCb3VuZHMoZCl9LHRoaXMuc2V0Q2VudGVyPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm1hcC5wYW5UbyhuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGEsYikpLGMmJmMoKX0sdGhpcy5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWx9LHRoaXMuem9vbUluPWZ1bmN0aW9uKGEpe2E9YXx8MSx0aGlzLnpvb209dGhpcy5tYXAuZ2V0Wm9vbSgpK2EsdGhpcy5tYXAuc2V0Wm9vbSh0aGlzLnpvb20pfSx0aGlzLnpvb21PdXQ9ZnVuY3Rpb24oYSl7YT1hfHwxLHRoaXMuem9vbT10aGlzLm1hcC5nZXRab29tKCktYSx0aGlzLm1hcC5zZXRab29tKHRoaXMuem9vbSl9O3ZhciBILEk9W107Zm9yKEggaW4gdGhpcy5tYXApXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy5tYXBbSF18fHRoaXNbSF18fEkucHVzaChIKTtmb3IoZT0wO2U8SS5sZW5ndGg7ZSsrKSFmdW5jdGlvbihhLGIsYyl7YVtjXT1mdW5jdGlvbigpe3JldHVybiBiW2NdLmFwcGx5KGIsYXJndW1lbnRzKX19KHRoaXMsdGhpcy5tYXAsSVtlXSl9O3JldHVybiBkfSh0aGlzKTtqLnByb3RvdHlwZS5jcmVhdGVDb250cm9sPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yi5zdHlsZS5jdXJzb3I9XCJwb2ludGVyXCIsYS5kaXNhYmxlRGVmYXVsdFN0eWxlcyE9PSEwJiYoYi5zdHlsZS5mb250RmFtaWx5PVwiUm9ib3RvLCBBcmlhbCwgc2Fucy1zZXJpZlwiLGIuc3R5bGUuZm9udFNpemU9XCIxMXB4XCIsYi5zdHlsZS5ib3hTaGFkb3c9XCJyZ2JhKDAsIDAsIDAsIDAuMjk4MDM5KSAwcHggMXB4IDRweCAtMXB4XCIpO2Zvcih2YXIgYyBpbiBhLnN0eWxlKWIuc3R5bGVbY109YS5zdHlsZVtjXTthLmlkJiYoYi5pZD1hLmlkKSxhLnRpdGxlJiYoYi50aXRsZT1hLnRpdGxlKSxhLmNsYXNzZXMmJihiLmNsYXNzTmFtZT1hLmNsYXNzZXMpLGEuY29udGVudCYmKFwic3RyaW5nXCI9PXR5cGVvZiBhLmNvbnRlbnQ/Yi5pbm5lckhUTUw9YS5jb250ZW50OmEuY29udGVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiZiLmFwcGVuZENoaWxkKGEuY29udGVudCkpLGEucG9zaXRpb24mJihiLnBvc2l0aW9uPWdvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvblthLnBvc2l0aW9uLnRvVXBwZXJDYXNlKCldKTtmb3IodmFyIGQgaW4gYS5ldmVudHMpIWZ1bmN0aW9uKGIsYyl7Z29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIoYixjLGZ1bmN0aW9uKCl7YS5ldmVudHNbY10uYXBwbHkodGhpcyxbdGhpc10pfSl9KGIsZCk7cmV0dXJuIGIuaW5kZXg9MSxifSxqLnByb3RvdHlwZS5hZGRDb250cm9sPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlQ29udHJvbChhKTtyZXR1cm4gdGhpcy5jb250cm9scy5wdXNoKGIpLHRoaXMubWFwLmNvbnRyb2xzW2IucG9zaXRpb25dLnB1c2goYiksYn0sai5wcm90b3R5cGUucmVtb3ZlQ29udHJvbD1mdW5jdGlvbihhKXt2YXIgYixjPW51bGw7Zm9yKGI9MDtiPHRoaXMuY29udHJvbHMubGVuZ3RoO2IrKyl0aGlzLmNvbnRyb2xzW2JdPT1hJiYoYz10aGlzLmNvbnRyb2xzW2JdLnBvc2l0aW9uLHRoaXMuY29udHJvbHMuc3BsaWNlKGIsMSkpO2lmKGMpZm9yKGI9MDtiPHRoaXMubWFwLmNvbnRyb2xzLmxlbmd0aDtiKyspe3ZhciBkPXRoaXMubWFwLmNvbnRyb2xzW2EucG9zaXRpb25dO2lmKGQuZ2V0QXQoYik9PWEpe2QucmVtb3ZlQXQoYik7YnJlYWt9fXJldHVybiBhfSxqLnByb3RvdHlwZS5jcmVhdGVNYXJrZXI9ZnVuY3Rpb24oYil7aWYodm9pZCAwPT1iLmxhdCYmdm9pZCAwPT1iLmxuZyYmdm9pZCAwPT1iLnBvc2l0aW9uKXRocm93XCJObyBsYXRpdHVkZSBvciBsb25naXR1ZGUgZGVmaW5lZC5cIjt2YXIgYz10aGlzLGQ9Yi5kZXRhaWxzLGU9Yi5mZW5jZXMsZj1iLm91dHNpZGUsZz17cG9zaXRpb246bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhiLmxhdCxiLmxuZyksbWFwOm51bGx9LGg9YShnLGIpO2RlbGV0ZSBoLmxhdCxkZWxldGUgaC5sbmcsZGVsZXRlIGguZmVuY2VzLGRlbGV0ZSBoLm91dHNpZGU7dmFyIGk9bmV3IGdvb2dsZS5tYXBzLk1hcmtlcihoKTtpZihpLmZlbmNlcz1lLGIuaW5mb1dpbmRvdyl7aS5pbmZvV2luZG93PW5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KGIuaW5mb1dpbmRvdyk7Zm9yKHZhciBqPVtcImNsb3NlY2xpY2tcIixcImNvbnRlbnRfY2hhbmdlZFwiLFwiZG9tcmVhZHlcIixcInBvc2l0aW9uX2NoYW5nZWRcIixcInppbmRleF9jaGFuZ2VkXCJdLGs9MDtrPGoubGVuZ3RoO2srKykhZnVuY3Rpb24oYSxjKXtiLmluZm9XaW5kb3dbY10mJmdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGEsYyxmdW5jdGlvbihhKXtiLmluZm9XaW5kb3dbY10uYXBwbHkodGhpcyxbYV0pfSl9KGkuaW5mb1dpbmRvdyxqW2tdKX1mb3IodmFyIGw9W1wiYW5pbWF0aW9uX2NoYW5nZWRcIixcImNsaWNrYWJsZV9jaGFuZ2VkXCIsXCJjdXJzb3JfY2hhbmdlZFwiLFwiZHJhZ2dhYmxlX2NoYW5nZWRcIixcImZsYXRfY2hhbmdlZFwiLFwiaWNvbl9jaGFuZ2VkXCIsXCJwb3NpdGlvbl9jaGFuZ2VkXCIsXCJzaGFkb3dfY2hhbmdlZFwiLFwic2hhcGVfY2hhbmdlZFwiLFwidGl0bGVfY2hhbmdlZFwiLFwidmlzaWJsZV9jaGFuZ2VkXCIsXCJ6aW5kZXhfY2hhbmdlZFwiXSxtPVtcImRibGNsaWNrXCIsXCJkcmFnXCIsXCJkcmFnZW5kXCIsXCJkcmFnc3RhcnRcIixcIm1vdXNlZG93blwiLFwibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiLFwibW91c2V1cFwiXSxrPTA7azxsLmxlbmd0aDtrKyspIWZ1bmN0aW9uKGEsYyl7YltjXSYmZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYSxjLGZ1bmN0aW9uKCl7YltjXS5hcHBseSh0aGlzLFt0aGlzXSl9KX0oaSxsW2tdKTtmb3IodmFyIGs9MDtrPG0ubGVuZ3RoO2srKykhZnVuY3Rpb24oYSxjLGQpe2JbZF0mJmdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGMsZCxmdW5jdGlvbihjKXtjLnBpeGVsfHwoYy5waXhlbD1hLmdldFByb2plY3Rpb24oKS5mcm9tTGF0TG5nVG9Qb2ludChjLmxhdExuZykpLGJbZF0uYXBwbHkodGhpcyxbY10pfSl9KHRoaXMubWFwLGksbVtrXSk7cmV0dXJuIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGksXCJjbGlja1wiLGZ1bmN0aW9uKCl7dGhpcy5kZXRhaWxzPWQsYi5jbGljayYmYi5jbGljay5hcHBseSh0aGlzLFt0aGlzXSksaS5pbmZvV2luZG93JiYoYy5oaWRlSW5mb1dpbmRvd3MoKSxpLmluZm9XaW5kb3cub3BlbihjLm1hcCxpKSl9KSxnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihpLFwicmlnaHRjbGlja1wiLGZ1bmN0aW9uKGEpe2EubWFya2VyPXRoaXMsYi5yaWdodGNsaWNrJiZiLnJpZ2h0Y2xpY2suYXBwbHkodGhpcyxbYV0pLHZvaWQgMCE9d2luZG93LmNvbnRleHRfbWVudVtjLmVsLmlkXS5tYXJrZXImJmMuYnVpbGRDb250ZXh0TWVudShcIm1hcmtlclwiLGEpfSksaS5mZW5jZXMmJmdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGksXCJkcmFnZW5kXCIsZnVuY3Rpb24oKXtjLmNoZWNrTWFya2VyR2VvZmVuY2UoaSxmdW5jdGlvbihhLGIpe2YoYSxiKX0pfSksaX0sai5wcm90b3R5cGUuYWRkTWFya2VyPWZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEuaGFzT3duUHJvcGVydHkoXCJnbV9hY2Nlc3NvcnNfXCIpKWI9YTtlbHNle2lmKCEoYS5oYXNPd25Qcm9wZXJ0eShcImxhdFwiKSYmYS5oYXNPd25Qcm9wZXJ0eShcImxuZ1wiKXx8YS5wb3NpdGlvbikpdGhyb3dcIk5vIGxhdGl0dWRlIG9yIGxvbmdpdHVkZSBkZWZpbmVkLlwiO2I9dGhpcy5jcmVhdGVNYXJrZXIoYSl9cmV0dXJuIGIuc2V0TWFwKHRoaXMubWFwKSx0aGlzLm1hcmtlckNsdXN0ZXJlciYmdGhpcy5tYXJrZXJDbHVzdGVyZXIuYWRkTWFya2VyKGIpLHRoaXMubWFya2Vycy5wdXNoKGIpLGouZmlyZShcIm1hcmtlcl9hZGRlZFwiLGIsdGhpcyksYn0sai5wcm90b3R5cGUuYWRkTWFya2Vycz1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz0wO2I9YVtjXTtjKyspdGhpcy5hZGRNYXJrZXIoYik7cmV0dXJuIHRoaXMubWFya2Vyc30sai5wcm90b3R5cGUuaGlkZUluZm9XaW5kb3dzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDthPXRoaXMubWFya2Vyc1tiXTtiKyspYS5pbmZvV2luZG93JiZhLmluZm9XaW5kb3cuY2xvc2UoKX0sai5wcm90b3R5cGUucmVtb3ZlTWFya2VyPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5tYXJrZXJzLmxlbmd0aDtiKyspaWYodGhpcy5tYXJrZXJzW2JdPT09YSl7dGhpcy5tYXJrZXJzW2JdLnNldE1hcChudWxsKSx0aGlzLm1hcmtlcnMuc3BsaWNlKGIsMSksdGhpcy5tYXJrZXJDbHVzdGVyZXImJnRoaXMubWFya2VyQ2x1c3RlcmVyLnJlbW92ZU1hcmtlcihhKSxqLmZpcmUoXCJtYXJrZXJfcmVtb3ZlZFwiLGEsdGhpcyk7YnJlYWt9cmV0dXJuIGF9LGoucHJvdG90eXBlLnJlbW92ZU1hcmtlcnM9ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEpe2Zvcih2YXIgYz0wO2M8dGhpcy5tYXJrZXJzLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMubWFya2Vyc1tjXTtkLnNldE1hcChudWxsKSx0aGlzLm1hcmtlckNsdXN0ZXJlciYmdGhpcy5tYXJrZXJDbHVzdGVyZXIucmVtb3ZlTWFya2VyKGQpLGouZmlyZShcIm1hcmtlcl9yZW1vdmVkXCIsZCx0aGlzKX10aGlzLm1hcmtlcnM9Yn1lbHNle2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZT10aGlzLm1hcmtlcnMuaW5kZXhPZihhW2NdKTtpZihlPi0xKXt2YXIgZD10aGlzLm1hcmtlcnNbZV07ZC5zZXRNYXAobnVsbCksdGhpcy5tYXJrZXJDbHVzdGVyZXImJnRoaXMubWFya2VyQ2x1c3RlcmVyLnJlbW92ZU1hcmtlcihkKSxqLmZpcmUoXCJtYXJrZXJfcmVtb3ZlZFwiLGQsdGhpcyl9fWZvcih2YXIgYz0wO2M8dGhpcy5tYXJrZXJzLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMubWFya2Vyc1tjXTtudWxsIT1kLmdldE1hcCgpJiZiLnB1c2goZCl9dGhpcy5tYXJrZXJzPWJ9fSxqLnByb3RvdHlwZS5kcmF3T3ZlcmxheT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgZ29vZ2xlLm1hcHMuT3ZlcmxheVZpZXcsYz0hMDtyZXR1cm4gYi5zZXRNYXAodGhpcy5tYXApLG51bGwhPWEuYXV0b19zaG93JiYoYz1hLmF1dG9fc2hvdyksYi5vbkFkZD1mdW5jdGlvbigpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5zdHlsZS5ib3JkZXJTdHlsZT1cIm5vbmVcIixjLnN0eWxlLmJvcmRlcldpZHRoPVwiMHB4XCIsYy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsYy5zdHlsZS56SW5kZXg9MTAwLGMuaW5uZXJIVE1MPWEuY29udGVudCxiLmVsPWMsYS5sYXllcnx8KGEubGF5ZXI9XCJvdmVybGF5TGF5ZXJcIik7dmFyIGQ9dGhpcy5nZXRQYW5lcygpLGU9ZFthLmxheWVyXSxmPVtcImNvbnRleHRtZW51XCIsXCJET01Nb3VzZVNjcm9sbFwiLFwiZGJsY2xpY2tcIixcIm1vdXNlZG93blwiXTtlLmFwcGVuZENoaWxkKGMpO2Zvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKSFmdW5jdGlvbihhLGIpe2dvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKGEsYixmdW5jdGlvbihhKXstMSE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJtc2llXCIpJiZkb2N1bWVudC5hbGw/KGEuY2FuY2VsQnViYmxlPSEwLGEucmV0dXJuVmFsdWU9ITEpOmEuc3RvcFByb3BhZ2F0aW9uKCl9KX0oYyxmW2ddKTthLmNsaWNrJiYoZC5vdmVybGF5TW91c2VUYXJnZXQuYXBwZW5kQ2hpbGQoYi5lbCksZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIoYi5lbCxcImNsaWNrXCIsZnVuY3Rpb24oKXthLmNsaWNrLmFwcGx5KGIsW2JdKX0pKSxnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMsXCJyZWFkeVwiKX0sYi5kcmF3PWZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5nZXRQcm9qZWN0aW9uKCksZT1kLmZyb21MYXRMbmdUb0RpdlBpeGVsKG5ldyBnb29nbGUubWFwcy5MYXRMbmcoYS5sYXQsYS5sbmcpKTthLmhvcml6b250YWxPZmZzZXQ9YS5ob3Jpem9udGFsT2Zmc2V0fHwwLGEudmVydGljYWxPZmZzZXQ9YS52ZXJ0aWNhbE9mZnNldHx8MDt2YXIgZj1iLmVsLGc9Zi5jaGlsZHJlblswXSxoPWcuY2xpZW50SGVpZ2h0LGk9Zy5jbGllbnRXaWR0aDtzd2l0Y2goYS52ZXJ0aWNhbEFsaWduKXtjYXNlXCJ0b3BcIjpmLnN0eWxlLnRvcD1lLnktaCthLnZlcnRpY2FsT2Zmc2V0K1wicHhcIjticmVhaztkZWZhdWx0OmNhc2VcIm1pZGRsZVwiOmYuc3R5bGUudG9wPWUueS1oLzIrYS52ZXJ0aWNhbE9mZnNldCtcInB4XCI7YnJlYWs7Y2FzZVwiYm90dG9tXCI6Zi5zdHlsZS50b3A9ZS55K2EudmVydGljYWxPZmZzZXQrXCJweFwifXN3aXRjaChhLmhvcml6b250YWxBbGlnbil7Y2FzZVwibGVmdFwiOmYuc3R5bGUubGVmdD1lLngtaSthLmhvcml6b250YWxPZmZzZXQrXCJweFwiO2JyZWFrO2RlZmF1bHQ6Y2FzZVwiY2VudGVyXCI6Zi5zdHlsZS5sZWZ0PWUueC1pLzIrYS5ob3Jpem9udGFsT2Zmc2V0K1wicHhcIjticmVhaztjYXNlXCJyaWdodFwiOmYuc3R5bGUubGVmdD1lLngrYS5ob3Jpem9udGFsT2Zmc2V0K1wicHhcIn1mLnN0eWxlLmRpc3BsYXk9Yz9cImJsb2NrXCI6XCJub25lXCIsY3x8YS5zaG93LmFwcGx5KHRoaXMsW2ZdKX0sYi5vblJlbW92ZT1mdW5jdGlvbigpe3ZhciBjPWIuZWw7YS5yZW1vdmU/YS5yZW1vdmUuYXBwbHkodGhpcyxbY10pOihiLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYi5lbCksYi5lbD1udWxsKX0sdGhpcy5vdmVybGF5cy5wdXNoKGIpLGJ9LGoucHJvdG90eXBlLnJlbW92ZU92ZXJsYXk9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLm92ZXJsYXlzLmxlbmd0aDtiKyspaWYodGhpcy5vdmVybGF5c1tiXT09PWEpe3RoaXMub3ZlcmxheXNbYl0uc2V0TWFwKG51bGwpLHRoaXMub3ZlcmxheXMuc3BsaWNlKGIsMSk7YnJlYWt9fSxqLnByb3RvdHlwZS5yZW1vdmVPdmVybGF5cz1mdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7YT10aGlzLm92ZXJsYXlzW2JdO2IrKylhLnNldE1hcChudWxsKTt0aGlzLm92ZXJsYXlzPVtdfSxqLnByb3RvdHlwZS5kcmF3UG9seWxpbmU9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1hLnBhdGg7aWYoYy5sZW5ndGgpaWYodm9pZCAwPT09Y1swXVswXSliPWM7ZWxzZSBmb3IodmFyIGQsZT0wO2Q9Y1tlXTtlKyspYi5wdXNoKG5ldyBnb29nbGUubWFwcy5MYXRMbmcoZFswXSxkWzFdKSk7dmFyIGY9e21hcDp0aGlzLm1hcCxwYXRoOmIsc3Ryb2tlQ29sb3I6YS5zdHJva2VDb2xvcixzdHJva2VPcGFjaXR5OmEuc3Ryb2tlT3BhY2l0eSxzdHJva2VXZWlnaHQ6YS5zdHJva2VXZWlnaHQsZ2VvZGVzaWM6YS5nZW9kZXNpYyxjbGlja2FibGU6ITAsZWRpdGFibGU6ITEsdmlzaWJsZTohMH07YS5oYXNPd25Qcm9wZXJ0eShcImNsaWNrYWJsZVwiKSYmKGYuY2xpY2thYmxlPWEuY2xpY2thYmxlKSxhLmhhc093blByb3BlcnR5KFwiZWRpdGFibGVcIikmJihmLmVkaXRhYmxlPWEuZWRpdGFibGUpLGEuaGFzT3duUHJvcGVydHkoXCJpY29uc1wiKSYmKGYuaWNvbnM9YS5pY29ucyksYS5oYXNPd25Qcm9wZXJ0eShcInpJbmRleFwiKSYmKGYuekluZGV4PWEuekluZGV4KTtmb3IodmFyIGc9bmV3IGdvb2dsZS5tYXBzLlBvbHlsaW5lKGYpLGg9W1wiY2xpY2tcIixcImRibGNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNlbW92ZVwiLFwibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiLFwibW91c2V1cFwiLFwicmlnaHRjbGlja1wiXSxpPTA7aTxoLmxlbmd0aDtpKyspIWZ1bmN0aW9uKGIsYyl7YVtjXSYmZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYixjLGZ1bmN0aW9uKGIpe2FbY10uYXBwbHkodGhpcyxbYl0pfSl9KGcsaFtpXSk7cmV0dXJuIHRoaXMucG9seWxpbmVzLnB1c2goZyksai5maXJlKFwicG9seWxpbmVfYWRkZWRcIixnLHRoaXMpLGd9LGoucHJvdG90eXBlLnJlbW92ZVBvbHlsaW5lPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5wb2x5bGluZXMubGVuZ3RoO2IrKylpZih0aGlzLnBvbHlsaW5lc1tiXT09PWEpe3RoaXMucG9seWxpbmVzW2JdLnNldE1hcChudWxsKSx0aGlzLnBvbHlsaW5lcy5zcGxpY2UoYiwxKSxqLmZpcmUoXCJwb2x5bGluZV9yZW1vdmVkXCIsYSx0aGlzKTticmVha319LGoucHJvdG90eXBlLnJlbW92ZVBvbHlsaW5lcz1mdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7YT10aGlzLnBvbHlsaW5lc1tiXTtiKyspYS5zZXRNYXAobnVsbCk7dGhpcy5wb2x5bGluZXM9W119LGoucHJvdG90eXBlLmRyYXdDaXJjbGU9ZnVuY3Rpb24oYil7Yj1hKHttYXA6dGhpcy5tYXAsY2VudGVyOm5ldyBnb29nbGUubWFwcy5MYXRMbmcoYi5sYXQsYi5sbmcpfSxiKSxkZWxldGUgYi5sYXQsZGVsZXRlIGIubG5nO2Zvcih2YXIgYz1uZXcgZ29vZ2xlLm1hcHMuQ2lyY2xlKGIpLGQ9W1wiY2xpY2tcIixcImRibGNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNlbW92ZVwiLFwibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiLFwibW91c2V1cFwiLFwicmlnaHRjbGlja1wiXSxlPTA7ZTxkLmxlbmd0aDtlKyspIWZ1bmN0aW9uKGEsYyl7YltjXSYmZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYSxjLGZ1bmN0aW9uKGEpe2JbY10uYXBwbHkodGhpcyxbYV0pfSl9KGMsZFtlXSk7cmV0dXJuIHRoaXMucG9seWdvbnMucHVzaChjKSxjfSxqLnByb3RvdHlwZS5kcmF3UmVjdGFuZ2xlPWZ1bmN0aW9uKGIpe2I9YSh7bWFwOnRoaXMubWFwfSxiKTt2YXIgYz1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKG5ldyBnb29nbGUubWFwcy5MYXRMbmcoYi5ib3VuZHNbMF1bMF0sYi5ib3VuZHNbMF1bMV0pLG5ldyBnb29nbGUubWFwcy5MYXRMbmcoYi5ib3VuZHNbMV1bMF0sYi5ib3VuZHNbMV1bMV0pKTtiLmJvdW5kcz1jO2Zvcih2YXIgZD1uZXcgZ29vZ2xlLm1hcHMuUmVjdGFuZ2xlKGIpLGU9W1wiY2xpY2tcIixcImRibGNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNlbW92ZVwiLFwibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiLFwibW91c2V1cFwiLFwicmlnaHRjbGlja1wiXSxmPTA7ZjxlLmxlbmd0aDtmKyspIWZ1bmN0aW9uKGEsYyl7YltjXSYmZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYSxjLGZ1bmN0aW9uKGEpe2JbY10uYXBwbHkodGhpcyxbYV0pfSl9KGQsZVtmXSk7cmV0dXJuIHRoaXMucG9seWdvbnMucHVzaChkKSxkfSxqLnByb3RvdHlwZS5kcmF3UG9seWdvbj1mdW5jdGlvbihkKXt2YXIgZT0hMTtkLmhhc093blByb3BlcnR5KFwidXNlR2VvSlNPTlwiKSYmKGU9ZC51c2VHZW9KU09OKSxkZWxldGUgZC51c2VHZW9KU09OLGQ9YSh7bWFwOnRoaXMubWFwfSxkKSwwPT1lJiYoZC5wYXRocz1bZC5wYXRocy5zbGljZSgwKV0pLGQucGF0aHMubGVuZ3RoPjAmJmQucGF0aHNbMF0ubGVuZ3RoPjAmJihkLnBhdGhzPWMoYihkLnBhdGhzLGYsZSkpKTtmb3IodmFyIGc9bmV3IGdvb2dsZS5tYXBzLlBvbHlnb24oZCksaD1bXCJjbGlja1wiLFwiZGJsY2xpY2tcIixcIm1vdXNlZG93blwiLFwibW91c2Vtb3ZlXCIsXCJtb3VzZW91dFwiLFwibW91c2VvdmVyXCIsXCJtb3VzZXVwXCIsXCJyaWdodGNsaWNrXCJdLGk9MDtpPGgubGVuZ3RoO2krKykhZnVuY3Rpb24oYSxiKXtkW2JdJiZnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihhLGIsZnVuY3Rpb24oYSl7ZFtiXS5hcHBseSh0aGlzLFthXSl9KX0oZyxoW2ldKTtyZXR1cm4gdGhpcy5wb2x5Z29ucy5wdXNoKGcpLGouZmlyZShcInBvbHlnb25fYWRkZWRcIixnLHRoaXMpLGd9LGoucHJvdG90eXBlLnJlbW92ZVBvbHlnb249ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLnBvbHlnb25zLmxlbmd0aDtiKyspaWYodGhpcy5wb2x5Z29uc1tiXT09PWEpe3RoaXMucG9seWdvbnNbYl0uc2V0TWFwKG51bGwpLHRoaXMucG9seWdvbnMuc3BsaWNlKGIsMSksai5maXJlKFwicG9seWdvbl9yZW1vdmVkXCIsYSx0aGlzKTticmVha319LGoucHJvdG90eXBlLnJlbW92ZVBvbHlnb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDthPXRoaXMucG9seWdvbnNbYl07YisrKWEuc2V0TWFwKG51bGwpO3RoaXMucG9seWdvbnM9W119LGoucHJvdG90eXBlLmdldEZyb21GdXNpb25UYWJsZXM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5ldmVudHM7ZGVsZXRlIGEuZXZlbnRzO3ZhciBjPWEsZD1uZXcgZ29vZ2xlLm1hcHMuRnVzaW9uVGFibGVzTGF5ZXIoYyk7Zm9yKHZhciBlIGluIGIpIWZ1bmN0aW9uKGEsYyl7Z29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYSxjLGZ1bmN0aW9uKGEpe2JbY10uYXBwbHkodGhpcyxbYV0pfSl9KGQsZSk7cmV0dXJuIHRoaXMubGF5ZXJzLnB1c2goZCksZH0sai5wcm90b3R5cGUubG9hZEZyb21GdXNpb25UYWJsZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRGcm9tRnVzaW9uVGFibGVzKGEpO3JldHVybiBiLnNldE1hcCh0aGlzLm1hcCksYn0sai5wcm90b3R5cGUuZ2V0RnJvbUtNTD1mdW5jdGlvbihhKXt2YXIgYj1hLnVybCxjPWEuZXZlbnRzO2RlbGV0ZSBhLnVybCxkZWxldGUgYS5ldmVudHM7dmFyIGQ9YSxlPW5ldyBnb29nbGUubWFwcy5LbWxMYXllcihiLGQpO2Zvcih2YXIgZiBpbiBjKSFmdW5jdGlvbihhLGIpe2dvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKGEsYixmdW5jdGlvbihhKXtjW2JdLmFwcGx5KHRoaXMsW2FdKX0pfShlLGYpO3JldHVybiB0aGlzLmxheWVycy5wdXNoKGUpLGV9LGoucHJvdG90eXBlLmxvYWRGcm9tS01MPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0RnJvbUtNTChhKTtyZXR1cm4gYi5zZXRNYXAodGhpcy5tYXApLGJ9LGoucHJvdG90eXBlLmFkZExheWVyPWZ1bmN0aW9uKGEsYil7Yj1ifHx7fTt2YXIgYztzd2l0Y2goYSl7Y2FzZVwid2VhdGhlclwiOnRoaXMuc2luZ2xlTGF5ZXJzLndlYXRoZXI9Yz1uZXcgZ29vZ2xlLm1hcHMud2VhdGhlci5XZWF0aGVyTGF5ZXI7YnJlYWs7Y2FzZVwiY2xvdWRzXCI6dGhpcy5zaW5nbGVMYXllcnMuY2xvdWRzPWM9bmV3IGdvb2dsZS5tYXBzLndlYXRoZXIuQ2xvdWRMYXllcjticmVhaztjYXNlXCJ0cmFmZmljXCI6dGhpcy5zaW5nbGVMYXllcnMudHJhZmZpYz1jPW5ldyBnb29nbGUubWFwcy5UcmFmZmljTGF5ZXI7YnJlYWs7Y2FzZVwidHJhbnNpdFwiOnRoaXMuc2luZ2xlTGF5ZXJzLnRyYW5zaXQ9Yz1uZXcgZ29vZ2xlLm1hcHMuVHJhbnNpdExheWVyO2JyZWFrO2Nhc2VcImJpY3ljbGluZ1wiOnRoaXMuc2luZ2xlTGF5ZXJzLmJpY3ljbGluZz1jPW5ldyBnb29nbGUubWFwcy5CaWN5Y2xpbmdMYXllcjticmVhaztjYXNlXCJwYW5vcmFtaW9cIjp0aGlzLnNpbmdsZUxheWVycy5wYW5vcmFtaW89Yz1uZXcgZ29vZ2xlLm1hcHMucGFub3JhbWlvLlBhbm9yYW1pb0xheWVyLGMuc2V0VGFnKGIuZmlsdGVyKSxkZWxldGUgYi5maWx0ZXIsYi5jbGljayYmZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYyxcImNsaWNrXCIsZnVuY3Rpb24oYSl7Yi5jbGljayhhKSxkZWxldGUgYi5jbGlja30pO2JyZWFrO2Nhc2VcInBsYWNlc1wiOmlmKHRoaXMuc2luZ2xlTGF5ZXJzLnBsYWNlcz1jPW5ldyBnb29nbGUubWFwcy5wbGFjZXMuUGxhY2VzU2VydmljZSh0aGlzLm1hcCksYi5zZWFyY2h8fGIubmVhcmJ5U2VhcmNofHxiLnJhZGFyU2VhcmNoKXt2YXIgZD17Ym91bmRzOmIuYm91bmRzfHxudWxsLGtleXdvcmQ6Yi5rZXl3b3JkfHxudWxsLGxvY2F0aW9uOmIubG9jYXRpb258fG51bGwsbmFtZTpiLm5hbWV8fG51bGwscmFkaXVzOmIucmFkaXVzfHxudWxsLHJhbmtCeTpiLnJhbmtCeXx8bnVsbCx0eXBlczpiLnR5cGVzfHxudWxsfTtiLnJhZGFyU2VhcmNoJiZjLnJhZGFyU2VhcmNoKGQsYi5yYWRhclNlYXJjaCksYi5zZWFyY2gmJmMuc2VhcmNoKGQsYi5zZWFyY2gpLGIubmVhcmJ5U2VhcmNoJiZjLm5lYXJieVNlYXJjaChkLGIubmVhcmJ5U2VhcmNoKX1pZihiLnRleHRTZWFyY2gpe3ZhciBlPXtib3VuZHM6Yi5ib3VuZHN8fG51bGwsbG9jYXRpb246Yi5sb2NhdGlvbnx8bnVsbCxxdWVyeTpiLnF1ZXJ5fHxudWxsLHJhZGl1czpiLnJhZGl1c3x8bnVsbH07Yy50ZXh0U2VhcmNoKGUsYi50ZXh0U2VhcmNoKX19cmV0dXJuIHZvaWQgMCE9PWM/KFwiZnVuY3Rpb25cIj09dHlwZW9mIGMuc2V0T3B0aW9ucyYmYy5zZXRPcHRpb25zKGIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGMuc2V0TWFwJiZjLnNldE1hcCh0aGlzLm1hcCksYyk6dm9pZCAwfSxqLnByb3RvdHlwZS5yZW1vdmVMYXllcj1mdW5jdGlvbihhKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmdm9pZCAwIT09dGhpcy5zaW5nbGVMYXllcnNbYV0pdGhpcy5zaW5nbGVMYXllcnNbYV0uc2V0TWFwKG51bGwpLGRlbGV0ZSB0aGlzLnNpbmdsZUxheWVyc1thXTtlbHNlIGZvcih2YXIgYj0wO2I8dGhpcy5sYXllcnMubGVuZ3RoO2IrKylpZih0aGlzLmxheWVyc1tiXT09PWEpe3RoaXMubGF5ZXJzW2JdLnNldE1hcChudWxsKSx0aGlzLmxheWVycy5zcGxpY2UoYiwxKTticmVha319O3ZhciBrLGw7cmV0dXJuIGoucHJvdG90eXBlLmdldFJvdXRlcz1mdW5jdGlvbihiKXtzd2l0Y2goYi50cmF2ZWxNb2RlKXtjYXNlXCJiaWN5Y2xpbmdcIjprPWdvb2dsZS5tYXBzLlRyYXZlbE1vZGUuQklDWUNMSU5HO2JyZWFrO2Nhc2VcInRyYW5zaXRcIjprPWdvb2dsZS5tYXBzLlRyYXZlbE1vZGUuVFJBTlNJVDticmVhaztjYXNlXCJkcml2aW5nXCI6az1nb29nbGUubWFwcy5UcmF2ZWxNb2RlLkRSSVZJTkc7YnJlYWs7ZGVmYXVsdDprPWdvb2dsZS5tYXBzLlRyYXZlbE1vZGUuV0FMS0lOR31sPVwiaW1wZXJpYWxcIj09PWIudW5pdFN5c3RlbT9nb29nbGUubWFwcy5Vbml0U3lzdGVtLklNUEVSSUFMOmdvb2dsZS5tYXBzLlVuaXRTeXN0ZW0uTUVUUklDO3ZhciBjPXthdm9pZEhpZ2h3YXlzOiExLGF2b2lkVG9sbHM6ITEsb3B0aW1pemVXYXlwb2ludHM6ITEsd2F5cG9pbnRzOltdfSxkPWEoYyxiKTtkLm9yaWdpbj0vc3RyaW5nLy50ZXN0KHR5cGVvZiBiLm9yaWdpbik/Yi5vcmlnaW46bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhiLm9yaWdpblswXSxiLm9yaWdpblsxXSksZC5kZXN0aW5hdGlvbj0vc3RyaW5nLy50ZXN0KHR5cGVvZiBiLmRlc3RpbmF0aW9uKT9iLmRlc3RpbmF0aW9uOm5ldyBnb29nbGUubWFwcy5MYXRMbmcoYi5kZXN0aW5hdGlvblswXSxiLmRlc3RpbmF0aW9uWzFdKSxkLnRyYXZlbE1vZGU9ayxkLnVuaXRTeXN0ZW09bCxkZWxldGUgZC5jYWxsYmFjayxkZWxldGUgZC5lcnJvcjt2YXIgZT10aGlzLGY9bmV3IGdvb2dsZS5tYXBzLkRpcmVjdGlvbnNTZXJ2aWNlO2Yucm91dGUoZCxmdW5jdGlvbihhLGMpe2lmKGM9PT1nb29nbGUubWFwcy5EaXJlY3Rpb25zU3RhdHVzLk9LKXtmb3IodmFyIGQgaW4gYS5yb3V0ZXMpYS5yb3V0ZXMuaGFzT3duUHJvcGVydHkoZCkmJmUucm91dGVzLnB1c2goYS5yb3V0ZXNbZF0pO2IuY2FsbGJhY2smJmIuY2FsbGJhY2soZS5yb3V0ZXMpfWVsc2UgYi5lcnJvciYmYi5lcnJvcihhLGMpfSl9LGoucHJvdG90eXBlLnJlbW92ZVJvdXRlcz1mdW5jdGlvbigpe3RoaXMucm91dGVzPVtdfSxqLnByb3RvdHlwZS5nZXRFbGV2YXRpb25zPWZ1bmN0aW9uKGQpe2Q9YSh7bG9jYXRpb25zOltdLHBhdGg6ITEsc2FtcGxlczoyNTZ9LGQpLGQubG9jYXRpb25zLmxlbmd0aD4wJiZkLmxvY2F0aW9uc1swXS5sZW5ndGg+MCYmKGQubG9jYXRpb25zPWMoYihbZC5sb2NhdGlvbnNdLGYsITEpKSk7dmFyIGU9ZC5jYWxsYmFjaztkZWxldGUgZC5jYWxsYmFjazt2YXIgZz1uZXcgZ29vZ2xlLm1hcHMuRWxldmF0aW9uU2VydmljZTtpZihkLnBhdGgpe3ZhciBoPXtwYXRoOmQubG9jYXRpb25zLHNhbXBsZXM6ZC5zYW1wbGVzfTtnLmdldEVsZXZhdGlvbkFsb25nUGF0aChoLGZ1bmN0aW9uKGEsYil7ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZShhLGIpfSl9ZWxzZSBkZWxldGUgZC5wYXRoLGRlbGV0ZSBkLnNhbXBsZXMsZy5nZXRFbGV2YXRpb25Gb3JMb2NhdGlvbnMoZCxmdW5jdGlvbihhLGIpe2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUoYSxiKX0pfSxqLnByb3RvdHlwZS5jbGVhblJvdXRlPWoucHJvdG90eXBlLnJlbW92ZVBvbHlsaW5lcyxqLnByb3RvdHlwZS5kcmF3Um91dGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLmdldFJvdXRlcyh7b3JpZ2luOmEub3JpZ2luLGRlc3RpbmF0aW9uOmEuZGVzdGluYXRpb24sdHJhdmVsTW9kZTphLnRyYXZlbE1vZGUsd2F5cG9pbnRzOmEud2F5cG9pbnRzLHVuaXRTeXN0ZW06YS51bml0U3lzdGVtLGVycm9yOmEuZXJyb3IsY2FsbGJhY2s6ZnVuY3Rpb24oYyl7aWYoYy5sZW5ndGg+MCl7dmFyIGQ9e3BhdGg6Y1tjLmxlbmd0aC0xXS5vdmVydmlld19wYXRoLHN0cm9rZUNvbG9yOmEuc3Ryb2tlQ29sb3Isc3Ryb2tlT3BhY2l0eTphLnN0cm9rZU9wYWNpdHksc3Ryb2tlV2VpZ2h0OmEuc3Ryb2tlV2VpZ2h0fTthLmhhc093blByb3BlcnR5KFwiaWNvbnNcIikmJihkLmljb25zPWEuaWNvbnMpLGIuZHJhd1BvbHlsaW5lKGQpLGEuY2FsbGJhY2smJmEuY2FsbGJhY2soY1tjLmxlbmd0aC0xXSl9fX0pfSxqLnByb3RvdHlwZS50cmF2ZWxSb3V0ZT1mdW5jdGlvbihhKXtpZihhLm9yaWdpbiYmYS5kZXN0aW5hdGlvbil0aGlzLmdldFJvdXRlcyh7b3JpZ2luOmEub3JpZ2luLGRlc3RpbmF0aW9uOmEuZGVzdGluYXRpb24sdHJhdmVsTW9kZTphLnRyYXZlbE1vZGUsd2F5cG9pbnRzOmEud2F5cG9pbnRzLHVuaXRTeXN0ZW06YS51bml0U3lzdGVtLGVycm9yOmEuZXJyb3IsY2FsbGJhY2s6ZnVuY3Rpb24oYil7aWYoYi5sZW5ndGg+MCYmYS5zdGFydCYmYS5zdGFydChiW2IubGVuZ3RoLTFdKSxiLmxlbmd0aD4wJiZhLnN0ZXApe3ZhciBjPWJbYi5sZW5ndGgtMV07aWYoYy5sZWdzLmxlbmd0aD4wKWZvcih2YXIgZCxlPWMubGVnc1swXS5zdGVwcyxmPTA7ZD1lW2ZdO2YrKylkLnN0ZXBfbnVtYmVyPWYsYS5zdGVwKGQsYy5sZWdzWzBdLnN0ZXBzLmxlbmd0aC0xKX1iLmxlbmd0aD4wJiZhLmVuZCYmYS5lbmQoYltiLmxlbmd0aC0xXSl9fSk7ZWxzZSBpZihhLnJvdXRlJiZhLnJvdXRlLmxlZ3MubGVuZ3RoPjApZm9yKHZhciBiLGM9YS5yb3V0ZS5sZWdzWzBdLnN0ZXBzLGQ9MDtiPWNbZF07ZCsrKWIuc3RlcF9udW1iZXI9ZCxhLnN0ZXAoYil9LGoucHJvdG90eXBlLmRyYXdTdGVwcGVkUm91dGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihhLm9yaWdpbiYmYS5kZXN0aW5hdGlvbil0aGlzLmdldFJvdXRlcyh7b3JpZ2luOmEub3JpZ2luLGRlc3RpbmF0aW9uOmEuZGVzdGluYXRpb24sdHJhdmVsTW9kZTphLnRyYXZlbE1vZGUsd2F5cG9pbnRzOmEud2F5cG9pbnRzLGVycm9yOmEuZXJyb3IsY2FsbGJhY2s6ZnVuY3Rpb24oYyl7aWYoYy5sZW5ndGg+MCYmYS5zdGFydCYmYS5zdGFydChjW2MubGVuZ3RoLTFdKSxjLmxlbmd0aD4wJiZhLnN0ZXApe3ZhciBkPWNbYy5sZW5ndGgtMV07aWYoZC5sZWdzLmxlbmd0aD4wKWZvcih2YXIgZSxmPWQubGVnc1swXS5zdGVwcyxnPTA7ZT1mW2ddO2crKyl7ZS5zdGVwX251bWJlcj1nO3ZhciBoPXtwYXRoOmUucGF0aCxzdHJva2VDb2xvcjphLnN0cm9rZUNvbG9yLHN0cm9rZU9wYWNpdHk6YS5zdHJva2VPcGFjaXR5LHN0cm9rZVdlaWdodDphLnN0cm9rZVdlaWdodH07YS5oYXNPd25Qcm9wZXJ0eShcImljb25zXCIpJiYoaC5pY29ucz1hLmljb25zKSxiLmRyYXdQb2x5bGluZShoKSxhLnN0ZXAoZSxkLmxlZ3NbMF0uc3RlcHMubGVuZ3RoLTEpfX1jLmxlbmd0aD4wJiZhLmVuZCYmYS5lbmQoY1tjLmxlbmd0aC0xXSl9fSk7ZWxzZSBpZihhLnJvdXRlJiZhLnJvdXRlLmxlZ3MubGVuZ3RoPjApZm9yKHZhciBjLGQ9YS5yb3V0ZS5sZWdzWzBdLnN0ZXBzLGU9MDtjPWRbZV07ZSsrKXtjLnN0ZXBfbnVtYmVyPWU7dmFyIGY9e3BhdGg6Yy5wYXRoLHN0cm9rZUNvbG9yOmEuc3Ryb2tlQ29sb3Isc3Ryb2tlT3BhY2l0eTphLnN0cm9rZU9wYWNpdHksc3Ryb2tlV2VpZ2h0OmEuc3Ryb2tlV2VpZ2h0fTthLmhhc093blByb3BlcnR5KFwiaWNvbnNcIikmJihmLmljb25zPWEuaWNvbnMpLGIuZHJhd1BvbHlsaW5lKGYpLGEuc3RlcChjKX19LGouUm91dGU9ZnVuY3Rpb24oYSl7dGhpcy5vcmlnaW49YS5vcmlnaW4sdGhpcy5kZXN0aW5hdGlvbj1hLmRlc3RpbmF0aW9uLHRoaXMud2F5cG9pbnRzPWEud2F5cG9pbnRzLHRoaXMubWFwPWEubWFwLHRoaXMucm91dGU9YS5yb3V0ZSx0aGlzLnN0ZXBfY291bnQ9MCx0aGlzLnN0ZXBzPXRoaXMucm91dGUubGVnc1swXS5zdGVwcyx0aGlzLnN0ZXBzX2xlbmd0aD10aGlzLnN0ZXBzLmxlbmd0aDt2YXIgYj17cGF0aDpuZXcgZ29vZ2xlLm1hcHMuTVZDQXJyYXksc3Ryb2tlQ29sb3I6YS5zdHJva2VDb2xvcixzdHJva2VPcGFjaXR5OmEuc3Ryb2tlT3BhY2l0eSxzdHJva2VXZWlnaHQ6YS5zdHJva2VXZWlnaHR9O2EuaGFzT3duUHJvcGVydHkoXCJpY29uc1wiKSYmKGIuaWNvbnM9YS5pY29ucyksdGhpcy5wb2x5bGluZT10aGlzLm1hcC5kcmF3UG9seWxpbmUoYikuZ2V0UGF0aCgpfSxqLlJvdXRlLnByb3RvdHlwZS5nZXRSb3V0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMubWFwLmdldFJvdXRlcyh7b3JpZ2luOnRoaXMub3JpZ2luLGRlc3RpbmF0aW9uOnRoaXMuZGVzdGluYXRpb24sdHJhdmVsTW9kZTphLnRyYXZlbE1vZGUsd2F5cG9pbnRzOnRoaXMud2F5cG9pbnRzfHxbXSxlcnJvcjphLmVycm9yLGNhbGxiYWNrOmZ1bmN0aW9uKCl7Yi5yb3V0ZT1lWzBdLGEuY2FsbGJhY2smJmEuY2FsbGJhY2suY2FsbChiKX19KX0sai5Sb3V0ZS5wcm90b3R5cGUuYmFjaz1mdW5jdGlvbigpe2lmKHRoaXMuc3RlcF9jb3VudD4wKXt0aGlzLnN0ZXBfY291bnQtLTt2YXIgYT10aGlzLnJvdXRlLmxlZ3NbMF0uc3RlcHNbdGhpcy5zdGVwX2NvdW50XS5wYXRoO2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJnRoaXMucG9seWxpbmUucG9wKCl9fSxqLlJvdXRlLnByb3RvdHlwZS5mb3J3YXJkPWZ1bmN0aW9uKCl7aWYodGhpcy5zdGVwX2NvdW50PHRoaXMuc3RlcHNfbGVuZ3RoKXt2YXIgYT10aGlzLnJvdXRlLmxlZ3NbMF0uc3RlcHNbdGhpcy5zdGVwX2NvdW50XS5wYXRoO2Zvcih2YXIgYiBpbiBhKWEuaGFzT3duUHJvcGVydHkoYikmJnRoaXMucG9seWxpbmUucHVzaChhW2JdKTt0aGlzLnN0ZXBfY291bnQrK319LGoucHJvdG90eXBlLmNoZWNrR2VvZmVuY2U9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjLmNvbnRhaW5zTGF0TG5nKG5ldyBnb29nbGUubWFwcy5MYXRMbmcoYSxiKSl9LGoucHJvdG90eXBlLmNoZWNrTWFya2VyR2VvZmVuY2U9ZnVuY3Rpb24oYSxiKXtpZihhLmZlbmNlcylmb3IodmFyIGMsZD0wO2M9YS5mZW5jZXNbZF07ZCsrKXt2YXIgZT1hLmdldFBvc2l0aW9uKCk7dGhpcy5jaGVja0dlb2ZlbmNlKGUubGF0KCksZS5sbmcoKSxjKXx8YihhLGMpfX0sai5wcm90b3R5cGUudG9JbWFnZT1mdW5jdGlvbihhKXt2YXIgYT1hfHx7fSxiPXt9O2lmKGIuc2l6ZT1hLnNpemV8fFt0aGlzLmVsLmNsaWVudFdpZHRoLHRoaXMuZWwuY2xpZW50SGVpZ2h0XSxiLmxhdD10aGlzLmdldENlbnRlcigpLmxhdCgpLGIubG5nPXRoaXMuZ2V0Q2VudGVyKCkubG5nKCksdGhpcy5tYXJrZXJzLmxlbmd0aD4wKXtiLm1hcmtlcnM9W107Zm9yKHZhciBjPTA7Yzx0aGlzLm1hcmtlcnMubGVuZ3RoO2MrKyliLm1hcmtlcnMucHVzaCh7bGF0OnRoaXMubWFya2Vyc1tjXS5nZXRQb3NpdGlvbigpLmxhdCgpLGxuZzp0aGlzLm1hcmtlcnNbY10uZ2V0UG9zaXRpb24oKS5sbmcoKX0pfWlmKHRoaXMucG9seWxpbmVzLmxlbmd0aD4wKXt2YXIgZD10aGlzLnBvbHlsaW5lc1swXTtiLnBvbHlsaW5lPXt9LGIucG9seWxpbmUucGF0aD1nb29nbGUubWFwcy5nZW9tZXRyeS5lbmNvZGluZy5lbmNvZGVQYXRoKGQuZ2V0UGF0aCgpKSxiLnBvbHlsaW5lLnN0cm9rZUNvbG9yPWQuc3Ryb2tlQ29sb3IsYi5wb2x5bGluZS5zdHJva2VPcGFjaXR5PWQuc3Ryb2tlT3BhY2l0eSxiLnBvbHlsaW5lLnN0cm9rZVdlaWdodD1kLnN0cm9rZVdlaWdodH1yZXR1cm4gai5zdGF0aWNNYXBVUkwoYil9LGouc3RhdGljTWFwVVJMPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtpZihcIiNcIj09PWFbMF0mJihhPWEucmVwbGFjZShcIiNcIixcIjB4XCIpLGIpKXtpZihiPXBhcnNlRmxvYXQoYiksYj1NYXRoLm1pbigxLE1hdGgubWF4KGIsMCkpLDA9PT1iKXJldHVyblwiMHgwMDAwMDAwMFwiO2I9KDI1NSpiKS50b1N0cmluZygxNiksMT09PWIubGVuZ3RoJiYoYis9YiksYT1hLnNsaWNlKDAsOCkrYn1yZXR1cm4gYX12YXIgYyxkPVtdLGU9KFwiZmlsZTpcIj09PWxvY2F0aW9uLnByb3RvY29sP1wiaHR0cDpcIjpsb2NhdGlvbi5wcm90b2NvbCkrXCIvL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvc3RhdGljbWFwXCI7YS51cmwmJihlPWEudXJsLGRlbGV0ZSBhLnVybCksZSs9XCI/XCI7dmFyIGY9YS5tYXJrZXJzO2RlbGV0ZSBhLm1hcmtlcnMsIWYmJmEubWFya2VyJiYoZj1bYS5tYXJrZXJdLGRlbGV0ZSBhLm1hcmtlcik7dmFyIGc9YS5zdHlsZXM7ZGVsZXRlIGEuc3R5bGVzO3ZhciBoPWEucG9seWxpbmU7aWYoZGVsZXRlIGEucG9seWxpbmUsYS5jZW50ZXIpZC5wdXNoKFwiY2VudGVyPVwiK2EuY2VudGVyKSxkZWxldGUgYS5jZW50ZXI7ZWxzZSBpZihhLmFkZHJlc3MpZC5wdXNoKFwiY2VudGVyPVwiK2EuYWRkcmVzcyksZGVsZXRlIGEuYWRkcmVzcztlbHNlIGlmKGEubGF0KWQucHVzaChbXCJjZW50ZXI9XCIsYS5sYXQsXCIsXCIsYS5sbmddLmpvaW4oXCJcIikpLGRlbGV0ZSBhLmxhdCxkZWxldGUgYS5sbmc7ZWxzZSBpZihhLnZpc2libGUpe3ZhciBpPWVuY29kZVVSSShhLnZpc2libGUuam9pbihcInxcIikpO2QucHVzaChcInZpc2libGU9XCIraSl9dmFyIGo9YS5zaXplO2o/KGouam9pbiYmKGo9ai5qb2luKFwieFwiKSksZGVsZXRlIGEuc2l6ZSk6aj1cIjYzMHgzMDBcIixkLnB1c2goXCJzaXplPVwiK2opLGEuem9vbXx8YS56b29tPT09ITF8fChhLnpvb209MTUpO3ZhciBrPWEuaGFzT3duUHJvcGVydHkoXCJzZW5zb3JcIik/ISFhLnNlbnNvcjohMDtkZWxldGUgYS5zZW5zb3IsZC5wdXNoKFwic2Vuc29yPVwiK2spO2Zvcih2YXIgbCBpbiBhKWEuaGFzT3duUHJvcGVydHkobCkmJmQucHVzaChsK1wiPVwiK2FbbF0pO2lmKGYpZm9yKHZhciBtLG4sbz0wO2M9ZltvXTtvKyspe209W10sYy5zaXplJiZcIm5vcm1hbFwiIT09Yy5zaXplPyhtLnB1c2goXCJzaXplOlwiK2Muc2l6ZSksZGVsZXRlIGMuc2l6ZSk6Yy5pY29uJiYobS5wdXNoKFwiaWNvbjpcIitlbmNvZGVVUkkoYy5pY29uKSksZGVsZXRlIGMuaWNvbiksYy5jb2xvciYmKG0ucHVzaChcImNvbG9yOlwiK2MuY29sb3IucmVwbGFjZShcIiNcIixcIjB4XCIpKSxkZWxldGUgYy5jb2xvciksYy5sYWJlbCYmKG0ucHVzaChcImxhYmVsOlwiK2MubGFiZWxbMF0udG9VcHBlckNhc2UoKSksZGVsZXRlIGMubGFiZWwpLG49Yy5hZGRyZXNzP2MuYWRkcmVzczpjLmxhdCtcIixcIitjLmxuZyxkZWxldGUgYy5hZGRyZXNzLGRlbGV0ZSBjLmxhdCxkZWxldGUgYy5sbmc7Zm9yKHZhciBsIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShsKSYmbS5wdXNoKGwrXCI6XCIrY1tsXSk7bS5sZW5ndGh8fDA9PT1vPyhtLnB1c2gobiksbT1tLmpvaW4oXCJ8XCIpLGQucHVzaChcIm1hcmtlcnM9XCIrZW5jb2RlVVJJKG0pKSk6KG09ZC5wb3AoKStlbmNvZGVVUkkoXCJ8XCIrbiksZC5wdXNoKG0pKX1pZihnKWZvcih2YXIgbz0wO288Zy5sZW5ndGg7bysrKXt2YXIgcD1bXTtnW29dLmZlYXR1cmVUeXBlJiZwLnB1c2goXCJmZWF0dXJlOlwiK2dbb10uZmVhdHVyZVR5cGUudG9Mb3dlckNhc2UoKSksZ1tvXS5lbGVtZW50VHlwZSYmcC5wdXNoKFwiZWxlbWVudDpcIitnW29dLmVsZW1lbnRUeXBlLnRvTG93ZXJDYXNlKCkpO2Zvcih2YXIgcT0wO3E8Z1tvXS5zdHlsZXJzLmxlbmd0aDtxKyspZm9yKHZhciByIGluIGdbb10uc3R5bGVyc1txXSl7dmFyIHM9Z1tvXS5zdHlsZXJzW3FdW3JdOyhcImh1ZVwiPT1yfHxcImNvbG9yXCI9PXIpJiYocz1cIjB4XCIrcy5zdWJzdHJpbmcoMSkpLHAucHVzaChyK1wiOlwiK3MpfXZhciB0PXAuam9pbihcInxcIik7XCJcIiE9dCYmZC5wdXNoKFwic3R5bGU9XCIrdCl9aWYoaCl7aWYoYz1oLGg9W10sYy5zdHJva2VXZWlnaHQmJmgucHVzaChcIndlaWdodDpcIitwYXJzZUludChjLnN0cm9rZVdlaWdodCwxMCkpLGMuc3Ryb2tlQ29sb3Ipe3ZhciB1PWIoYy5zdHJva2VDb2xvcixjLnN0cm9rZU9wYWNpdHkpO2gucHVzaChcImNvbG9yOlwiK3UpfWlmKGMuZmlsbENvbG9yKXt2YXIgdj1iKGMuZmlsbENvbG9yLGMuZmlsbE9wYWNpdHkpO2gucHVzaChcImZpbGxjb2xvcjpcIit2KX12YXIgdz1jLnBhdGg7aWYody5qb2luKWZvcih2YXIgeCxxPTA7eD13W3FdO3ErKyloLnB1c2goeC5qb2luKFwiLFwiKSk7ZWxzZSBoLnB1c2goXCJlbmM6XCIrdyk7aD1oLmpvaW4oXCJ8XCIpLGQucHVzaChcInBhdGg9XCIrZW5jb2RlVVJJKGgpKX12YXIgeT13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MTtyZXR1cm4gZC5wdXNoKFwic2NhbGU9XCIreSksZD1kLmpvaW4oXCImXCIpLGUrZH0sai5wcm90b3R5cGUuYWRkTWFwVHlwZT1mdW5jdGlvbihhLGIpe2lmKCFiLmhhc093blByb3BlcnR5KFwiZ2V0VGlsZVVybFwiKXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYi5nZXRUaWxlVXJsKXRocm93XCInZ2V0VGlsZVVybCcgZnVuY3Rpb24gcmVxdWlyZWQuXCI7Yi50aWxlU2l6ZT1iLnRpbGVTaXplfHxuZXcgZ29vZ2xlLm1hcHMuU2l6ZSgyNTYsMjU2KTt2YXIgYz1uZXcgZ29vZ2xlLm1hcHMuSW1hZ2VNYXBUeXBlKGIpO3RoaXMubWFwLm1hcFR5cGVzLnNldChhLGMpfSxqLnByb3RvdHlwZS5hZGRPdmVybGF5TWFwVHlwZT1mdW5jdGlvbihhKXtpZighYS5oYXNPd25Qcm9wZXJ0eShcImdldFRpbGVcIil8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEuZ2V0VGlsZSl0aHJvd1wiJ2dldFRpbGUnIGZ1bmN0aW9uIHJlcXVpcmVkLlwiO3ZhciBiPWEuaW5kZXg7ZGVsZXRlIGEuaW5kZXgsdGhpcy5tYXAub3ZlcmxheU1hcFR5cGVzLmluc2VydEF0KGIsYSl9LGoucHJvdG90eXBlLnJlbW92ZU92ZXJsYXlNYXBUeXBlPWZ1bmN0aW9uKGEpe3RoaXMubWFwLm92ZXJsYXlNYXBUeXBlcy5yZW1vdmVBdChhKX0sai5wcm90b3R5cGUuYWRkU3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGdvb2dsZS5tYXBzLlN0eWxlZE1hcFR5cGUoYS5zdHlsZXMse25hbWU6YS5zdHlsZWRNYXBOYW1lfSk7dGhpcy5tYXAubWFwVHlwZXMuc2V0KGEubWFwVHlwZUlkLGIpfSxqLnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbihhKXt0aGlzLm1hcC5zZXRNYXBUeXBlSWQoYSl9LGoucHJvdG90eXBlLmNyZWF0ZVBhbm9yYW1hPWZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc093blByb3BlcnR5KFwibGF0XCIpJiZhLmhhc093blByb3BlcnR5KFwibG5nXCIpfHwoYS5sYXQ9dGhpcy5nZXRDZW50ZXIoKS5sYXQoKSxhLmxuZz10aGlzLmdldENlbnRlcigpLmxuZygpKSx0aGlzLnBhbm9yYW1hPWouY3JlYXRlUGFub3JhbWEoYSksdGhpcy5tYXAuc2V0U3RyZWV0Vmlldyh0aGlzLnBhbm9yYW1hKSx0aGlzLnBhbm9yYW1hfSxqLmNyZWF0ZVBhbm9yYW1hPWZ1bmN0aW9uKGIpe3ZhciBjPWgoYi5lbCxiLmNvbnRleHQpO2IucG9zaXRpb249bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhiLmxhdCxiLmxuZyksZGVsZXRlIGIuZWwsZGVsZXRlIGIuY29udGV4dCxkZWxldGUgYi5sYXQsZGVsZXRlIGIubG5nO2Zvcih2YXIgZD1bXCJjbG9zZWNsaWNrXCIsXCJsaW5rc19jaGFuZ2VkXCIsXCJwYW5vX2NoYW5nZWRcIixcInBvc2l0aW9uX2NoYW5nZWRcIixcInBvdl9jaGFuZ2VkXCIsXCJyZXNpemVcIixcInZpc2libGVfY2hhbmdlZFwiXSxlPWEoe3Zpc2libGU6ITB9LGIpLGY9MDtmPGQubGVuZ3RoO2YrKylkZWxldGUgZVtkW2ZdXTtmb3IodmFyIGc9bmV3IGdvb2dsZS5tYXBzLlN0cmVldFZpZXdQYW5vcmFtYShjLGUpLGY9MDtmPGQubGVuZ3RoO2YrKykhZnVuY3Rpb24oYSxjKXtiW2NdJiZnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihhLGMsZnVuY3Rpb24oKXtiW2NdLmFwcGx5KHRoaXMpfSl9KGcsZFtmXSk7cmV0dXJuIGd9LGoucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGoub24oYSx0aGlzLGIpfSxqLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oYSl7ai5vZmYoYSx0aGlzKX0sai5jdXN0b21fZXZlbnRzPVtcIm1hcmtlcl9hZGRlZFwiLFwibWFya2VyX3JlbW92ZWRcIixcInBvbHlsaW5lX2FkZGVkXCIsXCJwb2x5bGluZV9yZW1vdmVkXCIsXCJwb2x5Z29uX2FkZGVkXCIsXCJwb2x5Z29uX3JlbW92ZWRcIixcImdlb2xvY2F0ZWRcIixcImdlb2xvY2F0aW9uX2ZhaWxlZFwiXSxqLm9uPWZ1bmN0aW9uKGEsYixjKXtpZigtMT09ai5jdXN0b21fZXZlbnRzLmluZGV4T2YoYSkpcmV0dXJuIGIgaW5zdGFuY2VvZiBqJiYoYj1iLm1hcCksZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYixhLGMpO3ZhciBkPXtoYW5kbGVyOmMsZXZlbnROYW1lOmF9O3JldHVybiBiLnJlZ2lzdGVyZWRfZXZlbnRzW2FdPWIucmVnaXN0ZXJlZF9ldmVudHNbYV18fFtdLGIucmVnaXN0ZXJlZF9ldmVudHNbYV0ucHVzaChkKSxkfSxqLm9mZj1mdW5jdGlvbihhLGIpey0xPT1qLmN1c3RvbV9ldmVudHMuaW5kZXhPZihhKT8oYiBpbnN0YW5jZW9mIGomJihiPWIubWFwKSxnb29nbGUubWFwcy5ldmVudC5jbGVhckxpc3RlbmVycyhiLGEpKTpiLnJlZ2lzdGVyZWRfZXZlbnRzW2FdPVtdfSxqLmZpcmU9ZnVuY3Rpb24oYSxiLGMpe2lmKC0xPT1qLmN1c3RvbV9ldmVudHMuaW5kZXhPZihhKSlnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKGIsYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKS5zbGljZSgyKSk7ZWxzZSBpZihhIGluIGMucmVnaXN0ZXJlZF9ldmVudHMpZm9yKHZhciBkPWMucmVnaXN0ZXJlZF9ldmVudHNbYV0sZT0wO2U8ZC5sZW5ndGg7ZSsrKSFmdW5jdGlvbihhLGIsYyl7YS5hcHBseShiLFtjXSl9KGRbZV0uaGFuZGxlcixjLGIpfSxqLmdlb2xvY2F0ZT1mdW5jdGlvbihhKXt2YXIgYj1hLmFsd2F5c3x8YS5jb21wbGV0ZTtuYXZpZ2F0b3IuZ2VvbG9jYXRpb24/bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbihjKXthLnN1Y2Nlc3MoYyksYiYmYigpfSxmdW5jdGlvbihjKXthLmVycm9yKGMpLGImJmIoKX0sYS5vcHRpb25zKTooYS5ub3Rfc3VwcG9ydGVkKCksYiYmYigpKX0sai5nZW9jb2RlPWZ1bmN0aW9uKGEpe3RoaXMuZ2VvY29kZXI9bmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyO3ZhciBiPWEuY2FsbGJhY2s7YS5oYXNPd25Qcm9wZXJ0eShcImxhdFwiKSYmYS5oYXNPd25Qcm9wZXJ0eShcImxuZ1wiKSYmKGEubGF0TG5nPW5ldyBnb29nbGUubWFwcy5MYXRMbmcoYS5sYXQsYS5sbmcpKSxkZWxldGUgYS5sYXQsZGVsZXRlIGEubG5nLGRlbGV0ZSBhLmNhbGxiYWNrLHRoaXMuZ2VvY29kZXIuZ2VvY29kZShhLGZ1bmN0aW9uKGEsYyl7YihhLGMpfSl9LFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cuZ29vZ2xlJiZ3aW5kb3cuZ29vZ2xlLm1hcHMmJihnb29nbGUubWFwcy5Qb2x5Z29uLnByb3RvdHlwZS5nZXRCb3VuZHN8fChnb29nbGUubWFwcy5Qb2x5Z29uLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9bmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcyxkPXRoaXMuZ2V0UGF0aHMoKSxlPTA7ZTxkLmdldExlbmd0aCgpO2UrKyl7Yj1kLmdldEF0KGUpO2Zvcih2YXIgZj0wO2Y8Yi5nZXRMZW5ndGgoKTtmKyspYy5leHRlbmQoYi5nZXRBdChmKSl9cmV0dXJuIGN9KSxnb29nbGUubWFwcy5Qb2x5Z29uLnByb3RvdHlwZS5jb250YWluc0xhdExuZ3x8KGdvb2dsZS5tYXBzLlBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zTGF0TG5nPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Qm91bmRzKCk7aWYobnVsbCE9PWImJiFiLmNvbnRhaW5zKGEpKXJldHVybiExO2Zvcih2YXIgYz0hMSxkPXRoaXMuZ2V0UGF0aHMoKS5nZXRMZW5ndGgoKSxlPTA7ZD5lO2UrKylmb3IodmFyIGY9dGhpcy5nZXRQYXRocygpLmdldEF0KGUpLGc9Zi5nZXRMZW5ndGgoKSxoPWctMSxpPTA7Zz5pO2krKyl7dmFyIGo9Zi5nZXRBdChpKSxrPWYuZ2V0QXQoaCk7KGoubG5nKCk8YS5sbmcoKSYmay5sbmcoKT49YS5sbmcoKXx8ay5sbmcoKTxhLmxuZygpJiZqLmxuZygpPj1hLmxuZygpKSYmai5sYXQoKSsoYS5sbmcoKS1qLmxuZygpKS8oay5sbmcoKS1qLmxuZygpKSooay5sYXQoKS1qLmxhdCgpKTxhLmxhdCgpJiYoYz0hYyksaD1pfXJldHVybiBjfSksZ29vZ2xlLm1hcHMuQ2lyY2xlLnByb3RvdHlwZS5jb250YWluc0xhdExuZ3x8KGdvb2dsZS5tYXBzLkNpcmNsZS5wcm90b3R5cGUuY29udGFpbnNMYXRMbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIGdvb2dsZS5tYXBzLmdlb21ldHJ5P2dvb2dsZS5tYXBzLmdlb21ldHJ5LnNwaGVyaWNhbC5jb21wdXRlRGlzdGFuY2VCZXR3ZWVuKHRoaXMuZ2V0Q2VudGVyKCksYSk8PXRoaXMuZ2V0UmFkaXVzKCk6ITB9KSxnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMucHJvdG90eXBlLmNvbnRhaW5zTGF0TG5nPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnRhaW5zKGEpfSxnb29nbGUubWFwcy5NYXJrZXIucHJvdG90eXBlLnNldEZlbmNlcz1mdW5jdGlvbihhKXt0aGlzLmZlbmNlcz1hfSxnb29nbGUubWFwcy5NYXJrZXIucHJvdG90eXBlLmFkZEZlbmNlPWZ1bmN0aW9uKGEpe3RoaXMuZmVuY2VzLnB1c2goYSl9LGdvb2dsZS5tYXBzLk1hcmtlci5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2dtX2lkfSksQXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihhKXtpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3I7dmFyIGI9T2JqZWN0KHRoaXMpLGM9Yi5sZW5ndGg+Pj4wO2lmKDA9PT1jKXJldHVybi0xO3ZhciBkPTA7aWYoYXJndW1lbnRzLmxlbmd0aD4xJiYoZD1OdW1iZXIoYXJndW1lbnRzWzFdKSxkIT1kP2Q9MDowIT1kJiZkIT0xLzAmJmQhPS0oMS8wKSYmKGQ9KGQ+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMoZCkpKSksZD49YylyZXR1cm4tMTtmb3IodmFyIGU9ZD49MD9kOk1hdGgubWF4KGMtTWF0aC5hYnMoZCksMCk7Yz5lO2UrKylpZihlIGluIGImJmJbZV09PT1hKXJldHVybiBlO3JldHVybi0xfSksan0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z21hcHMubWluLmpzLm1hcFxuOyBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXyh0eXBlb2YgR01hcHMgIT0gXCJ1bmRlZmluZWRcIiA/IEdNYXBzIDogd2luZG93LkdNYXBzKTtcblxufSkuY2FsbChnbG9iYWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uIGRlZmluZUV4cG9ydChleCkgeyBtb2R1bGUuZXhwb3J0cyA9IGV4OyB9KTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBkZWZpbmUpIHtcbi8qIVxuICogalF1ZXJ5IFRyYW5zaXQgLSBDU1MzIHRyYW5zaXRpb25zIGFuZCB0cmFuc2Zvcm1hdGlvbnNcbiAqIChjKSAyMDExLTIwMTQgUmljbyBTdGEuIENydXpcbiAqIE1JVCBMaWNlbnNlZC5cbiAqXG4gKiBodHRwOi8vcmljb3N0YWNydXouY29tL2pxdWVyeS50cmFuc2l0XG4gKiBodHRwOi8vZ2l0aHViLmNvbS9yc3RhY3J1ei9qcXVlcnkudHJhbnNpdFxuICovXG5cbi8qIGpzaGludCBleHByOiB0cnVlICovXG5cbjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSk7XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeShyb290LmpRdWVyeSk7XG4gIH1cblxufSh0aGlzLCBmdW5jdGlvbigkKSB7XG5cbiAgJC50cmFuc2l0ID0ge1xuICAgIHZlcnNpb246IFwiMC45LjEyXCIsXG5cbiAgICAvLyBNYXAgb2YgJC5jc3MoKSBrZXlzIHRvIHZhbHVlcyBmb3IgJ3RyYW5zaXRpb25Qcm9wZXJ0eScuXG4gICAgLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0NTUy9DU1NfdHJhbnNpdGlvbnMjUHJvcGVydGllc190aGF0X2Nhbl9iZV9hbmltYXRlZFxuICAgIHByb3BlcnR5TWFwOiB7XG4gICAgICBtYXJnaW5MZWZ0ICAgIDogJ21hcmdpbicsXG4gICAgICBtYXJnaW5SaWdodCAgIDogJ21hcmdpbicsXG4gICAgICBtYXJnaW5Cb3R0b20gIDogJ21hcmdpbicsXG4gICAgICBtYXJnaW5Ub3AgICAgIDogJ21hcmdpbicsXG4gICAgICBwYWRkaW5nTGVmdCAgIDogJ3BhZGRpbmcnLFxuICAgICAgcGFkZGluZ1JpZ2h0ICA6ICdwYWRkaW5nJyxcbiAgICAgIHBhZGRpbmdCb3R0b20gOiAncGFkZGluZycsXG4gICAgICBwYWRkaW5nVG9wICAgIDogJ3BhZGRpbmcnXG4gICAgfSxcblxuICAgIC8vIFdpbGwgc2ltcGx5IHRyYW5zaXRpb24gXCJpbnN0YW50bHlcIiBpZiBmYWxzZVxuICAgIGVuYWJsZWQ6IHRydWUsXG5cbiAgICAvLyBTZXQgdGhpcyB0byBmYWxzZSBpZiB5b3UgZG9uJ3Qgd2FudCB0byB1c2UgdGhlIHRyYW5zaXRpb24gZW5kIHByb3BlcnR5LlxuICAgIHVzZVRyYW5zaXRpb25FbmQ6IGZhbHNlXG4gIH07XG5cbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB2YXIgc3VwcG9ydCA9IHt9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIHByb3BlciB2ZW5kb3IgcHJvcGVydHkgbmFtZS5cbiAgLy8gKGB0cmFuc2l0aW9uYCA9PiBgV2Via2l0VHJhbnNpdGlvbmApXG4gIGZ1bmN0aW9uIGdldFZlbmRvclByb3BlcnR5TmFtZShwcm9wKSB7XG4gICAgLy8gSGFuZGxlIHVucHJlZml4ZWQgdmVyc2lvbnMgKEZGMTYrLCBmb3IgZXhhbXBsZSlcbiAgICBpZiAocHJvcCBpbiBkaXYuc3R5bGUpIHJldHVybiBwcm9wO1xuXG4gICAgdmFyIHByZWZpeGVzID0gWydNb3onLCAnV2Via2l0JywgJ08nLCAnbXMnXTtcbiAgICB2YXIgcHJvcF8gPSBwcm9wLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zdWJzdHIoMSk7XG5cbiAgICBmb3IgKHZhciBpPTA7IGk8cHJlZml4ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciB2ZW5kb3JQcm9wID0gcHJlZml4ZXNbaV0gKyBwcm9wXztcbiAgICAgIGlmICh2ZW5kb3JQcm9wIGluIGRpdi5zdHlsZSkgeyByZXR1cm4gdmVuZG9yUHJvcDsgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiB0cmFuc2Zvcm0zRCBpcyBzdXBwb3J0ZWQuXG4gIC8vIFNob3VsZCByZXR1cm4gdHJ1ZSBmb3IgV2Via2l0cyBhbmQgRmlyZWZveCAxMCsuXG4gIGZ1bmN0aW9uIGNoZWNrVHJhbnNmb3JtM2RTdXBwb3J0KCkge1xuICAgIGRpdi5zdHlsZVtzdXBwb3J0LnRyYW5zZm9ybV0gPSAnJztcbiAgICBkaXYuc3R5bGVbc3VwcG9ydC50cmFuc2Zvcm1dID0gJ3JvdGF0ZVkoOTBkZWcpJztcbiAgICByZXR1cm4gZGl2LnN0eWxlW3N1cHBvcnQudHJhbnNmb3JtXSAhPT0gJyc7XG4gIH1cblxuICB2YXIgaXNDaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMTtcblxuICAvLyBDaGVjayBmb3IgdGhlIGJyb3dzZXIncyB0cmFuc2l0aW9ucyBzdXBwb3J0LlxuICBzdXBwb3J0LnRyYW5zaXRpb24gICAgICA9IGdldFZlbmRvclByb3BlcnR5TmFtZSgndHJhbnNpdGlvbicpO1xuICBzdXBwb3J0LnRyYW5zaXRpb25EZWxheSA9IGdldFZlbmRvclByb3BlcnR5TmFtZSgndHJhbnNpdGlvbkRlbGF5Jyk7XG4gIHN1cHBvcnQudHJhbnNmb3JtICAgICAgID0gZ2V0VmVuZG9yUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKTtcbiAgc3VwcG9ydC50cmFuc2Zvcm1PcmlnaW4gPSBnZXRWZW5kb3JQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybU9yaWdpbicpO1xuICBzdXBwb3J0LmZpbHRlciAgICAgICAgICA9IGdldFZlbmRvclByb3BlcnR5TmFtZSgnRmlsdGVyJyk7XG4gIHN1cHBvcnQudHJhbnNmb3JtM2QgICAgID0gY2hlY2tUcmFuc2Zvcm0zZFN1cHBvcnQoKTtcblxuICB2YXIgZXZlbnROYW1lcyA9IHtcbiAgICAndHJhbnNpdGlvbic6ICAgICAgICd0cmFuc2l0aW9uZW5kJyxcbiAgICAnTW96VHJhbnNpdGlvbic6ICAgICd0cmFuc2l0aW9uZW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAgICAgICdvVHJhbnNpdGlvbkVuZCcsXG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgJ21zVHJhbnNpdGlvbic6ICAgICAnTVNUcmFuc2l0aW9uRW5kJ1xuICB9O1xuXG4gIC8vIERldGVjdCB0aGUgJ3RyYW5zaXRpb25lbmQnIGV2ZW50IG5lZWRlZC5cbiAgdmFyIHRyYW5zaXRpb25FbmQgPSBzdXBwb3J0LnRyYW5zaXRpb25FbmQgPSBldmVudE5hbWVzW3N1cHBvcnQudHJhbnNpdGlvbl0gfHwgbnVsbDtcblxuICAvLyBQb3B1bGF0ZSBqUXVlcnkncyBgJC5zdXBwb3J0YCB3aXRoIHRoZSB2ZW5kb3IgcHJlZml4ZXMgd2Uga25vdy5cbiAgLy8gQXMgcGVyIFtqUXVlcnkncyBjc3NIb29rcyBkb2N1bWVudGF0aW9uXShodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmNzc0hvb2tzLyksXG4gIC8vIHdlIHNldCAkLnN1cHBvcnQudHJhbnNpdGlvbiB0byBhIHN0cmluZyBvZiB0aGUgYWN0dWFsIHByb3BlcnR5IG5hbWUgdXNlZC5cbiAgZm9yICh2YXIga2V5IGluIHN1cHBvcnQpIHtcbiAgICBpZiAoc3VwcG9ydC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHR5cGVvZiAkLnN1cHBvcnRba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICQuc3VwcG9ydFtrZXldID0gc3VwcG9ydFtrZXldO1xuICAgIH1cbiAgfVxuXG4gIC8vIEF2b2lkIG1lbW9yeSBsZWFrIGluIElFLlxuICBkaXYgPSBudWxsO1xuXG4gIC8vICMjICQuY3NzRWFzZVxuICAvLyBMaXN0IG9mIGVhc2luZyBhbGlhc2VzIHRoYXQgeW91IGNhbiB1c2Ugd2l0aCBgJC5mbi50cmFuc2l0aW9uYC5cbiAgJC5jc3NFYXNlID0ge1xuICAgICdfZGVmYXVsdCc6ICAgICAgICdlYXNlJyxcbiAgICAnaW4nOiAgICAgICAgICAgICAnZWFzZS1pbicsXG4gICAgJ291dCc6ICAgICAgICAgICAgJ2Vhc2Utb3V0JyxcbiAgICAnaW4tb3V0JzogICAgICAgICAnZWFzZS1pbi1vdXQnLFxuICAgICdzbmFwJzogICAgICAgICAgICdjdWJpYy1iZXppZXIoMCwxLC41LDEpJyxcbiAgICAvLyBQZW5uZXIgZXF1YXRpb25zXG4gICAgJ2Vhc2VJbkN1YmljJzogICAgJ2N1YmljLWJlemllciguNTUwLC4wNTUsLjY3NSwuMTkwKScsXG4gICAgJ2Vhc2VPdXRDdWJpYyc6ICAgJ2N1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpJyxcbiAgICAnZWFzZUluT3V0Q3ViaWMnOiAnY3ViaWMtYmV6aWVyKC42NDUsLjA0NSwuMzU1LDEpJyxcbiAgICAnZWFzZUluQ2lyYyc6ICAgICAnY3ViaWMtYmV6aWVyKC42LC4wNCwuOTgsLjMzNSknLFxuICAgICdlYXNlT3V0Q2lyYyc6ICAgICdjdWJpYy1iZXppZXIoLjA3NSwuODIsLjE2NSwxKScsXG4gICAgJ2Vhc2VJbk91dENpcmMnOiAgJ2N1YmljLWJlemllciguNzg1LC4xMzUsLjE1LC44NiknLFxuICAgICdlYXNlSW5FeHBvJzogICAgICdjdWJpYy1iZXppZXIoLjk1LC4wNSwuNzk1LC4wMzUpJyxcbiAgICAnZWFzZU91dEV4cG8nOiAgICAnY3ViaWMtYmV6aWVyKC4xOSwxLC4yMiwxKScsXG4gICAgJ2Vhc2VJbk91dEV4cG8nOiAgJ2N1YmljLWJlemllcigxLDAsMCwxKScsXG4gICAgJ2Vhc2VJblF1YWQnOiAgICAgJ2N1YmljLWJlemllciguNTUsLjA4NSwuNjgsLjUzKScsXG4gICAgJ2Vhc2VPdXRRdWFkJzogICAgJ2N1YmljLWJlemllciguMjUsLjQ2LC40NSwuOTQpJyxcbiAgICAnZWFzZUluT3V0UXVhZCc6ICAnY3ViaWMtYmV6aWVyKC40NTUsLjAzLC41MTUsLjk1NSknLFxuICAgICdlYXNlSW5RdWFydCc6ICAgICdjdWJpYy1iZXppZXIoLjg5NSwuMDMsLjY4NSwuMjIpJyxcbiAgICAnZWFzZU91dFF1YXJ0JzogICAnY3ViaWMtYmV6aWVyKC4xNjUsLjg0LC40NCwxKScsXG4gICAgJ2Vhc2VJbk91dFF1YXJ0JzogJ2N1YmljLWJlemllciguNzcsMCwuMTc1LDEpJyxcbiAgICAnZWFzZUluUXVpbnQnOiAgICAnY3ViaWMtYmV6aWVyKC43NTUsLjA1LC44NTUsLjA2KScsXG4gICAgJ2Vhc2VPdXRRdWludCc6ICAgJ2N1YmljLWJlemllciguMjMsMSwuMzIsMSknLFxuICAgICdlYXNlSW5PdXRRdWludCc6ICdjdWJpYy1iZXppZXIoLjg2LDAsLjA3LDEpJyxcbiAgICAnZWFzZUluU2luZSc6ICAgICAnY3ViaWMtYmV6aWVyKC40NywwLC43NDUsLjcxNSknLFxuICAgICdlYXNlT3V0U2luZSc6ICAgICdjdWJpYy1iZXppZXIoLjM5LC41NzUsLjU2NSwxKScsXG4gICAgJ2Vhc2VJbk91dFNpbmUnOiAgJ2N1YmljLWJlemllciguNDQ1LC4wNSwuNTUsLjk1KScsXG4gICAgJ2Vhc2VJbkJhY2snOiAgICAgJ2N1YmljLWJlemllciguNiwtLjI4LC43MzUsLjA0NSknLFxuICAgICdlYXNlT3V0QmFjayc6ICAgICdjdWJpYy1iZXppZXIoLjE3NSwgLjg4NSwuMzIsMS4yNzUpJyxcbiAgICAnZWFzZUluT3V0QmFjayc6ICAnY3ViaWMtYmV6aWVyKC42OCwtLjU1LC4yNjUsMS41NSknXG4gIH07XG5cbiAgLy8gIyMgJ3RyYW5zZm9ybScgQ1NTIGhvb2tcbiAgLy8gQWxsb3dzIHlvdSB0byB1c2UgdGhlIGB0cmFuc2Zvcm1gIHByb3BlcnR5IGluIENTUy5cbiAgLy9cbiAgLy8gICAgICQoXCIjaGVsbG9cIikuY3NzKHsgdHJhbnNmb3JtOiBcInJvdGF0ZSg5MGRlZylcIiB9KTtcbiAgLy9cbiAgLy8gICAgICQoXCIjaGVsbG9cIikuY3NzKCd0cmFuc2Zvcm0nKTtcbiAgLy8gICAgIC8vPT4geyByb3RhdGU6ICc5MGRlZycgfVxuICAvL1xuICAkLmNzc0hvb2tzWyd0cmFuc2l0OnRyYW5zZm9ybSddID0ge1xuICAgIC8vIFRoZSBnZXR0ZXIgcmV0dXJucyBhIGBUcmFuc2Zvcm1gIG9iamVjdC5cbiAgICBnZXQ6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgIHJldHVybiAkKGVsZW0pLmRhdGEoJ3RyYW5zZm9ybScpIHx8IG5ldyBUcmFuc2Zvcm0oKTtcbiAgICB9LFxuXG4gICAgLy8gVGhlIHNldHRlciBhY2NlcHRzIGEgYFRyYW5zZm9ybWAgb2JqZWN0IG9yIGEgc3RyaW5nLlxuICAgIHNldDogZnVuY3Rpb24oZWxlbSwgdikge1xuICAgICAgdmFyIHZhbHVlID0gdjtcblxuICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKSB7XG4gICAgICAgIHZhbHVlID0gbmV3IFRyYW5zZm9ybSh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlJ3ZlIHNlZW4gdGhlIDNEIHZlcnNpb24gb2YgU2NhbGUoKSBub3Qgd29yayBpbiBDaHJvbWUgd2hlbiB0aGVcbiAgICAgIC8vIGVsZW1lbnQgYmVpbmcgc2NhbGVkIGV4dGVuZHMgb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQuICBUaHVzLCB3ZSdyZVxuICAgICAgLy8gZm9yY2luZyBDaHJvbWUgdG8gbm90IHVzZSB0aGUgM2QgdHJhbnNmb3JtcyBhcyB3ZWxsLiAgTm90IHN1cmUgaWZcbiAgICAgIC8vIHRyYW5zbGF0ZSBpcyBhZmZlY3RlZGUsIGJ1dCBub3Qgcmlza2luZyBpdC4gIERldGVjdGlvbiBjb2RlIGZyb21cbiAgICAgIC8vIGh0dHA6Ly9kYXZpZHdhbHNoLm5hbWUvZGV0ZWN0aW5nLWdvb2dsZS1jaHJvbWUtamF2YXNjcmlwdFxuICAgICAgaWYgKHN1cHBvcnQudHJhbnNmb3JtID09PSAnV2Via2l0VHJhbnNmb3JtJyAmJiAhaXNDaHJvbWUpIHtcbiAgICAgICAgZWxlbS5zdHlsZVtzdXBwb3J0LnRyYW5zZm9ybV0gPSB2YWx1ZS50b1N0cmluZyh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0uc3R5bGVbc3VwcG9ydC50cmFuc2Zvcm1dID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgJChlbGVtKS5kYXRhKCd0cmFuc2Zvcm0nLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFkZCBhIENTUyBob29rIGZvciBgLmNzcyh7IHRyYW5zZm9ybTogJy4uLicgfSlgLlxuICAvLyBJbiBqUXVlcnkgMS44KywgdGhpcyB3aWxsIGludGVudGlvbmFsbHkgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYHRyYW5zZm9ybWBcbiAgLy8gQ1NTIGhvb2sgc28gaXQnbGwgcGxheSB3ZWxsIHdpdGggVHJhbnNpdC4gKHNlZSBpc3N1ZSAjNjIpXG4gICQuY3NzSG9va3MudHJhbnNmb3JtID0ge1xuICAgIHNldDogJC5jc3NIb29rc1sndHJhbnNpdDp0cmFuc2Zvcm0nXS5zZXRcbiAgfTtcblxuICAvLyAjIyAnZmlsdGVyJyBDU1MgaG9va1xuICAvLyBBbGxvd3MgeW91IHRvIHVzZSB0aGUgYGZpbHRlcmAgcHJvcGVydHkgaW4gQ1NTLlxuICAvL1xuICAvLyAgICAgJChcIiNoZWxsb1wiKS5jc3MoeyBmaWx0ZXI6ICdibHVyKDEwcHgpJyB9KTtcbiAgLy9cbiAgJC5jc3NIb29rcy5maWx0ZXIgPSB7XG4gICAgZ2V0OiBmdW5jdGlvbihlbGVtKSB7XG4gICAgICByZXR1cm4gZWxlbS5zdHlsZVtzdXBwb3J0LmZpbHRlcl07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKGVsZW0sIHZhbHVlKSB7XG4gICAgICBlbGVtLnN0eWxlW3N1cHBvcnQuZmlsdGVyXSA9IHZhbHVlO1xuICAgIH1cbiAgfTtcblxuICAvLyBqUXVlcnkgMS44KyBzdXBwb3J0cyBwcmVmaXgtZnJlZSB0cmFuc2l0aW9ucywgc28gdGhlc2UgcG9seWZpbGxzIHdpbGwgbm90XG4gIC8vIGJlIG5lY2Vzc2FyeS5cbiAgaWYgKCQuZm4uanF1ZXJ5IDwgXCIxLjhcIikge1xuICAgIC8vICMjICd0cmFuc2Zvcm1PcmlnaW4nIENTUyBob29rXG4gICAgLy8gQWxsb3dzIHRoZSB1c2UgZm9yIGB0cmFuc2Zvcm1PcmlnaW5gIHRvIGRlZmluZSB3aGVyZSBzY2FsaW5nIGFuZCByb3RhdGlvblxuICAgIC8vIGlzIHBpdm90ZWQuXG4gICAgLy9cbiAgICAvLyAgICAgJChcIiNoZWxsb1wiKS5jc3MoeyB0cmFuc2Zvcm1PcmlnaW46ICcwIDAnIH0pO1xuICAgIC8vXG4gICAgJC5jc3NIb29rcy50cmFuc2Zvcm1PcmlnaW4gPSB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgcmV0dXJuIGVsZW0uc3R5bGVbc3VwcG9ydC50cmFuc2Zvcm1PcmlnaW5dO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24oZWxlbSwgdmFsdWUpIHtcbiAgICAgICAgZWxlbS5zdHlsZVtzdXBwb3J0LnRyYW5zZm9ybU9yaWdpbl0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gIyMgJ3RyYW5zaXRpb24nIENTUyBob29rXG4gICAgLy8gQWxsb3dzIHlvdSB0byB1c2UgdGhlIGB0cmFuc2l0aW9uYCBwcm9wZXJ0eSBpbiBDU1MuXG4gICAgLy9cbiAgICAvLyAgICAgJChcIiNoZWxsb1wiKS5jc3MoeyB0cmFuc2l0aW9uOiAnYWxsIDAgZWFzZSAwJyB9KTtcbiAgICAvL1xuICAgICQuY3NzSG9va3MudHJhbnNpdGlvbiA9IHtcbiAgICAgIGdldDogZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICByZXR1cm4gZWxlbS5zdHlsZVtzdXBwb3J0LnRyYW5zaXRpb25dO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24oZWxlbSwgdmFsdWUpIHtcbiAgICAgICAgZWxlbS5zdHlsZVtzdXBwb3J0LnRyYW5zaXRpb25dID0gdmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vICMjIE90aGVyIENTUyBob29rc1xuICAvLyBBbGxvd3MgeW91IHRvIHJvdGF0ZSwgc2NhbGUgYW5kIHRyYW5zbGF0ZS5cbiAgcmVnaXN0ZXJDc3NIb29rKCdzY2FsZScpO1xuICByZWdpc3RlckNzc0hvb2soJ3NjYWxlWCcpO1xuICByZWdpc3RlckNzc0hvb2soJ3NjYWxlWScpO1xuICByZWdpc3RlckNzc0hvb2soJ3RyYW5zbGF0ZScpO1xuICByZWdpc3RlckNzc0hvb2soJ3JvdGF0ZScpO1xuICByZWdpc3RlckNzc0hvb2soJ3JvdGF0ZVgnKTtcbiAgcmVnaXN0ZXJDc3NIb29rKCdyb3RhdGVZJyk7XG4gIHJlZ2lzdGVyQ3NzSG9vaygncm90YXRlM2QnKTtcbiAgcmVnaXN0ZXJDc3NIb29rKCdwZXJzcGVjdGl2ZScpO1xuICByZWdpc3RlckNzc0hvb2soJ3NrZXdYJyk7XG4gIHJlZ2lzdGVyQ3NzSG9vaygnc2tld1knKTtcbiAgcmVnaXN0ZXJDc3NIb29rKCd4JywgdHJ1ZSk7XG4gIHJlZ2lzdGVyQ3NzSG9vaygneScsIHRydWUpO1xuXG4gIC8vICMjIFRyYW5zZm9ybSBjbGFzc1xuICAvLyBUaGlzIGlzIHRoZSBtYWluIGNsYXNzIG9mIGEgdHJhbnNmb3JtYXRpb24gcHJvcGVydHkgdGhhdCBwb3dlcnNcbiAgLy8gYCQuZm4uY3NzKHsgdHJhbnNmb3JtOiAnLi4uJyB9KWAuXG4gIC8vXG4gIC8vIFRoaXMgaXMsIGluIGVzc2VuY2UsIGEgZGljdGlvbmFyeSBvYmplY3Qgd2l0aCBrZXkvdmFsdWVzIGFzIGAtdHJhbnNmb3JtYFxuICAvLyBwcm9wZXJ0aWVzLlxuICAvL1xuICAvLyAgICAgdmFyIHQgPSBuZXcgVHJhbnNmb3JtKFwicm90YXRlKDkwKSBzY2FsZSg0KVwiKTtcbiAgLy9cbiAgLy8gICAgIHQucm90YXRlICAgICAgICAgICAgIC8vPT4gXCI5MGRlZ1wiXG4gIC8vICAgICB0LnNjYWxlICAgICAgICAgICAgICAvLz0+IFwiNCw0XCJcbiAgLy9cbiAgLy8gU2V0dGVycyBhcmUgYWNjb3VudGVkIGZvci5cbiAgLy9cbiAgLy8gICAgIHQuc2V0KCdyb3RhdGUnLCA0KVxuICAvLyAgICAgdC5yb3RhdGUgICAgICAgICAgICAgLy89PiBcIjRkZWdcIlxuICAvL1xuICAvLyBDb252ZXJ0IGl0IHRvIGEgQ1NTIHN0cmluZyB1c2luZyB0aGUgYHRvU3RyaW5nKClgIGFuZCBgdG9TdHJpbmcodHJ1ZSlgIChmb3IgV2ViS2l0KVxuICAvLyBmdW5jdGlvbnMuXG4gIC8vXG4gIC8vICAgICB0LnRvU3RyaW5nKCkgICAgICAgICAvLz0+IFwicm90YXRlKDkwZGVnKSBzY2FsZSg0LDQpXCJcbiAgLy8gICAgIHQudG9TdHJpbmcodHJ1ZSkgICAgIC8vPT4gXCJyb3RhdGUoOTBkZWcpIHNjYWxlM2QoNCw0LDApXCIgKFdlYktpdCB2ZXJzaW9uKVxuICAvL1xuICBmdW5jdGlvbiBUcmFuc2Zvcm0oc3RyKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnKSB7IHRoaXMucGFyc2Uoc3RyKTsgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgVHJhbnNmb3JtLnByb3RvdHlwZSA9IHtcbiAgICAvLyAjIyMgc2V0RnJvbVN0cmluZygpXG4gICAgLy8gU2V0cyBhIHByb3BlcnR5IGZyb20gYSBzdHJpbmcuXG4gICAgLy9cbiAgICAvLyAgICAgdC5zZXRGcm9tU3RyaW5nKCdzY2FsZScsICcyLDQnKTtcbiAgICAvLyAgICAgLy8gU2FtZSBhcyBzZXQoJ3NjYWxlJywgJzInLCAnNCcpO1xuICAgIC8vXG4gICAgc2V0RnJvbVN0cmluZzogZnVuY3Rpb24ocHJvcCwgdmFsKSB7XG4gICAgICB2YXIgYXJncyA9XG4gICAgICAgICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykgID8gdmFsLnNwbGl0KCcsJykgOlxuICAgICAgICAodmFsLmNvbnN0cnVjdG9yID09PSBBcnJheSkgPyB2YWwgOlxuICAgICAgICBbIHZhbCBdO1xuXG4gICAgICBhcmdzLnVuc2hpZnQocHJvcCk7XG5cbiAgICAgIFRyYW5zZm9ybS5wcm90b3R5cGUuc2V0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0sXG5cbiAgICAvLyAjIyMgc2V0KClcbiAgICAvLyBTZXRzIGEgcHJvcGVydHkuXG4gICAgLy9cbiAgICAvLyAgICAgdC5zZXQoJ3NjYWxlJywgMiwgNCk7XG4gICAgLy9cbiAgICBzZXQ6IGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cywgWzFdKTtcbiAgICAgIGlmICh0aGlzLnNldHRlcltwcm9wXSkge1xuICAgICAgICB0aGlzLnNldHRlcltwcm9wXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbcHJvcF0gPSBhcmdzLmpvaW4oJywnKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbihwcm9wKSB7XG4gICAgICBpZiAodGhpcy5nZXR0ZXJbcHJvcF0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0dGVyW3Byb3BdLmFwcGx5KHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbcHJvcF0gfHwgMDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2V0dGVyOiB7XG4gICAgICAvLyAjIyMgcm90YXRlXG4gICAgICAvL1xuICAgICAgLy8gICAgIC5jc3MoeyByb3RhdGU6IDMwIH0pXG4gICAgICAvLyAgICAgLmNzcyh7IHJvdGF0ZTogXCIzMFwiIH0pXG4gICAgICAvLyAgICAgLmNzcyh7IHJvdGF0ZTogXCIzMGRlZ1wiIH0pXG4gICAgICAvLyAgICAgLmNzcyh7IHJvdGF0ZTogXCIzMGRlZ1wiIH0pXG4gICAgICAvL1xuICAgICAgcm90YXRlOiBmdW5jdGlvbih0aGV0YSkge1xuICAgICAgICB0aGlzLnJvdGF0ZSA9IHVuaXQodGhldGEsICdkZWcnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJvdGF0ZVg6IGZ1bmN0aW9uKHRoZXRhKSB7XG4gICAgICAgIHRoaXMucm90YXRlWCA9IHVuaXQodGhldGEsICdkZWcnKTtcbiAgICAgIH0sXG5cbiAgICAgIHJvdGF0ZVk6IGZ1bmN0aW9uKHRoZXRhKSB7XG4gICAgICAgIHRoaXMucm90YXRlWSA9IHVuaXQodGhldGEsICdkZWcnKTtcbiAgICAgIH0sXG5cbiAgICAgIC8vICMjIyBzY2FsZVxuICAgICAgLy9cbiAgICAgIC8vICAgICAuY3NzKHsgc2NhbGU6IDkgfSkgICAgICAvLz0+IFwic2NhbGUoOSw5KVwiXG4gICAgICAvLyAgICAgLmNzcyh7IHNjYWxlOiAnMywyJyB9KSAgLy89PiBcInNjYWxlKDMsMilcIlxuICAgICAgLy9cbiAgICAgIHNjYWxlOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIGlmICh5ID09PSB1bmRlZmluZWQpIHsgeSA9IHg7IH1cbiAgICAgICAgdGhpcy5zY2FsZSA9IHggKyBcIixcIiArIHk7XG4gICAgICB9LFxuXG4gICAgICAvLyAjIyMgc2tld1ggKyBza2V3WVxuICAgICAgc2tld1g6IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgdGhpcy5za2V3WCA9IHVuaXQoeCwgJ2RlZycpO1xuICAgICAgfSxcblxuICAgICAgc2tld1k6IGZ1bmN0aW9uKHkpIHtcbiAgICAgICAgdGhpcy5za2V3WSA9IHVuaXQoeSwgJ2RlZycpO1xuICAgICAgfSxcblxuICAgICAgLy8gIyMjIHBlcnNwZWN0dmllXG4gICAgICBwZXJzcGVjdGl2ZTogZnVuY3Rpb24oZGlzdCkge1xuICAgICAgICB0aGlzLnBlcnNwZWN0aXZlID0gdW5pdChkaXN0LCAncHgnKTtcbiAgICAgIH0sXG5cbiAgICAgIC8vICMjIyB4IC8geVxuICAgICAgLy8gVHJhbnNsYXRpb25zLiBOb3RpY2UgaG93IHRoaXMga2VlcHMgdGhlIG90aGVyIHZhbHVlLlxuICAgICAgLy9cbiAgICAgIC8vICAgICAuY3NzKHsgeDogNCB9KSAgICAgICAvLz0+IFwidHJhbnNsYXRlKDRweCwgMClcIlxuICAgICAgLy8gICAgIC5jc3MoeyB5OiAxMCB9KSAgICAgIC8vPT4gXCJ0cmFuc2xhdGUoNHB4LCAxMHB4KVwiXG4gICAgICAvL1xuICAgICAgeDogZnVuY3Rpb24oeCkge1xuICAgICAgICB0aGlzLnNldCgndHJhbnNsYXRlJywgeCwgbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICB5OiBmdW5jdGlvbih5KSB7XG4gICAgICAgIHRoaXMuc2V0KCd0cmFuc2xhdGUnLCBudWxsLCB5KTtcbiAgICAgIH0sXG5cbiAgICAgIC8vICMjIyB0cmFuc2xhdGVcbiAgICAgIC8vIE5vdGljZSBob3cgdGhpcyBrZWVwcyB0aGUgb3RoZXIgdmFsdWUuXG4gICAgICAvL1xuICAgICAgLy8gICAgIC5jc3MoeyB0cmFuc2xhdGU6ICcyLCA1JyB9KSAgICAvLz0+IFwidHJhbnNsYXRlKDJweCwgNXB4KVwiXG4gICAgICAvL1xuICAgICAgdHJhbnNsYXRlOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2xhdGVYID09PSB1bmRlZmluZWQpIHsgdGhpcy5fdHJhbnNsYXRlWCA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zbGF0ZVkgPT09IHVuZGVmaW5lZCkgeyB0aGlzLl90cmFuc2xhdGVZID0gMDsgfVxuXG4gICAgICAgIGlmICh4ICE9PSBudWxsICYmIHggIT09IHVuZGVmaW5lZCkgeyB0aGlzLl90cmFuc2xhdGVYID0gdW5pdCh4LCAncHgnKTsgfVxuICAgICAgICBpZiAoeSAhPT0gbnVsbCAmJiB5ICE9PSB1bmRlZmluZWQpIHsgdGhpcy5fdHJhbnNsYXRlWSA9IHVuaXQoeSwgJ3B4Jyk7IH1cblxuICAgICAgICB0aGlzLnRyYW5zbGF0ZSA9IHRoaXMuX3RyYW5zbGF0ZVggKyBcIixcIiArIHRoaXMuX3RyYW5zbGF0ZVk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldHRlcjoge1xuICAgICAgeDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc2xhdGVYIHx8IDA7XG4gICAgICB9LFxuXG4gICAgICB5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zbGF0ZVkgfHwgMDtcbiAgICAgIH0sXG5cbiAgICAgIHNjYWxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHMgPSAodGhpcy5zY2FsZSB8fCBcIjEsMVwiKS5zcGxpdCgnLCcpO1xuICAgICAgICBpZiAoc1swXSkgeyBzWzBdID0gcGFyc2VGbG9hdChzWzBdKTsgfVxuICAgICAgICBpZiAoc1sxXSkgeyBzWzFdID0gcGFyc2VGbG9hdChzWzFdKTsgfVxuXG4gICAgICAgIC8vIFwiMi41LDIuNVwiID0+IDIuNVxuICAgICAgICAvLyBcIjIuNSwxXCIgPT4gWzIuNSwxXVxuICAgICAgICByZXR1cm4gKHNbMF0gPT09IHNbMV0pID8gc1swXSA6IHM7XG4gICAgICB9LFxuXG4gICAgICByb3RhdGUzZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzID0gKHRoaXMucm90YXRlM2QgfHwgXCIwLDAsMCwwZGVnXCIpLnNwbGl0KCcsJyk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTw9MzsgKytpKSB7XG4gICAgICAgICAgaWYgKHNbaV0pIHsgc1tpXSA9IHBhcnNlRmxvYXQoc1tpXSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc1szXSkgeyBzWzNdID0gdW5pdChzWzNdLCAnZGVnJyk7IH1cblxuICAgICAgICByZXR1cm4gcztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gIyMjIHBhcnNlKClcbiAgICAvLyBQYXJzZXMgZnJvbSBhIHN0cmluZy4gQ2FsbGVkIG9uIGNvbnN0cnVjdG9yLlxuICAgIHBhcnNlOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHN0ci5yZXBsYWNlKC8oW2EtekEtWjAtOV0rKVxcKCguKj8pXFwpL2csIGZ1bmN0aW9uKHgsIHByb3AsIHZhbCkge1xuICAgICAgICBzZWxmLnNldEZyb21TdHJpbmcocHJvcCwgdmFsKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyAjIyMgdG9TdHJpbmcoKVxuICAgIC8vIENvbnZlcnRzIHRvIGEgYHRyYW5zaXRpb25gIENTUyBwcm9wZXJ0eSBzdHJpbmcuIElmIGB1c2UzZGAgaXMgZ2l2ZW4sXG4gICAgLy8gaXQgY29udmVydHMgdG8gYSBgLXdlYmtpdC10cmFuc2l0aW9uYCBDU1MgcHJvcGVydHkgc3RyaW5nIGluc3RlYWQuXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKHVzZTNkKSB7XG4gICAgICB2YXIgcmUgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgLy8gRG9uJ3QgdXNlIDNEIHRyYW5zZm9ybWF0aW9ucyBpZiB0aGUgYnJvd3NlciBjYW4ndCBzdXBwb3J0IGl0LlxuICAgICAgICAgIGlmICgoIXN1cHBvcnQudHJhbnNmb3JtM2QpICYmIChcbiAgICAgICAgICAgIChpID09PSAncm90YXRlWCcpIHx8XG4gICAgICAgICAgICAoaSA9PT0gJ3JvdGF0ZVknKSB8fFxuICAgICAgICAgICAgKGkgPT09ICdwZXJzcGVjdGl2ZScpIHx8XG4gICAgICAgICAgICAoaSA9PT0gJ3RyYW5zZm9ybU9yaWdpbicpKSkgeyBjb250aW51ZTsgfVxuXG4gICAgICAgICAgaWYgKGlbMF0gIT09ICdfJykge1xuICAgICAgICAgICAgaWYgKHVzZTNkICYmIChpID09PSAnc2NhbGUnKSkge1xuICAgICAgICAgICAgICByZS5wdXNoKGkgKyBcIjNkKFwiICsgdGhpc1tpXSArIFwiLDEpXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1c2UzZCAmJiAoaSA9PT0gJ3RyYW5zbGF0ZScpKSB7XG4gICAgICAgICAgICAgIHJlLnB1c2goaSArIFwiM2QoXCIgKyB0aGlzW2ldICsgXCIsMClcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZS5wdXNoKGkgKyBcIihcIiArIHRoaXNbaV0gKyBcIilcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZS5qb2luKFwiIFwiKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY2FsbE9yUXVldWUoc2VsZiwgcXVldWUsIGZuKSB7XG4gICAgaWYgKHF1ZXVlID09PSB0cnVlKSB7XG4gICAgICBzZWxmLnF1ZXVlKGZuKTtcbiAgICB9IGVsc2UgaWYgKHF1ZXVlKSB7XG4gICAgICBzZWxmLnF1ZXVlKHF1ZXVlLCBmbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vICMjIyBnZXRQcm9wZXJ0aWVzKGRpY3QpXG4gIC8vIFJldHVybnMgcHJvcGVydGllcyAoZm9yIGB0cmFuc2l0aW9uLXByb3BlcnR5YCkgZm9yIGRpY3Rpb25hcnkgYHByb3BzYC4gVGhlXG4gIC8vIHZhbHVlIG9mIGBwcm9wc2AgaXMgd2hhdCB5b3Ugd291bGQgZXhwZWN0IGluIGAkLmNzcyguLi4pYC5cbiAgZnVuY3Rpb24gZ2V0UHJvcGVydGllcyhwcm9wcykge1xuICAgIHZhciByZSA9IFtdO1xuXG4gICAgJC5lYWNoKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGtleSA9ICQuY2FtZWxDYXNlKGtleSk7IC8vIENvbnZlcnQgXCJ0ZXh0LWFsaWduXCIgPT4gXCJ0ZXh0QWxpZ25cIlxuICAgICAga2V5ID0gJC50cmFuc2l0LnByb3BlcnR5TWFwW2tleV0gfHwgJC5jc3NQcm9wc1trZXldIHx8IGtleTtcbiAgICAgIGtleSA9IHVuY2FtZWwoa2V5KTsgLy8gQ29udmVydCBiYWNrIHRvIGRhc2hlcml6ZWRcblxuICAgICAgLy8gR2V0IHZlbmRvciBzcGVjaWZ5IHByb3BlcnRpZVxuICAgICAgaWYgKHN1cHBvcnRba2V5XSlcbiAgICAgICAga2V5ID0gdW5jYW1lbChzdXBwb3J0W2tleV0pO1xuXG4gICAgICBpZiAoJC5pbkFycmF5KGtleSwgcmUpID09PSAtMSkgeyByZS5wdXNoKGtleSk7IH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZTtcbiAgfVxuXG4gIC8vICMjIyBnZXRUcmFuc2l0aW9uKClcbiAgLy8gUmV0dXJucyB0aGUgdHJhbnNpdGlvbiBzdHJpbmcgdG8gYmUgdXNlZCBmb3IgdGhlIGB0cmFuc2l0aW9uYCBDU1MgcHJvcGVydHkuXG4gIC8vXG4gIC8vIEV4YW1wbGU6XG4gIC8vXG4gIC8vICAgICBnZXRUcmFuc2l0aW9uKHsgb3BhY2l0eTogMSwgcm90YXRlOiAzMCB9LCA1MDAsICdlYXNlJyk7XG4gIC8vICAgICAvLz0+ICdvcGFjaXR5IDUwMG1zIGVhc2UsIC13ZWJraXQtdHJhbnNmb3JtIDUwMG1zIGVhc2UnXG4gIC8vXG4gIGZ1bmN0aW9uIGdldFRyYW5zaXRpb24ocHJvcGVydGllcywgZHVyYXRpb24sIGVhc2luZywgZGVsYXkpIHtcbiAgICAvLyBHZXQgdGhlIENTUyBwcm9wZXJ0aWVzIG5lZWRlZC5cbiAgICB2YXIgcHJvcHMgPSBnZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuXG4gICAgLy8gQWNjb3VudCBmb3IgYWxpYXNlcyAoYGluYCA9PiBgZWFzZS1pbmApLlxuICAgIGlmICgkLmNzc0Vhc2VbZWFzaW5nXSkgeyBlYXNpbmcgPSAkLmNzc0Vhc2VbZWFzaW5nXTsgfVxuXG4gICAgLy8gQnVpbGQgdGhlIGR1cmF0aW9uL2Vhc2luZy9kZWxheSBhdHRyaWJ1dGVzIGZvciBpdC5cbiAgICB2YXIgYXR0cmlicyA9ICcnICsgdG9NUyhkdXJhdGlvbikgKyAnICcgKyBlYXNpbmc7XG4gICAgaWYgKHBhcnNlSW50KGRlbGF5LCAxMCkgPiAwKSB7IGF0dHJpYnMgKz0gJyAnICsgdG9NUyhkZWxheSk7IH1cblxuICAgIC8vIEZvciBtb3JlIHByb3BlcnRpZXMsIGFkZCB0aGVtIHRoaXMgd2F5OlxuICAgIC8vIFwibWFyZ2luIDIwMG1zIGVhc2UsIHBhZGRpbmcgMjAwbXMgZWFzZSwgLi4uXCJcbiAgICB2YXIgdHJhbnNpdGlvbnMgPSBbXTtcbiAgICAkLmVhY2gocHJvcHMsIGZ1bmN0aW9uKGksIG5hbWUpIHtcbiAgICAgIHRyYW5zaXRpb25zLnB1c2gobmFtZSArICcgJyArIGF0dHJpYnMpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRyYW5zaXRpb25zLmpvaW4oJywgJyk7XG4gIH1cblxuICAvLyAjIyAkLmZuLnRyYW5zaXRpb25cbiAgLy8gV29ya3MgbGlrZSAkLmZuLmFuaW1hdGUoKSwgYnV0IHVzZXMgQ1NTIHRyYW5zaXRpb25zLlxuICAvL1xuICAvLyAgICAgJChcIi4uLlwiKS50cmFuc2l0aW9uKHsgb3BhY2l0eTogMC4xLCBzY2FsZTogMC4zIH0pO1xuICAvL1xuICAvLyAgICAgLy8gU3BlY2lmaWMgZHVyYXRpb25cbiAgLy8gICAgICQoXCIuLi5cIikudHJhbnNpdGlvbih7IG9wYWNpdHk6IDAuMSwgc2NhbGU6IDAuMyB9LCA1MDApO1xuICAvL1xuICAvLyAgICAgLy8gV2l0aCBkdXJhdGlvbiBhbmQgZWFzaW5nXG4gIC8vICAgICAkKFwiLi4uXCIpLnRyYW5zaXRpb24oeyBvcGFjaXR5OiAwLjEsIHNjYWxlOiAwLjMgfSwgNTAwLCAnaW4nKTtcbiAgLy9cbiAgLy8gICAgIC8vIFdpdGggY2FsbGJhY2tcbiAgLy8gICAgICQoXCIuLi5cIikudHJhbnNpdGlvbih7IG9wYWNpdHk6IDAuMSwgc2NhbGU6IDAuMyB9LCBmdW5jdGlvbigpIHsgLi4uIH0pO1xuICAvL1xuICAvLyAgICAgLy8gV2l0aCBldmVyeXRoaW5nXG4gIC8vICAgICAkKFwiLi4uXCIpLnRyYW5zaXRpb24oeyBvcGFjaXR5OiAwLjEsIHNjYWxlOiAwLjMgfSwgNTAwLCAnaW4nLCBmdW5jdGlvbigpIHsgLi4uIH0pO1xuICAvL1xuICAvLyAgICAgLy8gQWx0ZXJuYXRlIHN5bnRheFxuICAvLyAgICAgJChcIi4uLlwiKS50cmFuc2l0aW9uKHtcbiAgLy8gICAgICAgb3BhY2l0eTogMC4xLFxuICAvLyAgICAgICBkdXJhdGlvbjogMjAwLFxuICAvLyAgICAgICBkZWxheTogNDAsXG4gIC8vICAgICAgIGVhc2luZzogJ2luJyxcbiAgLy8gICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkgeyAvKiAuLi4gKi8gfVxuICAvLyAgICAgIH0pO1xuICAvL1xuICAkLmZuLnRyYW5zaXRpb24gPSAkLmZuLnRyYW5zaXQgPSBmdW5jdGlvbihwcm9wZXJ0aWVzLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmICA9IHRoaXM7XG4gICAgdmFyIGRlbGF5ID0gMDtcbiAgICB2YXIgcXVldWUgPSB0cnVlO1xuXG4gICAgdmFyIHRoZXNlUHJvcGVydGllcyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBwcm9wZXJ0aWVzKTtcblxuICAgIC8vIEFjY291bnQgZm9yIGAudHJhbnNpdGlvbihwcm9wZXJ0aWVzLCBjYWxsYmFjaylgLlxuICAgIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gZHVyYXRpb247XG4gICAgICBkdXJhdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBBY2NvdW50IGZvciBgLnRyYW5zaXRpb24ocHJvcGVydGllcywgb3B0aW9ucylgLlxuICAgIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnKSB7XG4gICAgICBlYXNpbmcgPSBkdXJhdGlvbi5lYXNpbmc7XG4gICAgICBkZWxheSA9IGR1cmF0aW9uLmRlbGF5IHx8IDA7XG4gICAgICBxdWV1ZSA9IHR5cGVvZiBkdXJhdGlvbi5xdWV1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IHRydWUgOiBkdXJhdGlvbi5xdWV1ZTtcbiAgICAgIGNhbGxiYWNrID0gZHVyYXRpb24uY29tcGxldGU7XG4gICAgICBkdXJhdGlvbiA9IGR1cmF0aW9uLmR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIEFjY291bnQgZm9yIGAudHJhbnNpdGlvbihwcm9wZXJ0aWVzLCBkdXJhdGlvbiwgY2FsbGJhY2spYC5cbiAgICBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBlYXNpbmc7XG4gICAgICBlYXNpbmcgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gQWx0ZXJuYXRlIHN5bnRheC5cbiAgICBpZiAodHlwZW9mIHRoZXNlUHJvcGVydGllcy5lYXNpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlYXNpbmcgPSB0aGVzZVByb3BlcnRpZXMuZWFzaW5nO1xuICAgICAgZGVsZXRlIHRoZXNlUHJvcGVydGllcy5lYXNpbmc7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGVzZVByb3BlcnRpZXMuZHVyYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkdXJhdGlvbiA9IHRoZXNlUHJvcGVydGllcy5kdXJhdGlvbjtcbiAgICAgIGRlbGV0ZSB0aGVzZVByb3BlcnRpZXMuZHVyYXRpb247XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGVzZVByb3BlcnRpZXMuY29tcGxldGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjYWxsYmFjayA9IHRoZXNlUHJvcGVydGllcy5jb21wbGV0ZTtcbiAgICAgIGRlbGV0ZSB0aGVzZVByb3BlcnRpZXMuY29tcGxldGU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGVzZVByb3BlcnRpZXMucXVldWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBxdWV1ZSA9IHRoZXNlUHJvcGVydGllcy5xdWV1ZTtcbiAgICAgIGRlbGV0ZSB0aGVzZVByb3BlcnRpZXMucXVldWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGVzZVByb3BlcnRpZXMuZGVsYXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkZWxheSA9IHRoZXNlUHJvcGVydGllcy5kZWxheTtcbiAgICAgIGRlbGV0ZSB0aGVzZVByb3BlcnRpZXMuZGVsYXk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGRlZmF1bHRzLiAoYDQwMGAgZHVyYXRpb24sIGBlYXNlYCBlYXNpbmcpXG4gICAgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgZHVyYXRpb24gPSAkLmZ4LnNwZWVkcy5fZGVmYXVsdDsgfVxuICAgIGlmICh0eXBlb2YgZWFzaW5nID09PSAndW5kZWZpbmVkJykgICB7IGVhc2luZyA9ICQuY3NzRWFzZS5fZGVmYXVsdDsgfVxuXG4gICAgZHVyYXRpb24gPSB0b01TKGR1cmF0aW9uKTtcblxuICAgIC8vIEJ1aWxkIHRoZSBgdHJhbnNpdGlvbmAgcHJvcGVydHkuXG4gICAgdmFyIHRyYW5zaXRpb25WYWx1ZSA9IGdldFRyYW5zaXRpb24odGhlc2VQcm9wZXJ0aWVzLCBkdXJhdGlvbiwgZWFzaW5nLCBkZWxheSk7XG5cbiAgICAvLyBDb21wdXRlIGRlbGF5IHVudGlsIGNhbGxiYWNrLlxuICAgIC8vIElmIHRoaXMgYmVjb21lcyAwLCBkb24ndCBib3RoZXIgc2V0dGluZyB0aGUgdHJhbnNpdGlvbiBwcm9wZXJ0eS5cbiAgICB2YXIgd29yayA9ICQudHJhbnNpdC5lbmFibGVkICYmIHN1cHBvcnQudHJhbnNpdGlvbjtcbiAgICB2YXIgaSA9IHdvcmsgPyAocGFyc2VJbnQoZHVyYXRpb24sIDEwKSArIHBhcnNlSW50KGRlbGF5LCAxMCkpIDogMDtcblxuICAgIC8vIElmIHRoZXJlJ3Mgbm90aGluZyB0byBkby4uLlxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICB2YXIgZm4gPSBmdW5jdGlvbihuZXh0KSB7XG4gICAgICAgIHNlbGYuY3NzKHRoZXNlUHJvcGVydGllcyk7XG4gICAgICAgIGlmIChjYWxsYmFjaykgeyBjYWxsYmFjay5hcHBseShzZWxmKTsgfVxuICAgICAgICBpZiAobmV4dCkgeyBuZXh0KCk7IH1cbiAgICAgIH07XG5cbiAgICAgIGNhbGxPclF1ZXVlKHNlbGYsIHF1ZXVlLCBmbik7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAvLyBTYXZlIHRoZSBvbGQgdHJhbnNpdGlvbnMgb2YgZWFjaCBlbGVtZW50IHNvIHdlIGNhbiByZXN0b3JlIGl0IGxhdGVyLlxuICAgIHZhciBvbGRUcmFuc2l0aW9ucyA9IHt9O1xuXG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uKG5leHRDYWxsKSB7XG4gICAgICB2YXIgYm91bmQgPSBmYWxzZTtcblxuICAgICAgLy8gUHJlcGFyZSB0aGUgY2FsbGJhY2suXG4gICAgICB2YXIgY2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGJvdW5kKSB7IHNlbGYudW5iaW5kKHRyYW5zaXRpb25FbmQsIGNiKTsgfVxuXG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIHNlbGYuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVbc3VwcG9ydC50cmFuc2l0aW9uXSA9IChvbGRUcmFuc2l0aW9uc1t0aGlzXSB8fCBudWxsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHsgY2FsbGJhY2suYXBwbHkoc2VsZik7IH1cbiAgICAgICAgaWYgKHR5cGVvZiBuZXh0Q2FsbCA9PT0gJ2Z1bmN0aW9uJykgeyBuZXh0Q2FsbCgpOyB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoKGkgPiAwKSAmJiAodHJhbnNpdGlvbkVuZCkgJiYgKCQudHJhbnNpdC51c2VUcmFuc2l0aW9uRW5kKSkge1xuICAgICAgICAvLyBVc2UgdGhlICd0cmFuc2l0aW9uZW5kJyBldmVudCBpZiBpdCdzIGF2YWlsYWJsZS5cbiAgICAgICAgYm91bmQgPSB0cnVlO1xuICAgICAgICBzZWxmLmJpbmQodHJhbnNpdGlvbkVuZCwgY2IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gdGltZXJzIGlmIHRoZSAndHJhbnNpdGlvbmVuZCcgZXZlbnQgaXNuJ3Qgc3VwcG9ydGVkLlxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYiwgaSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFwcGx5IHRyYW5zaXRpb25zLlxuICAgICAgc2VsZi5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICB0aGlzLnN0eWxlW3N1cHBvcnQudHJhbnNpdGlvbl0gPSB0cmFuc2l0aW9uVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgJCh0aGlzKS5jc3ModGhlc2VQcm9wZXJ0aWVzKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBEZWZlciBydW5uaW5nLiBUaGlzIGFsbG93cyB0aGUgYnJvd3NlciB0byBwYWludCBhbnkgcGVuZGluZyBDU1MgaXQgaGFzbid0XG4gICAgLy8gcGFpbnRlZCB5ZXQgYmVmb3JlIGRvaW5nIHRoZSB0cmFuc2l0aW9ucy5cbiAgICB2YXIgZGVmZXJyZWRSdW4gPSBmdW5jdGlvbihuZXh0KSB7XG4gICAgICAgIHRoaXMub2Zmc2V0V2lkdGg7IC8vIGZvcmNlIGEgcmVwYWludFxuICAgICAgICBydW4obmV4dCk7XG4gICAgfTtcblxuICAgIC8vIFVzZSBqUXVlcnkncyBmeCBxdWV1ZS5cbiAgICBjYWxsT3JRdWV1ZShzZWxmLCBxdWV1ZSwgZGVmZXJyZWRSdW4pO1xuXG4gICAgLy8gQ2hhaW5hYmlsaXR5LlxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyQ3NzSG9vayhwcm9wLCBpc1BpeGVscykge1xuICAgIC8vIEZvciBjZXJ0YWluIHByb3BlcnRpZXMsIHRoZSAncHgnIHNob3VsZCBub3QgYmUgaW1wbGllZC5cbiAgICBpZiAoIWlzUGl4ZWxzKSB7ICQuY3NzTnVtYmVyW3Byb3BdID0gdHJ1ZTsgfVxuXG4gICAgJC50cmFuc2l0LnByb3BlcnR5TWFwW3Byb3BdID0gc3VwcG9ydC50cmFuc2Zvcm07XG5cbiAgICAkLmNzc0hvb2tzW3Byb3BdID0ge1xuICAgICAgZ2V0OiBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgIHZhciB0ID0gJChlbGVtKS5jc3MoJ3RyYW5zaXQ6dHJhbnNmb3JtJyk7XG4gICAgICAgIHJldHVybiB0LmdldChwcm9wKTtcbiAgICAgIH0sXG5cbiAgICAgIHNldDogZnVuY3Rpb24oZWxlbSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHQgPSAkKGVsZW0pLmNzcygndHJhbnNpdDp0cmFuc2Zvcm0nKTtcbiAgICAgICAgdC5zZXRGcm9tU3RyaW5nKHByb3AsIHZhbHVlKTtcblxuICAgICAgICAkKGVsZW0pLmNzcyh7ICd0cmFuc2l0OnRyYW5zZm9ybSc6IHQgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICB9XG5cbiAgLy8gIyMjIHVuY2FtZWwoc3RyKVxuICAvLyBDb252ZXJ0cyBhIGNhbWVsY2FzZSBzdHJpbmcgdG8gYSBkYXNoZXJpemVkIHN0cmluZy5cbiAgLy8gKGBtYXJnaW5MZWZ0YCA9PiBgbWFyZ2luLWxlZnRgKVxuICBmdW5jdGlvbiB1bmNhbWVsKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbihsZXR0ZXIpIHsgcmV0dXJuICctJyArIGxldHRlci50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgfVxuXG4gIC8vICMjIyB1bml0KG51bWJlciwgdW5pdClcbiAgLy8gRW5zdXJlcyB0aGF0IG51bWJlciBgbnVtYmVyYCBoYXMgYSB1bml0LiBJZiBubyB1bml0IGlzIGZvdW5kLCBhc3N1bWUgdGhlXG4gIC8vIGRlZmF1bHQgaXMgYHVuaXRgLlxuICAvL1xuICAvLyAgICAgdW5pdCgyLCAncHgnKSAgICAgICAgICAvLz0+IFwiMnB4XCJcbiAgLy8gICAgIHVuaXQoXCIzMGRlZ1wiLCAncmFkJykgICAvLz0+IFwiMzBkZWdcIlxuICAvL1xuICBmdW5jdGlvbiB1bml0KGksIHVuaXRzKSB7XG4gICAgaWYgKCh0eXBlb2YgaSA9PT0gXCJzdHJpbmdcIikgJiYgKCFpLm1hdGNoKC9eW1xcLTAtOVxcLl0rJC8pKSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIlwiICsgaSArIHVuaXRzO1xuICAgIH1cbiAgfVxuXG4gIC8vICMjIyB0b01TKGR1cmF0aW9uKVxuICAvLyBDb252ZXJ0cyBnaXZlbiBgZHVyYXRpb25gIHRvIGEgbWlsbGlzZWNvbmQgc3RyaW5nLlxuICAvL1xuICAvLyB0b01TKCdmYXN0JykgPT4gJC5meC5zcGVlZHNbaV0gPT4gXCIyMDBtc1wiXG4gIC8vIHRvTVMoJ25vcm1hbCcpIC8vPT4gJC5meC5zcGVlZHMuX2RlZmF1bHQgPT4gXCI0MDBtc1wiXG4gIC8vIHRvTVMoMTApIC8vPT4gJzEwbXMnXG4gIC8vIHRvTVMoJzEwMG1zJykgLy89PiAnMTAwbXMnICBcbiAgLy9cbiAgZnVuY3Rpb24gdG9NUyhkdXJhdGlvbikge1xuICAgIHZhciBpID0gZHVyYXRpb247XG5cbiAgICAvLyBBbGxvdyBzdHJpbmcgZHVyYXRpb25zIGxpa2UgJ2Zhc3QnIGFuZCAnc2xvdycsIHdpdGhvdXQgb3ZlcnJpZGluZyBudW1lcmljIHZhbHVlcy5cbiAgICBpZiAodHlwZW9mIGkgPT09ICdzdHJpbmcnICYmICghaS5tYXRjaCgvXltcXC0wLTlcXC5dKy8pKSkgeyBpID0gJC5meC5zcGVlZHNbaV0gfHwgJC5meC5zcGVlZHMuX2RlZmF1bHQ7IH1cblxuICAgIHJldHVybiB1bml0KGksICdtcycpO1xuICB9XG5cbiAgLy8gRXhwb3J0IHNvbWUgZnVuY3Rpb25zIGZvciB0ZXN0YWJsZS1uZXNzLlxuICAkLnRyYW5zaXQuZ2V0VHJhbnNpdGlvblZhbHVlID0gZ2V0VHJhbnNpdGlvbjtcblxuICByZXR1cm4gJDtcbn0pKTtcblxufSkuY2FsbChnbG9iYWwsIG1vZHVsZSwgdW5kZWZpbmVkKTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBkZWZpbmUpIHtcbi8qISBqUXVlcnkgdjIuMS40IHwgKGMpIDIwMDUsIDIwMTUgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cbiFmdW5jdGlvbihhLGIpe1wib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtyZXR1cm4gYihhKX06YihhKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Yy5zbGljZSxlPWMuY29uY2F0LGY9Yy5wdXNoLGc9Yy5pbmRleE9mLGg9e30saT1oLnRvU3RyaW5nLGo9aC5oYXNPd25Qcm9wZXJ0eSxrPXt9LGw9YS5kb2N1bWVudCxtPVwiMi4xLjRcIixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xcZGEtel0pL2dpLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtuLmZuPW4ucHJvdG90eXBlPXtqcXVlcnk6bSxjb25zdHJ1Y3RvcjpuLHNlbGVjdG9yOlwiXCIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBkLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmQuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5lYWNoKHRoaXMsYSxiKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmI+Yz9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOmYsc29ydDpjLnNvcnQsc3BsaWNlOmMuc3BsaWNlfSxuLmV4dGVuZD1uLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnPWFyZ3VtZW50c1swXXx8e30saD0xLGk9YXJndW1lbnRzLmxlbmd0aCxqPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksXCJvYmplY3RcIj09dHlwZW9mIGd8fG4uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oYT1hcmd1bWVudHNbaF0pKWZvcihiIGluIGEpYz1nW2JdLGQ9YVtiXSxnIT09ZCYmKGomJmQmJihuLmlzUGxhaW5PYmplY3QoZCl8fChlPW4uaXNBcnJheShkKSkpPyhlPyhlPSExLGY9YyYmbi5pc0FycmF5KGMpP2M6W10pOmY9YyYmbi5pc1BsYWluT2JqZWN0KGMpP2M6e30sZ1tiXT1uLmV4dGVuZChqLGYsZCkpOnZvaWQgMCE9PWQmJihnW2JdPWQpKTtyZXR1cm4gZ30sbi5leHRlbmQoe2V4cGFuZG86XCJqUXVlcnlcIisobStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cXEQvZyxcIlwiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihhKX0sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT1uLnR5cGUoYSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7cmV0dXJuIW4uaXNBcnJheShhKSYmYS1wYXJzZUZsb2F0KGEpKzE+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIiE9PW4udHlwZShhKXx8YS5ub2RlVHlwZXx8bi5pc1dpbmRvdyhhKT8hMTphLmNvbnN0cnVjdG9yJiYhai5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLFwiaXNQcm90b3R5cGVPZlwiKT8hMTohMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYT9oW2kuY2FsbChhKV18fFwib2JqZWN0XCI6dHlwZW9mIGF9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYz1ldmFsO2E9bi50cmltKGEpLGEmJigxPT09YS5pbmRleE9mKFwidXNlIHN0cmljdFwiKT8oYj1sLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksYi50ZXh0PWEsbC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLFwibXMtXCIpLnJlcGxhY2UocSxyKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPTAsZj1hLmxlbmd0aCxnPXMoYSk7aWYoYyl7aWYoZyl7Zm9yKDtmPmU7ZSsrKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGZvcihlIGluIGEpaWYoZD1iLmFwcGx5KGFbZV0sYyksZD09PSExKWJyZWFrfWVsc2UgaWYoZyl7Zm9yKDtmPmU7ZSsrKWlmKGQ9Yi5jYWxsKGFbZV0sZSxhW2VdKSxkPT09ITEpYnJlYWt9ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5jYWxsKGFbZV0sZSxhW2VdKSxkPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjooYStcIlwiKS5yZXBsYWNlKG8sXCJcIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocyhPYmplY3QoYSkpP24ubWVyZ2UoYyxcInN0cmluZ1wiPT10eXBlb2YgYT9bYV06YSk6Zi5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iPy0xOmcuY2FsbChiLGEsYyl9LG1lcmdlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPStiLmxlbmd0aCxkPTAsZT1hLmxlbmd0aDtjPmQ7ZCsrKWFbZSsrXT1iW2RdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxmPTAsZz1hLmxlbmd0aCxoPXMoYSksaT1bXTtpZihoKWZvcig7Zz5mO2YrKylkPWIoYVtmXSxmLGMpLG51bGwhPWQmJmkucHVzaChkKTtlbHNlIGZvcihmIGluIGEpZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7cmV0dXJuIGUuYXBwbHkoW10saSl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGU9ZC5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxlLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDprfSksbi5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvclwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe2hbXCJbb2JqZWN0IFwiK2IrXCJdXCJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHMoYSl7dmFyIGI9XCJsZW5ndGhcImluIGEmJmEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6XCJhcnJheVwiPT09Y3x8MD09PWJ8fFwibnVtYmVyXCI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9XCJzaXp6bGVcIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9aGEoKSx6PWhhKCksQT1oYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixMPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixNPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsTj1NLnJlcGxhY2UoXCJ3XCIsXCJ3I1wiKSxPPVwiXFxcXFtcIitMK1wiKihcIitNK1wiKSg/OlwiK0wrXCIqKFsqXiR8IX5dPz0pXCIrTCtcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiK04rXCIpKXwpXCIrTCtcIipcXFxcXVwiLFA9XCI6KFwiK00rXCIpKD86XFxcXCgoKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8KCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiK08rXCIpKil8LiopXFxcXCl8KVwiLFE9bmV3IFJlZ0V4cChMK1wiK1wiLFwiZ1wiKSxSPW5ldyBSZWdFeHAoXCJeXCIrTCtcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrTCtcIiskXCIsXCJnXCIpLFM9bmV3IFJlZ0V4cChcIl5cIitMK1wiKixcIitMK1wiKlwiKSxUPW5ldyBSZWdFeHAoXCJeXCIrTCtcIiooWz4rfl18XCIrTCtcIilcIitMK1wiKlwiKSxVPW5ldyBSZWdFeHAoXCI9XCIrTCtcIiooW15cXFxcXSdcXFwiXSo/KVwiK0wrXCIqXFxcXF1cIixcImdcIiksVj1uZXcgUmVnRXhwKFApLFc9bmV3IFJlZ0V4cChcIl5cIitOK1wiJFwiKSxYPXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIrTStcIilcIiksQ0xBU1M6bmV3IFJlZ0V4cChcIl5cXFxcLihcIitNK1wiKVwiKSxUQUc6bmV3IFJlZ0V4cChcIl4oXCIrTS5yZXBsYWNlKFwid1wiLFwidypcIikrXCIpXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitPKSxQU0VVRE86bmV3IFJlZ0V4cChcIl5cIitQKSxDSElMRDpuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIitMK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrTCtcIiooPzooWystXXwpXCIrTCtcIiooXFxcXGQrKXwpKVwiK0wrXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrSytcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK0wrXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiK0wrXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK0wrXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LFk9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxaPS9eaFxcZCQvaSwkPS9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sXz0vXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxhYT0vWyt+XS8sYmE9Lyd8XFxcXC9nLGNhPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIitMK1wiP3woXCIrTCtcIil8LilcIixcImlnXCIpLGRhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIjB4XCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGVhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChmYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZ2EoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3LHg7aWYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4sZD1kfHxbXSxrPWIubm9kZVR5cGUsXCJzdHJpbmdcIiE9dHlwZW9mIGF8fCFhfHwxIT09ayYmOSE9PWsmJjExIT09aylyZXR1cm4gZDtpZighZSYmcCl7aWYoMTEhPT1rJiYoZj1fLmV4ZWMoYSkpKWlmKGo9ZlsxXSl7aWYoOT09PWspe2lmKGg9Yi5nZXRFbGVtZW50QnlJZChqKSwhaHx8IWgucGFyZW50Tm9kZSlyZXR1cm4gZDtpZihoLmlkPT09ailyZXR1cm4gZC5wdXNoKGgpLGR9ZWxzZSBpZihiLm93bmVyRG9jdW1lbnQmJihoPWIub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChqKSkmJnQoYixoKSYmaC5pZD09PWopcmV0dXJuIGQucHVzaChoKSxkfWVsc2V7aWYoZlsyXSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGo9ZlszXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShqKSksZH1pZihjLnFzYSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYocz1yPXUsdz1iLHg9MSE9PWsmJmEsMT09PWsmJlwib2JqZWN0XCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe289ZyhhKSwocj1iLmdldEF0dHJpYnV0ZShcImlkXCIpKT9zPXIucmVwbGFjZShiYSxcIlxcXFwkJlwiKTpiLnNldEF0dHJpYnV0ZShcImlkXCIscykscz1cIltpZD0nXCIrcytcIiddIFwiLGw9by5sZW5ndGg7d2hpbGUobC0tKW9bbF09cytyYShvW2xdKTt3PWFhLnRlc3QoYSkmJnBhKGIucGFyZW50Tm9kZSl8fGIseD1vLmpvaW4oXCIsXCIpfWlmKHgpdHJ5e3JldHVybiBILmFwcGx5KGQsdy5xdWVyeVNlbGVjdG9yQWxsKHgpKSxkfWNhdGNoKHkpe31maW5hbGx5e3J8fGIucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUixcIiQxXCIpLGIsZCxlKX1mdW5jdGlvbiBoYSgpe3ZhciBhPVtdO2Z1bmN0aW9uIGIoYyxlKXtyZXR1cm4gYS5wdXNoKGMrXCIgXCIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjK1wiIFwiXT1lfXJldHVybiBifWZ1bmN0aW9uIGlhKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gamEoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RyeXtyZXR1cm4hIWEoYil9Y2F0Y2goYyl7cmV0dXJuITF9ZmluYWxseXtiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxiPW51bGx9fWZ1bmN0aW9uIGthKGEsYil7dmFyIGM9YS5zcGxpdChcInxcIiksZT1hLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gbGEoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEMpLSh+YS5zb3VyY2VJbmRleHx8Qyk7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIG1hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbmEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oXCJpbnB1dFwiPT09Y3x8XCJidXR0b25cIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBvYShhKXtyZXR1cm4gaWEoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsaWEoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBwYShhKXtyZXR1cm4gYSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1nYS5zdXBwb3J0PXt9LGY9Z2EuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiP1wiSFRNTFwiIT09Yi5ub2RlTmFtZTohMX0sbT1nYS5zZXREb2N1bWVudD1mdW5jdGlvbihhKXt2YXIgYixlLGc9YT9hLm93bmVyRG9jdW1lbnR8fGE6djtyZXR1cm4gZyE9PW4mJjk9PT1nLm5vZGVUeXBlJiZnLmRvY3VtZW50RWxlbWVudD8obj1nLG89Zy5kb2N1bWVudEVsZW1lbnQsZT1nLmRlZmF1bHRWaWV3LGUmJmUhPT1lLnRvcCYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixlYSwhMSk6ZS5hdHRhY2hFdmVudCYmZS5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIsZWEpKSxwPSFmKGcpLGMuYXR0cmlidXRlcz1qYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9XCJpXCIsIWEuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1qYShmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChnLmNyZWF0ZUNvbW1lbnQoXCJcIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGh9KSxjLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9JC50ZXN0KGcuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksYy5nZXRCeUlkPWphKGZ1bmN0aW9uKGEpe3JldHVybiBvLmFwcGVuZENoaWxkKGEpLmlkPXUsIWcuZ2V0RWxlbWVudHNCeU5hbWV8fCFnLmdldEVsZW1lbnRzQnlOYW1lKHUpLmxlbmd0aH0pLGMuZ2V0QnlJZD8oZC5maW5kLklEPWZ1bmN0aW9uKGEsYil7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJnApe3ZhciBjPWIuZ2V0RWxlbWVudEJ5SWQoYSk7cmV0dXJuIGMmJmMucGFyZW50Tm9kZT9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2EsZGEpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGNhLGRhKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6Yy5xc2E/Yi5xdWVyeVNlbGVjdG9yQWxsKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoXCIqXCI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVybiBwP2IuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKTp2b2lkIDB9LHI9W10scT1bXSwoYy5xc2E9JC50ZXN0KGcucXVlcnlTZWxlY3RvckFsbCkpJiYoamEoZnVuY3Rpb24oYSl7by5hcHBlbmRDaGlsZChhKS5pbm5lckhUTUw9XCI8YSBpZD0nXCIrdStcIic+PC9hPjxzZWxlY3QgaWQ9J1wiK3UrXCItXFxmXScgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIixhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbXNhbGxvd2NhcHR1cmVePScnXVwiKS5sZW5ndGgmJnEucHVzaChcIlsqXiRdPVwiK0wrXCIqKD86Jyd8XFxcIlxcXCIpXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RofHxxLnB1c2goXCJcXFxcW1wiK0wrXCIqKD86dmFsdWV8XCIrSytcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW2lkfj1cIit1K1wiLV1cIikubGVuZ3RofHxxLnB1c2goXCJ+PVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGh8fHEucHVzaChcIjpjaGVja2VkXCIpLGEucXVlcnlTZWxlY3RvckFsbChcImEjXCIrdStcIisqXCIpLmxlbmd0aHx8cS5wdXNoKFwiLiMuK1srfl1cIil9KSxqYShmdW5jdGlvbihhKXt2YXIgYj1nLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxhLmFwcGVuZENoaWxkKGIpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIkRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoJiZxLnB1c2goXCJuYW1lXCIrTCtcIipbKl4kfCF+XT89XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjplbmFibGVkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmVuYWJsZWRcIixcIjpkaXNhYmxlZFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpLHEucHVzaChcIiwuKjpcIil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPSQudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmamEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSxcImRpdlwiKSxzLmNhbGwoYSxcIltzIT0nJ106eFwiKSxyLnB1c2goXCIhPVwiLFApfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oXCJ8XCIpKSxyPXIubGVuZ3RoJiZuZXcgUmVnRXhwKHIuam9pbihcInxcIikpLGI9JC50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHQ9Ynx8JC50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMuY29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEsYil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09ZD9hPT09Z3x8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEpPy0xOmI9PT1nfHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0ooayxhKS1KKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZT1hLnBhcmVudE5vZGUsZj1iLnBhcmVudE5vZGUsaD1bYV0saT1bYl07aWYoIWV8fCFmKXJldHVybiBhPT09Zz8tMTpiPT09Zz8xOmU/LTE6Zj8xOms/SihrLGEpLUooayxiKTowO2lmKGU9PT1mKXJldHVybiBsYShhLGIpO2M9YTt3aGlsZShjPWMucGFyZW50Tm9kZSloLnVuc2hpZnQoYyk7Yz1iO3doaWxlKGM9Yy5wYXJlbnROb2RlKWkudW5zaGlmdChjKTt3aGlsZShoW2RdPT09aVtkXSlkKys7cmV0dXJuIGQ/bGEoaFtkXSxpW2RdKTpoW2RdPT09dj8tMTppW2RdPT09dj8xOjB9LGcpOm59LGdhLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZ2EoYSxudWxsLG51bGwsYil9LGdhLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe2lmKChhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSxiPWIucmVwbGFjZShVLFwiPSckMSddXCIpLCEoIWMubWF0Y2hlc1NlbGVjdG9yfHwhcHx8ciYmci50ZXN0KGIpfHxxJiZxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBnYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxnYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGdhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZELmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxnYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIithKX0sZ2EudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWdhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz1cIlwiLGQ9MCxmPWEubm9kZVR5cGU7aWYoZil7aWYoMT09PWZ8fDk9PT1mfHwxMT09PWYpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9Z2Euc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aWEsbWF0Y2g6WCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6e1wiPlwiOntkaXI6XCJwYXJlbnROb2RlXCIsZmlyc3Q6ITB9LFwiIFwiOntkaXI6XCJwYXJlbnROb2RlXCJ9LFwiK1wiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIixmaXJzdDohMH0sXCJ+XCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0ucmVwbGFjZShjYSxkYSksYVszXT0oYVszXXx8YVs0XXx8YVs1XXx8XCJcIikucmVwbGFjZShjYSxkYSksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8Z2EuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZ2EuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFguQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8XCJcIjpjJiZWLnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoXCIpXCIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoY2EsZGEpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCIqXCI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthK1wiIFwiXTtyZXR1cm4gYnx8KGI9bmV3IFJlZ0V4cChcIihefFwiK0wrXCIpXCIrYStcIihcIitMK1wifCQpXCIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9Z2EuYXR0cihkLGEpO3JldHVybiBudWxsPT1lP1wiIT1cIj09PWI6Yj8oZSs9XCJcIixcIj1cIj09PWI/ZT09PWM6XCIhPVwiPT09Yj9lIT09YzpcIl49XCI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6XCIqPVwiPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6XCIkPVwiPT09Yj9jJiZlLnNsaWNlKC1jLmxlbmd0aCk9PT1jOlwifj1cIj09PWI/KFwiIFwiK2UucmVwbGFjZShRLFwiIFwiKStcIiBcIikuaW5kZXhPZihjKT4tMTpcInw9XCI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jK1wiLVwiOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCJudGhcIiE9PWEuc2xpY2UoMCwzKSxnPVwibGFzdFwiIT09YS5zbGljZSgtNCksaD1cIm9mLXR5cGVcIj09PWI7cmV0dXJuIDE9PT1kJiYwPT09ZT9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06ZnVuY3Rpb24oYixjLGkpe3ZhciBqLGssbCxtLG4sbyxwPWYhPT1nP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoO2lmKHEpe2lmKGYpe3doaWxlKHApe2w9Yjt3aGlsZShsPWxbcF0paWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD1cIm9ubHlcIj09PWEmJiFvJiZcIm5leHRTaWJsaW5nXCJ9cmV0dXJuITB9aWYobz1bZz9xLmZpcnN0Q2hpbGQ6cS5sYXN0Q2hpbGRdLGcmJnMpe2s9cVt1XXx8KHFbdV09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSxtPWpbMF09PT13JiZqWzJdLGw9biYmcS5jaGlsZE5vZGVzW25dO3doaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKDE9PT1sLm5vZGVUeXBlJiYrK20mJmw9PT1iKXtrW2FdPVt3LG4sbV07YnJlYWt9fWVsc2UgaWYocyYmKGo9KGJbdV18fChiW3VdPXt9KSlbYV0pJiZqWzBdPT09dyltPWpbMV07ZWxzZSB3aGlsZShsPSsrbiYmbCYmbFtwXXx8KG09bj0wKXx8by5wb3AoKSlpZigoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKSYmKyttJiYocyYmKChsW3VdfHwobFt1XT17fSkpW2FdPVt3LG1dKSxsPT09YikpYnJlYWs7cmV0dXJuIG0tPWUsbT09PWR8fG0lZD09PTAmJm0vZD49MH19fSxQU0VVRE86ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPWQucHNldWRvc1thXXx8ZC5zZXRGaWx0ZXJzW2EudG9Mb3dlckNhc2UoKV18fGdhLmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSxcIlwiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2lhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1KKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmlhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShSLFwiJDFcIikpO3JldHVybiBkW3VdP2lhKGZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmLGc9ZChhLG51bGwsZSxbXSksaD1hLmxlbmd0aDt3aGlsZShoLS0pKGY9Z1toXSkmJihhW2hdPSEoYltoXT1mKSl9KTpmdW5jdGlvbihhLGUsZil7cmV0dXJuIGJbMF09YSxkKGIsbnVsbCxmLGMpLGJbMF09bnVsbCwhYy5wb3AoKX19KSxoYXM6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBnYShhLGIpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShjYSxkYSksZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIFcudGVzdChhfHxcIlwiKXx8Z2EuZXJyb3IoXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIithKSxhPWEucmVwbGFjZShjYSxkYSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIil8fGIuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYStcIi1cIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiYhIWEuY2hlY2tlZHx8XCJvcHRpb25cIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBaLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBZLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmXCJidXR0b25cIj09PWEudHlwZXx8XCJidXR0b25cIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuXCJpbnB1dFwiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZcInRleHRcIj09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSl8fFwidGV4dFwiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6b2EoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om9hKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpvYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm9hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm9hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6b2EoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpvYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bWEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bmEoYik7ZnVuY3Rpb24gcWEoKXt9cWEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBxYSxnPWdhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErXCIgXCJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7KCFjfHwoZT1TLmV4ZWMoaCkpKSYmKGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9VC5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShSLFwiIFwiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1YW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/Z2EuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiByYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9XCJcIjtjPmI7YisrKWQrPWFbYl0udmFsdWU7cmV0dXJuIGR9ZnVuY3Rpb24gc2EoYSxiLGMpe3ZhciBkPWIuZGlyLGU9YyYmXCJwYXJlbnROb2RlXCI9PT1kLGY9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxmKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpcmV0dXJuIGEoYixjLGYpfTpmdW5jdGlvbihiLGMsZyl7dmFyIGgsaSxqPVt3LGZdO2lmKGcpe3doaWxlKGI9YltkXSlpZigoMT09PWIubm9kZVR5cGV8fGUpJiZhKGIsYyxnKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSl7aWYoaT1iW3VdfHwoYlt1XT17fSksKGg9aVtkXSkmJmhbMF09PT13JiZoWzFdPT09ZilyZXR1cm4galsyXT1oWzJdO2lmKGlbZF09aixqWzJdPWEoYixjLGcpKXJldHVybiEwfX19ZnVuY3Rpb24gdGEoYSl7cmV0dXJuIGEubGVuZ3RoPjE/ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubGVuZ3RoO3doaWxlKGUtLSlpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gdWEoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylnYShhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4gZ31mdW5jdGlvbiB3YShhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3VdJiYoZD13YShkKSksZSYmIWVbdV0mJihlPXdhKGUsZikpLGlhKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHVhKGJ8fFwiKlwiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6dmEocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXZhKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9KKGYsbCk6bVtrXSk+LTEmJihmW2pdPSEoZ1tqXT1sKSl9fWVsc2Ugcj12YShyPT09Zz9yLnNwbGljZShvLHIubGVuZ3RoKTpyKSxlP2UobnVsbCxnLHIsaSk6SC5hcHBseShnLHIpfSl9ZnVuY3Rpb24geGEoYSl7Zm9yKHZhciBiLGMsZSxmPWEubGVuZ3RoLGc9ZC5yZWxhdGl2ZVthWzBdLnR5cGVdLGg9Z3x8ZC5yZWxhdGl2ZVtcIiBcIl0saT1nPzE6MCxrPXNhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1zYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtzYSh0YShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gd2EoaT4xJiZ0YShtKSxpPjEmJnJhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6XCIgXCI9PT1hW2ktMl0udHlwZT9cIipcIjpcIlwifSkpLnJlcGxhY2UoUixcIiQxXCIpLGMsZT5pJiZ4YShhLnNsaWNlKGksZSkpLGY+ZSYmeGEoYT1hLnNsaWNlKGUpKSxmPmUmJnJhKGEpKX1tLnB1c2goYyl9cmV0dXJuIHRhKG0pfWZ1bmN0aW9uIHlhKGEsYil7dmFyIGM9Yi5sZW5ndGg+MCxlPWEubGVuZ3RoPjAsZj1mdW5jdGlvbihmLGcsaCxpLGspe3ZhciBsLG0sbyxwPTAscT1cIjBcIixyPWYmJltdLHM9W10sdD1qLHU9Znx8ZSYmZC5maW5kLlRBRyhcIipcIixrKSx2PXcrPW51bGw9PXQ/MTpNYXRoLnJhbmRvbSgpfHwuMSx4PXUubGVuZ3RoO2ZvcihrJiYoaj1nIT09biYmZyk7cSE9PXgmJm51bGwhPShsPXVbcV0pO3ErKyl7aWYoZSYmbCl7bT0wO3doaWxlKG89YVttKytdKWlmKG8obCxnLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9dil9YyYmKChsPSFvJiZsKSYmcC0tLGYmJnIucHVzaChsKSl9aWYocCs9cSxjJiZxIT09cCl7bT0wO3doaWxlKG89YlttKytdKW8ocixzLGcsaCk7aWYoZil7aWYocD4wKXdoaWxlKHEtLSlyW3FdfHxzW3FdfHwoc1txXT1GLmNhbGwoaSkpO3M9dmEocyl9SC5hcHBseShpLHMpLGsmJiFmJiZzLmxlbmd0aD4wJiZwK2IubGVuZ3RoPjEmJmdhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXYsaj10KSxyfTtyZXR1cm4gYz9pYShmKTpmfXJldHVybiBoPWdhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErXCIgXCJdO2lmKCFmKXtifHwoYj1nKGEpKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlmPXhhKGJbY10pLGZbdV0/ZC5wdXNoKGYpOmUucHVzaChmKTtmPUEoYSx5YShlLGQpKSxmLnNlbGVjdG9yPWF9cmV0dXJuIGZ9LGk9Z2Euc2VsZWN0PWZ1bmN0aW9uKGEsYixlLGYpe3ZhciBpLGosayxsLG0sbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZhLG89IWYmJmcoYT1uLnNlbGVjdG9yfHxhKTtpZihlPWV8fFtdLDE9PT1vLmxlbmd0aCl7aWYoaj1vWzBdPW9bMF0uc2xpY2UoMCksai5sZW5ndGg+MiYmXCJJRFwiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoY2EsZGEpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1YLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShjYSxkYSksYWEudGVzdChqWzBdLnR5cGUpJiZwYShiLnBhcmVudE5vZGUpfHxiKSkpe2lmKGouc3BsaWNlKGksMSksYT1mLmxlbmd0aCYmcmEoaiksIWEpcmV0dXJuIEguYXBwbHkoZSxmKSxlO2JyZWFrfX19cmV0dXJuKG58fGgoYSxvKSkoZixiLCFwLGUsYWEudGVzdChhKSYmcGEoYi5wYXJlbnROb2RlKXx8YiksZX0sYy5zb3J0U3RhYmxlPXUuc3BsaXQoXCJcIikuc29ydChCKS5qb2luKFwiXCIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1qYShmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudChcImRpdlwiKSl9KSxqYShmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxrYShcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsXCJ0eXBlXCI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmamEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGlucHV0Lz5cIixhLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxcIlwiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl8fGthKFwidmFsdWVcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fFwiaW5wdXRcIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT92b2lkIDA6YS5kZWZhdWx0VmFsdWV9KSxqYShmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YS5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKX0pfHxrYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxnYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwcltcIjpcIl09bi5leHByLnBzZXVkb3Msbi51bmlxdWU9dC51bmlxdWVTb3J0LG4udGV4dD10LmdldFRleHQsbi5pc1hNTERvYz10LmlzWE1MLG4uY29udGFpbnM9dC5jb250YWluczt2YXIgdT1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHY9L148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLHc9L14uW146I1xcW1xcLixdKiQvO2Z1bmN0aW9uIHgoYSxiLGMpe2lmKG4uaXNGdW5jdGlvbihiKSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKXtpZih3LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBnLmNhbGwoYixhKT49MCE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9XCI6bm90KFwiK2ErXCIpXCIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2M+YjtiKyspaWYobi5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7Yz5iO2IrKyluLmZpbmQoYSxlW2JdLGQpO3JldHVybiBkPXRoaXMucHVzaFN0YWNrKGM+MT9uLnVuaXF1ZShkKTpkKSxkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcitcIiBcIithOmEsZH0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh4KHRoaXMsYXx8W10sITApKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISF4KHRoaXMsXCJzdHJpbmdcIj09dHlwZW9mIGEmJnUudGVzdChhKT9uKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIHksej0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxBPW4uZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoIWEpcmV0dXJuIHRoaXM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpe2lmKGM9XCI8XCI9PT1hWzBdJiZcIj5cIj09PWFbYS5sZW5ndGgtMV0mJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06ei5leGVjKGEpLCFjfHwhY1sxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fHkpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGNbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChjWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmwsITApKSx2LnRlc3QoY1sxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoYyBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2NdKT90aGlzW2NdKGJbY10pOnRoaXMuYXR0cihjLGJbY10pO3JldHVybiB0aGlzfXJldHVybiBkPWwuZ2V0RWxlbWVudEJ5SWQoY1syXSksZCYmZC5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPWQpLHRoaXMuY29udGV4dD1sLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpP1widW5kZWZpbmVkXCIhPXR5cGVvZiB5LnJlYWR5P3kucmVhZHkoYSk6YShuKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxuLm1ha2VBcnJheShhLHRoaXMpKX07QS5wcm90b3R5cGU9bi5mbix5PW4obCk7dmFyIEI9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sQz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtuLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KSxuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXUudGVzdChhKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlKGYpOmYpfSxpbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gYT9cInN0cmluZ1wiPT10eXBlb2YgYT9nLmNhbGwobihhKSx0aGlzWzBdKTpnLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4udW5pcXVlKG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEQoYSxiKXt3aGlsZSgoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gbi5kaXIoYSxcInBhcmVudE5vZGVcIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsXCJwYXJlbnROb2RlXCIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBEKGEsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZGlyKGEsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gbi5kaXIoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5kaXIoYSxcIm5leHRTaWJsaW5nXCIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZGlyKGEsXCJwcmV2aW91c1NpYmxpbmdcIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uc2libGluZygoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIG4uc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fG4ubWVyZ2UoW10sYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPW4ubWFwKHRoaXMsYixjKTtyZXR1cm5cIlVudGlsXCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmXCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihDW2FdfHxuLnVuaXF1ZShlKSxCLnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRT0vXFxTKy9nLEY9e307ZnVuY3Rpb24gRyhhKXt2YXIgYj1GW2FdPXt9O3JldHVybiBuLmVhY2goYS5tYXRjaChFKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1uLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPVwic3RyaW5nXCI9PXR5cGVvZiBhP0ZbYV18fEcoYSk6bi5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZixnLGg9W10saT0hYS5vbmNlJiZbXSxqPWZ1bmN0aW9uKGwpe2ZvcihiPWEubWVtb3J5JiZsLGM9ITAsZz1lfHwwLGU9MCxmPWgubGVuZ3RoLGQ9ITA7aCYmZj5nO2crKylpZihoW2ddLmFwcGx5KGxbMF0sbFsxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSl7Yj0hMTticmVha31kPSExLGgmJihpP2kubGVuZ3RoJiZqKGkuc2hpZnQoKSk6Yj9oPVtdOmsuZGlzYWJsZSgpKX0saz17YWRkOmZ1bmN0aW9uKCl7aWYoaCl7dmFyIGM9aC5sZW5ndGg7IWZ1bmN0aW9uIGcoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1uLnR5cGUoYyk7XCJmdW5jdGlvblwiPT09ZD9hLnVuaXF1ZSYmay5oYXMoYyl8fGgucHVzaChjKTpjJiZjLmxlbmd0aCYmXCJzdHJpbmdcIiE9PWQmJmcoYyl9KX0oYXJndW1lbnRzKSxkP2Y9aC5sZW5ndGg6YiYmKGU9YyxqKGIpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGgmJm4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixoLGMpKT4tMSloLnNwbGljZShjLDEpLGQmJihmPj1jJiZmLS0sZz49YyYmZy0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxoKT4tMTohKCFofHwhaC5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBoPVtdLGY9MCx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGg9aT1iPXZvaWQgMCx0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFofSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGk9dm9pZCAwLGJ8fGsuZGlzYWJsZSgpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiFpfSxmaXJlV2l0aDpmdW5jdGlvbihhLGIpe3JldHVybiFofHxjJiYhaXx8KGI9Ynx8W10sYj1bYSxiLnNsaWNlP2Iuc2xpY2UoKTpiXSxkP2kucHVzaChiKTpqKGIpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGsuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFjfX07cmV0dXJuIGt9LG4uZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1bW1wicmVzb2x2ZVwiLFwiZG9uZVwiLG4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZXNvbHZlZFwiXSxbXCJyZWplY3RcIixcImZhaWxcIixuLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFwicmVqZWN0ZWRcIl0sW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLG4uQ2FsbGJhY2tzKFwibWVtb3J5XCIpXV0sYz1cInBlbmRpbmdcIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIG4uRGVmZXJyZWQoZnVuY3Rpb24oYyl7bi5lYWNoKGIsZnVuY3Rpb24oYixmKXt2YXIgZz1uLmlzRnVuY3Rpb24oYVtiXSkmJmFbYl07ZVtmWzFdXShmdW5jdGlvbigpe3ZhciBhPWcmJmcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KS5wcm9ncmVzcyhjLm5vdGlmeSk6Y1tmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXStcIldpdGhcIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdK1wiV2l0aFwiXT1nLmZpcmVXaXRofSksZC5wcm9taXNlKGUpLGEmJmEuY2FsbChlLGUpLGV9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWQuY2FsbChhcmd1bWVudHMpLGU9Yy5sZW5ndGgsZj0xIT09ZXx8YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/ZTowLGc9MT09PWY/YTpuLkRlZmVycmVkKCksaD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGUpe2JbYV09dGhpcyxjW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9kLmNhbGwoYXJndW1lbnRzKTplLGM9PT1pP2cubm90aWZ5V2l0aChiLGMpOi0tZnx8Zy5yZXNvbHZlV2l0aChiLGMpfX0saSxqLGs7aWYoZT4xKWZvcihpPW5ldyBBcnJheShlKSxqPW5ldyBBcnJheShlKSxrPW5ldyBBcnJheShlKTtlPmI7YisrKWNbYl0mJm4uaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpLnByb2dyZXNzKGgoYixqLGkpKTotLWY7cmV0dXJuIGZ8fGcucmVzb2x2ZVdpdGgoayxjKSxnLnByb21pc2UoKX19KTt2YXIgSDtuLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBuLnJlYWR5LnByb21pc2UoKS5kb25lKGEpLHRoaXN9LG4uZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP24ucmVhZHlXYWl0Kys6bi5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpeyhhPT09ITA/LS1uLnJlYWR5V2FpdDpuLmlzUmVhZHkpfHwobi5pc1JlYWR5PSEwLGEhPT0hMCYmLS1uLnJlYWR5V2FpdD4wfHwoSC5yZXNvbHZlV2l0aChsLFtuXSksbi5mbi50cmlnZ2VySGFuZGxlciYmKG4obCkudHJpZ2dlckhhbmRsZXIoXCJyZWFkeVwiKSxuKGwpLm9mZihcInJlYWR5XCIpKSkpfX0pO2Z1bmN0aW9uIEkoKXtsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSSwhMSksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLEksITEpLG4ucmVhZHkoKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEh8fChIPW4uRGVmZXJyZWQoKSxcImNvbXBsZXRlXCI9PT1sLnJlYWR5U3RhdGU/c2V0VGltZW91dChuLnJlYWR5KToobC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLEksITEpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixJLCExKSkpLEgucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEo9bi5hY2Nlc3M9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZihcIm9iamVjdFwiPT09bi50eXBlKGMpKXtlPSEwO2ZvcihoIGluIGMpbi5hY2Nlc3MoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn07bi5hY2NlcHREYXRhPWZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZXx8OT09PWEubm9kZVR5cGV8fCErYS5ub2RlVHlwZX07ZnVuY3Rpb24gSygpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmNhY2hlPXt9LDAse2dldDpmdW5jdGlvbigpe3JldHVybnt9fX0pLHRoaXMuZXhwYW5kbz1uLmV4cGFuZG8rSy51aWQrK31LLnVpZD0xLEsuYWNjZXB0cz1uLmFjY2VwdERhdGEsSy5wcm90b3R5cGU9e2tleTpmdW5jdGlvbihhKXtpZighSy5hY2NlcHRzKGEpKXJldHVybiAwO3ZhciBiPXt9LGM9YVt0aGlzLmV4cGFuZG9dO2lmKCFjKXtjPUsudWlkKys7dHJ5e2JbdGhpcy5leHBhbmRvXT17dmFsdWU6Y30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYSxiKX1jYXRjaChkKXtiW3RoaXMuZXhwYW5kb109YyxuLmV4dGVuZChhLGIpfX1yZXR1cm4gdGhpcy5jYWNoZVtjXXx8KHRoaXMuY2FjaGVbY109e30pLGN9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmtleShhKSxmPXRoaXMuY2FjaGVbZV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpZltiXT1jO2Vsc2UgaWYobi5pc0VtcHR5T2JqZWN0KGYpKW4uZXh0ZW5kKHRoaXMuY2FjaGVbZV0sYik7ZWxzZSBmb3IoZCBpbiBiKWZbZF09YltkXTtyZXR1cm4gZn0sZ2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYWNoZVt0aGlzLmtleShhKV07cmV0dXJuIHZvaWQgMD09PWI/YzpjW2JdfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiB2b2lkIDA9PT1ifHxiJiZcInN0cmluZ1wiPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChhLGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG4uY2FtZWxDYXNlKGIpKSk6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXMua2V5KGEpLGc9dGhpcy5jYWNoZVtmXTtpZih2b2lkIDA9PT1iKXRoaXMuY2FjaGVbZl09e307ZWxzZXtuLmlzQXJyYXkoYik/ZD1iLmNvbmNhdChiLm1hcChuLmNhbWVsQ2FzZSkpOihlPW4uY2FtZWxDYXNlKGIpLGIgaW4gZz9kPVtiLGVdOihkPWUsZD1kIGluIGc/W2RdOmQubWF0Y2goRSl8fFtdKSksYz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGdbZFtjXV19fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiFuLmlzRW1wdHlPYmplY3QodGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fSl9LGRpc2NhcmQ6ZnVuY3Rpb24oYSl7YVt0aGlzLmV4cGFuZG9dJiZkZWxldGUgdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfX07dmFyIEw9bmV3IEssTT1uZXcgSyxOPS9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD1cImRhdGEtXCIrYi5yZXBsYWNlKE8sXCItJDFcIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLFwic3RyaW5nXCI9PXR5cGVvZiBjKXt0cnl7Yz1cInRydWVcIj09PWM/ITA6XCJmYWxzZVwiPT09Yz8hMTpcIm51bGxcIj09PWM/bnVsbDorYytcIlwiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9TS5zZXQoYSxiLGMpfWVsc2UgYz12b2lkIDA7cmV0dXJuIGN9bi5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIE0uaGFzRGF0YShhKXx8TC5oYXNEYXRhKGEpfSxkYXRhOmZ1bmN0aW9uKGEsYixjKXtcbnJldHVybiBNLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtNLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwuYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtMLnJlbW92ZShhLGIpfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9TS5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFMLmdldChmLFwiaGFzRGF0YUF0dHJzXCIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoXCJkYXRhLVwiKSYmKGQ9bi5jYW1lbENhc2UoZC5zbGljZSg1KSksUChmLGQsZVtkXSkpKTtMLnNldChmLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBlfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe00uc2V0KHRoaXMsYSl9KTpKKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZD1uLmNhbWVsQ2FzZShhKTtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU0uZ2V0KGYsYSksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPU0uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVAoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU0uZ2V0KHRoaXMsZCk7TS5zZXQodGhpcyxkLGIpLC0xIT09YS5pbmRleE9mKFwiLVwiKSYmdm9pZCAwIT09YyYmTS5zZXQodGhpcyxhLGIpfSl9LG51bGwsYixhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe00ucmVtb3ZlKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHxcImZ4XCIpK1wicXVldWVcIixkPUwuZ2V0KGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1MLmFjY2VzcyhhLGIsbi5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8XCJmeFwiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07XCJpbnByb2dyZXNzXCI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoXCJmeFwiPT09YiYmYy51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iK1wicXVldWVIb29rc1wiO3JldHVybiBMLmdldChhLGMpfHxMLmFjY2VzcyhhLGMse2VtcHR5Om4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7TC5yZW1vdmUoYSxbYitcInF1ZXVlXCIsY10pfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9XCJmeFwiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP24ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9bi5xdWV1ZSh0aGlzLGEsYik7bi5fcXVldWVIb29rcyh0aGlzLGEpLFwiZnhcIj09PWEmJlwiaW5wcm9ncmVzc1wiIT09Y1swXSYmbi5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9bi5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTtcInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHxcImZ4XCI7d2hpbGUoZy0tKWM9TC5nZXQoZltnXSxhK1wicXVldWVIb29rc1wiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgUT0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2UsUj1bXCJUb3BcIixcIlJpZ2h0XCIsXCJCb3R0b21cIixcIkxlZnRcIl0sUz1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsXCJub25lXCI9PT1uLmNzcyhhLFwiZGlzcGxheVwiKXx8IW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfSxUPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pOyFmdW5jdGlvbigpe3ZhciBhPWwuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGI9YS5hcHBlbmRDaGlsZChsLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGM9bC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSxjLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIixcImNoZWNrZWRcIiksYy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJ0XCIpLGIuYXBwZW5kQ2hpbGQoYyksay5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLGsubm9DbG9uZUNoZWNrZWQ9ISFiLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIgVT1cInVuZGVmaW5lZFwiO2suZm9jdXNpbkJ1YmJsZXM9XCJvbmZvY3VzaW5cImluIGE7dmFyIFY9L15rZXkvLFc9L14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sWD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sWT0vXihbXi5dKikoPzpcXC4oLispfCkkLztmdW5jdGlvbiBaKCl7cmV0dXJuITB9ZnVuY3Rpb24gJCgpe3JldHVybiExfWZ1bmN0aW9uIF8oKXt0cnl7cmV0dXJuIGwuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fW4uZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9TC5nZXQoYSk7aWYocil7Yy5oYW5kbGVyJiYoZj1jLGM9Zi5oYW5kbGVyLGU9Zi5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoaT1yLmV2ZW50cyl8fChpPXIuZXZlbnRzPXt9KSwoZz1yLmhhbmRsZSl8fChnPXIuaGFuZGxlPWZ1bmN0aW9uKGIpe3JldHVybiB0eXBlb2YgbiE9PVUmJm4uZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP24uZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fFwiXCIpLm1hdGNoKEUpfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyYmKGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxrPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKFwiLlwiKX0sZiksKG09aVtvXSl8fChtPWlbb109W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG8sZywhMSkpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxuLmV2ZW50Lmdsb2JhbFtvXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9TC5oYXNEYXRhKGEpJiZMLmdldChhKTtpZihyJiYoaT1yLmV2ZW50cykpe2I9KGJ8fFwiXCIpLm1hdGNoKEUpfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paWYoaD1ZLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyl7bD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbT1pW29dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitwLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcSE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoXCIqKlwiIT09ZHx8IWsuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxrLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGspKTtnJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGlbb10pfWVsc2UgZm9yKG8gaW4gaSluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChpKSYmKGRlbGV0ZSByLmhhbmRsZSxMLnJlbW92ZShhLFwiZXZlbnRzXCIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGQsZSl7dmFyIGYsZyxoLGksayxtLG8scD1bZHx8bF0scT1qLmNhbGwoYixcInR5cGVcIik/Yi50eXBlOmIscj1qLmNhbGwoYixcIm5hbWVzcGFjZVwiKT9iLm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYoZz1oPWQ9ZHx8bCwzIT09ZC5ub2RlVHlwZSYmOCE9PWQubm9kZVR5cGUmJiFYLnRlc3QocStuLmV2ZW50LnRyaWdnZXJlZCkmJihxLmluZGV4T2YoXCIuXCIpPj0wJiYocj1xLnNwbGl0KFwiLlwiKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaz1xLmluZGV4T2YoXCI6XCIpPDAmJlwib25cIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3IG4uRXZlbnQocSxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9ZT8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKFwiLlwiKSxiLm5hbWVzcGFjZV9yZT1iLm5hbWVzcGFjZT9uZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrci5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1kKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxvPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZXx8IW8udHJpZ2dlcnx8by50cmlnZ2VyLmFwcGx5KGQsYykhPT0hMSkpe2lmKCFlJiYhby5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZCkpe2ZvcihpPW8uZGVsZWdhdGVUeXBlfHxxLFgudGVzdChpK3EpfHwoZz1nLnBhcmVudE5vZGUpO2c7Zz1nLnBhcmVudE5vZGUpcC5wdXNoKGcpLGg9ZztoPT09KGQub3duZXJEb2N1bWVudHx8bCkmJnAucHVzaChoLmRlZmF1bHRWaWV3fHxoLnBhcmVudFdpbmRvd3x8YSl9Zj0wO3doaWxlKChnPXBbZisrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWY+MT9pOm8uYmluZFR5cGV8fHEsbT0oTC5nZXQoZyxcImV2ZW50c1wiKXx8e30pW2IudHlwZV0mJkwuZ2V0KGcsXCJoYW5kbGVcIiksbSYmbS5hcHBseShnLGMpLG09ayYmZ1trXSxtJiZtLmFwcGx5JiZuLmFjY2VwdERhdGEoZykmJihiLnJlc3VsdD1tLmFwcGx5KGcsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXEsZXx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8by5fZGVmYXVsdCYmby5fZGVmYXVsdC5hcHBseShwLnBvcCgpLGMpIT09ITF8fCFuLmFjY2VwdERhdGEoZCl8fGsmJm4uaXNGdW5jdGlvbihkW3FdKSYmIW4uaXNXaW5kb3coZCkmJihoPWRba10saCYmKGRba109bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cSxkW3FdKCksbi5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGgmJihkW2tdPWgpKSxiLnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bi5ldmVudC5maXgoYSk7dmFyIGIsYyxlLGYsZyxoPVtdLGk9ZC5jYWxsKGFyZ3VtZW50cyksaj0oTC5nZXQodGhpcyxcImV2ZW50c1wiKXx8e30pW2EudHlwZV18fFtdLGs9bi5ldmVudC5zcGVjaWFsW2EudHlwZV18fHt9O2lmKGlbMF09YSxhLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGEpIT09ITEpe2g9bi5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYSxqKSxiPTA7d2hpbGUoKGY9aFtiKytdKSYmIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7YS5jdXJyZW50VGFyZ2V0PWYuZWxlbSxjPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tjKytdKSYmIWEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkoIWEubmFtZXNwYWNlX3JlfHxhLm5hbWVzcGFjZV9yZS50ZXN0KGcubmFtZXNwYWNlKSkmJihhLmhhbmRsZU9iaj1nLGEuZGF0YT1nLmRhdGEsZT0oKG4uZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZSYmKGEucmVzdWx0PWUpPT09ITEmJihhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGEpLGEucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGk9YS50YXJnZXQ7aWYoaCYmaS5ub2RlVHlwZSYmKCFhLmJ1dHRvbnx8XCJjbGlja1wiIT09YS50eXBlKSlmb3IoO2khPT10aGlzO2k9aS5wYXJlbnROb2RlfHx0aGlzKWlmKGkuZGlzYWJsZWQhPT0hMHx8XCJjbGlja1wiIT09YS50eXBlKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yK1wiIFwiLHZvaWQgMD09PWRbZV0mJihkW2VdPWYubmVlZHNDb250ZXh0P24oZSx0aGlzKS5pbmRleChpKT49MDpuLmZpbmQoZSx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGRbZV0mJmQucHVzaChmKTtkLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZH0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30scHJvcHM6XCJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOlwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPWIuYnV0dG9uO3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihjPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGwsZD1jLmRvY3VtZW50RWxlbWVudCxlPWMuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZCYmZC5zY3JvbGxMZWZ0fHxlJiZlLnNjcm9sbExlZnR8fDApLShkJiZkLmNsaWVudExlZnR8fGUmJmUuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGQmJmQuc2Nyb2xsVG9wfHxlJiZlLnNjcm9sbFRvcHx8MCktKGQmJmQuY2xpZW50VG9wfHxlJiZlLmNsaWVudFRvcHx8MCkpLGEud2hpY2h8fHZvaWQgMD09PWZ8fChhLndoaWNoPTEmZj8xOjImZj8zOjQmZj8yOjApLGF9fSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtuLmV4cGFuZG9dKXJldHVybiBhO3ZhciBiLGMsZCxlPWEudHlwZSxmPWEsZz10aGlzLmZpeEhvb2tzW2VdO2d8fCh0aGlzLmZpeEhvb2tzW2VdPWc9Vy50ZXN0KGUpP3RoaXMubW91c2VIb29rczpWLnRlc3QoZSk/dGhpcy5rZXlIb29rczp7fSksZD1nLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGcucHJvcHMpOnRoaXMucHJvcHMsYT1uZXcgbi5FdmVudChmKSxiPWQubGVuZ3RoO3doaWxlKGItLSljPWRbYl0sYVtjXT1mW2NdO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWwpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGcuZmlsdGVyP2cuZmlsdGVyKGEsZik6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1fKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c2luXCJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PV8oKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c291dFwifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVyblwiY2hlY2tib3hcIj09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmbi5ub2RlTmFtZSh0aGlzLFwiaW5wdXRcIik/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCxcImFcIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihhKXt2b2lkIDAhPT1hLnJlc3VsdCYmYS5vcmlnaW5hbEV2ZW50JiYoYS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWEucmVzdWx0KX19fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmV4dGVuZChuZXcgbi5FdmVudCxjLHt0eXBlOmEsaXNTaW11bGF0ZWQ6ITAsb3JpZ2luYWxFdmVudDp7fX0pO2Q/bi5ldmVudC50cmlnZ2VyKGUsbnVsbCxiKTpuLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZjLnByZXZlbnREZWZhdWx0KCl9fSxuLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpfSxuLkV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBuLkV2ZW50PyhhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJmEucmV0dXJuVmFsdWU9PT0hMT9aOiQpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOiQsaXNQcm9wYWdhdGlvblN0b3BwZWQ6JCxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDokLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPVosYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1aLGEmJmEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1aLGEmJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJiZhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fSxuLmVhY2goe21vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIixtb3VzZWxlYXZlOlwibW91c2VvdXRcIixwb2ludGVyZW50ZXI6XCJwb2ludGVyb3ZlclwiLHBvaW50ZXJsZWF2ZTpcInBvaW50ZXJvdXRcIn0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybighZXx8ZSE9PWQmJiFuLmNvbnRhaW5zKGQsZSkpJiYoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxrLmZvY3VzaW5CdWJibGVzfHxuLmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSwhMCl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1MLmFjY2VzcyhkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLEwuYWNjZXNzKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9TC5hY2Nlc3MoZCxiKS0xO2U/TC5hY2Nlc3MoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxMLnJlbW92ZShkLGIpKX19fSksbi5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZztpZihcIm9iamVjdFwiPT10eXBlb2YgYSl7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihjPWN8fGIsYj12b2lkIDApO2ZvcihnIGluIGEpdGhpcy5vbihnLGIsYyxhW2ddLGUpO3JldHVybiB0aGlzfWlmKG51bGw9PWMmJm51bGw9PWQ/KGQ9YixjPWI9dm9pZCAwKTpudWxsPT1kJiYoXCJzdHJpbmdcIj09dHlwZW9mIGI/KGQ9YyxjPXZvaWQgMCk6KGQ9YyxjPWIsYj12b2lkIDApKSxkPT09ITEpZD0kO2Vsc2UgaWYoIWQpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1lJiYoZj1kLGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oKS5vZmYoYSksZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQuZ3VpZD1mLmd1aWR8fChmLmd1aWQ9bi5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LmFkZCh0aGlzLGEsZCxjLGIpfSl9LG9uZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihhLGIsYyxkLDEpfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5oYW5kbGVPYmopcmV0dXJuIGQ9YS5oYW5kbGVPYmosbihhLmRlbGVnYXRlVGFyZ2V0KS5vZmYoZC5uYW1lc3BhY2U/ZC5vcmlnVHlwZStcIi5cIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtmb3IoZSBpbiBhKXRoaXMub2ZmKGUsYixhW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4oYj09PSExfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBiKSYmKGM9YixiPXZvaWQgMCksYz09PSExJiYoYz0kKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzWzBdO3JldHVybiBjP24uZXZlbnQudHJpZ2dlcihhLGIsYywhMCk6dm9pZCAwfX0pO3ZhciBhYT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vZ2ksYmE9LzwoW1xcdzpdKykvLGNhPS88fCYjP1xcdys7LyxkYT0vPCg/OnNjcmlwdHxzdHlsZXxsaW5rKS9pLGVhPS9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksZmE9L14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxnYT0vXnRydWVcXC8oLiopLyxoYT0vXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2csaWE9e29wdGlvbjpbMSxcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIixcIjwvc2VsZWN0PlwiXSx0aGVhZDpbMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGNvbDpbMixcIjx0YWJsZT48Y29sZ3JvdXA+XCIsXCI8L2NvbGdyb3VwPjwvdGFibGU+XCJdLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxfZGVmYXVsdDpbMCxcIlwiLFwiXCJdfTtpYS5vcHRncm91cD1pYS5vcHRpb24saWEudGJvZHk9aWEudGZvb3Q9aWEuY29sZ3JvdXA9aWEuY2FwdGlvbj1pYS50aGVhZCxpYS50aD1pYS50ZDtmdW5jdGlvbiBqYShhLGIpe3JldHVybiBuLm5vZGVOYW1lKGEsXCJ0YWJsZVwiKSYmbi5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsXCJ0clwiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSk6YX1mdW5jdGlvbiBrYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKStcIi9cIithLnR5cGUsYX1mdW5jdGlvbiBsYShhKXt2YXIgYj1nYS5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpLGF9ZnVuY3Rpb24gbWEoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2Q+YztjKyspTC5zZXQoYVtjXSxcImdsb2JhbEV2YWxcIiwhYnx8TC5nZXQoYltjXSxcImdsb2JhbEV2YWxcIikpfWZ1bmN0aW9uIG5hKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTC5oYXNEYXRhKGEpJiYoZj1MLmFjY2VzcyhhKSxnPUwuc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1NLmhhc0RhdGEoYSkmJihoPU0uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCksTS5zZXQoYixpKSl9fWZ1bmN0aW9uIG9hKGEsYil7dmFyIGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fFwiKlwiKTphLnF1ZXJ5U2VsZWN0b3JBbGw/YS5xdWVyeVNlbGVjdG9yQWxsKGJ8fFwiKlwiKTpbXTtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmbi5ub2RlTmFtZShhLGIpP24ubWVyZ2UoW2FdLGMpOmN9ZnVuY3Rpb24gcGEoYSxiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XCJpbnB1dFwiPT09YyYmVC50ZXN0KGEudHlwZSk/Yi5jaGVja2VkPWEuY2hlY2tlZDooXCJpbnB1dFwiPT09Y3x8XCJ0ZXh0YXJlYVwiPT09YykmJihiLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZSl9bi5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY2xvbmVOb2RlKCEwKSxpPW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKCEoay5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8bi5pc1hNTERvYyhhKSkpZm9yKGc9b2EoaCksZj1vYShhKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKXBhKGZbZF0sZ1tkXSk7aWYoYilpZihjKWZvcihmPWZ8fG9hKGEpLGc9Z3x8b2EoaCksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKyluYShmW2RdLGdbZF0pO2Vsc2UgbmEoYSxoKTtyZXR1cm4gZz1vYShoLFwic2NyaXB0XCIpLGcubGVuZ3RoPjAmJm1hKGcsIWkmJm9hKGEsXCJzY3JpcHRcIikpLGh9LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKHZhciBlLGYsZyxoLGksaixrPWIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGw9W10sbT0wLG89YS5sZW5ndGg7bz5tO20rKylpZihlPWFbbV0sZXx8MD09PWUpaWYoXCJvYmplY3RcIj09PW4udHlwZShlKSluLm1lcmdlKGwsZS5ub2RlVHlwZT9bZV06ZSk7ZWxzZSBpZihjYS50ZXN0KGUpKXtmPWZ8fGsuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxnPShiYS5leGVjKGUpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxoPWlhW2ddfHxpYS5fZGVmYXVsdCxmLmlubmVySFRNTD1oWzFdK2UucmVwbGFjZShhYSxcIjwkMT48LyQyPlwiKStoWzJdLGo9aFswXTt3aGlsZShqLS0pZj1mLmxhc3RDaGlsZDtuLm1lcmdlKGwsZi5jaGlsZE5vZGVzKSxmPWsuZmlyc3RDaGlsZCxmLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBsLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShlKSk7ay50ZXh0Q29udGVudD1cIlwiLG09MDt3aGlsZShlPWxbbSsrXSlpZigoIWR8fC0xPT09bi5pbkFycmF5KGUsZCkpJiYoaT1uLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKSxmPW9hKGsuYXBwZW5kQ2hpbGQoZSksXCJzY3JpcHRcIiksaSYmbWEoZiksYykpe2o9MDt3aGlsZShlPWZbaisrXSlmYS50ZXN0KGUudHlwZXx8XCJcIikmJmMucHVzaChlKX1yZXR1cm4ga30sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZSxmPW4uZXZlbnQuc3BlY2lhbCxnPTA7dm9pZCAwIT09KGM9YVtnXSk7ZysrKXtpZihuLmFjY2VwdERhdGEoYykmJihlPWNbTC5leHBhbmRvXSxlJiYoYj1MLmNhY2hlW2VdKSkpe2lmKGIuZXZlbnRzKWZvcihkIGluIGIuZXZlbnRzKWZbZF0/bi5ldmVudC5yZW1vdmUoYyxkKTpuLnJlbW92ZUV2ZW50KGMsZCxiLmhhbmRsZSk7TC5jYWNoZVtlXSYmZGVsZXRlIEwuY2FjaGVbZV19ZGVsZXRlIE0uY2FjaGVbY1tNLmV4cGFuZG9dXX19fSksbi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amEodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1qYSh0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWE/bi5maWx0ZXIoYSx0aGlzKTp0aGlzLGU9MDtudWxsIT0oYz1kW2VdKTtlKyspYnx8MSE9PWMubm9kZVR5cGV8fG4uY2xlYW5EYXRhKG9hKGMpKSxjLnBhcmVudE5vZGUmJihiJiZuLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmbWEob2EoYyxcInNjcmlwdFwiKSksYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKykxPT09YS5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKG9hKGEsITEpKSxhLnRleHRDb250ZW50PVwiXCIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGw9PWE/ITE6YSxiPW51bGw9PWI/YTpiLHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdfHx7fSxjPTAsZD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1hJiYxPT09Yi5ub2RlVHlwZSlyZXR1cm4gYi5pbm5lckhUTUw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJiFkYS50ZXN0KGEpJiYhaWFbKGJhLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1hLnJlcGxhY2UoYWEsXCI8JDE+PC8kMj5cIik7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEob2EoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2E9dGhpcy5wYXJlbnROb2RlLG4uY2xlYW5EYXRhKG9hKHRoaXMpKSxhJiZhLnJlcGxhY2VDaGlsZChiLHRoaXMpfSksYSYmKGEubGVuZ3RofHxhLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYil7YT1lLmFwcGx5KFtdLGEpO3ZhciBjLGQsZixnLGgsaSxqPTAsbD10aGlzLmxlbmd0aCxtPXRoaXMsbz1sLTEscD1hWzBdLHE9bi5pc0Z1bmN0aW9uKHApO2lmKHF8fGw+MSYmXCJzdHJpbmdcIj09dHlwZW9mIHAmJiFrLmNoZWNrQ2xvbmUmJmVhLnRlc3QocCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1tLmVxKGMpO3EmJihhWzBdPXAuY2FsbCh0aGlzLGMsZC5odG1sKCkpKSxkLmRvbU1hbmlwKGEsYil9KTtpZihsJiYoYz1uLmJ1aWxkRnJhZ21lbnQoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsdGhpcyksZD1jLmZpcnN0Q2hpbGQsMT09PWMuY2hpbGROb2Rlcy5sZW5ndGgmJihjPWQpLGQpKXtmb3IoZj1uLm1hcChvYShjLFwic2NyaXB0XCIpLGthKSxnPWYubGVuZ3RoO2w+ajtqKyspaD1jLGohPT1vJiYoaD1uLmNsb25lKGgsITAsITApLGcmJm4ubWVyZ2UoZixvYShoLFwic2NyaXB0XCIpKSksYi5jYWxsKHRoaXNbal0saCxqKTtpZihnKWZvcihpPWZbZi5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxuLm1hcChmLGxhKSxqPTA7Zz5qO2orKyloPWZbal0sZmEudGVzdChoLnR5cGV8fFwiXCIpJiYhTC5hY2Nlc3MoaCxcImdsb2JhbEV2YWxcIikmJm4uY29udGFpbnMoaSxoKSYmKGguc3JjP24uX2V2YWxVcmwmJm4uX2V2YWxVcmwoaC5zcmMpOm4uZ2xvYmFsRXZhbChoLnRleHRDb250ZW50LnJlcGxhY2UoaGEsXCJcIikpKX1yZXR1cm4gdGhpc319KSxuLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9bihhKSxnPWUubGVuZ3RoLTEsaD0wO2c+PWg7aCsrKWM9aD09PWc/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGYuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHFhLHJhPXt9O2Z1bmN0aW9uIHNhKGIsYyl7dmFyIGQsZT1uKGMuY3JlYXRlRWxlbWVudChiKSkuYXBwZW5kVG8oYy5ib2R5KSxmPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUmJihkPWEuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZVswXSkpP2QuZGlzcGxheTpuLmNzcyhlWzBdLFwiZGlzcGxheVwiKTtyZXR1cm4gZS5kZXRhY2goKSxmfWZ1bmN0aW9uIHRhKGEpe3ZhciBiPWwsYz1yYVthXTtyZXR1cm4gY3x8KGM9c2EoYSxiKSxcIm5vbmVcIiE9PWMmJmN8fChxYT0ocWF8fG4oXCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+XCIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj1xYVswXS5jb250ZW50RG9jdW1lbnQsYi53cml0ZSgpLGIuY2xvc2UoKSxjPXNhKGEsYikscWEuZGV0YWNoKCkpLHJhW2FdPWMpLGN9dmFyIHVhPS9ebWFyZ2luLyx2YT1uZXcgUmVnRXhwKFwiXihcIitRK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLHdhPWZ1bmN0aW9uKGIpe3JldHVybiBiLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcub3BlbmVyP2Iub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6YS5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCl9O2Z1bmN0aW9uIHhhKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8d2EoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdKSxjJiYoXCJcIiE9PWd8fG4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfHwoZz1uLnN0eWxlKGEsYikpLHZhLnRlc3QoZykmJnVhLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9ZikpLHZvaWQgMCE9PWc/ZytcIlwiOmd9ZnVuY3Rpb24geWEoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19IWZ1bmN0aW9uKCl7dmFyIGIsYyxkPWwuZG9jdW1lbnRFbGVtZW50LGU9bC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGY9bC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKGYuc3R5bGUpe2Yuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJjb250ZW50LWJveFwiLGYuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cIlwiLGsuY2xlYXJDbG9uZVN0eWxlPVwiY29udGVudC1ib3hcIj09PWYuc3R5bGUuYmFja2dyb3VuZENsaXAsZS5zdHlsZS5jc3NUZXh0PVwiYm9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIixlLmFwcGVuZENoaWxkKGYpO2Z1bmN0aW9uIGcoKXtmLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjElO3RvcDoxJTtib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjRweDtwb3NpdGlvbjphYnNvbHV0ZVwiLGYuaW5uZXJIVE1MPVwiXCIsZC5hcHBlbmRDaGlsZChlKTt2YXIgZz1hLmdldENvbXB1dGVkU3R5bGUoZixudWxsKTtiPVwiMSVcIiE9PWcudG9wLGM9XCI0cHhcIj09PWcud2lkdGgsZC5yZW1vdmVDaGlsZChlKX1hLmdldENvbXB1dGVkU3R5bGUmJm4uZXh0ZW5kKGsse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZygpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmcoKSxjfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGIsYz1mLmFwcGVuZENoaWxkKGwuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7cmV0dXJuIGMuc3R5bGUuY3NzVGV4dD1mLnN0eWxlLmNzc1RleHQ9XCItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjBcIixjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9XCIwXCIsZi5zdHlsZS53aWR0aD1cIjFweFwiLGQuYXBwZW5kQ2hpbGQoZSksYj0hcGFyc2VGbG9hdChhLmdldENvbXB1dGVkU3R5bGUoYyxudWxsKS5tYXJnaW5SaWdodCksZC5yZW1vdmVDaGlsZChlKSxmLnJlbW92ZUNoaWxkKGMpLGJ9fSl9fSgpLG4uc3dhcD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX07dmFyIHphPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxBYT1uZXcgUmVnRXhwKFwiXihcIitRK1wiKSguKikkXCIsXCJpXCIpLEJhPW5ldyBSZWdFeHAoXCJeKFsrLV0pPShcIitRK1wiKVwiLFwiaVwiKSxDYT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sRGE9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxFYT1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl07ZnVuY3Rpb24gRmEoYSxiKXtpZihiIGluIGEpcmV0dXJuIGI7dmFyIGM9YlswXS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSksZD1iLGU9RWEubGVuZ3RoO3doaWxlKGUtLSlpZihiPUVhW2VdK2MsYiBpbiBhKXJldHVybiBiO3JldHVybiBkfWZ1bmN0aW9uIEdhKGEsYixjKXt2YXIgZD1BYS5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHxcInB4XCIpOmJ9ZnVuY3Rpb24gSGEoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKVwibWFyZ2luXCI9PT1jJiYoZys9bi5jc3MoYSxjK1JbZl0sITAsZSkpLGQ/KFwiY29udGVudFwiPT09YyYmKGctPW4uY3NzKGEsXCJwYWRkaW5nXCIrUltmXSwhMCxlKSksXCJtYXJnaW5cIiE9PWMmJihnLT1uLmNzcyhhLFwiYm9yZGVyXCIrUltmXStcIldpZHRoXCIsITAsZSkpKTooZys9bi5jc3MoYSxcInBhZGRpbmdcIitSW2ZdLCEwLGUpLFwicGFkZGluZ1wiIT09YyYmKGcrPW4uY3NzKGEsXCJib3JkZXJcIitSW2ZdK1wiV2lkdGhcIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIElhKGEsYixjKXt2YXIgZD0hMCxlPVwid2lkdGhcIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPXdhKGEpLGc9XCJib3JkZXItYm94XCI9PT1uLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT14YShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLHZhLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYoay5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK0hhKGEsYixjfHwoZz9cImJvcmRlclwiOlwiY29udGVudFwiKSxkLGYpK1wicHhcIn1mdW5jdGlvbiBKYShhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1MLmdldChkLFwib2xkZGlzcGxheVwiKSxjPWQuc3R5bGUuZGlzcGxheSxiPyhmW2ddfHxcIm5vbmVcIiE9PWN8fChkLnN0eWxlLmRpc3BsYXk9XCJcIiksXCJcIj09PWQuc3R5bGUuZGlzcGxheSYmUyhkKSYmKGZbZ109TC5hY2Nlc3MoZCxcIm9sZGRpc3BsYXlcIix0YShkLm5vZGVOYW1lKSkpKTooZT1TKGQpLFwibm9uZVwiPT09YyYmZXx8TC5zZXQoZCxcIm9sZGRpc3BsYXlcIixlP2M6bi5jc3MoZCxcImRpc3BsYXlcIikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmXCJub25lXCIhPT1kLnN0eWxlLmRpc3BsYXkmJlwiXCIhPT1kLnN0eWxlLmRpc3BsYXl8fChkLnN0eWxlLmRpc3BsYXk9Yj9mW2ddfHxcIlwiOlwibm9uZVwiKSk7cmV0dXJuIGF9bi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz14YShhLFwib3BhY2l0eVwiKTtyZXR1cm5cIlwiPT09Yz9cIjFcIjpjfX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOntcImZsb2F0XCI6XCJjc3NGbG9hdFwifSxzdHlsZTpmdW5jdGlvbihhLGIsYyxkKXtpZihhJiYzIT09YS5ub2RlVHlwZSYmOCE9PWEubm9kZVR5cGUmJmEuc3R5bGUpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpLGk9YS5zdHlsZTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1GYShpLGgpKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiZcImdldFwiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdOihmPXR5cGVvZiBjLFwic3RyaW5nXCI9PT1mJiYoZT1CYS5leGVjKGMpKSYmKGM9KGVbMV0rMSkqZVsyXStwYXJzZUZsb2F0KG4uY3NzKGEsYikpLGY9XCJudW1iZXJcIiksbnVsbCE9YyYmYz09PWMmJihcIm51bWJlclwiIT09Znx8bi5jc3NOdW1iZXJbaF18fChjKz1cInB4XCIpLGsuY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09Y3x8MCE9PWIuaW5kZXhPZihcImJhY2tncm91bmRcIil8fChpW2JdPVwiaW5oZXJpdFwiKSxnJiZcInNldFwiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09YykpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYik7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09RmEoYS5zdHlsZSxoKSksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLGcmJlwiZ2V0XCJpbiBnJiYoZT1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1lJiYoZT14YShhLGIsZCkpLFwibm9ybWFsXCI9PT1lJiZiIGluIERhJiYoZT1EYVtiXSksXCJcIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fG4uaXNOdW1lcmljKGYpP2Z8fDA6ZSk6ZX19KSxuLmVhY2goW1wiaGVpZ2h0XCIsXCJ3aWR0aFwiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGM/emEudGVzdChuLmNzcyhhLFwiZGlzcGxheVwiKSkmJjA9PT1hLm9mZnNldFdpZHRoP24uc3dhcChhLENhLGZ1bmN0aW9uKCl7cmV0dXJuIElhKGEsYixkKX0pOklhKGEsYixkKTp2b2lkIDB9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9ZCYmd2EoYSk7cmV0dXJuIEdhKGEsYyxkP0hhKGEsYixkLFwiYm9yZGVyLWJveFwiPT09bi5jc3MoYSxcImJveFNpemluZ1wiLCExLGUpLGUpOjApfX19KSxuLmNzc0hvb2tzLm1hcmdpblJpZ2h0PXlhKGsucmVsaWFibGVNYXJnaW5SaWdodCxmdW5jdGlvbihhLGIpe3JldHVybiBiP24uc3dhcChhLHtkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCJ9LHhhLFthLFwibWFyZ2luUmlnaHRcIl0pOnZvaWQgMH0pLG4uZWFjaCh7bWFyZ2luOlwiXCIscGFkZGluZzpcIlwiLGJvcmRlcjpcIldpZHRoXCJ9LGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT17fSxmPVwic3RyaW5nXCI9PXR5cGVvZiBjP2Muc3BsaXQoXCIgXCIpOltjXTs0PmQ7ZCsrKWVbYStSW2RdK2JdPWZbZF18fGZbZC0yXXx8ZlswXTtyZXR1cm4gZX19LHVhLnRlc3QoYSl8fChuLmNzc0hvb2tzW2ErYl0uc2V0PUdhKX0pLG4uZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9e30sZz0wO2lmKG4uaXNBcnJheShiKSl7Zm9yKGQ9d2EoYSksZT1iLmxlbmd0aDtlPmc7ZysrKWZbYltnXV09bi5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP24uc3R5bGUoYSxiLGMpOm4uY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIEphKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIEphKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Uyh0aGlzKT9uKHRoaXMpLnNob3coKTpuKHRoaXMpLmhpZGUoKX0pfX0pO2Z1bmN0aW9uIEthKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYS5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfW4uVHdlZW49S2EsS2EucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpLYSxpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHxcInN3aW5nXCIsdGhpcy5vcHRpb25zPWIsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPWQsdGhpcy51bml0PWZ8fChuLmNzc051bWJlcltjXT9cIlwiOlwicHhcIil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPUthLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpLYS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1LYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOkthLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LEthLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1LYS5wcm90b3R5cGUsS2EucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBudWxsPT1hLmVsZW1bYS5wcm9wXXx8YS5lbGVtLnN0eWxlJiZudWxsIT1hLmVsZW0uc3R5bGVbYS5wcm9wXT8oYj1uLmNzcyhhLmVsZW0sYS5wcm9wLFwiXCIpLGImJlwiYXV0b1wiIT09Yj9iOjApOmEuZWxlbVthLnByb3BdfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6YS5lbGVtLnN0eWxlJiYobnVsbCE9YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV18fG4uY3NzSG9va3NbYS5wcm9wXSk/bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCk6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0sS2EucHJvcEhvb2tzLnNjcm9sbFRvcD1LYS5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fSxuLmZ4PUthLnByb3RvdHlwZS5pbml0LG4uZnguc3RlcD17fTt2YXIgTGEsTWEsTmE9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLE9hPW5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiK1ErXCIpKFthLXolXSopJFwiLFwiaVwiKSxQYT0vcXVldWVIb29rcyQvLFFhPVtWYV0sUmE9e1wiKlwiOltmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKSxkPWMuY3VyKCksZT1PYS5leGVjKGIpLGY9ZSYmZVszXXx8KG4uY3NzTnVtYmVyW2FdP1wiXCI6XCJweFwiKSxnPShuLmNzc051bWJlclthXXx8XCJweFwiIT09ZiYmK2QpJiZPYS5leGVjKG4uY3NzKGMuZWxlbSxhKSksaD0xLGk9MjA7aWYoZyYmZ1szXSE9PWYpe2Y9Znx8Z1szXSxlPWV8fFtdLGc9K2R8fDE7ZG8gaD1ofHxcIi41XCIsZy89aCxuLnN0eWxlKGMuZWxlbSxhLGcrZik7d2hpbGUoaCE9PShoPWMuY3VyKCkvZCkmJjEhPT1oJiYtLWkpfXJldHVybiBlJiYoZz1jLnN0YXJ0PStnfHwrZHx8MCxjLnVuaXQ9ZixjLmVuZD1lWzFdP2crKGVbMV0rMSkqZVsyXTorZVsyXSksY31dfTtmdW5jdGlvbiBTYSgpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7TGE9dm9pZCAwfSksTGE9bi5ub3coKX1mdW5jdGlvbiBUYShhLGIpe3ZhciBjLGQ9MCxlPXtoZWlnaHQ6YX07Zm9yKGI9Yj8xOjA7ND5kO2QrPTItYiljPVJbZF0sZVtcIm1hcmdpblwiK2NdPWVbXCJwYWRkaW5nXCIrY109YTtyZXR1cm4gYiYmKGUub3BhY2l0eT1lLndpZHRoPWEpLGV9ZnVuY3Rpb24gVWEoYSxiLGMpe2Zvcih2YXIgZCxlPShSYVtiXXx8W10pLmNvbmNhdChSYVtcIipcIl0pLGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspaWYoZD1lW2ZdLmNhbGwoYyxiLGEpKXJldHVybiBkfWZ1bmN0aW9uIFZhKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGw9dGhpcyxtPXt9LG89YS5zdHlsZSxwPWEubm9kZVR5cGUmJlMoYSkscT1MLmdldChhLFwiZnhzaG93XCIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSxcImZ4XCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLGwuYWx3YXlzKGZ1bmN0aW9uKCl7bC5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLFwiZnhcIikubGVuZ3RofHxoLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1hLm5vZGVUeXBlJiYoXCJoZWlnaHRcImluIGJ8fFwid2lkdGhcImluIGIpJiYoYy5vdmVyZmxvdz1bby5vdmVyZmxvdyxvLm92ZXJmbG93WCxvLm92ZXJmbG93WV0saj1uLmNzcyhhLFwiZGlzcGxheVwiKSxrPVwibm9uZVwiPT09aj9MLmdldChhLFwib2xkZGlzcGxheVwiKXx8dGEoYS5ub2RlTmFtZSk6aixcImlubGluZVwiPT09ayYmXCJub25lXCI9PT1uLmNzcyhhLFwiZmxvYXRcIikmJihvLmRpc3BsYXk9XCJpbmxpbmUtYmxvY2tcIikpLGMub3ZlcmZsb3cmJihvLm92ZXJmbG93PVwiaGlkZGVuXCIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLE5hLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8XCJ0b2dnbGVcIj09PWUsZT09PShwP1wiaGlkZVwiOlwic2hvd1wiKSl7aWYoXCJzaG93XCIhPT1lfHwhcXx8dm9pZCAwPT09cVtkXSljb250aW51ZTtwPSEwfW1bZF09cSYmcVtkXXx8bi5zdHlsZShhLGQpfWVsc2Ugaj12b2lkIDA7aWYobi5pc0VtcHR5T2JqZWN0KG0pKVwiaW5saW5lXCI9PT0oXCJub25lXCI9PT1qP3RhKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT9cImhpZGRlblwiaW4gcSYmKHA9cS5oaWRkZW4pOnE9TC5hY2Nlc3MoYSxcImZ4c2hvd1wiLHt9KSxmJiYocS5oaWRkZW49IXApLHA/bihhKS5zaG93KCk6bC5kb25lKGZ1bmN0aW9uKCl7bihhKS5oaWRlKCl9KSxsLmRvbmUoZnVuY3Rpb24oKXt2YXIgYjtMLnJlbW92ZShhLFwiZnhzaG93XCIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9VWEocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD1cIndpZHRoXCI9PT1kfHxcImhlaWdodFwiPT09ZD8xOjApKX19ZnVuY3Rpb24gV2EoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiZcImV4cGFuZFwiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIFhhKGEsYixjKXt2YXIgZCxlLGY9MCxnPVFhLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPUxhfHxTYSgpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6TGF8fFNhKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiP2gucmVzb2x2ZVdpdGgoYSxbaixiXSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihXYShrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9UWFbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiBkO3JldHVybiBuLm1hcChrLFVhLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQoWGEse3R3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVtcIipcIl0pOmE9YS5zcGxpdChcIiBcIik7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLFJhW2NdPVJhW2NdfHxbXSxSYVtjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiP1FhLnVuc2hpZnQoYSk6UWEucHVzaChhKX19KSxuLnNwZWVkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hJiZcIm9iamVjdFwiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOlwibnVtYmVyXCI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9XCJmeFwiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihTKS5jc3MoXCJvcGFjaXR5XCIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYSxjLGQpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW4uaXNFbXB0eU9iamVjdChhKSxmPW4uc3BlZWQoYixjLGQpLGc9ZnVuY3Rpb24oKXt2YXIgYj1YYSh0aGlzLG4uZXh0ZW5kKHt9LGEpLGYpOyhlfHxMLmdldCh0aGlzLFwiZmluaXNoXCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYz1iLGI9YSxhPXZvaWQgMCksYiYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhK1wicXVldWVIb29rc1wiLGY9bi50aW1lcnMsZz1MLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZQYS50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHxcImZ4XCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiLGM9TC5nZXQodGhpcyksZD1jW2ErXCJxdWV1ZVwiXSxlPWNbYStcInF1ZXVlSG9va3NcIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goW1widG9nZ2xlXCIsXCJzaG93XCIsXCJoaWRlXCJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8XCJib29sZWFuXCI9PXR5cGVvZiBhP2MuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShUYShiLCEwKSxhLGQsZSl9fSksbi5lYWNoKHtzbGlkZURvd246VGEoXCJzaG93XCIpLHNsaWRlVXA6VGEoXCJoaWRlXCIpLHNsaWRlVG9nZ2xlOlRhKFwidG9nZ2xlXCIpLGZhZGVJbjp7b3BhY2l0eTpcInNob3dcIn0sZmFkZU91dDp7b3BhY2l0eTpcImhpZGVcIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eTpcInRvZ2dsZVwifX0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsYSxjLGQpfX0pLG4udGltZXJzPVtdLG4uZngudGljaz1mdW5jdGlvbigpe3ZhciBhLGI9MCxjPW4udGltZXJzO2ZvcihMYT1uLm5vdygpO2I8Yy5sZW5ndGg7YisrKWE9Y1tiXSxhKCl8fGNbYl0hPT1hfHxjLnNwbGljZShiLS0sMSk7Yy5sZW5ndGh8fG4uZnguc3RvcCgpLExhPXZvaWQgMH0sbi5meC50aW1lcj1mdW5jdGlvbihhKXtuLnRpbWVycy5wdXNoKGEpLGEoKT9uLmZ4LnN0YXJ0KCk6bi50aW1lcnMucG9wKCl9LG4uZnguaW50ZXJ2YWw9MTMsbi5meC5zdGFydD1mdW5jdGlvbigpe01hfHwoTWE9c2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChNYSksTWE9bnVsbH0sbi5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sbi5mbi5kZWxheT1mdW5jdGlvbihhLGIpe3JldHVybiBhPW4uZng/bi5meC5zcGVlZHNbYV18fGE6YSxiPWJ8fFwiZnhcIix0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oYixjKXt2YXIgZD1zZXRUaW1lb3V0KGIsYSk7Yy5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGQpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWwuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGI9bC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLGM9Yi5hcHBlbmRDaGlsZChsLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2EudHlwZT1cImNoZWNrYm94XCIsay5jaGVja09uPVwiXCIhPT1hLnZhbHVlLGsub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxiLmRpc2FibGVkPSEwLGsub3B0RGlzYWJsZWQ9IWMuZGlzYWJsZWQsYT1sLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxhLnZhbHVlPVwidFwiLGEudHlwZT1cInJhZGlvXCIsay5yYWRpb1ZhbHVlPVwidFwiPT09YS52YWx1ZX0oKTt2YXIgWWEsWmEsJGE9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSih0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoYSYmMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gdHlwZW9mIGEuZ2V0QXR0cmlidXRlPT09VT9uLnByb3AoYSxiLGMpOigxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGQ9bi5hdHRySG9va3NbYl18fChuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP1phOllhKSksXG52b2lkIDA9PT1jP2QmJlwiZ2V0XCJpbiBkJiZudWxsIT09KGU9ZC5nZXQoYSxiKSk/ZTooZT1uLmZpbmQuYXR0cihhLGIpLG51bGw9PWU/dm9pZCAwOmUpOm51bGwhPT1jP2QmJlwic2V0XCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYytcIlwiKSxjKTp2b2lkIG4ucmVtb3ZlQXR0cihhLGIpKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChFKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW4ucHJvcEZpeFtjXXx8YyxuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpJiYoYVtkXT0hMSksYS5yZW1vdmVBdHRyaWJ1dGUoYyl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWsucmFkaW9WYWx1ZSYmXCJyYWRpb1wiPT09YiYmbi5ub2RlTmFtZShhLFwiaW5wdXRcIikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKFwidHlwZVwiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19fSksWmE9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9uLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxuLmVhY2gobi5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9JGFbYl18fG4uZmluZC5hdHRyOyRhW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj0kYVtiXSwkYVtiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsJGFbYl09ZiksZX19KTt2YXIgX2E9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtuLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsbi5wcm9wLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tuLnByb3BGaXhbYV18fGFdfSl9fSksbi5leHRlbmQoe3Byb3BGaXg6e1wiZm9yXCI6XCJodG1sRm9yXCIsXCJjbGFzc1wiOlwiY2xhc3NOYW1lXCJ9LHByb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPWEubm9kZVR5cGU7aWYoYSYmMyE9PWcmJjghPT1nJiYyIT09ZylyZXR1cm4gZj0xIT09Z3x8IW4uaXNYTUxEb2MoYSksZiYmKGI9bi5wcm9wRml4W2JdfHxiLGU9bi5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmXCJnZXRcImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8X2EudGVzdChhLm5vZGVOYW1lKXx8YS5ocmVmP2EudGFiSW5kZXg6LTF9fX19KSxrLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH19KSxuLmVhY2goW1widGFiSW5kZXhcIixcInJlYWRPbmx5XCIsXCJtYXhMZW5ndGhcIixcImNlbGxTcGFjaW5nXCIsXCJjZWxsUGFkZGluZ1wiLFwicm93U3BhblwiLFwiY29sU3BhblwiLFwidXNlTWFwXCIsXCJmcmFtZUJvcmRlclwiLFwiY29udGVudEVkaXRhYmxlXCJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO3ZhciBhYj0vW1xcdFxcclxcblxcZl0vZztuLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9XCJzdHJpbmdcIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHxcIlwiKS5tYXRjaChFKXx8W107aj5pO2krKylpZihjPXRoaXNbaV0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPyhcIiBcIitjLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZShhYixcIiBcIik6XCIgXCIpKXtmPTA7d2hpbGUoZT1iW2YrK10pZC5pbmRleE9mKFwiIFwiK2UrXCIgXCIpPDAmJihkKz1lK1wiIFwiKTtnPW4udHJpbShkKSxjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9MD09PWFyZ3VtZW50cy5sZW5ndGh8fFwic3RyaW5nXCI9PXR5cGVvZiBhJiZhLGk9MCxqPXRoaXMubGVuZ3RoO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykucmVtb3ZlQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoaClmb3IoYj0oYXx8XCJcIikubWF0Y2goRSl8fFtdO2o+aTtpKyspaWYoYz10aGlzW2ldLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oXCIgXCIrYy5jbGFzc05hbWUrXCIgXCIpLnJlcGxhY2UoYWIsXCIgXCIpOlwiXCIpKXtmPTA7d2hpbGUoZT1iW2YrK10pd2hpbGUoZC5pbmRleE9mKFwiIFwiK2UrXCIgXCIpPj0wKWQ9ZC5yZXBsYWNlKFwiIFwiK2UrXCIgXCIsXCIgXCIpO2c9YT9uLnRyaW0oZCk6XCJcIixjLmNsYXNzTmFtZSE9PWcmJihjLmNsYXNzTmFtZT1nKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGImJlwic3RyaW5nXCI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOnRoaXMuZWFjaChuLmlzRnVuY3Rpb24oYSk/ZnVuY3Rpb24oYyl7bih0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLHRoaXMuY2xhc3NOYW1lLGIpLGIpfTpmdW5jdGlvbigpe2lmKFwic3RyaW5nXCI9PT1jKXt2YXIgYixkPTAsZT1uKHRoaXMpLGY9YS5tYXRjaChFKXx8W107d2hpbGUoYj1mW2QrK10pZS5oYXNDbGFzcyhiKT9lLnJlbW92ZUNsYXNzKGIpOmUuYWRkQ2xhc3MoYil9ZWxzZShjPT09VXx8XCJib29sZWFuXCI9PT1jKSYmKHRoaXMuY2xhc3NOYW1lJiZMLnNldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiLHRoaXMuY2xhc3NOYW1lKSx0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFtZXx8YT09PSExP1wiXCI6TC5nZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIil8fFwiXCIpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1cIiBcIithK1wiIFwiLGM9MCxkPXRoaXMubGVuZ3RoO2Q+YztjKyspaWYoMT09PXRoaXNbY10ubm9kZVR5cGUmJihcIiBcIit0aGlzW2NdLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZShhYixcIiBcIikuaW5kZXhPZihiKT49MClyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgYmI9L1xcci9nO24uZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1uLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMsbih0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9XCJcIjpcIm51bWJlclwiPT10eXBlb2YgZT9lKz1cIlwiOm4uaXNBcnJheShlKSYmKGU9bi5tYXAoZSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9cIlwiOmErXCJcIn0pKSxiPW4udmFsSG9va3NbdGhpcy50eXBlXXx8bi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwic2V0XCJpbiBiJiZ2b2lkIDAhPT1iLnNldCh0aGlzLGUsXCJ2YWx1ZVwiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcImdldFwiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSxcInZhbHVlXCIpKT9jOihjPWUudmFsdWUsXCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGJiLFwiXCIpOm51bGw9PWM/XCJcIjpjKX19fSksbi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1uLmZpbmQuYXR0cihhLFwidmFsdWVcIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQ9YS5vcHRpb25zLGU9YS5zZWxlY3RlZEluZGV4LGY9XCJzZWxlY3Qtb25lXCI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9PWV8fChrLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpfHxjLnBhcmVudE5vZGUuZGlzYWJsZWQmJm4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLFwib3B0Z3JvdXBcIikpKXtpZihiPW4oYykudmFsKCksZilyZXR1cm4gYjtnLnB1c2goYil9cmV0dXJuIGd9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1hLm9wdGlvbnMsZj1uLm1ha2VBcnJheShiKSxnPWUubGVuZ3RoO3doaWxlKGctLSlkPWVbZ10sKGQuc2VsZWN0ZWQ9bi5pbkFycmF5KGQudmFsdWUsZik+PTApJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxuLmVhY2goW1wicmFkaW9cIixcImNoZWNrYm94XCJdLGZ1bmN0aW9uKCl7bi52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uaXNBcnJheShiKT9hLmNoZWNrZWQ9bi5pbkFycmF5KG4oYSkudmFsKCksYik+PTA6dm9pZCAwfX0say5jaGVja09ufHwobi52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpP1wib25cIjphLnZhbHVlfSl9KSxuLmVhY2goXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSksbi5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfSxiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLFwiKipcIik6dGhpcy5vZmYoYixhfHxcIioqXCIsYyl9fSk7dmFyIGNiPW4ubm93KCksZGI9L1xcPy87bi5wYXJzZUpTT049ZnVuY3Rpb24oYSl7cmV0dXJuIEpTT04ucGFyc2UoYStcIlwiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihhKXt2YXIgYixjO2lmKCFhfHxcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gbnVsbDt0cnl7Yz1uZXcgRE9NUGFyc2VyLGI9Yy5wYXJzZUZyb21TdHJpbmcoYSxcInRleHQveG1sXCIpfWNhdGNoKGQpe2I9dm9pZCAwfXJldHVybighYnx8Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aCkmJm4uZXJyb3IoXCJJbnZhbGlkIFhNTDogXCIrYSksYn07dmFyIGViPS8jLiokLyxmYj0vKFs/Jl0pXz1bXiZdKi8sZ2I9L14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9nbSxoYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxpYj0vXig/OkdFVHxIRUFEKSQvLGpiPS9eXFwvXFwvLyxrYj0vXihbXFx3ListXSs6KSg/OlxcL1xcLyg/OlteXFwvPyNdKkB8KShbXlxcLz8jOl0qKSg/OjooXFxkKyl8KXwpLyxsYj17fSxtYj17fSxuYj1cIiovXCIuY29uY2F0KFwiKlwiKSxvYj1hLmxvY2F0aW9uLmhyZWYscGI9a2IuZXhlYyhvYi50b0xvd2VyQ2FzZSgpKXx8W107ZnVuY3Rpb24gcWIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihjPWIsYj1cIipcIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pXCIrXCI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fFwiKlwiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gcmIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09bWI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2Yganx8Znx8ZVtqXT9mPyEoaT1qKTp2b2lkIDA6KGIuZGF0YVR5cGVzLnVuc2hpZnQoaiksZyhqKSwhMSl9KSxpfXJldHVybiBnKGIuZGF0YVR5cGVzWzBdKXx8IWVbXCIqXCJdJiZnKFwiKlwiKX1mdW5jdGlvbiBzYihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZuLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24gdGIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKFwiKlwiPT09aVswXSlpLnNoaWZ0KCksdm9pZCAwPT09ZCYmKGQ9YS5taW1lVHlwZXx8Yi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYoZClmb3IoZSBpbiBoKWlmKGhbZV0mJmhbZV0udGVzdChkKSl7aS51bnNoaWZ0KGUpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVswXTtlbHNle2ZvcihlIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZStcIiBcIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gdWIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZihcIipcIj09PWYpZj1pO2Vsc2UgaWYoXCIqXCIhPT1pJiZpIT09Zil7aWYoZz1qW2krXCIgXCIrZl18fGpbXCIqIFwiK2ZdLCFnKWZvcihlIGluIGopaWYoaD1lLnNwbGl0KFwiIFwiKSxoWzFdPT09ZiYmKGc9altpK1wiIFwiK2hbMF1dfHxqW1wiKiBcIitoWzBdXSkpe2c9PT0hMD9nPWpbZV06altlXSE9PSEwJiYoZj1oWzBdLGsudW5zaGlmdChoWzFdKSk7YnJlYWt9aWYoZyE9PSEwKWlmKGcmJmFbXCJ0aHJvd3NcIl0pYj1nKGIpO2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6XCJwYXJzZXJlcnJvclwiLGVycm9yOmc/bDpcIk5vIGNvbnZlcnNpb24gZnJvbSBcIitpK1wiIHRvIFwiK2Z9fX1yZXR1cm57c3RhdGU6XCJzdWNjZXNzXCIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6b2IsdHlwZTpcIkdFVFwiLGlzTG9jYWw6aGIudGVzdChwYlsxXSksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsYWNjZXB0czp7XCIqXCI6bmIsdGV4dDpcInRleHQvcGxhaW5cIixodG1sOlwidGV4dC9odG1sXCIseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIn0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDpcInJlc3BvbnNlWE1MXCIsdGV4dDpcInJlc3BvbnNlVGV4dFwiLGpzb246XCJyZXNwb25zZUpTT05cIn0sY29udmVydGVyczp7XCIqIHRleHRcIjpTdHJpbmcsXCJ0ZXh0IGh0bWxcIjohMCxcInRleHQganNvblwiOm4ucGFyc2VKU09OLFwidGV4dCB4bWxcIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9zYihzYihhLG4uYWpheFNldHRpbmdzKSxiKTpzYihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpxYihsYiksYWpheFRyYW5zcG9ydDpxYihtYiksYWpheDpmdW5jdGlvbihhLGIpe1wib2JqZWN0XCI9PXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxiPWJ8fHt9O3ZhciBjLGQsZSxmLGcsaCxpLGosaz1uLmFqYXhTZXR1cCh7fSxiKSxsPWsuY29udGV4dHx8ayxtPWsuY29udGV4dCYmKGwubm9kZVR5cGV8fGwuanF1ZXJ5KT9uKGwpOm4uZXZlbnQsbz1uLkRlZmVycmVkKCkscD1uLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHE9ay5zdGF0dXNDb2RlfHx7fSxyPXt9LHM9e30sdD0wLHU9XCJjYW5jZWxlZFwiLHY9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dCl7aWYoIWYpe2Y9e307d2hpbGUoYj1nYi5leGVjKGUpKWZbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9ZlthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10P2U6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdHx8KGE9c1tjXT1zW2NdfHxhLHJbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdHx8KGsubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dClmb3IoYiBpbiBhKXFbYl09W3FbYl0sYVtiXV07ZWxzZSB2LmFsd2F5cyhhW3Yuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHU7cmV0dXJuIGMmJmMuYWJvcnQoYikseCgwLGIpLHRoaXN9fTtpZihvLnByb21pc2UodikuY29tcGxldGU9cC5hZGQsdi5zdWNjZXNzPXYuZG9uZSx2LmVycm9yPXYuZmFpbCxrLnVybD0oKGF8fGsudXJsfHxvYikrXCJcIikucmVwbGFjZShlYixcIlwiKS5yZXBsYWNlKGpiLHBiWzFdK1wiLy9cIiksay50eXBlPWIubWV0aG9kfHxiLnR5cGV8fGsubWV0aG9kfHxrLnR5cGUsay5kYXRhVHlwZXM9bi50cmltKGsuZGF0YVR5cGV8fFwiKlwiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEUpfHxbXCJcIl0sbnVsbD09ay5jcm9zc0RvbWFpbiYmKGg9a2IuZXhlYyhrLnVybC50b0xvd2VyQ2FzZSgpKSxrLmNyb3NzRG9tYWluPSEoIWh8fGhbMV09PT1wYlsxXSYmaFsyXT09PXBiWzJdJiYoaFszXXx8KFwiaHR0cDpcIj09PWhbMV0/XCI4MFwiOlwiNDQzXCIpKT09PShwYlszXXx8KFwiaHR0cDpcIj09PXBiWzFdP1wiODBcIjpcIjQ0M1wiKSkpKSxrLmRhdGEmJmsucHJvY2Vzc0RhdGEmJlwic3RyaW5nXCIhPXR5cGVvZiBrLmRhdGEmJihrLmRhdGE9bi5wYXJhbShrLmRhdGEsay50cmFkaXRpb25hbCkpLHJiKGxiLGssYix2KSwyPT09dClyZXR1cm4gdjtpPW4uZXZlbnQmJmsuZ2xvYmFsLGkmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RhcnRcIiksay50eXBlPWsudHlwZS50b1VwcGVyQ2FzZSgpLGsuaGFzQ29udGVudD0haWIudGVzdChrLnR5cGUpLGQ9ay51cmwsay5oYXNDb250ZW50fHwoay5kYXRhJiYoZD1rLnVybCs9KGRiLnRlc3QoZCk/XCImXCI6XCI/XCIpK2suZGF0YSxkZWxldGUgay5kYXRhKSxrLmNhY2hlPT09ITEmJihrLnVybD1mYi50ZXN0KGQpP2QucmVwbGFjZShmYixcIiQxXz1cIitjYisrKTpkKyhkYi50ZXN0KGQpP1wiJlwiOlwiP1wiKStcIl89XCIrY2IrKykpLGsuaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2RdJiZ2LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLG4ubGFzdE1vZGlmaWVkW2RdKSxuLmV0YWdbZF0mJnYuc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIixuLmV0YWdbZF0pKSwoay5kYXRhJiZrLmhhc0NvbnRlbnQmJmsuY29udGVudFR5cGUhPT0hMXx8Yi5jb250ZW50VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGsuY29udGVudFR5cGUpLHYuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLGsuZGF0YVR5cGVzWzBdJiZrLmFjY2VwdHNbay5kYXRhVHlwZXNbMF1dP2suYWNjZXB0c1trLmRhdGFUeXBlc1swXV0rKFwiKlwiIT09ay5kYXRhVHlwZXNbMF0/XCIsIFwiK25iK1wiOyBxPTAuMDFcIjpcIlwiKTprLmFjY2VwdHNbXCIqXCJdKTtmb3IoaiBpbiBrLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKGosay5oZWFkZXJzW2pdKTtpZihrLmJlZm9yZVNlbmQmJihrLmJlZm9yZVNlbmQuY2FsbChsLHYsayk9PT0hMXx8Mj09PXQpKXJldHVybiB2LmFib3J0KCk7dT1cImFib3J0XCI7Zm9yKGogaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0pdltqXShrW2pdKTtpZihjPXJiKG1iLGssYix2KSl7di5yZWFkeVN0YXRlPTEsaSYmbS50cmlnZ2VyKFwiYWpheFNlbmRcIixbdixrXSksay5hc3luYyYmay50aW1lb3V0PjAmJihnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LmFib3J0KFwidGltZW91dFwiKX0say50aW1lb3V0KSk7dHJ5e3Q9MSxjLnNlbmQocix4KX1jYXRjaCh3KXtpZighKDI+dCkpdGhyb3cgdzt4KC0xLHcpfX1lbHNlIHgoLTEsXCJObyBUcmFuc3BvcnRcIik7ZnVuY3Rpb24geChhLGIsZixoKXt2YXIgaixyLHMsdSx3LHg9YjsyIT09dCYmKHQ9MixnJiZjbGVhclRpbWVvdXQoZyksYz12b2lkIDAsZT1ofHxcIlwiLHYucmVhZHlTdGF0ZT1hPjA/NDowLGo9YT49MjAwJiYzMDA+YXx8MzA0PT09YSxmJiYodT10YihrLHYsZikpLHU9dWIoayx1LHYsaiksaj8oay5pZk1vZGlmaWVkJiYodz12LmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKSx3JiYobi5sYXN0TW9kaWZpZWRbZF09dyksdz12LmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSx3JiYobi5ldGFnW2RdPXcpKSwyMDQ9PT1hfHxcIkhFQURcIj09PWsudHlwZT94PVwibm9jb250ZW50XCI6MzA0PT09YT94PVwibm90bW9kaWZpZWRcIjooeD11LnN0YXRlLHI9dS5kYXRhLHM9dS5lcnJvcixqPSFzKSk6KHM9eCwoYXx8IXgpJiYoeD1cImVycm9yXCIsMD5hJiYoYT0wKSkpLHYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PShifHx4KStcIlwiLGo/by5yZXNvbHZlV2l0aChsLFtyLHgsdl0pOm8ucmVqZWN0V2l0aChsLFt2LHgsc10pLHYuc3RhdHVzQ29kZShxKSxxPXZvaWQgMCxpJiZtLnRyaWdnZXIoaj9cImFqYXhTdWNjZXNzXCI6XCJhamF4RXJyb3JcIixbdixrLGo/cjpzXSkscC5maXJlV2l0aChsLFt2LHhdKSxpJiYobS50cmlnZ2VyKFwiYWpheENvbXBsZXRlXCIsW3Ysa10pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpKSl9cmV0dXJuIHZ9LGdldEpTT046ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLmdldChhLGIsYyxcImpzb25cIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmdldChhLHZvaWQgMCxiLFwic2NyaXB0XCIpfX0pLG4uZWFjaChbXCJnZXRcIixcInBvc3RcIl0sZnVuY3Rpb24oYSxiKXtuW2JdPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBuLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1jLGM9dm9pZCAwKSxuLmFqYXgoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6YyxzdWNjZXNzOmR9KX19KSxuLl9ldmFsVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBuLmFqYXgoe3VybDphLHR5cGU6XCJHRVRcIixkYXRhVHlwZTpcInNjcmlwdFwiLGFzeW5jOiExLGdsb2JhbDohMSxcInRocm93c1wiOiEwfSl9LG4uZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KToodGhpc1swXSYmKGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RFbGVtZW50Q2hpbGQpYT1hLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBhfSkuYXBwZW5kKHRoaXMpKSx0aGlzKX0sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2gobi5pc0Z1bmN0aW9uKGEpP2Z1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX06ZnVuY3Rpb24oKXt2YXIgYj1uKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPW4uaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe24odGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtuLm5vZGVOYW1lKHRoaXMsXCJib2R5XCIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KSxuLmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oYSl7cmV0dXJuIGEub2Zmc2V0V2lkdGg8PTAmJmEub2Zmc2V0SGVpZ2h0PD0wfSxuLmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiFuLmV4cHIuZmlsdGVycy5oaWRkZW4oYSl9O3ZhciB2Yj0vJTIwL2csd2I9L1xcW1xcXSQvLHhiPS9cXHI/XFxuL2cseWI9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLHpiPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBBYihhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHx3Yi50ZXN0KGEpP2QoYSxlKTpBYihhK1wiW1wiKyhcIm9iamVjdFwiPT10eXBlb2YgZT9iOlwiXCIpK1wiXVwiLGUsYyxkKX0pO2Vsc2UgaWYoY3x8XCJvYmplY3RcIiE9PW4udHlwZShiKSlkKGEsYik7ZWxzZSBmb3IoZSBpbiBiKUFiKGErXCJbXCIrZStcIl1cIixiW2VdLGMsZCl9bi5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bi5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iP1wiXCI6YixkW2QubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYSkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlBYihjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKFwiJlwiKS5yZXBsYWNlKHZiLFwiK1wiKX0sbi5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBuLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9bi5wcm9wKHRoaXMsXCJlbGVtZW50c1wiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKFwiOmRpc2FibGVkXCIpJiZ6Yi50ZXN0KHRoaXMubm9kZU5hbWUpJiYheWIudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVQudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1uKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bi5pc0FycmF5KGMpP24ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZSh4YixcIlxcclxcblwiKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKHhiLFwiXFxyXFxuXCIpfX0pLmdldCgpfX0pLG4uYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKGEpe319O3ZhciBCYj0wLENiPXt9LERiPXswOjIwMCwxMjIzOjIwNH0sRWI9bi5hamF4U2V0dGluZ3MueGhyKCk7YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gQ2IpQ2JbYV0oKX0pLGsuY29ycz0hIUViJiZcIndpdGhDcmVkZW50aWFsc1wiaW4gRWIsay5hamF4PUViPSEhRWIsbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBrLmNvcnN8fEViJiYhYS5jcm9zc0RvbWFpbj97c2VuZDpmdW5jdGlvbihjLGQpe3ZhciBlLGY9YS54aHIoKSxnPSsrQmI7aWYoZi5vcGVuKGEudHlwZSxhLnVybCxhLmFzeW5jLGEudXNlcm5hbWUsYS5wYXNzd29yZCksYS54aHJGaWVsZHMpZm9yKGUgaW4gYS54aHJGaWVsZHMpZltlXT1hLnhockZpZWxkc1tlXTthLm1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZShhLm1pbWVUeXBlKSxhLmNyb3NzRG9tYWlufHxjW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXXx8KGNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdPVwiWE1MSHR0cFJlcXVlc3RcIik7Zm9yKGUgaW4gYylmLnNldFJlcXVlc3RIZWFkZXIoZSxjW2VdKTtiPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe2ImJihkZWxldGUgQ2JbZ10sYj1mLm9ubG9hZD1mLm9uZXJyb3I9bnVsbCxcImFib3J0XCI9PT1hP2YuYWJvcnQoKTpcImVycm9yXCI9PT1hP2QoZi5zdGF0dXMsZi5zdGF0dXNUZXh0KTpkKERiW2Yuc3RhdHVzXXx8Zi5zdGF0dXMsZi5zdGF0dXNUZXh0LFwic3RyaW5nXCI9PXR5cGVvZiBmLnJlc3BvbnNlVGV4dD97dGV4dDpmLnJlc3BvbnNlVGV4dH06dm9pZCAwLGYuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LGYub25sb2FkPWIoKSxmLm9uZXJyb3I9YihcImVycm9yXCIpLGI9Q2JbZ109YihcImFib3J0XCIpO3RyeXtmLnNlbmQoYS5oYXNDb250ZW50JiZhLmRhdGF8fG51bGwpfWNhdGNoKGgpe2lmKGIpdGhyb3cgaH19LGFib3J0OmZ1bmN0aW9uKCl7YiYmYigpfX06dm9pZCAwfSksbi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDpcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOntcInRleHQgc2NyaXB0XCI6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ2xvYmFsRXZhbChhKSxhfX19KSxuLmFqYXhQcmVmaWx0ZXIoXCJzY3JpcHRcIixmdW5jdGlvbihhKXt2b2lkIDA9PT1hLmNhY2hlJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT1cIkdFVFwiKX0pLG4uYWpheFRyYW5zcG9ydChcInNjcmlwdFwiLGZ1bmN0aW9uKGEpe2lmKGEuY3Jvc3NEb21haW4pe3ZhciBiLGM7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZCxlKXtiPW4oXCI8c2NyaXB0PlwiKS5wcm9wKHthc3luYzohMCxjaGFyc2V0OmEuc2NyaXB0Q2hhcnNldCxzcmM6YS51cmx9KS5vbihcImxvYWQgZXJyb3JcIixjPWZ1bmN0aW9uKGEpe2IucmVtb3ZlKCksYz1udWxsLGEmJmUoXCJlcnJvclwiPT09YS50eXBlPzQwNDoyMDAsYS50eXBlKX0pLGwuaGVhZC5hcHBlbmRDaGlsZChiWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fX19KTt2YXIgRmI9W10sR2I9Lyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztuLmFqYXhTZXR1cCh7anNvbnA6XCJjYWxsYmFja1wiLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT1GYi5wb3AoKXx8bi5leHBhbmRvK1wiX1wiK2NiKys7cmV0dXJuIHRoaXNbYV09ITAsYX19KSxuLmFqYXhQcmVmaWx0ZXIoXCJqc29uIGpzb25wXCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKEdiLnRlc3QoYi51cmwpP1widXJsXCI6XCJzdHJpbmdcIj09dHlwZW9mIGIuZGF0YSYmIShiLmNvbnRlbnRUeXBlfHxcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpJiZHYi50ZXN0KGIuZGF0YSkmJlwiZGF0YVwiKTtyZXR1cm4gaHx8XCJqc29ucFwiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKEdiLFwiJDFcIitlKTpiLmpzb25wIT09ITEmJihiLnVybCs9KGRiLnRlc3QoYi51cmwpP1wiJlwiOlwiP1wiKStiLmpzb25wK1wiPVwiK2UpLGIuY29udmVydGVyc1tcInNjcmlwdCBqc29uXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIGd8fG4uZXJyb3IoZStcIiB3YXMgbm90IGNhbGxlZFwiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT1cImpzb25cIixmPWFbZV0sYVtlXT1mdW5jdGlvbigpe2c9YXJndW1lbnRzfSxkLmFsd2F5cyhmdW5jdGlvbigpe2FbZV09ZixiW2VdJiYoYi5qc29ucENhbGxiYWNrPWMuanNvbnBDYWxsYmFjayxGYi5wdXNoKGUpKSxnJiZuLmlzRnVuY3Rpb24oZikmJmYoZ1swXSksZz1mPXZvaWQgMH0pLFwic2NyaXB0XCIpOnZvaWQgMH0pLG4ucGFyc2VIVE1MPWZ1bmN0aW9uKGEsYixjKXtpZighYXx8XCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7XCJib29sZWFuXCI9PXR5cGVvZiBiJiYoYz1iLGI9ITEpLGI9Ynx8bDt2YXIgZD12LmV4ZWMoYSksZT0hYyYmW107cmV0dXJuIGQ/W2IuY3JlYXRlRWxlbWVudChkWzFdKV06KGQ9bi5idWlsZEZyYWdtZW50KFthXSxiLGUpLGUmJmUubGVuZ3RoJiZuKGUpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZC5jaGlsZE5vZGVzKSl9O3ZhciBIYj1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYSYmSGIpcmV0dXJuIEhiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZCxlLGYsZz10aGlzLGg9YS5pbmRleE9mKFwiIFwiKTtyZXR1cm4gaD49MCYmKGQ9bi50cmltKGEuc2xpY2UoaCkpLGE9YS5zbGljZSgwLGgpKSxuLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmXCJvYmplY3RcIj09dHlwZW9mIGImJihlPVwiUE9TVFwiKSxnLmxlbmd0aD4wJiZuLmFqYXgoe3VybDphLHR5cGU6ZSxkYXRhVHlwZTpcImh0bWxcIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oXCI8ZGl2PlwiKS5hcHBlbmQobi5wYXJzZUhUTUwoYSkpLmZpbmQoZCk6YSl9KS5jb21wbGV0ZShjJiZmdW5jdGlvbihhLGIpe2cuZWFjaChjLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pLHRoaXN9LG4uZWFjaChbXCJhamF4U3RhcnRcIixcImFqYXhTdG9wXCIsXCJhamF4Q29tcGxldGVcIixcImFqYXhFcnJvclwiLFwiYWpheFN1Y2Nlc3NcIixcImFqYXhTZW5kXCJdLGZ1bmN0aW9uKGEsYil7bi5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLG4uZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBuLmdyZXAobi50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9O3ZhciBJYj1hLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtmdW5jdGlvbiBKYihhKXtyZXR1cm4gbi5pc1dpbmRvdyhhKT9hOjk9PT1hLm5vZGVUeXBlJiZhLmRlZmF1bHRWaWV3fW4ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9bi5jc3MoYSxcInBvc2l0aW9uXCIpLGw9bihhKSxtPXt9O1wic3RhdGljXCI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLGg9bC5vZmZzZXQoKSxmPW4uY3NzKGEsXCJ0b3BcIiksaT1uLmNzcyhhLFwibGVmdFwiKSxqPShcImFic29sdXRlXCI9PT1rfHxcImZpeGVkXCI9PT1rKSYmKGYraSkuaW5kZXhPZihcImF1dG9cIik+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLG4uaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxoKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSxcInVzaW5nXCJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sbi5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24ub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9dGhpc1swXSxlPXt0b3A6MCxsZWZ0OjB9LGY9ZCYmZC5vd25lckRvY3VtZW50O2lmKGYpcmV0dXJuIGI9Zi5kb2N1bWVudEVsZW1lbnQsbi5jb250YWlucyhiLGQpPyh0eXBlb2YgZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1VJiYoZT1kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxjPUpiKGYpLHt0b3A6ZS50b3ArYy5wYWdlWU9mZnNldC1iLmNsaWVudFRvcCxsZWZ0OmUubGVmdCtjLnBhZ2VYT2Zmc2V0LWIuY2xpZW50TGVmdH0pOmV9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNbMF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm5cImZpeGVkXCI9PT1uLmNzcyhjLFwicG9zaXRpb25cIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLG4ubm9kZU5hbWUoYVswXSxcImh0bWxcIil8fChkPWEub2Zmc2V0KCkpLGQudG9wKz1uLmNzcyhhWzBdLFwiYm9yZGVyVG9wV2lkdGhcIiwhMCksZC5sZWZ0Kz1uLmNzcyhhWzBdLFwiYm9yZGVyTGVmdFdpZHRoXCIsITApKSx7dG9wOmIudG9wLWQudG9wLW4uY3NzKGMsXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LW4uY3NzKGMsXCJtYXJnaW5MZWZ0XCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50fHxJYjt3aGlsZShhJiYhbi5ub2RlTmFtZShhLFwiaHRtbFwiKSYmXCJzdGF0aWNcIj09PW4uY3NzKGEsXCJwb3NpdGlvblwiKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxJYn0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDpcInBhZ2VYT2Zmc2V0XCIsc2Nyb2xsVG9wOlwicGFnZVlPZmZzZXRcIn0sZnVuY3Rpb24oYixjKXt2YXIgZD1cInBhZ2VZT2Zmc2V0XCI9PT1jO24uZm5bYl09ZnVuY3Rpb24oZSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihiLGUsZil7dmFyIGc9SmIoYik7cmV0dXJuIHZvaWQgMD09PWY/Zz9nW2NdOmJbZV06dm9pZChnP2cuc2Nyb2xsVG8oZD9hLnBhZ2VYT2Zmc2V0OmYsZD9mOmEucGFnZVlPZmZzZXQpOmJbZV09Zil9LGIsZSxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pLG4uZWFjaChbXCJ0b3BcIixcImxlZnRcIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXlhKGsucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihhLGMpe3JldHVybiBjPyhjPXhhKGEsYiksdmEudGVzdChjKT9uKGEpLnBvc2l0aW9uKClbYl0rXCJweFwiOmMpOnZvaWQgMH0pfSksbi5lYWNoKHtIZWlnaHQ6XCJoZWlnaHRcIixXaWR0aDpcIndpZHRoXCJ9LGZ1bmN0aW9uKGEsYil7bi5lYWNoKHtwYWRkaW5nOlwiaW5uZXJcIithLGNvbnRlbnQ6YixcIlwiOlwib3V0ZXJcIithfSxmdW5jdGlvbihjLGQpe24uZm5bZF09ZnVuY3Rpb24oZCxlKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoJiYoY3x8XCJib29sZWFuXCIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD9cIm1hcmdpblwiOlwiYm9yZGVyXCIpO3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiBuLmlzV2luZG93KGIpP2IuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5W1wic2Nyb2xsXCIrYV0sZVtcInNjcm9sbFwiK2FdLGIuYm9keVtcIm9mZnNldFwiK2FdLGVbXCJvZmZzZXRcIithXSxlW1wiY2xpZW50XCIrYV0pKTp2b2lkIDA9PT1kP24uY3NzKGIsYyxnKTpuLnN0eWxlKGIsYyxkLGcpfSxiLGY/ZDp2b2lkIDAsZixudWxsKX19KX0pLG4uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjayxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcImpxdWVyeVwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG59KTt2YXIgS2I9YS5qUXVlcnksTGI9YS4kO3JldHVybiBuLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PW4mJihhLiQ9TGIpLGImJmEualF1ZXJ5PT09biYmKGEualF1ZXJ5PUtiKSxufSx0eXBlb2YgYj09PVUmJihhLmpRdWVyeT1hLiQ9biksbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm1pbi5tYXBcbn0pLmNhbGwoZ2xvYmFsLCBtb2R1bGUsIHVuZGVmaW5lZCk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuKGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZXhwb3J0cywgZGVmaW5lLCBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXykge1xuLyohXG4gKiBNb2Rlcm5penIgdjIuOC4zXG4gKiB3d3cubW9kZXJuaXpyLmNvbVxuICpcbiAqIENvcHlyaWdodCAoYykgRmFydWsgQXRlcywgUGF1bCBJcmlzaCwgQWxleCBTZXh0b25cbiAqIEF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIGFuZCBNSVQgbGljZW5zZXM6IHd3dy5tb2Rlcm5penIuY29tL2xpY2Vuc2UvXG4gKi9cblxuLypcbiAqIE1vZGVybml6ciB0ZXN0cyB3aGljaCBuYXRpdmUgQ1NTMyBhbmQgSFRNTDUgZmVhdHVyZXMgYXJlIGF2YWlsYWJsZSBpblxuICogdGhlIGN1cnJlbnQgVUEgYW5kIG1ha2VzIHRoZSByZXN1bHRzIGF2YWlsYWJsZSB0byB5b3UgaW4gdHdvIHdheXM6XG4gKiBhcyBwcm9wZXJ0aWVzIG9uIGEgZ2xvYmFsIE1vZGVybml6ciBvYmplY3QsIGFuZCBhcyBjbGFzc2VzIG9uIHRoZVxuICogPGh0bWw+IGVsZW1lbnQuIFRoaXMgaW5mb3JtYXRpb24gYWxsb3dzIHlvdSB0byBwcm9ncmVzc2l2ZWx5IGVuaGFuY2VcbiAqIHlvdXIgcGFnZXMgd2l0aCBhIGdyYW51bGFyIGxldmVsIG9mIGNvbnRyb2wgb3ZlciB0aGUgZXhwZXJpZW5jZS5cbiAqXG4gKiBNb2Rlcm5penIgaGFzIGFuIG9wdGlvbmFsIChub3QgaW5jbHVkZWQpIGNvbmRpdGlvbmFsIHJlc291cmNlIGxvYWRlclxuICogY2FsbGVkIE1vZGVybml6ci5sb2FkKCksIGJhc2VkIG9uIFllcG5vcGUuanMgKHllcG5vcGVqcy5jb20pLlxuICogVG8gZ2V0IGEgYnVpbGQgdGhhdCBpbmNsdWRlcyBNb2Rlcm5penIubG9hZCgpLCBhcyB3ZWxsIGFzIGNob29zaW5nXG4gKiB3aGljaCB0ZXN0cyB0byBpbmNsdWRlLCBnbyB0byB3d3cubW9kZXJuaXpyLmNvbS9kb3dubG9hZC9cbiAqXG4gKiBBdXRob3JzICAgICAgICBGYXJ1ayBBdGVzLCBQYXVsIElyaXNoLCBBbGV4IFNleHRvblxuICogQ29udHJpYnV0b3JzICAgUnlhbiBTZWRkb24sIEJlbiBBbG1hblxuICovXG5cbndpbmRvdy5Nb2Rlcm5penIgPSAoZnVuY3Rpb24oIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcblxuICAgIHZhciB2ZXJzaW9uID0gJzIuOC4zJyxcblxuICAgIE1vZGVybml6ciA9IHt9LFxuXG4gICAgLyo+PmNzc2NsYXNzZXMqL1xuICAgIC8vIG9wdGlvbiBmb3IgZW5hYmxpbmcgdGhlIEhUTUwgY2xhc3NlcyB0byBiZSBhZGRlZFxuICAgIGVuYWJsZUNsYXNzZXMgPSB0cnVlLFxuICAgIC8qPj5jc3NjbGFzc2VzKi9cblxuICAgIGRvY0VsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgb3VyIFwibW9kZXJuaXpyXCIgZWxlbWVudCB0aGF0IHdlIGRvIG1vc3QgZmVhdHVyZSB0ZXN0cyBvbi5cbiAgICAgKi9cbiAgICBtb2QgPSAnbW9kZXJuaXpyJyxcbiAgICBtb2RFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChtb2QpLFxuICAgIG1TdHlsZSA9IG1vZEVsZW0uc3R5bGUsXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGlucHV0IGVsZW1lbnQgZm9yIHZhcmlvdXMgV2ViIEZvcm1zIGZlYXR1cmUgdGVzdHMuXG4gICAgICovXG4gICAgaW5wdXRFbGVtIC8qPj5pbnB1dGVsZW0qLyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JykgLyo+PmlucHV0ZWxlbSovICxcblxuICAgIC8qPj5zbWlsZSovXG4gICAgc21pbGUgPSAnOiknLFxuICAgIC8qPj5zbWlsZSovXG5cbiAgICB0b1N0cmluZyA9IHt9LnRvU3RyaW5nLFxuXG4gICAgLy8gVE9ETyA6OiBtYWtlIHRoZSBwcmVmaXhlcyBtb3JlIGdyYW51bGFyXG4gICAgLyo+PnByZWZpeGVzKi9cbiAgICAvLyBMaXN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBzZXQgZm9yIGNzcyB0ZXN0cy4gU2VlIHRpY2tldCAjMjFcbiAgICBwcmVmaXhlcyA9ICcgLXdlYmtpdC0gLW1vei0gLW8tIC1tcy0gJy5zcGxpdCgnICcpLFxuICAgIC8qPj5wcmVmaXhlcyovXG5cbiAgICAvKj4+ZG9tcHJlZml4ZXMqL1xuICAgIC8vIEZvbGxvd2luZyBzcGVjIGlzIHRvIGV4cG9zZSB2ZW5kb3Itc3BlY2lmaWMgc3R5bGUgcHJvcGVydGllcyBhczpcbiAgICAvLyAgIGVsZW0uc3R5bGUuV2Via2l0Qm9yZGVyUmFkaXVzXG4gICAgLy8gYW5kIHRoZSBmb2xsb3dpbmcgd291bGQgYmUgaW5jb3JyZWN0OlxuICAgIC8vICAgZWxlbS5zdHlsZS53ZWJraXRCb3JkZXJSYWRpdXNcblxuICAgIC8vIFdlYmtpdCBnaG9zdHMgdGhlaXIgcHJvcGVydGllcyBpbiBsb3dlcmNhc2UgYnV0IE9wZXJhICYgTW96IGRvIG5vdC5cbiAgICAvLyBNaWNyb3NvZnQgdXNlcyBhIGxvd2VyY2FzZSBgbXNgIGluc3RlYWQgb2YgdGhlIGNvcnJlY3QgYE1zYCBpbiBJRTgrXG4gICAgLy8gICBlcmlrLmVhZS5uZXQvYXJjaGl2ZXMvMjAwOC8wMy8xMC8yMS40OC4xMC9cblxuICAgIC8vIE1vcmUgaGVyZTogZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2lzc3Vlcy9pc3N1ZS8yMVxuICAgIG9tUHJlZml4ZXMgPSAnV2Via2l0IE1veiBPIG1zJyxcblxuICAgIGNzc29tUHJlZml4ZXMgPSBvbVByZWZpeGVzLnNwbGl0KCcgJyksXG5cbiAgICBkb21QcmVmaXhlcyA9IG9tUHJlZml4ZXMudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLFxuICAgIC8qPj5kb21wcmVmaXhlcyovXG5cbiAgICAvKj4+bnMqL1xuICAgIG5zID0geydzdmcnOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnfSxcbiAgICAvKj4+bnMqL1xuXG4gICAgdGVzdHMgPSB7fSxcbiAgICBpbnB1dHMgPSB7fSxcbiAgICBhdHRycyA9IHt9LFxuXG4gICAgY2xhc3NlcyA9IFtdLFxuXG4gICAgc2xpY2UgPSBjbGFzc2VzLnNsaWNlLFxuXG4gICAgZmVhdHVyZU5hbWUsIC8vIHVzZWQgaW4gdGVzdGluZyBsb29wXG5cblxuICAgIC8qPj50ZXN0c3R5bGVzKi9cbiAgICAvLyBJbmplY3QgZWxlbWVudCB3aXRoIHN0eWxlIGVsZW1lbnQgYW5kIHNvbWUgQ1NTIHJ1bGVzXG4gICAgaW5qZWN0RWxlbWVudFdpdGhTdHlsZXMgPSBmdW5jdGlvbiggcnVsZSwgY2FsbGJhY2ssIG5vZGVzLCB0ZXN0bmFtZXMgKSB7XG5cbiAgICAgIHZhciBzdHlsZSwgcmV0LCBub2RlLCBkb2NPdmVyZmxvdyxcbiAgICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAvLyBBZnRlciBwYWdlIGxvYWQgaW5qZWN0aW5nIGEgZmFrZSBib2R5IGRvZXNuJ3Qgd29yayBzbyBjaGVjayBpZiBib2R5IGV4aXN0c1xuICAgICAgICAgIGJvZHkgPSBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgIC8vIElFNiBhbmQgNyB3b24ndCByZXR1cm4gb2Zmc2V0V2lkdGggb3Igb2Zmc2V0SGVpZ2h0IHVubGVzcyBpdCdzIGluIHRoZSBib2R5IGVsZW1lbnQsIHNvIHdlIGZha2UgaXQuXG4gICAgICAgICAgZmFrZUJvZHkgPSBib2R5IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcblxuICAgICAgaWYgKCBwYXJzZUludChub2RlcywgMTApICkge1xuICAgICAgICAgIC8vIEluIG9yZGVyIG5vdCB0byBnaXZlIGZhbHNlIHBvc2l0aXZlcyB3ZSBjcmVhdGUgYSBub2RlIGZvciBlYWNoIHRlc3RcbiAgICAgICAgICAvLyBUaGlzIGFsc28gYWxsb3dzIHRoZSBtZXRob2QgdG8gc2NhbGUgZm9yIHVuc3BlY2lmaWVkIHVzZXNcbiAgICAgICAgICB3aGlsZSAoIG5vZGVzLS0gKSB7XG4gICAgICAgICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgbm9kZS5pZCA9IHRlc3RuYW1lcyA/IHRlc3RuYW1lc1tub2Rlc10gOiBtb2QgKyAobm9kZXMgKyAxKTtcbiAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gPHN0eWxlPiBlbGVtZW50cyBpbiBJRTYtOSBhcmUgY29uc2lkZXJlZCAnTm9TY29wZScgZWxlbWVudHMgYW5kIHRoZXJlZm9yZSB3aWxsIGJlIHJlbW92ZWRcbiAgICAgIC8vIHdoZW4gaW5qZWN0ZWQgd2l0aCBpbm5lckhUTUwuIFRvIGdldCBhcm91bmQgdGhpcyB5b3UgbmVlZCB0byBwcmVwZW5kIHRoZSAnTm9TY29wZScgZWxlbWVudFxuICAgICAgLy8gd2l0aCBhICdzY29wZWQnIGVsZW1lbnQsIGluIG91ciBjYXNlIHRoZSBzb2Z0LWh5cGhlbiBlbnRpdHkgYXMgaXQgd29uJ3QgbWVzcyB3aXRoIG91ciBtZWFzdXJlbWVudHMuXG4gICAgICAvLyBtc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzMzg5NyUyOFZTLjg1JTI5LmFzcHhcbiAgICAgIC8vIERvY3VtZW50cyBzZXJ2ZWQgYXMgeG1sIHdpbGwgdGhyb3cgaWYgdXNpbmcgJnNoeTsgc28gdXNlIHhtbCBmcmllbmRseSBlbmNvZGVkIHZlcnNpb24uIFNlZSBpc3N1ZSAjMjc3XG4gICAgICBzdHlsZSA9IFsnJiMxNzM7JywnPHN0eWxlIGlkPVwicycsIG1vZCwgJ1wiPicsIHJ1bGUsICc8L3N0eWxlPiddLmpvaW4oJycpO1xuICAgICAgZGl2LmlkID0gbW9kO1xuICAgICAgLy8gSUU2IHdpbGwgZmFsc2UgcG9zaXRpdmUgb24gc29tZSB0ZXN0cyBkdWUgdG8gdGhlIHN0eWxlIGVsZW1lbnQgaW5zaWRlIHRoZSB0ZXN0IGRpdiBzb21laG93IGludGVyZmVyaW5nIG9mZnNldEhlaWdodCwgc28gaW5zZXJ0IGl0IGludG8gYm9keSBvciBmYWtlYm9keS5cbiAgICAgIC8vIE9wZXJhIHdpbGwgYWN0IGFsbCBxdWlya3kgd2hlbiBpbmplY3RpbmcgZWxlbWVudHMgaW4gZG9jdW1lbnRFbGVtZW50IHdoZW4gcGFnZSBpcyBzZXJ2ZWQgYXMgeG1sLCBuZWVkcyBmYWtlYm9keSB0b28uICMyNzBcbiAgICAgIChib2R5ID8gZGl2IDogZmFrZUJvZHkpLmlubmVySFRNTCArPSBzdHlsZTtcbiAgICAgIGZha2VCb2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICBpZiAoICFib2R5ICkge1xuICAgICAgICAgIC8vYXZvaWQgY3Jhc2hpbmcgSUU4LCBpZiBiYWNrZ3JvdW5kIGltYWdlIGlzIHVzZWRcbiAgICAgICAgICBmYWtlQm9keS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgICAgICAgLy9TYWZhcmkgNS4xMy81LjEuNCBPU1ggc3RvcHMgbG9hZGluZyBpZiA6Oi13ZWJraXQtc2Nyb2xsYmFyIGlzIHVzZWQgYW5kIHNjcm9sbGJhcnMgYXJlIHZpc2libGVcbiAgICAgICAgICBmYWtlQm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgIGRvY092ZXJmbG93ID0gZG9jRWxlbWVudC5zdHlsZS5vdmVyZmxvdztcbiAgICAgICAgICBkb2NFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgZG9jRWxlbWVudC5hcHBlbmRDaGlsZChmYWtlQm9keSk7XG4gICAgICB9XG5cbiAgICAgIHJldCA9IGNhbGxiYWNrKGRpdiwgcnVsZSk7XG4gICAgICAvLyBJZiB0aGlzIGlzIGRvbmUgYWZ0ZXIgcGFnZSBsb2FkIHdlIGRvbid0IHdhbnQgdG8gcmVtb3ZlIHRoZSBib2R5IHNvIGNoZWNrIGlmIGJvZHkgZXhpc3RzXG4gICAgICBpZiAoICFib2R5ICkge1xuICAgICAgICAgIGZha2VCb2R5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZmFrZUJvZHkpO1xuICAgICAgICAgIGRvY0VsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBkb2NPdmVyZmxvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICEhcmV0O1xuXG4gICAgfSxcbiAgICAvKj4+dGVzdHN0eWxlcyovXG5cbiAgICAvKj4+bXEqL1xuICAgIC8vIGFkYXB0ZWQgZnJvbSBtYXRjaE1lZGlhIHBvbHlmaWxsXG4gICAgLy8gYnkgU2NvdHQgSmVobCBhbmQgUGF1bCBJcmlzaFxuICAgIC8vIGdpc3QuZ2l0aHViLmNvbS83ODY3NjhcbiAgICB0ZXN0TWVkaWFRdWVyeSA9IGZ1bmN0aW9uKCBtcSApIHtcblxuICAgICAgdmFyIG1hdGNoTWVkaWEgPSB3aW5kb3cubWF0Y2hNZWRpYSB8fCB3aW5kb3cubXNNYXRjaE1lZGlhO1xuICAgICAgaWYgKCBtYXRjaE1lZGlhICkge1xuICAgICAgICByZXR1cm4gbWF0Y2hNZWRpYShtcSkgJiYgbWF0Y2hNZWRpYShtcSkubWF0Y2hlcyB8fCBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGJvb2w7XG5cbiAgICAgIGluamVjdEVsZW1lbnRXaXRoU3R5bGVzKCdAbWVkaWEgJyArIG1xICsgJyB7ICMnICsgbW9kICsgJyB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgfSB9JywgZnVuY3Rpb24oIG5vZGUgKSB7XG4gICAgICAgIGJvb2wgPSAod2luZG93LmdldENvbXB1dGVkU3R5bGUgP1xuICAgICAgICAgICAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKSA6XG4gICAgICAgICAgICAgICAgICBub2RlLmN1cnJlbnRTdHlsZSlbJ3Bvc2l0aW9uJ10gPT0gJ2Fic29sdXRlJztcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYm9vbDtcblxuICAgICB9LFxuICAgICAvKj4+bXEqL1xuXG5cbiAgICAvKj4+aGFzZXZlbnQqL1xuICAgIC8vXG4gICAgLy8gaXNFdmVudFN1cHBvcnRlZCBkZXRlcm1pbmVzIGlmIGEgZ2l2ZW4gZWxlbWVudCBzdXBwb3J0cyB0aGUgZ2l2ZW4gZXZlbnRcbiAgICAvLyBrYW5nYXguZ2l0aHViLmNvbS9pc2V2ZW50c3VwcG9ydGVkL1xuICAgIC8vXG4gICAgLy8gVGhlIGZvbGxvd2luZyByZXN1bHRzIGFyZSBrbm93biBpbmNvcnJlY3RzOlxuICAgIC8vICAgTW9kZXJuaXpyLmhhc0V2ZW50KFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLCBlbGVtKSAvLyBmYWxzZSBuZWdhdGl2ZVxuICAgIC8vICAgTW9kZXJuaXpyLmhhc0V2ZW50KFwidGV4dElucHV0XCIpIC8vIGluIFdlYmtpdC4gZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2lzc3Vlcy8zMzNcbiAgICAvLyAgIC4uLlxuICAgIGlzRXZlbnRTdXBwb3J0ZWQgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciBUQUdOQU1FUyA9IHtcbiAgICAgICAgJ3NlbGVjdCc6ICdpbnB1dCcsICdjaGFuZ2UnOiAnaW5wdXQnLFxuICAgICAgICAnc3VibWl0JzogJ2Zvcm0nLCAncmVzZXQnOiAnZm9ybScsXG4gICAgICAgICdlcnJvcic6ICdpbWcnLCAnbG9hZCc6ICdpbWcnLCAnYWJvcnQnOiAnaW1nJ1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gaXNFdmVudFN1cHBvcnRlZCggZXZlbnROYW1lLCBlbGVtZW50ICkge1xuXG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoVEFHTkFNRVNbZXZlbnROYW1lXSB8fCAnZGl2Jyk7XG4gICAgICAgIGV2ZW50TmFtZSA9ICdvbicgKyBldmVudE5hbWU7XG5cbiAgICAgICAgLy8gV2hlbiB1c2luZyBgc2V0QXR0cmlidXRlYCwgSUUgc2tpcHMgXCJ1bmxvYWRcIiwgV2ViS2l0IHNraXBzIFwidW5sb2FkXCIgYW5kIFwicmVzaXplXCIsIHdoZXJlYXMgYGluYCBcImNhdGNoZXNcIiB0aG9zZVxuICAgICAgICB2YXIgaXNTdXBwb3J0ZWQgPSBldmVudE5hbWUgaW4gZWxlbWVudDtcblxuICAgICAgICBpZiAoICFpc1N1cHBvcnRlZCApIHtcbiAgICAgICAgICAvLyBJZiBpdCBoYXMgbm8gYHNldEF0dHJpYnV0ZWAgKGkuZS4gZG9lc24ndCBpbXBsZW1lbnQgTm9kZSBpbnRlcmZhY2UpLCB0cnkgZ2VuZXJpYyBlbGVtZW50XG4gICAgICAgICAgaWYgKCAhZWxlbWVudC5zZXRBdHRyaWJ1dGUgKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICggZWxlbWVudC5zZXRBdHRyaWJ1dGUgJiYgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUgKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICcnKTtcbiAgICAgICAgICAgIGlzU3VwcG9ydGVkID0gaXMoZWxlbWVudFtldmVudE5hbWVdLCAnZnVuY3Rpb24nKTtcblxuICAgICAgICAgICAgLy8gSWYgcHJvcGVydHkgd2FzIGNyZWF0ZWQsIFwicmVtb3ZlIGl0XCIgKGJ5IHNldHRpbmcgdmFsdWUgdG8gYHVuZGVmaW5lZGApXG4gICAgICAgICAgICBpZiAoICFpcyhlbGVtZW50W2V2ZW50TmFtZV0sICd1bmRlZmluZWQnKSApIHtcbiAgICAgICAgICAgICAgZWxlbWVudFtldmVudE5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoZXZlbnROYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzRXZlbnRTdXBwb3J0ZWQ7XG4gICAgfSkoKSxcbiAgICAvKj4+aGFzZXZlbnQqL1xuXG4gICAgLy8gVE9ETyA6OiBBZGQgZmxhZyBmb3IgaGFzb3ducHJvcCA/IGRpZG4ndCBsYXN0IHRpbWVcblxuICAgIC8vIGhhc093blByb3BlcnR5IHNoaW0gYnkga2FuZ2F4IG5lZWRlZCBmb3IgU2FmYXJpIDIuMCBzdXBwb3J0XG4gICAgX2hhc093blByb3BlcnR5ID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSwgaGFzT3duUHJvcDtcblxuICAgIGlmICggIWlzKF9oYXNPd25Qcm9wZXJ0eSwgJ3VuZGVmaW5lZCcpICYmICFpcyhfaGFzT3duUHJvcGVydHkuY2FsbCwgJ3VuZGVmaW5lZCcpICkge1xuICAgICAgaGFzT3duUHJvcCA9IGZ1bmN0aW9uIChvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiBfaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGFzT3duUHJvcCA9IGZ1bmN0aW9uIChvYmplY3QsIHByb3BlcnR5KSB7IC8qIHllcywgdGhpcyBjYW4gZ2l2ZSBmYWxzZSBwb3NpdGl2ZXMvbmVnYXRpdmVzLCBidXQgbW9zdCBvZiB0aGUgdGltZSB3ZSBkb24ndCBjYXJlIGFib3V0IHRob3NlICovXG4gICAgICAgIHJldHVybiAoKHByb3BlcnR5IGluIG9iamVjdCkgJiYgaXMob2JqZWN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZVtwcm9wZXJ0eV0sICd1bmRlZmluZWQnKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEFkYXB0ZWQgZnJvbSBFUzUtc2hpbSBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL2VzNS1zaGltL2Jsb2IvbWFzdGVyL2VzNS1zaGltLmpzXG4gICAgLy8gZXM1LmdpdGh1Yi5jb20vI3gxNS4zLjQuNVxuXG4gICAgaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkge1xuICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kKHRoYXQpIHtcblxuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcztcblxuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgYm91bmQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcblxuICAgICAgICAgICAgICB2YXIgRiA9IGZ1bmN0aW9uKCl7fTtcbiAgICAgICAgICAgICAgRi5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuICAgICAgICAgICAgICB2YXIgc2VsZiA9IG5ldyBGKCk7XG5cbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcbiAgICAgICAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChPYmplY3QocmVzdWx0KSA9PT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBzZWxmO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgICB0aGF0LFxuICAgICAgICAgICAgICAgICAgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYm91bmQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNldENzcyBhcHBsaWVzIGdpdmVuIHN0eWxlcyB0byB0aGUgTW9kZXJuaXpyIERPTSBub2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENzcyggc3RyICkge1xuICAgICAgICBtU3R5bGUuY3NzVGV4dCA9IHN0cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZXRDc3NBbGwgZXh0cmFwb2xhdGVzIGFsbCB2ZW5kb3Itc3BlY2lmaWMgY3NzIHN0cmluZ3MuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q3NzQWxsKCBzdHIxLCBzdHIyICkge1xuICAgICAgICByZXR1cm4gc2V0Q3NzKHByZWZpeGVzLmpvaW4oc3RyMSArICc7JykgKyAoIHN0cjIgfHwgJycgKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaXMgcmV0dXJucyBhIGJvb2xlYW4gZm9yIGlmIHR5cGVvZiBvYmogaXMgZXhhY3RseSB0eXBlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKCBvYmosIHR5cGUgKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSB0eXBlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNvbnRhaW5zIHJldHVybnMgYSBib29sZWFuIGZvciBpZiBzdWJzdHIgaXMgZm91bmQgd2l0aGluIHN0ci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb250YWlucyggc3RyLCBzdWJzdHIgKSB7XG4gICAgICAgIHJldHVybiAhIX4oJycgKyBzdHIpLmluZGV4T2Yoc3Vic3RyKTtcbiAgICB9XG5cbiAgICAvKj4+dGVzdHByb3AqL1xuXG4gICAgLy8gdGVzdFByb3BzIGlzIGEgZ2VuZXJpYyBDU1MgLyBET00gcHJvcGVydHkgdGVzdC5cblxuICAgIC8vIEluIHRlc3Rpbmcgc3VwcG9ydCBmb3IgYSBnaXZlbiBDU1MgcHJvcGVydHksIGl0J3MgbGVnaXQgdG8gdGVzdDpcbiAgICAvLyAgICBgZWxlbS5zdHlsZVtzdHlsZU5hbWVdICE9PSB1bmRlZmluZWRgXG4gICAgLy8gSWYgdGhlIHByb3BlcnR5IGlzIHN1cHBvcnRlZCBpdCB3aWxsIHJldHVybiBhbiBlbXB0eSBzdHJpbmcsXG4gICAgLy8gaWYgdW5zdXBwb3J0ZWQgaXQgd2lsbCByZXR1cm4gdW5kZWZpbmVkLlxuXG4gICAgLy8gV2UnbGwgdGFrZSBhZHZhbnRhZ2Ugb2YgdGhpcyBxdWljayB0ZXN0IGFuZCBza2lwIHNldHRpbmcgYSBzdHlsZVxuICAgIC8vIG9uIG91ciBtb2Rlcm5penIgZWxlbWVudCwgYnV0IGluc3RlYWQganVzdCB0ZXN0aW5nIHVuZGVmaW5lZCB2c1xuICAgIC8vIGVtcHR5IHN0cmluZy5cblxuICAgIC8vIEJlY2F1c2UgdGhlIHRlc3Rpbmcgb2YgdGhlIENTUyBwcm9wZXJ0eSBuYW1lcyAod2l0aCBcIi1cIiwgYXNcbiAgICAvLyBvcHBvc2VkIHRvIHRoZSBjYW1lbENhc2UgRE9NIHByb3BlcnRpZXMpIGlzIG5vbi1wb3J0YWJsZSBhbmRcbiAgICAvLyBub24tc3RhbmRhcmQgYnV0IHdvcmtzIGluIFdlYktpdCBhbmQgSUUgKGJ1dCBub3QgR2Vja28gb3IgT3BlcmEpLFxuICAgIC8vIHdlIGV4cGxpY2l0bHkgcmVqZWN0IHByb3BlcnRpZXMgd2l0aCBkYXNoZXMgc28gdGhhdCBhdXRob3JzXG4gICAgLy8gZGV2ZWxvcGluZyBpbiBXZWJLaXQgb3IgSUUgZmlyc3QgZG9uJ3QgZW5kIHVwIHdpdGhcbiAgICAvLyBicm93c2VyLXNwZWNpZmljIGNvbnRlbnQgYnkgYWNjaWRlbnQuXG5cbiAgICBmdW5jdGlvbiB0ZXN0UHJvcHMoIHByb3BzLCBwcmVmaXhlZCApIHtcbiAgICAgICAgZm9yICggdmFyIGkgaW4gcHJvcHMgKSB7XG4gICAgICAgICAgICB2YXIgcHJvcCA9IHByb3BzW2ldO1xuICAgICAgICAgICAgaWYgKCAhY29udGFpbnMocHJvcCwgXCItXCIpICYmIG1TdHlsZVtwcm9wXSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmVmaXhlZCA9PSAncGZ4JyA/IHByb3AgOiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyo+PnRlc3Rwcm9wKi9cblxuICAgIC8vIFRPRE8gOjogYWRkIHRlc3RET01Qcm9wc1xuICAgIC8qKlxuICAgICAqIHRlc3RET01Qcm9wcyBpcyBhIGdlbmVyaWMgRE9NIHByb3BlcnR5IHRlc3Q7IGlmIGEgYnJvd3NlciBzdXBwb3J0c1xuICAgICAqICAgYSBjZXJ0YWluIHByb3BlcnR5LCBpdCB3b24ndCByZXR1cm4gdW5kZWZpbmVkIGZvciBpdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0ZXN0RE9NUHJvcHMoIHByb3BzLCBvYmosIGVsZW0gKSB7XG4gICAgICAgIGZvciAoIHZhciBpIGluIHByb3BzICkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBvYmpbcHJvcHNbaV1dO1xuICAgICAgICAgICAgaWYgKCBpdGVtICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcHJvcGVydHkgbmFtZSBhcyBhIHN0cmluZ1xuICAgICAgICAgICAgICAgIGlmIChlbGVtID09PSBmYWxzZSkgcmV0dXJuIHByb3BzW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0J3MgYmluZCBhIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGlzKGl0ZW0sICdmdW5jdGlvbicpKXtcbiAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYXV0b2JpbmQgdW5sZXNzIG92ZXJyaWRlXG4gICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5iaW5kKGVsZW0gfHwgb2JqKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHVuYm91bmQgZnVuY3Rpb24gb3Igb2JqIG9yIHZhbHVlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qPj50ZXN0YWxscHJvcHMqL1xuICAgIC8qKlxuICAgICAqIHRlc3RQcm9wc0FsbCB0ZXN0cyBhIGxpc3Qgb2YgRE9NIHByb3BlcnRpZXMgd2Ugd2FudCB0byBjaGVjayBhZ2FpbnN0LlxuICAgICAqICAgV2Ugc3BlY2lmeSBsaXRlcmFsbHkgQUxMIHBvc3NpYmxlIChrbm93biBhbmQvb3IgbGlrZWx5KSBwcm9wZXJ0aWVzIG9uXG4gICAgICogICB0aGUgZWxlbWVudCBpbmNsdWRpbmcgdGhlIG5vbi12ZW5kb3IgcHJlZml4ZWQgb25lLCBmb3IgZm9yd2FyZC1cbiAgICAgKiAgIGNvbXBhdGliaWxpdHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVzdFByb3BzQWxsKCBwcm9wLCBwcmVmaXhlZCwgZWxlbSApIHtcblxuICAgICAgICB2YXIgdWNQcm9wICA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpLFxuICAgICAgICAgICAgcHJvcHMgICA9IChwcm9wICsgJyAnICsgY3Nzb21QcmVmaXhlcy5qb2luKHVjUHJvcCArICcgJykgKyB1Y1Byb3ApLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgLy8gZGlkIHRoZXkgY2FsbCAucHJlZml4ZWQoJ2JveFNpemluZycpIG9yIGFyZSB3ZSBqdXN0IHRlc3RpbmcgYSBwcm9wP1xuICAgICAgICBpZihpcyhwcmVmaXhlZCwgXCJzdHJpbmdcIikgfHwgaXMocHJlZml4ZWQsIFwidW5kZWZpbmVkXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIHRlc3RQcm9wcyhwcm9wcywgcHJlZml4ZWQpO1xuXG4gICAgICAgIC8vIG90aGVyd2lzZSwgdGhleSBjYWxsZWQgLnByZWZpeGVkKCdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnLCB3aW5kb3dbLCBlbGVtXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9wcyA9IChwcm9wICsgJyAnICsgKGRvbVByZWZpeGVzKS5qb2luKHVjUHJvcCArICcgJykgKyB1Y1Byb3ApLnNwbGl0KCcgJyk7XG4gICAgICAgICAgcmV0dXJuIHRlc3RET01Qcm9wcyhwcm9wcywgcHJlZml4ZWQsIGVsZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qPj50ZXN0YWxscHJvcHMqL1xuXG5cbiAgICAvKipcbiAgICAgKiBUZXN0c1xuICAgICAqIC0tLS0tXG4gICAgICovXG5cbiAgICAvLyBUaGUgKm5ldyogZmxleGJveFxuICAgIC8vIGRldi53My5vcmcvY3Nzd2cvY3NzMy1mbGV4Ym94XG5cbiAgICB0ZXN0c1snZmxleGJveCddID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGVzdFByb3BzQWxsKCdmbGV4V3JhcCcpO1xuICAgIH07XG5cbiAgICAvLyBUaGUgKm9sZCogZmxleGJveFxuICAgIC8vIHd3dy53My5vcmcvVFIvMjAwOS9XRC1jc3MzLWZsZXhib3gtMjAwOTA3MjMvXG5cbiAgICB0ZXN0c1snZmxleGJveGxlZ2FjeSddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2JveERpcmVjdGlvbicpO1xuICAgIH07XG5cbiAgICAvLyBPbiB0aGUgUzYwIGFuZCBCQiBTdG9ybSwgZ2V0Q29udGV4dCBleGlzdHMsIGJ1dCBhbHdheXMgcmV0dXJucyB1bmRlZmluZWRcbiAgICAvLyBzbyB3ZSBhY3R1YWxseSBoYXZlIHRvIGNhbGwgZ2V0Q29udGV4dCgpIHRvIHZlcmlmeVxuICAgIC8vIGdpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9pc3N1ZXMvaXNzdWUvOTcvXG5cbiAgICB0ZXN0c1snY2FudmFzJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgcmV0dXJuICEhKGVsZW0uZ2V0Q29udGV4dCAmJiBlbGVtLmdldENvbnRleHQoJzJkJykpO1xuICAgIH07XG5cbiAgICB0ZXN0c1snY2FudmFzdGV4dCddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhIShNb2Rlcm5penJbJ2NhbnZhcyddICYmIGlzKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJykuZmlsbFRleHQsICdmdW5jdGlvbicpKTtcbiAgICB9O1xuXG4gICAgLy8gd2Viay5pdC83MDExNyBpcyB0cmFja2luZyBhIGxlZ2l0IFdlYkdMIGZlYXR1cmUgZGV0ZWN0IHByb3Bvc2FsXG5cbiAgICAvLyBXZSBkbyBhIHNvZnQgZGV0ZWN0IHdoaWNoIG1heSBmYWxzZSBwb3NpdGl2ZSBpbiBvcmRlciB0byBhdm9pZFxuICAgIC8vIGFuIGV4cGVuc2l2ZSBjb250ZXh0IGNyZWF0aW9uOiBidWd6aWwubGEvNzMyNDQxXG5cbiAgICB0ZXN0c1snd2ViZ2wnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gISF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xuICAgIH07XG5cbiAgICAvKlxuICAgICAqIFRoZSBNb2Rlcm5penIudG91Y2ggdGVzdCBvbmx5IGluZGljYXRlcyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0c1xuICAgICAqICAgIHRvdWNoIGV2ZW50cywgd2hpY2ggZG9lcyBub3QgbmVjZXNzYXJpbHkgcmVmbGVjdCBhIHRvdWNoc2NyZWVuXG4gICAgICogICAgZGV2aWNlLCBhcyBldmlkZW5jZWQgYnkgdGFibGV0cyBydW5uaW5nIFdpbmRvd3MgNyBvciwgYWxhcyxcbiAgICAgKiAgICB0aGUgUGFsbSBQcmUgLyBXZWJPUyAodG91Y2gpIHBob25lcy5cbiAgICAgKlxuICAgICAqIEFkZGl0aW9uYWxseSwgQ2hyb21lIChkZXNrdG9wKSB1c2VkIHRvIGxpZSBhYm91dCBpdHMgc3VwcG9ydCBvbiB0aGlzLFxuICAgICAqICAgIGJ1dCB0aGF0IGhhcyBzaW5jZSBiZWVuIHJlY3RpZmllZDogY3JidWcuY29tLzM2NDE1XG4gICAgICpcbiAgICAgKiBXZSBhbHNvIHRlc3QgZm9yIEZpcmVmb3ggNCBNdWx0aXRvdWNoIFN1cHBvcnQuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvLCBzZWU6IG1vZGVybml6ci5naXRodWIuY29tL01vZGVybml6ci90b3VjaC5odG1sXG4gICAgICovXG5cbiAgICB0ZXN0c1sndG91Y2gnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYm9vbDtcblxuICAgICAgICBpZigoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gpIHtcbiAgICAgICAgICBib29sID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbmplY3RFbGVtZW50V2l0aFN0eWxlcyhbJ0BtZWRpYSAoJyxwcmVmaXhlcy5qb2luKCd0b3VjaC1lbmFibGVkKSwoJyksbW9kLCcpJywneyNtb2Rlcm5penJ7dG9wOjlweDtwb3NpdGlvbjphYnNvbHV0ZX19J10uam9pbignJyksIGZ1bmN0aW9uKCBub2RlICkge1xuICAgICAgICAgICAgYm9vbCA9IG5vZGUub2Zmc2V0VG9wID09PSA5O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvb2w7XG4gICAgfTtcblxuXG4gICAgLy8gZ2VvbG9jYXRpb24gaXMgb2Z0ZW4gY29uc2lkZXJlZCBhIHRyaXZpYWwgZmVhdHVyZSBkZXRlY3QuLi5cbiAgICAvLyBUdXJucyBvdXQsIGl0J3MgcXVpdGUgdHJpY2t5IHRvIGdldCByaWdodDpcbiAgICAvL1xuICAgIC8vIFVzaW5nICEhbmF2aWdhdG9yLmdlb2xvY2F0aW9uIGRvZXMgdHdvIHRoaW5ncyB3ZSBkb24ndCB3YW50LiBJdDpcbiAgICAvLyAgIDEuIExlYWtzIG1lbW9yeSBpbiBJRTk6IGdpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9pc3N1ZXMvNTEzXG4gICAgLy8gICAyLiBEaXNhYmxlcyBwYWdlIGNhY2hpbmcgaW4gV2ViS2l0OiB3ZWJrLml0LzQzOTU2XG4gICAgLy9cbiAgICAvLyBNZWFud2hpbGUsIGluIEZpcmVmb3ggPCA4LCBhbiBhYm91dDpjb25maWcgc2V0dGluZyBjb3VsZCBleHBvc2VcbiAgICAvLyBhIGZhbHNlIHBvc2l0aXZlIHRoYXQgd291bGQgdGhyb3cgYW4gZXhjZXB0aW9uOiBidWd6aWwubGEvNjg4MTU4XG5cbiAgICB0ZXN0c1snZ2VvbG9jYXRpb24nXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ2dlb2xvY2F0aW9uJyBpbiBuYXZpZ2F0b3I7XG4gICAgfTtcblxuXG4gICAgdGVzdHNbJ3Bvc3RtZXNzYWdlJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhIXdpbmRvdy5wb3N0TWVzc2FnZTtcbiAgICB9O1xuXG5cbiAgICAvLyBDaHJvbWUgaW5jb2duaXRvIG1vZGUgdXNlZCB0byB0aHJvdyBhbiBleGNlcHRpb24gd2hlbiB1c2luZyBvcGVuRGF0YWJhc2VcbiAgICAvLyBJdCBkb2Vzbid0IGFueW1vcmUuXG4gICAgdGVzdHNbJ3dlYnNxbGRhdGFiYXNlJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhIXdpbmRvdy5vcGVuRGF0YWJhc2U7XG4gICAgfTtcblxuICAgIC8vIFZlbmRvcnMgaGFkIGluY29uc2lzdGVudCBwcmVmaXhpbmcgd2l0aCB0aGUgZXhwZXJpbWVudGFsIEluZGV4ZWQgREI6XG4gICAgLy8gLSBXZWJraXQncyBpbXBsZW1lbnRhdGlvbiBpcyBhY2Nlc3NpYmxlIHRocm91Z2ggd2Via2l0SW5kZXhlZERCXG4gICAgLy8gLSBGaXJlZm94IHNoaXBwZWQgbW96X2luZGV4ZWREQiBiZWZvcmUgRkY0YjksIGJ1dCBzaW5jZSB0aGVuIGhhcyBiZWVuIG1vekluZGV4ZWREQlxuICAgIC8vIEZvciBzcGVlZCwgd2UgZG9uJ3QgdGVzdCB0aGUgbGVnYWN5IChhbmQgYmV0YS1vbmx5KSBpbmRleGVkREJcbiAgICB0ZXN0c1snaW5kZXhlZERCJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhIXRlc3RQcm9wc0FsbChcImluZGV4ZWREQlwiLCB3aW5kb3cpO1xuICAgIH07XG5cbiAgICAvLyBkb2N1bWVudE1vZGUgbG9naWMgZnJvbSBZVUkgdG8gZmlsdGVyIG91dCBJRTggQ29tcGF0IE1vZGVcbiAgICAvLyAgIHdoaWNoIGZhbHNlIHBvc2l0aXZlcy5cbiAgICB0ZXN0c1snaGFzaGNoYW5nZSddID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXNFdmVudFN1cHBvcnRlZCgnaGFzaGNoYW5nZScsIHdpbmRvdykgJiYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSA9PT0gdW5kZWZpbmVkIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDcpO1xuICAgIH07XG5cbiAgICAvLyBQZXIgMS42OlxuICAgIC8vIFRoaXMgdXNlZCB0byBiZSBNb2Rlcm5penIuaGlzdG9yeW1hbmFnZW1lbnQgYnV0IHRoZSBsb25nZXJcbiAgICAvLyBuYW1lIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgYSBzaG9ydGVyIGFuZCBwcm9wZXJ0eS1tYXRjaGluZyBvbmUuXG4gICAgLy8gVGhlIG9sZCBBUEkgaXMgc3RpbGwgYXZhaWxhYmxlIGluIDEuNiwgYnV0IGFzIG9mIDIuMCB3aWxsIHRocm93IGEgd2FybmluZyxcbiAgICAvLyBhbmQgaW4gdGhlIGZpcnN0IHJlbGVhc2UgdGhlcmVhZnRlciBkaXNhcHBlYXIgZW50aXJlbHkuXG4gICAgdGVzdHNbJ2hpc3RvcnknXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICEhKHdpbmRvdy5oaXN0b3J5ICYmIGhpc3RvcnkucHVzaFN0YXRlKTtcbiAgICB9O1xuXG4gICAgdGVzdHNbJ2RyYWdhbmRkcm9wJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICByZXR1cm4gKCdkcmFnZ2FibGUnIGluIGRpdikgfHwgKCdvbmRyYWdzdGFydCcgaW4gZGl2ICYmICdvbmRyb3AnIGluIGRpdik7XG4gICAgfTtcblxuICAgIC8vIEZGMy42IHdhcyBFT0wnZWQgb24gNC8yNC8xMiwgYnV0IHRoZSBFU1IgdmVyc2lvbiBvZiBGRjEwXG4gICAgLy8gd2lsbCBiZSBzdXBwb3J0ZWQgdW50aWwgRkYxOSAoMi8xMi8xMyksIGF0IHdoaWNoIHRpbWUsIEVTUiBiZWNvbWVzIEZGMTcuXG4gICAgLy8gRkYxMCBzdGlsbCB1c2VzIHByZWZpeGVzLCBzbyBjaGVjayBmb3IgaXQgdW50aWwgdGhlbi5cbiAgICAvLyBmb3IgbW9yZSBFU1IgaW5mbywgc2VlOiBtb3ppbGxhLm9yZy9lbi1VUy9maXJlZm94L29yZ2FuaXphdGlvbnMvZmFxL1xuICAgIHRlc3RzWyd3ZWJzb2NrZXRzJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICdXZWJTb2NrZXQnIGluIHdpbmRvdyB8fCAnTW96V2ViU29ja2V0JyBpbiB3aW5kb3c7XG4gICAgfTtcblxuXG4gICAgLy8gY3NzLXRyaWNrcy5jb20vcmdiYS1icm93c2VyLXN1cHBvcnQvXG4gICAgdGVzdHNbJ3JnYmEnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBTZXQgYW4gcmdiYSgpIGNvbG9yIGFuZCBjaGVjayB0aGUgcmV0dXJuZWQgdmFsdWVcblxuICAgICAgICBzZXRDc3MoJ2JhY2tncm91bmQtY29sb3I6cmdiYSgxNTAsMjU1LDE1MCwuNSknKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbnMobVN0eWxlLmJhY2tncm91bmRDb2xvciwgJ3JnYmEnKTtcbiAgICB9O1xuXG4gICAgdGVzdHNbJ2hzbGEnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBTYW1lIGFzIHJnYmEoKSwgaW4gZmFjdCwgYnJvd3NlcnMgcmUtbWFwIGhzbGEoKSB0byByZ2JhKCkgaW50ZXJuYWxseSxcbiAgICAgICAgLy8gICBleGNlcHQgSUU5IHdobyByZXRhaW5zIGl0IGFzIGhzbGFcblxuICAgICAgICBzZXRDc3MoJ2JhY2tncm91bmQtY29sb3I6aHNsYSgxMjAsNDAlLDEwMCUsLjUpJyk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zKG1TdHlsZS5iYWNrZ3JvdW5kQ29sb3IsICdyZ2JhJykgfHwgY29udGFpbnMobVN0eWxlLmJhY2tncm91bmRDb2xvciwgJ2hzbGEnKTtcbiAgICB9O1xuXG4gICAgdGVzdHNbJ211bHRpcGxlYmdzJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gU2V0dGluZyBtdWx0aXBsZSBpbWFnZXMgQU5EIGEgY29sb3Igb24gdGhlIGJhY2tncm91bmQgc2hvcnRoYW5kIHByb3BlcnR5XG4gICAgICAgIC8vICBhbmQgdGhlbiBxdWVyeWluZyB0aGUgc3R5bGUuYmFja2dyb3VuZCBwcm9wZXJ0eSB2YWx1ZSBmb3IgdGhlIG51bWJlciBvZlxuICAgICAgICAvLyAgb2NjdXJyZW5jZXMgb2YgXCJ1cmwoXCIgaXMgYSByZWxpYWJsZSBtZXRob2QgZm9yIGRldGVjdGluZyBBQ1RVQUwgc3VwcG9ydCBmb3IgdGhpcyFcblxuICAgICAgICBzZXRDc3MoJ2JhY2tncm91bmQ6dXJsKGh0dHBzOi8vKSx1cmwoaHR0cHM6Ly8pLHJlZCB1cmwoaHR0cHM6Ly8pJyk7XG5cbiAgICAgICAgLy8gSWYgdGhlIFVBIHN1cHBvcnRzIG11bHRpcGxlIGJhY2tncm91bmRzLCB0aGVyZSBzaG91bGQgYmUgdGhyZWUgb2NjdXJyZW5jZXNcbiAgICAgICAgLy8gICBvZiB0aGUgc3RyaW5nIFwidXJsKFwiIGluIHRoZSByZXR1cm4gdmFsdWUgZm9yIGVsZW1TdHlsZS5iYWNrZ3JvdW5kXG5cbiAgICAgICAgcmV0dXJuICgvKHVybFxccypcXCguKj8pezN9LykudGVzdChtU3R5bGUuYmFja2dyb3VuZCk7XG4gICAgfTtcblxuXG5cbiAgICAvLyB0aGlzIHdpbGwgZmFsc2UgcG9zaXRpdmUgaW4gT3BlcmEgTWluaVxuICAgIC8vICAgZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2lzc3Vlcy8zOTZcblxuICAgIHRlc3RzWydiYWNrZ3JvdW5kc2l6ZSddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2JhY2tncm91bmRTaXplJyk7XG4gICAgfTtcblxuICAgIHRlc3RzWydib3JkZXJpbWFnZSddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2JvcmRlckltYWdlJyk7XG4gICAgfTtcblxuXG4gICAgLy8gU3VwZXIgY29tcHJlaGVuc2l2ZSB0YWJsZSBhYm91dCBhbGwgdGhlIHVuaXF1ZSBpbXBsZW1lbnRhdGlvbnMgb2ZcbiAgICAvLyBib3JkZXItcmFkaXVzOiBtdWRkbGVkcmFtYmxpbmdzLmNvbS90YWJsZS1vZi1jc3MzLWJvcmRlci1yYWRpdXMtY29tcGxpYW5jZVxuXG4gICAgdGVzdHNbJ2JvcmRlcnJhZGl1cyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2JvcmRlclJhZGl1cycpO1xuICAgIH07XG5cbiAgICAvLyBXZWJPUyB1bmZvcnR1bmF0ZWx5IGZhbHNlIHBvc2l0aXZlcyBvbiB0aGlzIHRlc3QuXG4gICAgdGVzdHNbJ2JveHNoYWRvdyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2JveFNoYWRvdycpO1xuICAgIH07XG5cbiAgICAvLyBGRjMuMCB3aWxsIGZhbHNlIHBvc2l0aXZlIG9uIHRoaXMgdGVzdFxuICAgIHRlc3RzWyd0ZXh0c2hhZG93J10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlLnRleHRTaGFkb3cgPT09ICcnO1xuICAgIH07XG5cblxuICAgIHRlc3RzWydvcGFjaXR5J10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gQnJvd3NlcnMgdGhhdCBhY3R1YWxseSBoYXZlIENTUyBPcGFjaXR5IGltcGxlbWVudGVkIGhhdmUgZG9uZSBzb1xuICAgICAgICAvLyAgYWNjb3JkaW5nIHRvIHNwZWMsIHdoaWNoIG1lYW5zIHRoZWlyIHJldHVybiB2YWx1ZXMgYXJlIHdpdGhpbiB0aGVcbiAgICAgICAgLy8gIHJhbmdlIG9mIFswLjAsMS4wXSAtIGluY2x1ZGluZyB0aGUgbGVhZGluZyB6ZXJvLlxuXG4gICAgICAgIHNldENzc0FsbCgnb3BhY2l0eTouNTUnKTtcblxuICAgICAgICAvLyBUaGUgbm9uLWxpdGVyYWwgLiBpbiB0aGlzIHJlZ2V4IGlzIGludGVudGlvbmFsOlxuICAgICAgICAvLyAgIEdlcm1hbiBDaHJvbWUgcmV0dXJucyB0aGlzIHZhbHVlIGFzIDAsNTVcbiAgICAgICAgLy8gZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2lzc3Vlcy8jaXNzdWUvNTkvY29tbWVudC81MTY2MzJcbiAgICAgICAgcmV0dXJuICgvXjAuNTUkLykudGVzdChtU3R5bGUub3BhY2l0eSk7XG4gICAgfTtcblxuXG4gICAgLy8gTm90ZSwgQW5kcm9pZCA8IDQgd2lsbCBwYXNzIHRoaXMgdGVzdCwgYnV0IGNhbiBvbmx5IGFuaW1hdGVcbiAgICAvLyAgIGEgc2luZ2xlIHByb3BlcnR5IGF0IGEgdGltZVxuICAgIC8vICAgZ29vLmdsL3YzVjRHcFxuICAgIHRlc3RzWydjc3NhbmltYXRpb25zJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRlc3RQcm9wc0FsbCgnYW5pbWF0aW9uTmFtZScpO1xuICAgIH07XG5cblxuICAgIHRlc3RzWydjc3Njb2x1bW5zJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRlc3RQcm9wc0FsbCgnY29sdW1uQ291bnQnKTtcbiAgICB9O1xuXG5cbiAgICB0ZXN0c1snY3NzZ3JhZGllbnRzJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvciBDU1MgR3JhZGllbnRzIHN5bnRheCwgcGxlYXNlIHNlZTpcbiAgICAgICAgICogd2Via2l0Lm9yZy9ibG9nLzE3NS9pbnRyb2R1Y2luZy1jc3MtZ3JhZGllbnRzL1xuICAgICAgICAgKiBkZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vQ1NTLy1tb3otbGluZWFyLWdyYWRpZW50XG4gICAgICAgICAqIGRldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9DU1MvLW1vei1yYWRpYWwtZ3JhZGllbnRcbiAgICAgICAgICogZGV2LnczLm9yZy9jc3N3Zy9jc3MzLWltYWdlcy8jZ3JhZGllbnRzLVxuICAgICAgICAgKi9cblxuICAgICAgICB2YXIgc3RyMSA9ICdiYWNrZ3JvdW5kLWltYWdlOicsXG4gICAgICAgICAgICBzdHIyID0gJ2dyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxyaWdodCBib3R0b20sZnJvbSgjOWY5KSx0byh3aGl0ZSkpOycsXG4gICAgICAgICAgICBzdHIzID0gJ2xpbmVhci1ncmFkaWVudChsZWZ0IHRvcCwjOWY5LCB3aGl0ZSk7JztcblxuICAgICAgICBzZXRDc3MoXG4gICAgICAgICAgICAgLy8gbGVnYWN5IHdlYmtpdCBzeW50YXggKEZJWE1FOiByZW1vdmUgd2hlbiBzeW50YXggbm90IGluIHVzZSBhbnltb3JlKVxuICAgICAgICAgICAgICAoc3RyMSArICctd2Via2l0LSAnLnNwbGl0KCcgJykuam9pbihzdHIyICsgc3RyMSkgK1xuICAgICAgICAgICAgIC8vIHN0YW5kYXJkIHN5bnRheCAgICAgICAgICAgICAvLyB0cmFpbGluZyAnYmFja2dyb3VuZC1pbWFnZTonXG4gICAgICAgICAgICAgIHByZWZpeGVzLmpvaW4oc3RyMyArIHN0cjEpKS5zbGljZSgwLCAtc3RyMS5sZW5ndGgpXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zKG1TdHlsZS5iYWNrZ3JvdW5kSW1hZ2UsICdncmFkaWVudCcpO1xuICAgIH07XG5cblxuICAgIHRlc3RzWydjc3NyZWZsZWN0aW9ucyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2JveFJlZmxlY3QnKTtcbiAgICB9O1xuXG5cbiAgICB0ZXN0c1snY3NzdHJhbnNmb3JtcyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRlc3RQcm9wc0FsbCgndHJhbnNmb3JtJyk7XG4gICAgfTtcblxuXG4gICAgdGVzdHNbJ2Nzc3RyYW5zZm9ybXMzZCddID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHJldCA9ICEhdGVzdFByb3BzQWxsKCdwZXJzcGVjdGl2ZScpO1xuXG4gICAgICAgIC8vIFdlYmtpdCdzIDNEIHRyYW5zZm9ybXMgYXJlIHBhc3NlZCBvZmYgdG8gdGhlIGJyb3dzZXIncyBvd24gZ3JhcGhpY3MgcmVuZGVyZXIuXG4gICAgICAgIC8vICAgSXQgd29ya3MgZmluZSBpbiBTYWZhcmkgb24gTGVvcGFyZCBhbmQgU25vdyBMZW9wYXJkLCBidXQgbm90IGluIENocm9tZSBpblxuICAgICAgICAvLyAgIHNvbWUgY29uZGl0aW9ucy4gQXMgYSByZXN1bHQsIFdlYmtpdCB0eXBpY2FsbHkgcmVjb2duaXplcyB0aGUgc3ludGF4IGJ1dFxuICAgICAgICAvLyAgIHdpbGwgc29tZXRpbWVzIHRocm93IGEgZmFsc2UgcG9zaXRpdmUsIHRodXMgd2UgbXVzdCBkbyBhIG1vcmUgdGhvcm91Z2ggY2hlY2s6XG4gICAgICAgIGlmICggcmV0ICYmICd3ZWJraXRQZXJzcGVjdGl2ZScgaW4gZG9jRWxlbWVudC5zdHlsZSApIHtcblxuICAgICAgICAgIC8vIFdlYmtpdCBhbGxvd3MgdGhpcyBtZWRpYSBxdWVyeSB0byBzdWNjZWVkIG9ubHkgaWYgdGhlIGZlYXR1cmUgaXMgZW5hYmxlZC5cbiAgICAgICAgICAvLyBgQG1lZGlhICh0cmFuc2Zvcm0tM2QpLCgtd2Via2l0LXRyYW5zZm9ybS0zZCl7IC4uLiB9YFxuICAgICAgICAgIGluamVjdEVsZW1lbnRXaXRoU3R5bGVzKCdAbWVkaWEgKHRyYW5zZm9ybS0zZCksKC13ZWJraXQtdHJhbnNmb3JtLTNkKXsjbW9kZXJuaXpye2xlZnQ6OXB4O3Bvc2l0aW9uOmFic29sdXRlO2hlaWdodDozcHg7fX0nLCBmdW5jdGlvbiggbm9kZSwgcnVsZSApIHtcbiAgICAgICAgICAgIHJldCA9IG5vZGUub2Zmc2V0TGVmdCA9PT0gOSAmJiBub2RlLm9mZnNldEhlaWdodCA9PT0gMztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cblxuICAgIHRlc3RzWydjc3N0cmFuc2l0aW9ucyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ3RyYW5zaXRpb24nKTtcbiAgICB9O1xuXG5cbiAgICAvKj4+Zm9udGZhY2UqL1xuICAgIC8vIEBmb250LWZhY2UgZGV0ZWN0aW9uIHJvdXRpbmUgYnkgRGllZ28gUGVyaW5pXG4gICAgLy8gamF2YXNjcmlwdC5ud2JveC5jb20vQ1NTU3VwcG9ydC9cblxuICAgIC8vIGZhbHNlIHBvc2l0aXZlczpcbiAgICAvLyAgIFdlYk9TIGdpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9pc3N1ZXMvMzQyXG4gICAgLy8gICBXUDcgICBnaXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvaXNzdWVzLzUzOFxuICAgIHRlc3RzWydmb250ZmFjZSddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBib29sO1xuXG4gICAgICAgIGluamVjdEVsZW1lbnRXaXRoU3R5bGVzKCdAZm9udC1mYWNlIHtmb250LWZhbWlseTpcImZvbnRcIjtzcmM6dXJsKFwiaHR0cHM6Ly9cIil9JywgZnVuY3Rpb24oIG5vZGUsIHJ1bGUgKSB7XG4gICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Ntb2Rlcm5penInKSxcbiAgICAgICAgICAgICAgc2hlZXQgPSBzdHlsZS5zaGVldCB8fCBzdHlsZS5zdHlsZVNoZWV0LFxuICAgICAgICAgICAgICBjc3NUZXh0ID0gc2hlZXQgPyAoc2hlZXQuY3NzUnVsZXMgJiYgc2hlZXQuY3NzUnVsZXNbMF0gPyBzaGVldC5jc3NSdWxlc1swXS5jc3NUZXh0IDogc2hlZXQuY3NzVGV4dCB8fCAnJykgOiAnJztcblxuICAgICAgICAgIGJvb2wgPSAvc3JjL2kudGVzdChjc3NUZXh0KSAmJiBjc3NUZXh0LmluZGV4T2YocnVsZS5zcGxpdCgnICcpWzBdKSA9PT0gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGJvb2w7XG4gICAgfTtcbiAgICAvKj4+Zm9udGZhY2UqL1xuXG4gICAgLy8gQ1NTIGdlbmVyYXRlZCBjb250ZW50IGRldGVjdGlvblxuICAgIHRlc3RzWydnZW5lcmF0ZWRjb250ZW50J10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGJvb2w7XG5cbiAgICAgICAgaW5qZWN0RWxlbWVudFdpdGhTdHlsZXMoWycjJyxtb2QsJ3tmb250OjAvMCBhfSMnLG1vZCwnOmFmdGVye2NvbnRlbnQ6XCInLHNtaWxlLCdcIjt2aXNpYmlsaXR5OmhpZGRlbjtmb250OjNweC8xIGF9J10uam9pbignJyksIGZ1bmN0aW9uKCBub2RlICkge1xuICAgICAgICAgIGJvb2wgPSBub2RlLm9mZnNldEhlaWdodCA+PSAzO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYm9vbDtcbiAgICB9O1xuXG5cblxuICAgIC8vIFRoZXNlIHRlc3RzIGV2YWx1YXRlIHN1cHBvcnQgb2YgdGhlIHZpZGVvL2F1ZGlvIGVsZW1lbnRzLCBhcyB3ZWxsIGFzXG4gICAgLy8gdGVzdGluZyB3aGF0IHR5cGVzIG9mIGNvbnRlbnQgdGhleSBzdXBwb3J0LlxuICAgIC8vXG4gICAgLy8gV2UncmUgdXNpbmcgdGhlIEJvb2xlYW4gY29uc3RydWN0b3IgaGVyZSwgc28gdGhhdCB3ZSBjYW4gZXh0ZW5kIHRoZSB2YWx1ZVxuICAgIC8vIGUuZy4gIE1vZGVybml6ci52aWRlbyAgICAgLy8gdHJ1ZVxuICAgIC8vICAgICAgIE1vZGVybml6ci52aWRlby5vZ2cgLy8gJ3Byb2JhYmx5J1xuICAgIC8vXG4gICAgLy8gQ29kZWMgdmFsdWVzIGZyb20gOiBnaXRodWIuY29tL05pZWxzTGVlbmhlZXIvaHRtbDV0ZXN0L2Jsb2IvOTEwNmE4L2luZGV4Lmh0bWwjTDg0NVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGh4IHRvIE5pZWxzTGVlbmhlZXIgYW5kIHpjb3JwYW5cblxuICAgIC8vIE5vdGU6IGluIHNvbWUgb2xkZXIgYnJvd3NlcnMsIFwibm9cIiB3YXMgYSByZXR1cm4gdmFsdWUgaW5zdGVhZCBvZiBlbXB0eSBzdHJpbmcuXG4gICAgLy8gICBJdCB3YXMgbGl2ZSBpbiBGRjMuNS4wIGFuZCAzLjUuMSwgYnV0IGZpeGVkIGluIDMuNS4yXG4gICAgLy8gICBJdCB3YXMgYWxzbyBsaXZlIGluIFNhZmFyaSA0LjAuMCAtIDQuMC40LCBidXQgZml4ZWQgaW4gNC4wLjVcblxuICAgIHRlc3RzWyd2aWRlbyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKSxcbiAgICAgICAgICAgIGJvb2wgPSBmYWxzZTtcblxuICAgICAgICAvLyBJRTkgUnVubmluZyBvbiBXaW5kb3dzIFNlcnZlciBTS1UgY2FuIGNhdXNlIGFuIGV4Y2VwdGlvbiB0byBiZSB0aHJvd24sIGJ1ZyAjMjI0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIGJvb2wgPSAhIWVsZW0uY2FuUGxheVR5cGUgKSB7XG4gICAgICAgICAgICAgICAgYm9vbCAgICAgID0gbmV3IEJvb2xlYW4oYm9vbCk7XG4gICAgICAgICAgICAgICAgYm9vbC5vZ2cgID0gZWxlbS5jYW5QbGF5VHlwZSgndmlkZW8vb2dnOyBjb2RlY3M9XCJ0aGVvcmFcIicpICAgICAgLnJlcGxhY2UoL15ubyQvLCcnKTtcblxuICAgICAgICAgICAgICAgIC8vIFdpdGhvdXQgUXVpY2tUaW1lLCB0aGlzIHZhbHVlIHdpbGwgYmUgYHVuZGVmaW5lZGAuIGdpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9pc3N1ZXMvNTQ2XG4gICAgICAgICAgICAgICAgYm9vbC5oMjY0ID0gZWxlbS5jYW5QbGF5VHlwZSgndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyRTAxRVwiJykgLnJlcGxhY2UoL15ubyQvLCcnKTtcblxuICAgICAgICAgICAgICAgIGJvb2wud2VibSA9IGVsZW0uY2FuUGxheVR5cGUoJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOCwgdm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBjYXRjaChlKSB7IH1cblxuICAgICAgICByZXR1cm4gYm9vbDtcbiAgICB9O1xuXG4gICAgdGVzdHNbJ2F1ZGlvJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpLFxuICAgICAgICAgICAgYm9vbCA9IGZhbHNlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIGJvb2wgPSAhIWVsZW0uY2FuUGxheVR5cGUgKSB7XG4gICAgICAgICAgICAgICAgYm9vbCAgICAgID0gbmV3IEJvb2xlYW4oYm9vbCk7XG4gICAgICAgICAgICAgICAgYm9vbC5vZ2cgID0gZWxlbS5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCcnKTtcbiAgICAgICAgICAgICAgICBib29sLm1wMyAgPSBlbGVtLmNhblBsYXlUeXBlKCdhdWRpby9tcGVnOycpICAgICAgICAgICAgICAgLnJlcGxhY2UoL15ubyQvLCcnKTtcblxuICAgICAgICAgICAgICAgIC8vIE1pbWV0eXBlcyBhY2NlcHRlZDpcbiAgICAgICAgICAgICAgICAvLyAgIGRldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9NZWRpYV9mb3JtYXRzX3N1cHBvcnRlZF9ieV90aGVfYXVkaW9fYW5kX3ZpZGVvX2VsZW1lbnRzXG4gICAgICAgICAgICAgICAgLy8gICBiaXQubHkvaXBob25lb3Njb2RlY3NcbiAgICAgICAgICAgICAgICBib29sLndhdiAgPSBlbGVtLmNhblBsYXlUeXBlKCdhdWRpby93YXY7IGNvZGVjcz1cIjFcIicpICAgICAucmVwbGFjZSgvXm5vJC8sJycpO1xuICAgICAgICAgICAgICAgIGJvb2wubTRhICA9ICggZWxlbS5jYW5QbGF5VHlwZSgnYXVkaW8veC1tNGE7JykgICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKSAgICAgICAgICAgICAucmVwbGFjZSgvXm5vJC8sJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoKGUpIHsgfVxuXG4gICAgICAgIHJldHVybiBib29sO1xuICAgIH07XG5cblxuICAgIC8vIEluIEZGNCwgaWYgZGlzYWJsZWQsIHdpbmRvdy5sb2NhbFN0b3JhZ2Ugc2hvdWxkID09PSBudWxsLlxuXG4gICAgLy8gTm9ybWFsbHksIHdlIGNvdWxkIG5vdCB0ZXN0IHRoYXQgZGlyZWN0bHkgYW5kIG5lZWQgdG8gZG8gYVxuICAgIC8vICAgYCgnbG9jYWxTdG9yYWdlJyBpbiB3aW5kb3cpICYmIGAgdGVzdCBmaXJzdCBiZWNhdXNlIG90aGVyd2lzZSBGaXJlZm94IHdpbGxcbiAgICAvLyAgIHRocm93IGJ1Z3ppbC5sYS8zNjU3NzIgaWYgY29va2llcyBhcmUgZGlzYWJsZWRcblxuICAgIC8vIEFsc28gaW4gaU9TNSBQcml2YXRlIEJyb3dzaW5nIG1vZGUsIGF0dGVtcHRpbmcgdG8gdXNlIGxvY2FsU3RvcmFnZS5zZXRJdGVtXG4gICAgLy8gd2lsbCB0aHJvdyB0aGUgZXhjZXB0aW9uOlxuICAgIC8vICAgUVVPVEFfRVhDRUVERURfRVJSUk9SIERPTSBFeGNlcHRpb24gMjIuXG4gICAgLy8gUGVjdWxpYXJseSwgZ2V0SXRlbSBhbmQgcmVtb3ZlSXRlbSBjYWxscyBkbyBub3QgdGhyb3cuXG5cbiAgICAvLyBCZWNhdXNlIHdlIGFyZSBmb3JjZWQgdG8gdHJ5L2NhdGNoIHRoaXMsIHdlJ2xsIGdvIGFnZ3Jlc3NpdmUuXG5cbiAgICAvLyBKdXN0IEZXSVc6IElFOCBDb21wYXQgbW9kZSBzdXBwb3J0cyB0aGVzZSBmZWF0dXJlcyBjb21wbGV0ZWx5OlxuICAgIC8vICAgd3d3LnF1aXJrc21vZGUub3JnL2RvbS9odG1sNS5odG1sXG4gICAgLy8gQnV0IElFOCBkb2Vzbid0IHN1cHBvcnQgZWl0aGVyIHdpdGggbG9jYWwgZmlsZXNcblxuICAgIHRlc3RzWydsb2NhbHN0b3JhZ2UnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obW9kLCBtb2QpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obW9kKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0ZXN0c1snc2Vzc2lvbnN0b3JhZ2UnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShtb2QsIG1vZCk7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKG1vZCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICB0ZXN0c1snd2Vid29ya2VycyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXdpbmRvdy5Xb3JrZXI7XG4gICAgfTtcblxuXG4gICAgdGVzdHNbJ2FwcGxpY2F0aW9uY2FjaGUnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gISF3aW5kb3cuYXBwbGljYXRpb25DYWNoZTtcbiAgICB9O1xuXG5cbiAgICAvLyBUaGFua3MgdG8gRXJpayBEYWhsc3Ryb21cbiAgICB0ZXN0c1snc3ZnJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLnN2ZywgJ3N2ZycpLmNyZWF0ZVNWR1JlY3Q7XG4gICAgfTtcblxuICAgIC8vIHNwZWNpZmljYWxseSBmb3IgU1ZHIGlubGluZSBpbiBIVE1MLCBub3Qgd2l0aGluIFhIVE1MXG4gICAgLy8gdGVzdCBwYWdlOiBwYXVsaXJpc2guY29tL2RlbW8vaW5saW5lLXN2Z1xuICAgIHRlc3RzWydpbmxpbmVzdmcnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGl2LmlubmVySFRNTCA9ICc8c3ZnLz4nO1xuICAgICAgcmV0dXJuIChkaXYuZmlyc3RDaGlsZCAmJiBkaXYuZmlyc3RDaGlsZC5uYW1lc3BhY2VVUkkpID09IG5zLnN2ZztcbiAgICB9O1xuXG4gICAgLy8gU1ZHIFNNSUwgYW5pbWF0aW9uXG4gICAgdGVzdHNbJ3NtaWwnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiYgL1NWR0FuaW1hdGUvLnRlc3QodG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMuc3ZnLCAnYW5pbWF0ZScpKSk7XG4gICAgfTtcblxuICAgIC8vIFRoaXMgdGVzdCBpcyBvbmx5IGZvciBjbGlwIHBhdGhzIGluIFNWRyBwcm9wZXIsIG5vdCBjbGlwIHBhdGhzIG9uIEhUTUwgY29udGVudFxuICAgIC8vIGRlbW86IHNydWZhY3VsdHkuc3J1LmVkdS9kYXZpZC5kYWlsZXkvc3ZnL25ld3N0dWZmL2NsaXBQYXRoNC5zdmdcblxuICAgIC8vIEhvd2V2ZXIgcmVhZCB0aGUgY29tbWVudHMgdG8gZGlnIGludG8gYXBwbHlpbmcgU1ZHIGNsaXBwYXRocyB0byBIVE1MIGNvbnRlbnQgaGVyZTpcbiAgICAvLyAgIGdpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9pc3N1ZXMvMjEzI2lzc3VlY29tbWVudC0xMTQ5NDkxXG4gICAgdGVzdHNbJ3N2Z2NsaXBwYXRocyddID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiAvU1ZHQ2xpcFBhdGgvLnRlc3QodG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMuc3ZnLCAnY2xpcFBhdGgnKSkpO1xuICAgIH07XG5cbiAgICAvKj4+d2ViZm9ybXMqL1xuICAgIC8vIGlucHV0IGZlYXR1cmVzIGFuZCBpbnB1dCB0eXBlcyBnbyBkaXJlY3RseSBvbnRvIHRoZSByZXQgb2JqZWN0LCBieXBhc3NpbmcgdGhlIHRlc3RzIGxvb3AuXG4gICAgLy8gSG9sZCB0aGlzIGd1eSB0byBleGVjdXRlIGluIGEgbW9tZW50LlxuICAgIGZ1bmN0aW9uIHdlYmZvcm1zKCkge1xuICAgICAgICAvKj4+aW5wdXQqL1xuICAgICAgICAvLyBSdW4gdGhyb3VnaCBIVE1MNSdzIG5ldyBpbnB1dCBhdHRyaWJ1dGVzIHRvIHNlZSBpZiB0aGUgVUEgdW5kZXJzdGFuZHMgYW55LlxuICAgICAgICAvLyBXZSdyZSB1c2luZyBmIHdoaWNoIGlzIHRoZSA8aW5wdXQ+IGVsZW1lbnQgY3JlYXRlZCBlYXJseSBvblxuICAgICAgICAvLyBNaWtlIFRheWxyIGhhcyBjcmVhdGVkIGEgY29tcHJlaGVuc2l2ZSByZXNvdXJjZSBmb3IgdGVzdGluZyB0aGVzZSBhdHRyaWJ1dGVzXG4gICAgICAgIC8vICAgd2hlbiBhcHBsaWVkIHRvIGFsbCBpbnB1dCB0eXBlczpcbiAgICAgICAgLy8gICBtaWtldGF5bHIuY29tL2NvZGUvaW5wdXQtdHlwZS1hdHRyLmh0bWxcbiAgICAgICAgLy8gc3BlYzogd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtaW5wdXQtZWxlbWVudC5odG1sI2lucHV0LXR5cGUtYXR0ci1zdW1tYXJ5XG5cbiAgICAgICAgLy8gT25seSBpbnB1dCBwbGFjZWhvbGRlciBpcyB0ZXN0ZWQgd2hpbGUgdGV4dGFyZWEncyBwbGFjZWhvbGRlciBpcyBub3QuXG4gICAgICAgIC8vIEN1cnJlbnRseSBTYWZhcmkgNCBhbmQgT3BlcmEgMTEgaGF2ZSBzdXBwb3J0IG9ubHkgZm9yIHRoZSBpbnB1dCBwbGFjZWhvbGRlclxuICAgICAgICAvLyBCb3RoIHRlc3RzIGFyZSBhdmFpbGFibGUgaW4gZmVhdHVyZS1kZXRlY3RzL2Zvcm1zLXBsYWNlaG9sZGVyLmpzXG4gICAgICAgIE1vZGVybml6clsnaW5wdXQnXSA9IChmdW5jdGlvbiggcHJvcHMgKSB7XG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGxlbiA9IHByb3BzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuICAgICAgICAgICAgICAgIGF0dHJzWyBwcm9wc1tpXSBdID0gISEocHJvcHNbaV0gaW4gaW5wdXRFbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdHRycy5saXN0KXtcbiAgICAgICAgICAgICAgLy8gc2FmYXJpIGZhbHNlIHBvc2l0aXZlJ3Mgb24gZGF0YWxpc3Q6IHdlYmsuaXQvNzQyNTJcbiAgICAgICAgICAgICAgLy8gc2VlIGFsc28gZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2lzc3Vlcy8xNDZcbiAgICAgICAgICAgICAgYXR0cnMubGlzdCA9ICEhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RhdGFsaXN0JykgJiYgd2luZG93LkhUTUxEYXRhTGlzdEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgICAgICB9KSgnYXV0b2NvbXBsZXRlIGF1dG9mb2N1cyBsaXN0IHBsYWNlaG9sZGVyIG1heCBtaW4gbXVsdGlwbGUgcGF0dGVybiByZXF1aXJlZCBzdGVwJy5zcGxpdCgnICcpKTtcbiAgICAgICAgLyo+PmlucHV0Ki9cblxuICAgICAgICAvKj4+aW5wdXR0eXBlcyovXG4gICAgICAgIC8vIFJ1biB0aHJvdWdoIEhUTUw1J3MgbmV3IGlucHV0IHR5cGVzIHRvIHNlZSBpZiB0aGUgVUEgdW5kZXJzdGFuZHMgYW55LlxuICAgICAgICAvLyAgIFRoaXMgaXMgcHV0IGJlaGluZCB0aGUgdGVzdHMgcnVubG9vcCBiZWNhdXNlIGl0IGRvZXNuJ3QgcmV0dXJuIGFcbiAgICAgICAgLy8gICB0cnVlL2ZhbHNlIGxpa2UgYWxsIHRoZSBvdGhlciB0ZXN0czsgaW5zdGVhZCwgaXQgcmV0dXJucyBhbiBvYmplY3RcbiAgICAgICAgLy8gICBjb250YWluaW5nIGVhY2ggaW5wdXQgdHlwZSB3aXRoIGl0cyBjb3JyZXNwb25kaW5nIHRydWUvZmFsc2UgdmFsdWVcblxuICAgICAgICAvLyBCaWcgdGhhbmtzIHRvIEBtaWtldGF5bHIgZm9yIHRoZSBodG1sNSBmb3JtcyBleHBlcnRpc2UuIG1pa2V0YXlsci5jb20vXG4gICAgICAgIE1vZGVybml6clsnaW5wdXR0eXBlcyddID0gKGZ1bmN0aW9uKHByb3BzKSB7XG5cbiAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCwgYm9vbCwgaW5wdXRFbGVtVHlwZSwgZGVmYXVsdFZpZXcsIGxlbiA9IHByb3BzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgaW5wdXRFbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsIGlucHV0RWxlbVR5cGUgPSBwcm9wc1tpXSk7XG4gICAgICAgICAgICAgICAgYm9vbCA9IGlucHV0RWxlbS50eXBlICE9PSAndGV4dCc7XG5cbiAgICAgICAgICAgICAgICAvLyBXZSBmaXJzdCBjaGVjayB0byBzZWUgaWYgdGhlIHR5cGUgd2UgZ2l2ZSBpdCBzdGlja3MuLlxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0eXBlIGRvZXMsIHdlIGZlZWQgaXQgYSB0ZXh0dWFsIHZhbHVlLCB3aGljaCBzaG91bGRuJ3QgYmUgdmFsaWQuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGRvZXNuJ3Qgc3RpY2ssIHdlIGtub3cgdGhlcmUncyBpbnB1dCBzYW5pdGl6YXRpb24gd2hpY2ggaW5mZXJzIGEgY3VzdG9tIFVJXG4gICAgICAgICAgICAgICAgaWYgKCBib29sICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlucHV0RWxlbS52YWx1ZSAgICAgICAgID0gc21pbGU7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0RWxlbS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmFic29sdXRlO3Zpc2liaWxpdHk6aGlkZGVuOyc7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAvXnJhbmdlJC8udGVzdChpbnB1dEVsZW1UeXBlKSAmJiBpbnB1dEVsZW0uc3R5bGUuV2Via2l0QXBwZWFyYW5jZSAhPT0gdW5kZWZpbmVkICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgZG9jRWxlbWVudC5hcHBlbmRDaGlsZChpbnB1dEVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWaWV3ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBTYWZhcmkgMi00IGFsbG93cyB0aGUgc21pbGV5IGFzIGEgdmFsdWUsIGRlc3BpdGUgbWFraW5nIGEgc2xpZGVyXG4gICAgICAgICAgICAgICAgICAgICAgYm9vbCA9ICBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGlucHV0RWxlbSwgbnVsbCkuV2Via2l0QXBwZWFyYW5jZSAhPT0gJ3RleHRmaWVsZCcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vYmlsZSBhbmRyb2lkIHdlYiBicm93c2VyIGhhcyBmYWxzZSBwb3NpdGl2ZSwgc28gbXVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhlIGhlaWdodCB0byBzZWUgaWYgdGhlIHdpZGdldCBpcyBhY3R1YWxseSB0aGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpbnB1dEVsZW0ub2Zmc2V0SGVpZ2h0ICE9PSAwKTtcblxuICAgICAgICAgICAgICAgICAgICAgIGRvY0VsZW1lbnQucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCAvXihzZWFyY2h8dGVsKSQvLnRlc3QoaW5wdXRFbGVtVHlwZSkgKXtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBTcGVjIGRvZXNuJ3QgZGVmaW5lIGFueSBzcGVjaWFsIHBhcnNpbmcgb3IgZGV0ZWN0YWJsZSBVSVxuICAgICAgICAgICAgICAgICAgICAgIC8vICAgYmVoYXZpb3JzIHNvIHdlIHBhc3MgdGhlc2UgdGhyb3VnaCBhcyB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBJbnRlcmVzdGluZ2x5LCBvcGVyYSBmYWlscyB0aGUgZWFybGllciB0ZXN0LCBzbyBpdCBkb2Vzbid0XG4gICAgICAgICAgICAgICAgICAgICAgLy8gIGV2ZW4gbWFrZSBpdCBoZXJlLlxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIC9eKHVybHxlbWFpbCkkLy50ZXN0KGlucHV0RWxlbVR5cGUpICkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIFJlYWwgdXJsIGFuZCBlbWFpbCBzdXBwb3J0IGNvbWVzIHdpdGggcHJlYmFrZWQgdmFsaWRhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICBib29sID0gaW5wdXRFbGVtLmNoZWNrVmFsaWRpdHkgJiYgaW5wdXRFbGVtLmNoZWNrVmFsaWRpdHkoKSA9PT0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdXBncmFkZWQgaW5wdXQgY29tcG9udGVudCByZWplY3RzIHRoZSA6KSB0ZXh0LCB3ZSBnb3QgYSB3aW5uZXJcbiAgICAgICAgICAgICAgICAgICAgICBib29sID0gaW5wdXRFbGVtLnZhbHVlICE9IHNtaWxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaW5wdXRzWyBwcm9wc1tpXSBdID0gISFib29sO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlucHV0cztcbiAgICAgICAgfSkoJ3NlYXJjaCB0ZWwgdXJsIGVtYWlsIGRhdGV0aW1lIGRhdGUgbW9udGggd2VlayB0aW1lIGRhdGV0aW1lLWxvY2FsIG51bWJlciByYW5nZSBjb2xvcicuc3BsaXQoJyAnKSk7XG4gICAgICAgIC8qPj5pbnB1dHR5cGVzKi9cbiAgICB9XG4gICAgLyo+PndlYmZvcm1zKi9cblxuXG4gICAgLy8gRW5kIG9mIHRlc3QgZGVmaW5pdGlvbnNcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cblxuICAgIC8vIFJ1biB0aHJvdWdoIGFsbCB0ZXN0cyBhbmQgZGV0ZWN0IHRoZWlyIHN1cHBvcnQgaW4gdGhlIGN1cnJlbnQgVUEuXG4gICAgLy8gdG9kbzogaHlwb3RoZXRpY2FsbHkgd2UgY291bGQgYmUgZG9pbmcgYW4gYXJyYXkgb2YgdGVzdHMgYW5kIHVzZSBhIGJhc2ljIGxvb3AgaGVyZS5cbiAgICBmb3IgKCB2YXIgZmVhdHVyZSBpbiB0ZXN0cyApIHtcbiAgICAgICAgaWYgKCBoYXNPd25Qcm9wKHRlc3RzLCBmZWF0dXJlKSApIHtcbiAgICAgICAgICAgIC8vIHJ1biB0aGUgdGVzdCwgdGhyb3cgdGhlIHJldHVybiB2YWx1ZSBpbnRvIHRoZSBNb2Rlcm5penIsXG4gICAgICAgICAgICAvLyAgIHRoZW4gYmFzZWQgb24gdGhhdCBib29sZWFuLCBkZWZpbmUgYW4gYXBwcm9wcmlhdGUgY2xhc3NOYW1lXG4gICAgICAgICAgICAvLyAgIGFuZCBwdXNoIGl0IGludG8gYW4gYXJyYXkgb2YgY2xhc3NlcyB3ZSdsbCBqb2luIGxhdGVyLlxuICAgICAgICAgICAgZmVhdHVyZU5hbWUgID0gZmVhdHVyZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVOYW1lXSA9IHRlc3RzW2ZlYXR1cmVdKCk7XG5cbiAgICAgICAgICAgIGNsYXNzZXMucHVzaCgoTW9kZXJuaXpyW2ZlYXR1cmVOYW1lXSA/ICcnIDogJ25vLScpICsgZmVhdHVyZU5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyo+PndlYmZvcm1zKi9cbiAgICAvLyBpbnB1dCB0ZXN0cyBuZWVkIHRvIHJ1bi5cbiAgICBNb2Rlcm5penIuaW5wdXQgfHwgd2ViZm9ybXMoKTtcbiAgICAvKj4+d2ViZm9ybXMqL1xuXG5cbiAgICAvKipcbiAgICAgKiBhZGRUZXN0IGFsbG93cyB0aGUgdXNlciB0byBkZWZpbmUgdGhlaXIgb3duIGZlYXR1cmUgdGVzdHNcbiAgICAgKiB0aGUgcmVzdWx0IHdpbGwgYmUgYWRkZWQgb250byB0aGUgTW9kZXJuaXpyIG9iamVjdCxcbiAgICAgKiBhcyB3ZWxsIGFzIGFuIGFwcHJvcHJpYXRlIGNsYXNzTmFtZSBzZXQgb24gdGhlIGh0bWwgZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIGZlYXR1cmUgLSBTdHJpbmcgbmFtaW5nIHRoZSBmZWF0dXJlXG4gICAgICogQHBhcmFtIHRlc3QgLSBGdW5jdGlvbiByZXR1cm5pbmcgdHJ1ZSBpZiBmZWF0dXJlIGlzIHN1cHBvcnRlZCwgZmFsc2UgaWYgbm90XG4gICAgICovXG4gICAgIE1vZGVybml6ci5hZGRUZXN0ID0gZnVuY3Rpb24gKCBmZWF0dXJlLCB0ZXN0ICkge1xuICAgICAgIGlmICggdHlwZW9mIGZlYXR1cmUgPT0gJ29iamVjdCcgKSB7XG4gICAgICAgICBmb3IgKCB2YXIga2V5IGluIGZlYXR1cmUgKSB7XG4gICAgICAgICAgIGlmICggaGFzT3duUHJvcCggZmVhdHVyZSwga2V5ICkgKSB7XG4gICAgICAgICAgICAgTW9kZXJuaXpyLmFkZFRlc3QoIGtleSwgZmVhdHVyZVsga2V5IF0gKTtcbiAgICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgIGZlYXR1cmUgPSBmZWF0dXJlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgIGlmICggTW9kZXJuaXpyW2ZlYXR1cmVdICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgIC8vIHdlJ3JlIGdvaW5nIHRvIHF1aXQgaWYgeW91J3JlIHRyeWluZyB0byBvdmVyd3JpdGUgYW4gZXhpc3RpbmcgdGVzdFxuICAgICAgICAgICAvLyBpZiB3ZSB3ZXJlIHRvIGFsbG93IGl0LCB3ZSdkIGRvIHRoaXM6XG4gICAgICAgICAgIC8vICAgdmFyIHJlID0gbmV3IFJlZ0V4cChcIlxcXFxiKG5vLSk/XCIgKyBmZWF0dXJlICsgXCJcXFxcYlwiKTtcbiAgICAgICAgICAgLy8gICBkb2NFbGVtZW50LmNsYXNzTmFtZSA9IGRvY0VsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoIHJlLCAnJyApO1xuICAgICAgICAgICAvLyBidXQsIG5vIHJseSwgc3R1ZmYgJ2VtLlxuICAgICAgICAgICByZXR1cm4gTW9kZXJuaXpyO1xuICAgICAgICAgfVxuXG4gICAgICAgICB0ZXN0ID0gdHlwZW9mIHRlc3QgPT0gJ2Z1bmN0aW9uJyA/IHRlc3QoKSA6IHRlc3Q7XG5cbiAgICAgICAgIGlmICh0eXBlb2YgZW5hYmxlQ2xhc3NlcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbmFibGVDbGFzc2VzKSB7XG4gICAgICAgICAgIGRvY0VsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArICh0ZXN0ID8gJycgOiAnbm8tJykgKyBmZWF0dXJlO1xuICAgICAgICAgfVxuICAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVdID0gdGVzdDtcblxuICAgICAgIH1cblxuICAgICAgIHJldHVybiBNb2Rlcm5penI7IC8vIGFsbG93IGNoYWluaW5nLlxuICAgICB9O1xuXG5cbiAgICAvLyBSZXNldCBtb2RFbGVtLmNzc1RleHQgdG8gbm90aGluZyB0byByZWR1Y2UgbWVtb3J5IGZvb3RwcmludC5cbiAgICBzZXRDc3MoJycpO1xuICAgIG1vZEVsZW0gPSBpbnB1dEVsZW0gPSBudWxsO1xuXG4gICAgLyo+PnNoaXYqL1xuICAgIC8qKlxuICAgICAqIEBwcmVzZXJ2ZSBIVE1MNSBTaGl2IHByZXYzLjcuMSB8IEBhZmFya2FzIEBqZGFsdG9uIEBqb25fbmVhbCBAcmVtIHwgTUlUL0dQTDIgTGljZW5zZWRcbiAgICAgKi9cbiAgICA7KGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQpIHtcbiAgICAgICAgLypqc2hpbnQgZXZpbDp0cnVlICovXG4gICAgICAgIC8qKiB2ZXJzaW9uICovXG4gICAgICAgIHZhciB2ZXJzaW9uID0gJzMuNy4wJztcblxuICAgICAgICAvKiogUHJlc2V0IG9wdGlvbnMgKi9cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB3aW5kb3cuaHRtbDUgfHwge307XG5cbiAgICAgICAgLyoqIFVzZWQgdG8gc2tpcCBwcm9ibGVtIGVsZW1lbnRzICovXG4gICAgICAgIHZhciByZVNraXAgPSAvXjx8Xig/OmJ1dHRvbnxtYXB8c2VsZWN0fHRleHRhcmVhfG9iamVjdHxpZnJhbWV8b3B0aW9ufG9wdGdyb3VwKSQvaTtcblxuICAgICAgICAvKiogTm90IGFsbCBlbGVtZW50cyBjYW4gYmUgY2xvbmVkIGluIElFICoqL1xuICAgICAgICB2YXIgc2F2ZUNsb25lcyA9IC9eKD86YXxifGNvZGV8ZGl2fGZpZWxkc2V0fGgxfGgyfGgzfGg0fGg1fGg2fGl8bGFiZWx8bGl8b2x8cHxxfHNwYW58c3Ryb25nfHN0eWxlfHRhYmxlfHRib2R5fHRkfHRofHRyfHVsKSQvaTtcblxuICAgICAgICAvKiogRGV0ZWN0IHdoZXRoZXIgdGhlIGJyb3dzZXIgc3VwcG9ydHMgZGVmYXVsdCBodG1sNSBzdHlsZXMgKi9cbiAgICAgICAgdmFyIHN1cHBvcnRzSHRtbDVTdHlsZXM7XG5cbiAgICAgICAgLyoqIE5hbWUgb2YgdGhlIGV4cGFuZG8sIHRvIHdvcmsgd2l0aCBtdWx0aXBsZSBkb2N1bWVudHMgb3IgdG8gcmUtc2hpdiBvbmUgZG9jdW1lbnQgKi9cbiAgICAgICAgdmFyIGV4cGFuZG8gPSAnX2h0bWw1c2hpdic7XG5cbiAgICAgICAgLyoqIFRoZSBpZCBmb3IgdGhlIHRoZSBkb2N1bWVudHMgZXhwYW5kbyAqL1xuICAgICAgICB2YXIgZXhwYW5JRCA9IDA7XG5cbiAgICAgICAgLyoqIENhY2hlZCBkYXRhIGZvciBlYWNoIGRvY3VtZW50ICovXG4gICAgICAgIHZhciBleHBhbmRvRGF0YSA9IHt9O1xuXG4gICAgICAgIC8qKiBEZXRlY3Qgd2hldGhlciB0aGUgYnJvd3NlciBzdXBwb3J0cyB1bmtub3duIGVsZW1lbnRzICovXG4gICAgICAgIHZhciBzdXBwb3J0c1Vua25vd25FbGVtZW50cztcblxuICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYS5pbm5lckhUTUwgPSAnPHh5ej48L3h5ej4nO1xuICAgICAgICAgICAgLy9pZiB0aGUgaGlkZGVuIHByb3BlcnR5IGlzIGltcGxlbWVudGVkIHdlIGNhbiBhc3N1bWUsIHRoYXQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgYmFzaWMgSFRNTDUgU3R5bGVzXG4gICAgICAgICAgICBzdXBwb3J0c0h0bWw1U3R5bGVzID0gKCdoaWRkZW4nIGluIGEpO1xuXG4gICAgICAgICAgICBzdXBwb3J0c1Vua25vd25FbGVtZW50cyA9IGEuY2hpbGROb2Rlcy5sZW5ndGggPT0gMSB8fCAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIC8vIGFzc2lnbiBhIGZhbHNlIHBvc2l0aXZlIGlmIHVuYWJsZSB0byBzaGl2XG4gICAgICAgICAgICAgIChkb2N1bWVudC5jcmVhdGVFbGVtZW50KSgnYScpO1xuICAgICAgICAgICAgICB2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICB0eXBlb2YgZnJhZy5jbG9uZU5vZGUgPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZnJhZy5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIGZyYWcuY3JlYXRlRWxlbWVudCA9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIC8vIGFzc2lnbiBhIGZhbHNlIHBvc2l0aXZlIGlmIGRldGVjdGlvbiBmYWlscyA9PiB1bmFibGUgdG8gc2hpdlxuICAgICAgICAgICAgc3VwcG9ydHNIdG1sNVN0eWxlcyA9IHRydWU7XG4gICAgICAgICAgICBzdXBwb3J0c1Vua25vd25FbGVtZW50cyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0oKSk7XG5cbiAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYSBzdHlsZSBzaGVldCB3aXRoIHRoZSBnaXZlbiBDU1MgdGV4dCBhbmQgYWRkcyBpdCB0byB0aGUgZG9jdW1lbnQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwYXJhbSB7RG9jdW1lbnR9IG93bmVyRG9jdW1lbnQgVGhlIGRvY3VtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gY3NzVGV4dCBUaGUgQ1NTIHRleHQuXG4gICAgICAgICAqIEByZXR1cm5zIHtTdHlsZVNoZWV0fSBUaGUgc3R5bGUgZWxlbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGFkZFN0eWxlU2hlZXQob3duZXJEb2N1bWVudCwgY3NzVGV4dCkge1xuICAgICAgICAgIHZhciBwID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXG4gICAgICAgICAgcGFyZW50ID0gb3duZXJEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdIHx8IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAgICAgcC5pbm5lckhUTUwgPSAneDxzdHlsZT4nICsgY3NzVGV4dCArICc8L3N0eWxlPic7XG4gICAgICAgICAgcmV0dXJuIHBhcmVudC5pbnNlcnRCZWZvcmUocC5sYXN0Q2hpbGQsIHBhcmVudC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBgaHRtbDUuZWxlbWVudHNgIGFzIGFuIGFycmF5LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IG9mIHNoaXZlZCBlbGVtZW50IG5vZGUgbmFtZXMuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRFbGVtZW50cygpIHtcbiAgICAgICAgICB2YXIgZWxlbWVudHMgPSBodG1sNS5lbGVtZW50cztcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGVsZW1lbnRzID09ICdzdHJpbmcnID8gZWxlbWVudHMuc3BsaXQoJyAnKSA6IGVsZW1lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGRhdGEgYXNzb2NpYXRlZCB0byB0aGUgZ2l2ZW4gZG9jdW1lbnRcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtEb2N1bWVudH0gb3duZXJEb2N1bWVudCBUaGUgZG9jdW1lbnQuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBvZiBkYXRhLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCkge1xuICAgICAgICAgIHZhciBkYXRhID0gZXhwYW5kb0RhdGFbb3duZXJEb2N1bWVudFtleHBhbmRvXV07XG4gICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgICBleHBhbklEKys7XG4gICAgICAgICAgICBvd25lckRvY3VtZW50W2V4cGFuZG9dID0gZXhwYW5JRDtcbiAgICAgICAgICAgIGV4cGFuZG9EYXRhW2V4cGFuSURdID0gZGF0YTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyBhIHNoaXZlZCBlbGVtZW50IGZvciB0aGUgZ2l2ZW4gbm9kZU5hbWUgYW5kIGRvY3VtZW50XG4gICAgICAgICAqIEBtZW1iZXJPZiBodG1sNVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbm9kZU5hbWUgbmFtZSBvZiB0aGUgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge0RvY3VtZW50fSBvd25lckRvY3VtZW50IFRoZSBjb250ZXh0IGRvY3VtZW50LlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc2hpdmVkIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KG5vZGVOYW1lLCBvd25lckRvY3VtZW50LCBkYXRhKXtcbiAgICAgICAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoc3VwcG9ydHNVbmtub3duRWxlbWVudHMpe1xuICAgICAgICAgICAgcmV0dXJuIG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IGdldEV4cGFuZG9EYXRhKG93bmVyRG9jdW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbm9kZTtcblxuICAgICAgICAgIGlmIChkYXRhLmNhY2hlW25vZGVOYW1lXSkge1xuICAgICAgICAgICAgbm9kZSA9IGRhdGEuY2FjaGVbbm9kZU5hbWVdLmNsb25lTm9kZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2F2ZUNsb25lcy50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgbm9kZSA9IChkYXRhLmNhY2hlW25vZGVOYW1lXSA9IGRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSkpLmNsb25lTm9kZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlID0gZGF0YS5jcmVhdGVFbGVtKG5vZGVOYW1lKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBdm9pZCBhZGRpbmcgc29tZSBlbGVtZW50cyB0byBmcmFnbWVudHMgaW4gSUUgPCA5IGJlY2F1c2VcbiAgICAgICAgICAvLyAqIEF0dHJpYnV0ZXMgbGlrZSBgbmFtZWAgb3IgYHR5cGVgIGNhbm5vdCBiZSBzZXQvY2hhbmdlZCBvbmNlIGFuIGVsZW1lbnRcbiAgICAgICAgICAvLyAgIGlzIGluc2VydGVkIGludG8gYSBkb2N1bWVudC9mcmFnbWVudFxuICAgICAgICAgIC8vICogTGluayBlbGVtZW50cyB3aXRoIGBzcmNgIGF0dHJpYnV0ZXMgdGhhdCBhcmUgaW5hY2Nlc3NpYmxlLCBhcyB3aXRoXG4gICAgICAgICAgLy8gICBhIDQwMyByZXNwb25zZSwgd2lsbCBjYXVzZSB0aGUgdGFiL3dpbmRvdyB0byBjcmFzaFxuICAgICAgICAgIC8vICogU2NyaXB0IGVsZW1lbnRzIGFwcGVuZGVkIHRvIGZyYWdtZW50cyB3aWxsIGV4ZWN1dGUgd2hlbiB0aGVpciBgc3JjYFxuICAgICAgICAgIC8vICAgb3IgYHRleHRgIHByb3BlcnR5IGlzIHNldFxuICAgICAgICAgIHJldHVybiBub2RlLmNhbkhhdmVDaGlsZHJlbiAmJiAhcmVTa2lwLnRlc3Qobm9kZU5hbWUpICYmICFub2RlLnRhZ1VybiA/IGRhdGEuZnJhZy5hcHBlbmRDaGlsZChub2RlKSA6IG5vZGU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyBhIHNoaXZlZCBEb2N1bWVudEZyYWdtZW50IGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnRcbiAgICAgICAgICogQG1lbWJlck9mIGh0bWw1XG4gICAgICAgICAqIEBwYXJhbSB7RG9jdW1lbnR9IG93bmVyRG9jdW1lbnQgVGhlIGNvbnRleHQgZG9jdW1lbnQuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBzaGl2ZWQgRG9jdW1lbnRGcmFnbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURvY3VtZW50RnJhZ21lbnQob3duZXJEb2N1bWVudCwgZGF0YSl7XG4gICAgICAgICAgaWYgKCFvd25lckRvY3VtZW50KSB7XG4gICAgICAgICAgICBvd25lckRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHN1cHBvcnRzVW5rbm93bkVsZW1lbnRzKXtcbiAgICAgICAgICAgIHJldHVybiBvd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YSA9IGRhdGEgfHwgZ2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCk7XG4gICAgICAgICAgdmFyIGNsb25lID0gZGF0YS5mcmFnLmNsb25lTm9kZSgpLFxuICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgIGVsZW1zID0gZ2V0RWxlbWVudHMoKSxcbiAgICAgICAgICBsID0gZWxlbXMubGVuZ3RoO1xuICAgICAgICAgIGZvcig7aTxsO2krKyl7XG4gICAgICAgICAgICBjbG9uZS5jcmVhdGVFbGVtZW50KGVsZW1zW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNoaXZzIHRoZSBgY3JlYXRlRWxlbWVudGAgYW5kIGBjcmVhdGVEb2N1bWVudEZyYWdtZW50YCBtZXRob2RzIG9mIHRoZSBkb2N1bWVudC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHtEb2N1bWVudHxEb2N1bWVudEZyYWdtZW50fSBvd25lckRvY3VtZW50IFRoZSBkb2N1bWVudC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgb2YgdGhlIGRvY3VtZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2hpdk1ldGhvZHMob3duZXJEb2N1bWVudCwgZGF0YSkge1xuICAgICAgICAgIGlmICghZGF0YS5jYWNoZSkge1xuICAgICAgICAgICAgZGF0YS5jYWNoZSA9IHt9O1xuICAgICAgICAgICAgZGF0YS5jcmVhdGVFbGVtID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50O1xuICAgICAgICAgICAgZGF0YS5jcmVhdGVGcmFnID0gb3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50O1xuICAgICAgICAgICAgZGF0YS5mcmFnID0gZGF0YS5jcmVhdGVGcmFnKCk7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgICBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbihub2RlTmFtZSkge1xuICAgICAgICAgICAgLy9hYm9ydCBzaGl2XG4gICAgICAgICAgICBpZiAoIWh0bWw1LnNoaXZNZXRob2RzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkYXRhLmNyZWF0ZUVsZW0obm9kZU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQobm9kZU5hbWUsIG93bmVyRG9jdW1lbnQsIGRhdGEpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBvd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQgPSBGdW5jdGlvbignaCxmJywgJ3JldHVybiBmdW5jdGlvbigpeycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YXIgbj1mLmNsb25lTm9kZSgpLGM9bi5jcmVhdGVFbGVtZW50OycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoLnNoaXZNZXRob2RzJiYoJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5yb2xsIHRoZSBgY3JlYXRlRWxlbWVudGAgY2FsbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRFbGVtZW50cygpLmpvaW4oKS5yZXBsYWNlKC9bXFx3XFwtXSsvZywgZnVuY3Rpb24obm9kZU5hbWUpIHtcbiAgICAgICAgICAgIGRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSk7XG4gICAgICAgICAgICBkYXRhLmZyYWcuY3JlYXRlRWxlbWVudChub2RlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gJ2MoXCInICsgbm9kZU5hbWUgKyAnXCIpJztcbiAgICAgICAgICB9KSArXG4gICAgICAgICAgICAnKTtyZXR1cm4gbn0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKGh0bWw1LCBkYXRhLmZyYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNoaXZzIHRoZSBnaXZlbiBkb2N1bWVudC5cbiAgICAgICAgICogQG1lbWJlck9mIGh0bWw1XG4gICAgICAgICAqIEBwYXJhbSB7RG9jdW1lbnR9IG93bmVyRG9jdW1lbnQgVGhlIGRvY3VtZW50IHRvIHNoaXYuXG4gICAgICAgICAqIEByZXR1cm5zIHtEb2N1bWVudH0gVGhlIHNoaXZlZCBkb2N1bWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNoaXZEb2N1bWVudChvd25lckRvY3VtZW50KSB7XG4gICAgICAgICAgaWYgKCFvd25lckRvY3VtZW50KSB7XG4gICAgICAgICAgICBvd25lckRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBkYXRhID0gZ2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCk7XG5cbiAgICAgICAgICBpZiAoaHRtbDUuc2hpdkNTUyAmJiAhc3VwcG9ydHNIdG1sNVN0eWxlcyAmJiAhZGF0YS5oYXNDU1MpIHtcbiAgICAgICAgICAgIGRhdGEuaGFzQ1NTID0gISFhZGRTdHlsZVNoZWV0KG93bmVyRG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZWN0cyBibG9jayBkaXNwbGF5IG5vdCBkZWZpbmVkIGluIElFNi83LzgvOVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FydGljbGUsYXNpZGUsZGlhbG9nLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaGdyb3VwLG1haW4sbmF2LHNlY3Rpb257ZGlzcGxheTpibG9ja30nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkcyBzdHlsaW5nIG5vdCBwcmVzZW50IGluIElFNi83LzgvOVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFya3tiYWNrZ3JvdW5kOiNGRjA7Y29sb3I6IzAwMH0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGlkZXMgbm9uLXJlbmRlcmVkIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXN1cHBvcnRzVW5rbm93bkVsZW1lbnRzKSB7XG4gICAgICAgICAgICBzaGl2TWV0aG9kcyhvd25lckRvY3VtZW50LCBkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG93bmVyRG9jdW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBodG1sNWAgb2JqZWN0IGlzIGV4cG9zZWQgc28gdGhhdCBtb3JlIGVsZW1lbnRzIGNhbiBiZSBzaGl2ZWQgYW5kXG4gICAgICAgICAqIGV4aXN0aW5nIHNoaXZpbmcgY2FuIGJlIGRldGVjdGVkIG9uIGlmcmFtZXMuXG4gICAgICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBvcHRpb25zIGNhbiBiZSBjaGFuZ2VkIGJlZm9yZSB0aGUgc2NyaXB0IGlzIGluY2x1ZGVkXG4gICAgICAgICAqIGh0bWw1ID0geyAnZWxlbWVudHMnOiAnbWFyayBzZWN0aW9uJywgJ3NoaXZDU1MnOiBmYWxzZSwgJ3NoaXZNZXRob2RzJzogZmFsc2UgfTtcbiAgICAgICAgICovXG4gICAgICAgIHZhciBodG1sNSA9IHtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEFuIGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Ygbm9kZSBuYW1lcyBvZiB0aGUgZWxlbWVudHMgdG8gc2hpdi5cbiAgICAgICAgICAgKiBAbWVtYmVyT2YgaHRtbDVcbiAgICAgICAgICAgKiBAdHlwZSBBcnJheXxTdHJpbmdcbiAgICAgICAgICAgKi9cbiAgICAgICAgICAnZWxlbWVudHMnOiBvcHRpb25zLmVsZW1lbnRzIHx8ICdhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZGlhbG9nIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHByb2dyZXNzIHNlY3Rpb24gc3VtbWFyeSB0ZW1wbGF0ZSB0aW1lIHZpZGVvJyxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIGN1cnJlbnQgdmVyc2lvbiBvZiBodG1sNXNoaXZcbiAgICAgICAgICAgKi9cbiAgICAgICAgICAndmVyc2lvbic6IHZlcnNpb24sXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCB0aGUgSFRNTDUgc3R5bGUgc2hlZXQgc2hvdWxkIGJlIGluc2VydGVkLlxuICAgICAgICAgICAqIEBtZW1iZXJPZiBodG1sNVxuICAgICAgICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICAnc2hpdkNTUyc6IChvcHRpb25zLnNoaXZDU1MgIT09IGZhbHNlKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElzIGVxdWFsIHRvIHRydWUgaWYgYSBicm93c2VyIHN1cHBvcnRzIGNyZWF0aW5nIHVua25vd24vSFRNTDUgZWxlbWVudHNcbiAgICAgICAgICAgKiBAbWVtYmVyT2YgaHRtbDVcbiAgICAgICAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICAgICAgICovXG4gICAgICAgICAgJ3N1cHBvcnRzVW5rbm93bkVsZW1lbnRzJzogc3VwcG9ydHNVbmtub3duRWxlbWVudHMsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCB0aGUgZG9jdW1lbnQncyBgY3JlYXRlRWxlbWVudGAgYW5kIGBjcmVhdGVEb2N1bWVudEZyYWdtZW50YFxuICAgICAgICAgICAqIG1ldGhvZHMgc2hvdWxkIGJlIG92ZXJ3cml0dGVuLlxuICAgICAgICAgICAqIEBtZW1iZXJPZiBodG1sNVxuICAgICAgICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICAnc2hpdk1ldGhvZHMnOiAob3B0aW9ucy5zaGl2TWV0aG9kcyAhPT0gZmFsc2UpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQSBzdHJpbmcgdG8gZGVzY3JpYmUgdGhlIHR5cGUgb2YgYGh0bWw1YCBvYmplY3QgKFwiZGVmYXVsdFwiIG9yIFwiZGVmYXVsdCBwcmludFwiKS5cbiAgICAgICAgICAgKiBAbWVtYmVyT2YgaHRtbDVcbiAgICAgICAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgICAgICAgKi9cbiAgICAgICAgICAndHlwZSc6ICdkZWZhdWx0JyxcblxuICAgICAgICAgIC8vIHNoaXZzIHRoZSBkb2N1bWVudCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBgaHRtbDVgIG9iamVjdCBvcHRpb25zXG4gICAgICAgICAgJ3NoaXZEb2N1bWVudCc6IHNoaXZEb2N1bWVudCxcblxuICAgICAgICAgIC8vY3JlYXRlcyBhIHNoaXZlZCBlbGVtZW50XG4gICAgICAgICAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCxcblxuICAgICAgICAgIC8vY3JlYXRlcyBhIHNoaXZlZCBkb2N1bWVudEZyYWdtZW50XG4gICAgICAgICAgY3JlYXRlRG9jdW1lbnRGcmFnbWVudDogY3JlYXRlRG9jdW1lbnRGcmFnbWVudFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgICAgIC8vIGV4cG9zZSBodG1sNVxuICAgICAgICB3aW5kb3cuaHRtbDUgPSBodG1sNTtcblxuICAgICAgICAvLyBzaGl2IHRoZSBkb2N1bWVudFxuICAgICAgICBzaGl2RG9jdW1lbnQoZG9jdW1lbnQpO1xuXG4gICAgfSh0aGlzLCBkb2N1bWVudCkpO1xuICAgIC8qPj5zaGl2Ki9cblxuICAgIC8vIEFzc2lnbiBwcml2YXRlIHByb3BlcnRpZXMgdG8gdGhlIHJldHVybiBvYmplY3Qgd2l0aCBwcmVmaXhcbiAgICBNb2Rlcm5penIuX3ZlcnNpb24gICAgICA9IHZlcnNpb247XG5cbiAgICAvLyBleHBvc2UgdGhlc2UgZm9yIHRoZSBwbHVnaW4gQVBJLiBMb29rIGluIHRoZSBzb3VyY2UgZm9yIGhvdyB0byBqb2luKCkgdGhlbSBhZ2FpbnN0IHlvdXIgaW5wdXRcbiAgICAvKj4+cHJlZml4ZXMqL1xuICAgIE1vZGVybml6ci5fcHJlZml4ZXMgICAgID0gcHJlZml4ZXM7XG4gICAgLyo+PnByZWZpeGVzKi9cbiAgICAvKj4+ZG9tcHJlZml4ZXMqL1xuICAgIE1vZGVybml6ci5fZG9tUHJlZml4ZXMgID0gZG9tUHJlZml4ZXM7XG4gICAgTW9kZXJuaXpyLl9jc3NvbVByZWZpeGVzICA9IGNzc29tUHJlZml4ZXM7XG4gICAgLyo+PmRvbXByZWZpeGVzKi9cblxuICAgIC8qPj5tcSovXG4gICAgLy8gTW9kZXJuaXpyLm1xIHRlc3RzIGEgZ2l2ZW4gbWVkaWEgcXVlcnksIGxpdmUgYWdhaW5zdCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgd2luZG93XG4gICAgLy8gQSBmZXcgaW1wb3J0YW50IG5vdGVzOlxuICAgIC8vICAgKiBJZiBhIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBtZWRpYSBxdWVyaWVzIGF0IGFsbCAoZWcuIG9sZElFKSB0aGUgbXEoKSB3aWxsIGFsd2F5cyByZXR1cm4gZmFsc2VcbiAgICAvLyAgICogQSBtYXgtd2lkdGggb3Igb3JpZW50YXRpb24gcXVlcnkgd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgY3VycmVudCBzdGF0ZSwgd2hpY2ggbWF5IGNoYW5nZSBsYXRlci5cbiAgICAvLyAgICogWW91IG11c3Qgc3BlY2lmeSB2YWx1ZXMuIEVnLiBJZiB5b3UgYXJlIHRlc3Rpbmcgc3VwcG9ydCBmb3IgdGhlIG1pbi13aWR0aCBtZWRpYSBxdWVyeSB1c2U6XG4gICAgLy8gICAgICAgTW9kZXJuaXpyLm1xKCcobWluLXdpZHRoOjApJylcbiAgICAvLyB1c2FnZTpcbiAgICAvLyBNb2Rlcm5penIubXEoJ29ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjc2OCknKVxuICAgIE1vZGVybml6ci5tcSAgICAgICAgICAgID0gdGVzdE1lZGlhUXVlcnk7XG4gICAgLyo+Pm1xKi9cblxuICAgIC8qPj5oYXNldmVudCovXG4gICAgLy8gTW9kZXJuaXpyLmhhc0V2ZW50KCkgZGV0ZWN0cyBzdXBwb3J0IGZvciBhIGdpdmVuIGV2ZW50LCB3aXRoIGFuIG9wdGlvbmFsIGVsZW1lbnQgdG8gdGVzdCBvblxuICAgIC8vIE1vZGVybml6ci5oYXNFdmVudCgnZ2VzdHVyZXN0YXJ0JywgZWxlbSlcbiAgICBNb2Rlcm5penIuaGFzRXZlbnQgICAgICA9IGlzRXZlbnRTdXBwb3J0ZWQ7XG4gICAgLyo+Pmhhc2V2ZW50Ki9cblxuICAgIC8qPj50ZXN0cHJvcCovXG4gICAgLy8gTW9kZXJuaXpyLnRlc3RQcm9wKCkgaW52ZXN0aWdhdGVzIHdoZXRoZXIgYSBnaXZlbiBzdHlsZSBwcm9wZXJ0eSBpcyByZWNvZ25pemVkXG4gICAgLy8gTm90ZSB0aGF0IHRoZSBwcm9wZXJ0eSBuYW1lcyBtdXN0IGJlIHByb3ZpZGVkIGluIHRoZSBjYW1lbENhc2UgdmFyaWFudC5cbiAgICAvLyBNb2Rlcm5penIudGVzdFByb3AoJ3BvaW50ZXJFdmVudHMnKVxuICAgIE1vZGVybml6ci50ZXN0UHJvcCAgICAgID0gZnVuY3Rpb24ocHJvcCl7XG4gICAgICAgIHJldHVybiB0ZXN0UHJvcHMoW3Byb3BdKTtcbiAgICB9O1xuICAgIC8qPj50ZXN0cHJvcCovXG5cbiAgICAvKj4+dGVzdGFsbHByb3BzKi9cbiAgICAvLyBNb2Rlcm5penIudGVzdEFsbFByb3BzKCkgaW52ZXN0aWdhdGVzIHdoZXRoZXIgYSBnaXZlbiBzdHlsZSBwcm9wZXJ0eSxcbiAgICAvLyAgIG9yIGFueSBvZiBpdHMgdmVuZG9yLXByZWZpeGVkIHZhcmlhbnRzLCBpcyByZWNvZ25pemVkXG4gICAgLy8gTm90ZSB0aGF0IHRoZSBwcm9wZXJ0eSBuYW1lcyBtdXN0IGJlIHByb3ZpZGVkIGluIHRoZSBjYW1lbENhc2UgdmFyaWFudC5cbiAgICAvLyBNb2Rlcm5penIudGVzdEFsbFByb3BzKCdib3hTaXppbmcnKVxuICAgIE1vZGVybml6ci50ZXN0QWxsUHJvcHMgID0gdGVzdFByb3BzQWxsO1xuICAgIC8qPj50ZXN0YWxscHJvcHMqL1xuXG5cbiAgICAvKj4+dGVzdHN0eWxlcyovXG4gICAgLy8gTW9kZXJuaXpyLnRlc3RTdHlsZXMoKSBhbGxvd3MgeW91IHRvIGFkZCBjdXN0b20gc3R5bGVzIHRvIHRoZSBkb2N1bWVudCBhbmQgdGVzdCBhbiBlbGVtZW50IGFmdGVyd2FyZHNcbiAgICAvLyBNb2Rlcm5penIudGVzdFN0eWxlcygnI21vZGVybml6ciB7IHBvc2l0aW9uOmFic29sdXRlIH0nLCBmdW5jdGlvbihlbGVtLCBydWxlKXsgLi4uIH0pXG4gICAgTW9kZXJuaXpyLnRlc3RTdHlsZXMgICAgPSBpbmplY3RFbGVtZW50V2l0aFN0eWxlcztcbiAgICAvKj4+dGVzdHN0eWxlcyovXG5cblxuICAgIC8qPj5wcmVmaXhlZCovXG4gICAgLy8gTW9kZXJuaXpyLnByZWZpeGVkKCkgcmV0dXJucyB0aGUgcHJlZml4ZWQgb3Igbm9ucHJlZml4ZWQgcHJvcGVydHkgbmFtZSB2YXJpYW50IG9mIHlvdXIgaW5wdXRcbiAgICAvLyBNb2Rlcm5penIucHJlZml4ZWQoJ2JveFNpemluZycpIC8vICdNb3pCb3hTaXppbmcnXG5cbiAgICAvLyBQcm9wZXJ0aWVzIG11c3QgYmUgcGFzc2VkIGFzIGRvbS1zdHlsZSBjYW1lbGNhc2UsIHJhdGhlciB0aGFuIGBib3gtc2l6aW5nYCBoeXBlbnRhdGVkIHN0eWxlLlxuICAgIC8vIFJldHVybiB2YWx1ZXMgd2lsbCBhbHNvIGJlIHRoZSBjYW1lbENhc2UgdmFyaWFudCwgaWYgeW91IG5lZWQgdG8gdHJhbnNsYXRlIHRoYXQgdG8gaHlwZW5hdGVkIHN0eWxlIHVzZTpcbiAgICAvL1xuICAgIC8vICAgICBzdHIucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbihzdHIsbTEpeyByZXR1cm4gJy0nICsgbTEudG9Mb3dlckNhc2UoKTsgfSkucmVwbGFjZSgvXm1zLS8sJy1tcy0nKTtcblxuICAgIC8vIElmIHlvdSdyZSB0cnlpbmcgdG8gYXNjZXJ0YWluIHdoaWNoIHRyYW5zaXRpb24gZW5kIGV2ZW50IHRvIGJpbmQgdG8sIHlvdSBtaWdodCBkbyBzb21ldGhpbmcgbGlrZS4uLlxuICAgIC8vXG4gICAgLy8gICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgLy8gICAgICAgJ1dlYmtpdFRyYW5zaXRpb24nIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgIC8vICAgICAgICdNb3pUcmFuc2l0aW9uJyAgICA6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAvLyAgICAgICAnT1RyYW5zaXRpb24nICAgICAgOiAnb1RyYW5zaXRpb25FbmQnLFxuICAgIC8vICAgICAgICdtc1RyYW5zaXRpb24nICAgICA6ICdNU1RyYW5zaXRpb25FbmQnLFxuICAgIC8vICAgICAgICd0cmFuc2l0aW9uJyAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgIC8vICAgICB9LFxuICAgIC8vICAgICB0cmFuc0VuZEV2ZW50TmFtZSA9IHRyYW5zRW5kRXZlbnROYW1lc1sgTW9kZXJuaXpyLnByZWZpeGVkKCd0cmFuc2l0aW9uJykgXTtcblxuICAgIE1vZGVybml6ci5wcmVmaXhlZCAgICAgID0gZnVuY3Rpb24ocHJvcCwgb2JqLCBlbGVtKXtcbiAgICAgIGlmKCFvYmopIHtcbiAgICAgICAgcmV0dXJuIHRlc3RQcm9wc0FsbChwcm9wLCAncGZ4Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUZXN0aW5nIERPTSBwcm9wZXJ0eSBlLmcuIE1vZGVybml6ci5wcmVmaXhlZCgncmVxdWVzdEFuaW1hdGlvbkZyYW1lJywgd2luZG93KSAvLyAnbW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lJ1xuICAgICAgICByZXR1cm4gdGVzdFByb3BzQWxsKHByb3AsIG9iaiwgZWxlbSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvKj4+cHJlZml4ZWQqL1xuXG5cbiAgICAvKj4+Y3NzY2xhc3NlcyovXG4gICAgLy8gUmVtb3ZlIFwibm8tanNcIiBjbGFzcyBmcm9tIDxodG1sPiBlbGVtZW50LCBpZiBpdCBleGlzdHM6XG4gICAgZG9jRWxlbWVudC5jbGFzc05hbWUgPSBkb2NFbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKC8oXnxcXHMpbm8tanMoXFxzfCQpLywgJyQxJDInKSArXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIG5ldyBjbGFzc2VzIHRvIHRoZSA8aHRtbD4gZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZW5hYmxlQ2xhc3NlcyA/ICcganMgJyArIGNsYXNzZXMuam9pbignICcpIDogJycpO1xuICAgIC8qPj5jc3NjbGFzc2VzKi9cblxuICAgIHJldHVybiBNb2Rlcm5penI7XG5cbn0pKHRoaXMsIHRoaXMuZG9jdW1lbnQpO1xuXG47IGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKHR5cGVvZiBNb2Rlcm5penIgIT0gXCJ1bmRlZmluZWRcIiA/IE1vZGVybml6ciA6IHdpbmRvdy5Nb2Rlcm5penIpO1xuXG59KS5jYWxsKGdsb2JhbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gZGVmaW5lRXhwb3J0KGV4KSB7IG1vZHVsZS5leHBvcnRzID0gZXg7IH0pO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbihmdW5jdGlvbiBicm93c2VyaWZ5U2hpbShtb2R1bGUsIGRlZmluZSkge1xucmVxdWlyZSgnanF1ZXJ5LW1vdXNld2hlZWwtc291cmNlJykocmVxdWlyZSgnanF1ZXJ5JykpO1xuXG59KS5jYWxsKGdsb2JhbCwgbW9kdWxlLCB1bmRlZmluZWQpO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbihmdW5jdGlvbiBicm93c2VyaWZ5U2hpbShtb2R1bGUsIGRlZmluZSkge1xuIWZ1bmN0aW9uKGUsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sbik6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKFwianF1ZXJ5XCIpKTplLkR5bmFtaWNBUEk9bihlLmpRdWVyeSl9KHRoaXMsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihlLG4pe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlPShlLnN1cGVyY2xhc3M9bikucHJvdG90eXBlLChlLnByb3RvdHlwZT1uZXcgdCkuY29uc3RydWN0b3I9ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmV4dGVuZGVkJiZuLmV4dGVuZGVkKGUpLGV9ZnVuY3Rpb24gdChlLG4pe3ZhciB0PXt9Lmhhc093blByb3BlcnR5O2Zvcih2YXIgciBpbiBuKXQuY2FsbChuLHIpJiYoZVtyXT1uW3JdKTtyZXR1cm4gZX0vKipcbiAqIER5bmFtaWMgQVBJIGxvYWRlciBjbGFzc1xuICpcbiAqIEBkZXNjcmlwdGlvbiBMb2FkcyBzY3JpcHQgYnkgVVJMIGFuZCB3YWl0cyBmb3IgZ2xvYmFsIHZhcmlhYmxlXG4gKiBAbW9kdWxlIGR5bmFtaWMtYXBpXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICogQGxpY2Vuc2UgR05VL0FHUEx2M1xuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3VuY2xlY2h1L2pzLXVzZWZ1bC11bWQtbW9kdWxlcy98R2l0SHVifVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3VuY2xlY2h1L2pzLXVzZWZ1bC11bWQtbW9kdWxlcy9ibG9iL21hc3Rlci9BR1BMdjMtTElDRU5TRXxMaWNlbnNlfVxuICovXG52YXIgcixsPXt9LnRvU3RyaW5nO3JldHVybiByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlKXt2YXIgbix0LHIsaTtyZXR1cm4gbj1udWxsIT0odD1lLmludGVydmFsKT90OjUwMCxyPW51bGwhPSh0PWUuYXN5bmMpP3Q6ITAsZnVuY3Rpb24oZSxuLHQpe2lmKGwuY2FsbCh0KS5zbGljZSg4LC0xKSE9PWUpdGhyb3cgbmV3IHRoaXMuZXhjZXB0aW9ucy5JbmNvcnJlY3RBcmd1bWVudCh7YXJnTmFtZTpuLGFyZ1R5cGU6bC5jYWxsKHQpLnNsaWNlKDgsLTEpLG11c3RCZTplfSl9LmNhbGwodGhpcyxcIk51bWJlclwiLFwiaW50ZXJ2YWxcIixuKSxmdW5jdGlvbihlLG4sdCl7aWYobC5jYWxsKHQpLnNsaWNlKDgsLTEpIT09ZSl0aHJvdyBuZXcgdGhpcy5leGNlcHRpb25zLkluY29ycmVjdEFyZ3VtZW50KHthcmdOYW1lOm4sYXJnVHlwZTpsLmNhbGwodCkuc2xpY2UoOCwtMSksbXVzdEJlOmV9KX0uY2FsbCh0aGlzLFwiQm9vbGVhblwiLFwiYXN5bmNcIixyKSx0aGlzLl9pbnRlcnZhbD1uLHRoaXMuX2FzeW5jPXIsaT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuZHluYW1pY0xvYWRBcGkuYXBwbHkoZSxhcmd1bWVudHMpfX0uY2FsbCh0aGlzLHRoaXMpLGlbXCJzdXBlclwiXT10aGlzLGl9ci5kaXNwbGF5TmFtZT1cIkR5bmFtaWNBUElcIjt2YXIgaSxhLHUsbz1yLnByb3RvdHlwZTtyZXR1cm4gaT1bXSxhPWZ1bmN0aW9uKG4sdCl7dmFyIGw7aWYobD1udWxsLGUuZWFjaChuLGZ1bmN0aW9uKGUsbil7cmV0dXJuIG4uc2NyaXB0UGF0aD09PXQ/KGw9biwhMSk6dm9pZCAwfSksbnVsbD09bCl0aHJvdyBuZXcgci5leGNlcHRpb25zLkl0ZW1Ob3RGb3VuZCh7c2NyaXB0UGF0aDp0fSk7cmV0dXJuIGx9LG8uZHluYW1pY0xvYWRBcGk9ZnVuY3Rpb24obix0LHIpe3ZhciBvLHMsYyxtLHAsaCxkLGcseT10aGlzO2lmKGZ1bmN0aW9uKGUsbix0KXtyZXR1cm4gbnVsbD09dD91KG5ldyB0aGlzLmV4Y2VwdGlvbnMuUmVxdWlyZWRBcmd1bWVudCh7YXJnTmFtZTpufSkpOmwuY2FsbCh0KS5zbGljZSg4LC0xKSE9PWU/dShuZXcgdGhpcy5leGNlcHRpb25zLkluY29ycmVjdEFyZ3VtZW50KHthcmdOYW1lOm4sYXJnVHlwZTpsLmNhbGwodCkuc2xpY2UoOCwtMSksbXVzdEJlOmV9KSk6dm9pZCAwfS5jYWxsKHRoaXMsXCJGdW5jdGlvblwiLFwiY2JcIixyKSxmdW5jdGlvbihlLG4sdCl7cmV0dXJuIG51bGw9PXQ/dShuZXcgdGhpcy5leGNlcHRpb25zLlJlcXVpcmVkQXJndW1lbnQoe2FyZ05hbWU6bn0pLHIpOmwuY2FsbCh0KS5zbGljZSg4LC0xKSE9PWU/dShuZXcgdGhpcy5leGNlcHRpb25zLkluY29ycmVjdEFyZ3VtZW50KHthcmdOYW1lOm4sYXJnVHlwZTpsLmNhbGwodCkuc2xpY2UoOCwtMSksbXVzdEJlOmV9KSxyKTp0P3ZvaWQgMDp1KG5ldyB0aGlzLmV4Y2VwdGlvbnMuUmVxdWlyZWRBcmd1bWVudCh7YXJnTmFtZTpufSkscil9LmNhbGwodGhpcyxcIlN0cmluZ1wiLFwic2NyaXB0UGF0aFwiLG4pLGZ1bmN0aW9uKGUsbix0KXtyZXR1cm4gbnVsbD09dD91KG5ldyB0aGlzLmV4Y2VwdGlvbnMuUmVxdWlyZWRBcmd1bWVudCh7YXJnTmFtZTpufSkscik6bC5jYWxsKHQpLnNsaWNlKDgsLTEpIT09ZT91KG5ldyB0aGlzLmV4Y2VwdGlvbnMuSW5jb3JyZWN0QXJndW1lbnQoe2FyZ05hbWU6bixhcmdUeXBlOmwuY2FsbCh0KS5zbGljZSg4LC0xKSxtdXN0QmU6ZX0pLHIpOnQ/dm9pZCAwOnUobmV3IHRoaXMuZXhjZXB0aW9ucy5SZXF1aXJlZEFyZ3VtZW50KHthcmdOYW1lOm59KSxyKX0uY2FsbCh0aGlzLFwiU3RyaW5nXCIsXCJnbG9iYWxWYXJOYW1lXCIsdCksbz0hMSxzPW51bGwsZS5lYWNoKGksZnVuY3Rpb24oZSx0KXt0LnNjcmlwdFBhdGg9PT1uJiYobz0hMCl9KSwhbyl7aWYodCBpbiB3aW5kb3cpcmV0dXJuIHUobmV3IHRoaXMuZXhjZXB0aW9ucy5HbG9iYWxOYW1lQWxyZWFkeVRha2VuKHtnbG9iYWxOYW1lOnR9KSxyKTtmb3IoYz0wLHA9KG09aSkubGVuZ3RoO3A+YzsrK2MpaWYocz1tW2NdLHMudmFyTmFtZT09PXQpcmV0dXJuIHUobmV3IHRoaXMuZXhjZXB0aW9ucy5HbG9iYWxOYW1lQWxyZWFkeVRha2VuKHtnbG9iYWxOYW1lOnR9KSxyKTtpLnB1c2goe3NjcmlwdFBhdGg6bixsb2FkZWQ6ITEsdGltZXJJZDpudWxsLHZhck5hbWU6dCxjYjpbXX0pLGg9ZShcIjxzY3JpcHQvPlwiLHtzcmM6bn0pLHRoaXMuX2FzeW5jJiZoLmF0dHIoe2FzeW5jOlwiYXN5bmNcIn0pLGUoXCJoZWFkXCIpLmFwcGVuZChoKX10cnl7cz1hKGksbil9Y2F0Y2goZil7cmV0dXJuIGQ9Zix1KGVycixyKX1yZXR1cm4gZz1mdW5jdGlvbigpe3JldHVybiBzLnZhck5hbWUgaW4gd2luZG93PyhzLmxvYWRlZD0hMCxzLnRpbWVySWQ9bnVsbCxudWxsIT1zLmNiJiZlLmVhY2gocy5jYixmdW5jdGlvbihuLHQpe3NldFRpbWVvdXQoZS5wcm94eSh0LG51bGwsbnVsbCx3aW5kb3dbcy52YXJOYW1lXSksMCl9KSx2b2lkKHMuY2I9bnVsbCkpOnZvaWQocy50aW1lcklkPXNldFRpbWVvdXQoZyx5Ll9pbnRlcnZhbCkpfSxzLmxvYWRlZD9zZXRUaW1lb3V0KGUucHJveHkocixudWxsLG51bGwsd2luZG93W3MudmFyTmFtZV0pLDApOihzLmNiLnB1c2gociksdm9pZChzLnRpbWVySWQ9c2V0VGltZW91dChnLDApKSl9LHU9ZnVuY3Rpb24obix0KXtpZihudWxsPT10JiYodD1udWxsKSxudWxsPT10KXRocm93IG47c2V0VGltZW91dChlLnByb3h5KHQsbnVsbCxuKSwwKX0sci5leGNlcHRpb25zPXIucHJvdG90eXBlLmV4Y2VwdGlvbnM9e30sci5leGNlcHRpb25zLkluY29ycmVjdEFyZ3VtZW50PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoZSl7dmFyIG4sdCxyLGwsaTtuPW51bGwhPSh0PWUubWVzc2FnZSk/dDpudWxsLHI9bnVsbCE9KHQ9ZS5hcmdOYW1lKT90Om51bGwsbD1udWxsIT0odD1lLmFyZ1R5cGUpP3Q6bnVsbCxpPW51bGwhPSh0PWUubXVzdEJlKT90Om51bGwsdGhpcy5uYW1lPVwiSW5jb3JyZWN0QXJndW1lbnRcIix0aGlzLm1lc3NhZ2U9bnVsbCE9bj9uOlwiSW5jb3JyZWN0XCIrKG51bGwhPXI/JyBcIicrcisnXCInOlwiXCIpK1wiIGFyZ3VtZW50IHR5cGVcIisobnVsbCE9bD8nOiBcIicrbCsnXCInOlwiXCIpKyhudWxsIT1pPycsIG11c3QgYmUgYShuKSBcIicraSsnXCInOlwiXCIpK1wiLlwiLHRoaXMuYXJnTmFtZT1yLHRoaXMuYXJnVHlwZT1sLHRoaXMubXVzdEJlPWl9bigodChyLGUpLmRpc3BsYXlOYW1lPVwiSW5jb3JyZWN0QXJndW1lbnRcIixyKSxlKS5wcm90b3R5cGU7cmV0dXJuIHJ9KEVycm9yKSxyLmV4Y2VwdGlvbnMuUmVxdWlyZWRBcmd1bWVudD1mdW5jdGlvbihlKXtmdW5jdGlvbiByKGUpe3ZhciBuLHQscjtuPW51bGwhPSh0PWUubWVzc2FnZSk/dDpudWxsLHI9bnVsbCE9KHQ9ZS5hcmdOYW1lKT90Om51bGwsdGhpcy5uYW1lPVwiUmVxdWlyZWRBcmd1bWVudFwiLHRoaXMubWVzc2FnZT1udWxsIT1uP246XCJBcmd1bWVudFwiKyhudWxsIT1yPycgXCInK3IrJ1wiJzpcIlwiKStcIiBpcyByZXF1aXJlZC5cIix0aGlzLmFyZ05hbWU9cn1uKCh0KHIsZSkuZGlzcGxheU5hbWU9XCJSZXF1aXJlZEFyZ3VtZW50XCIsciksZSkucHJvdG90eXBlO3JldHVybiByfShFcnJvciksci5leGNlcHRpb25zLkl0ZW1Ob3RGb3VuZD1mdW5jdGlvbihlKXtmdW5jdGlvbiByKGUpe3ZhciBuLHQscjtuPW51bGwhPSh0PWUubWVzc2FnZSk/dDpudWxsLHI9bnVsbCE9KHQ9ZS5zY3JpcHRQYXRoKT90Om51bGwsdGhpcy5uYW1lPVwiSXRlbU5vdEZvdW5kXCIsdGhpcy5tZXNzYWdlPW51bGwhPW4/bjpcIkNhbm5vdCBnZXQgaXRlbSBieSBzY3JpcHQgcGF0aFwiKyhudWxsIT1yPyc6IFwiJytyKydcIic6XCJcIikrXCIuXCIsdGhpcy5zY3JpcHRQYXRoPXJ9bigodChyLGUpLmRpc3BsYXlOYW1lPVwiSXRlbU5vdEZvdW5kXCIsciksZSkucHJvdG90eXBlO3JldHVybiByfShFcnJvciksci5leGNlcHRpb25zLkdsb2JhbE5hbWVBbHJlYWR5VGFrZW49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihlKXt2YXIgbix0LHI7bj1udWxsIT0odD1lLm1lc3NhZ2UpP3Q6bnVsbCxyPW51bGwhPSh0PWUuZ2xvYmFsTmFtZSk/dDpudWxsLHRoaXMubmFtZT1cIlRpbWVvdXRcIix0aGlzLm1lc3NhZ2U9bnVsbCE9bj9uOlwiR2xvYmFsIG5hbWUgXCIrKG51bGwhPXI/J1wiJytyKydcIiAnOlwiXCIpK1wiaXMgYWxyZWFkeSB0YWtlbi5cIix0aGlzLmdsb2JhbE5hbWU9cn1uKCh0KHIsZSkuZGlzcGxheU5hbWU9XCJHbG9iYWxOYW1lQWxyZWFkeVRha2VuXCIsciksZSkucHJvdG90eXBlO3JldHVybiByfShFcnJvcikscn0oKX0pO1xufSkuY2FsbChnbG9iYWwsIG1vZHVsZSwgdW5kZWZpbmVkKTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBkZWZpbmUpIHtcbiFmdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dCgpOmUuR2V0VmFsPXQoKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmdW5jdGlvbiBzKCl7fXJldHVybiBzLnByb3RvdHlwZT0oZS5zdXBlcmNsYXNzPXQpLnByb3RvdHlwZSwoZS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWUsXCJmdW5jdGlvblwiPT10eXBlb2YgdC5leHRlbmRlZCYmdC5leHRlbmRlZChlKSxlfWZ1bmN0aW9uIHQoZSx0KXt2YXIgcz17fS5oYXNPd25Qcm9wZXJ0eTtmb3IodmFyIGkgaW4gdClzLmNhbGwodCxpKSYmKGVbaV09dFtpXSk7cmV0dXJuIGV9LyoqXG4gKiBQcm92aWRlcyBjbGFzcyBmb3IgZ2V0dGluZyB2YWx1ZSBieSBrZXlcbiAqXG4gKiBAbW9kdWxlIGdldC12YWxcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiBAYXV0aG9yIFZpYWNoZXNsYXYgTG90c21hbm92XG4gKiBAbGljZW5zZSBHTlUvQUdQTHYzXG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vdW5jbGVjaHUvanMtdXNlZnVsLXVtZC1tb2R1bGVzL3xHaXRIdWJ9XG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vdW5jbGVjaHUvanMtdXNlZnVsLXVtZC1tb2R1bGVzL2Jsb2IvbWFzdGVyL0FHUEx2My1MSUNFTlNFfExpY2Vuc2V9XG4gKi9cbnZhciBzLGk9e30udG9TdHJpbmc7cmV0dXJuIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzKGUsdCl7dmFyIHMscjtpZihudWxsPT10JiYodD1udWxsKSxcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgdGhpcy5leGNlcHRpb25zLkluY29ycmVjdEFyZ3VtZW50KG51bGwsXCJ2YWx1ZXNcIix0eXBlb2YgZSxcIm9iamVjdFwiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgZS52YWx1ZXMpdGhyb3cgbmV3IHRoaXMuZXhjZXB0aW9ucy5SZXF1aXJlZEFyZ3VtZW50S2V5KG51bGwsXCJ2YWx1ZXNcIixcInZhbHVlc1wiLHR5cGVvZiBlLnZhbHVlcyxcIm9iamVjdFwiKTtpZihcIkFycmF5XCI9PT1pLmNhbGwoZS52YWx1ZXMpLnNsaWNlKDgsLTEpKXRocm93IG5ldyB0aGlzLmV4Y2VwdGlvbnMuUmVxdWlyZWRBcmd1bWVudEtleShudWxsLFwidmFsdWVzXCIsXCJ2YWx1ZXNcIixcImFycmF5XCIsXCJvYmplY3RcIik7aWYoZS5yZXF1aXJlZCYmXCJBcnJheVwiPT09IWkuY2FsbChlLnJlcXVpcmVkKS5zbGljZSg4LC0xKSl0aHJvdyBuZXcgdGhpcy5leGNlcHRpb25zLlJlcXVpcmVkQXJndW1lbnRLZXkobnVsbCxcInZhbHVlc1wiLFwicmVxdWlyZWRcIix0eXBlb2YgZS5yZXF1aXJlZCxcImFycmF5XCIpO2lmKHQmJlwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyB0aGlzLmV4Y2VwdGlvbnMuSW5jb3JyZWN0QXJndW1lbnQobnVsbCxcInJlcXVpcmVkXCIsdHlwZW9mIHQsXCJvYmplY3RcIik7aWYodGhpcy5fdmFsdWVzPWUudmFsdWVzLHRoaXMuX3JlcXVpcmVkPWUucmVxdWlyZWR8fFtdLHQpZm9yKHMgaW4gdCl0aGlzLnNldC5jYWxsKHRoaXMscyx0W3NdKTtyZXR1cm4gcj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXQuYXBwbHkoZSxhcmd1bWVudHMpfX0uY2FsbCh0aGlzLHRoaXMpLHIuc2V0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLnNldC5hcHBseShlLGFyZ3VtZW50cyl9fS5jYWxsKHRoaXMsdGhpcykscltcInN1cGVyXCJdPXRoaXMscn1zLmRpc3BsYXlOYW1lPVwiR2V0VmFsXCI7dmFyIHI9cy5wcm90b3R5cGU7cmV0dXJuIHIuX2NoZWNrUmVxdWlyZWQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHMsaTtmb3IoZT0wLHM9KHQ9dGhpcy5fcmVxdWlyZWQpLmxlbmd0aDtzPmU7KytlKWlmKGk9dFtlXSwhKGkgaW4gdGhpcy5fdmFsdWVzKSl0aHJvdyBuZXcgdGhpcy5leGNlcHRpb25zLlJlcXVpcmVkSXNOb3RTZXQobnVsbCxpKX0sci5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcyxpLHIsbixvO2lmKHM9ITEsXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IHRoaXMuZXhjZXB0aW9ucy5JbmNvcnJlY3RLZXkobnVsbCx0eXBlb2YgZSk7Zm9yKGk9MCxuPShyPXRoaXMuX3JlcXVpcmVkKS5sZW5ndGg7bj5pOysraSlvPXJbaV0sbz09PWUmJihzPSEwKTtpZighcyl0aHJvdyBuZXcgdGhpcy5leGNlcHRpb25zLk5vS2V5SW5SZXF1aXJlZExpc3QobnVsbCxlKTt0aGlzLl92YWx1ZXNbZV09dH0sci5nZXQ9ZnVuY3Rpb24oZSx0KXtpZih0fHx0aGlzLl9jaGVja1JlcXVpcmVkKCksXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IHRoaXMuZXhjZXB0aW9ucy5JbmNvcnJlY3RLZXkobnVsbCx0eXBlb2YgZSk7aWYoIShlIGluIHRoaXMuX3ZhbHVlcykpdGhyb3cgbmV3IHRoaXMuZXhjZXB0aW9ucy5LZXlJc05vdEV4aXN0cyhudWxsLGUpO3JldHVybiB0aGlzLl92YWx1ZXNbZV19LHMuZXhjZXB0aW9ucz1zLnByb3RvdHlwZS5leGNlcHRpb25zPXt9LHMuZXhjZXB0aW9ucy5JbmNvcnJlY3RBcmd1bWVudD1mdW5jdGlvbihzKXtmdW5jdGlvbiBpKGUsdCxzLGkpe3RoaXMubmFtZT1cIkluY29ycmVjdEFyZ3VtZW50XCIsZT90aGlzLm1lc3NhZ2U9ZToodGhpcy5tZXNzYWdlPVwiSW5jb3JyZWN0XCIsdCYmKHRoaXMubWVzc2FnZSs9JyBcIicrdCsnXCInKSx0aGlzLm1lc3NhZ2UrPVwiIGFyZ3VtZW50IHR5cGVcIixzJiYodGhpcy5tZXNzYWdlKz0nOiBcIicrcysnXCInKSxpJiYodGhpcy5tZXNzYWdlKz0nLCBtdXN0IGJlIGEobikgXCInK2krJ1wiJyksdGhpcy5tZXNzYWdlKz1cIi5cIiksdGhpcy5hcmdOYW1lPXQsdGhpcy5hcmdUeXBlPXMsdGhpcy5tdXN0QmU9aX1lKCh0KGkscykuZGlzcGxheU5hbWU9XCJJbmNvcnJlY3RBcmd1bWVudFwiLGkpLHMpLnByb3RvdHlwZTtyZXR1cm4gaX0oRXJyb3IpLHMuZXhjZXB0aW9ucy5SZXF1aXJlZEFyZ3VtZW50S2V5PWZ1bmN0aW9uKHMpe2Z1bmN0aW9uIGkoZSx0LHMsaSxyKXt0aGlzLm5hbWU9XCJSZXF1aXJlZEFyZ3VtZW50S2V5XCIsZT90aGlzLm1lc3NhZ2U9ZToodGhpcy5tZXNzYWdlPVwiSW5jb3JyZWN0XCIsdCYmKHRoaXMubWVzc2FnZSs9JyBcIicrdCsnXCInKSx0aGlzLm1lc3NhZ2UrPVwiIGFyZ3VtZW50IGtleVwiLHMmJih0aGlzLm1lc3NhZ2UrPScgXCInK3MrJ1wiJyksdGhpcy5tZXNzYWdlKz1cIiB0eXBlXCIsaSYmKHRoaXMubWVzc2FnZSs9JzogXCInK2krJ1wiJyksciYmKHRoaXMubWVzc2FnZSs9JywgbXVzdCBiZSBhKG4pIFwiJytyKydcIicpLHRoaXMubWVzc2FnZSs9XCIuXCIpLHRoaXMuYXJnTmFtZT10LHRoaXMua2V5TmFtZT1zLHRoaXMua2V5VHlwZT1pLHRoaXMua2V5TXVzdEJlPXJ9ZSgodChpLHMpLmRpc3BsYXlOYW1lPVwiUmVxdWlyZWRBcmd1bWVudEtleVwiLGkpLHMpLnByb3RvdHlwZTtyZXR1cm4gaX0oRXJyb3IpLHMuZXhjZXB0aW9ucy5JbmNvcnJlY3RLZXk9ZnVuY3Rpb24ocyl7ZnVuY3Rpb24gaShlLHQpe3RoaXMubmFtZT1cIkluY29ycmVjdEtleVwiLGU/dGhpcy5tZXNzYWdlPWU6KHRoaXMubWVzc2FnZT1cIkluY29ycmVjdCBrZXkgdHlwZVwiLHQmJih0aGlzLm1lc3NhZ2UrPScgKFwiJyt0KydcIiknKSx0aGlzLm1lc3NhZ2UrPVwiLCBtdXN0IGJlIGEgc3RyaW5nLlwiKSx0aGlzLmtleVR5cGU9dH1lKCh0KGkscykuZGlzcGxheU5hbWU9XCJJbmNvcnJlY3RLZXlcIixpKSxzKS5wcm90b3R5cGU7cmV0dXJuIGl9KEVycm9yKSxzLmV4Y2VwdGlvbnMuS2V5SXNOb3RFeGlzdHM9ZnVuY3Rpb24ocyl7ZnVuY3Rpb24gaShlLHQpe3RoaXMubmFtZT1cIktleUlzTm90RXhpc3RzXCIsZT90aGlzLm1lc3NhZ2U9ZToodGhpcy5tZXNzYWdlPVwiS2V5XCIsdCYmKHRoaXMubWVzc2FnZSs9JyBcIicrdCsnXCInKSx0aGlzLm1lc3NhZ2UrPVwiIGlzIG5vdCBleGlzdHMuXCIpLHRoaXMua2V5PXR9ZSgodChpLHMpLmRpc3BsYXlOYW1lPVwiS2V5SXNOb3RFeGlzdHNcIixpKSxzKS5wcm90b3R5cGU7cmV0dXJuIGl9KEVycm9yKSxzLmV4Y2VwdGlvbnMuUmVxdWlyZWRJc05vdFNldD1mdW5jdGlvbihzKXtmdW5jdGlvbiBpKGUsdCl7dGhpcy5uYW1lPVwiUmVxdWlyZWRJc05vdFNldFwiLGU/dGhpcy5tZXNzYWdlPWU6KHRoaXMubWVzc2FnZT1cIlJlcXVpcmVkIGtleSBpcyBub3Qgc2V0XCIsdCYmKHRoaXMubWVzc2FnZSs9JzogXCInK3QrJ1wiJyksdGhpcy5tZXNzYWdlKz1cIi5cIiksdGhpcy5rZXk9dH1lKCh0KGkscykuZGlzcGxheU5hbWU9XCJSZXF1aXJlZElzTm90U2V0XCIsaSkscykucHJvdG90eXBlO3JldHVybiBpfShFcnJvcikscy5leGNlcHRpb25zLk5vS2V5SW5SZXF1aXJlZExpc3Q9ZnVuY3Rpb24ocyl7ZnVuY3Rpb24gaShlLHQpe3RoaXMubmFtZT1cIk5vS2V5SW5SZXF1aXJlZExpc3RcIixlP3RoaXMubWVzc2FnZT1lOih0aGlzLm1lc3NhZ2U9XCJObyBrZXlcIix0JiYodGhpcy5tZXNzYWdlKz0nIFwiJyt0KydcIicpLHRoaXMubWVzc2FnZSs9XCIgaW4gcmVxdWlyZWQgbGlzdC5cIiksdGhpcy5rZXk9dH1lKCh0KGkscykuZGlzcGxheU5hbWU9XCJOb0tleUluUmVxdWlyZWRMaXN0XCIsaSkscykucHJvdG90eXBlO3JldHVybiBpfShFcnJvciksc30oKX0pO1xufSkuY2FsbChnbG9iYWwsIG1vZHVsZSwgdW5kZWZpbmVkKTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBkZWZpbmUpIHtcbi8qKlxuICogUHJvdmlkZXMgY2xhc3MgZm9yIGdldCBsb2NhbGl6ZWQgdGV4dCBieSBrZXlcbiAqXG4gKiBAdmVyc2lvbiByNlxuICogQGF1dGhvciBWaWFjaGVzbGF2IExvdHNtYW5vdlxuICogQGxpY2Vuc2UgR05VL0dQTHYzIGJ5IEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiAoaHR0cHM6Ly9naXRodWIuY29tL3VuY2xlY2h1L2pzLXVzZWZ1bC1hbWQtbW9kdWxlcy9ibG9iL21hc3Rlci9HUEx2My1MSUNFTlNFKVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3VuY2xlY2h1L2pzLXVzZWZ1bC1hbWQtbW9kdWxlcy98R2l0SHVifVxuICovXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShmYWN0b3J5KTsgLy8gQU1EIChSZXF1aXJlSlMpXG5cdGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7IC8vIENvbW1vbkpTIChCcm93c2VyaWZ5KVxuXHRlbHNlXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBhcmNoaXRlY3R1cmUnKTtcbn0pKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0Ly8gaGVscGVycyB7e3sxXG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBpbm5lclxuXHQgKi9cblx0ZnVuY3Rpb24gaW5oZXJpdChwcm90bykge1xuXHRcdGlmIChPYmplY3QuY3JlYXRlKSByZXR1cm4gT2JqZWN0LmNyZWF0ZShwcm90byk7XG5cdFx0ZnVuY3Rpb24gRigpIHt9XG5cdFx0Ri5wcm90b3R5cGUgPSBwcm90bztcblx0XHRyZXR1cm4gbmV3IEYoKTtcblx0fVxuXG5cdC8vIGhlbHBlcnMgfX19MVxuXG5cdC8qKlxuXHQgKiBAY2xhc3Ncblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVzIC0gS2V5LXZhbHVlIG9iamVjdCBvZiBsb2NhbGl6YXRpb24gdmFsdWVzXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYWw9ZW5dIC0gQ3VycmVudCBsb2NhbGl6YXRpb24gc2hvcnQgY29kZVxuXHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259IGdldFdyYXBwZXJcblx0ICovXG5cdHZhciBleHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlcywgbG9jYWwpIHsgLy8ge3t7MVxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdC8vIHZhbGlkYXRpb24gb2YgYXJndW1lbnRzIHt7ezJcblxuXHRcdC8vIHZhbHVlc1xuXHRcdGlmICh0eXBlb2YgdmFsdWVzICE9PSAnb2JqZWN0Jylcblx0XHRcdHRocm93IG5ldyBzZWxmLmV4Y2VwdGlvbnMuSW5jb3JyZWN0QXJndW1lbnQoXG5cdFx0XHRcdG51bGwsICd2YWx1ZXMnLCB0eXBlb2YodmFsdWVzKSwgJ29iamVjdCcpO1xuXG5cdFx0Ly8gbG9jYWxcblx0XHRpZiAobG9jYWwgJiYgdHlwZW9mIGxvY2FsICE9PSAnc3RyaW5nJylcblx0XHRcdHRocm93IG5ldyBzZWxmLmV4Y2VwdGlvbnMuSW5jb3JyZWN0QXJndW1lbnQoXG5cdFx0XHRcdG51bGwsICdsb2NhbCcsIHR5cGVvZihsb2NhbCksICdzdHJpbmcnKTtcblxuXHRcdC8vIHZhbGlkYXRpb24gb2YgYXJndW1lbnRzIH19fTJcblxuXHRcdGlmICghbG9jYWwpIGxvY2FsID0gJ2VuJzsgLy8gZGVmYXVsdCB2YWx1ZVxuXG5cdFx0LyoqIEBwcml2YXRlICovIHNlbGYuX3ZhbHVlcyA9IHZhbHVlcztcblx0XHQvKiogQHByaXZhdGUgKi8gc2VsZi5fY3VyTG9jYWwgPSBudWxsO1xuXG5cdFx0c2VsZi5zZXRDdXJMb2NhbChsb2NhbCk7XG5cblx0XHQvKiogQHB1YmxpYyAqL1xuXHRcdHZhciBnZXRXcmFwcGVyID0gKGZ1bmN0aW9uIChzZWxmKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQvLyBkZWxlZ2F0ZSB0byBcImdldFwiIG1ldGhvZFxuXHRcdFx0XHRyZXR1cm4gc2VsZi5nZXQuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcblx0XHRcdH07XG5cdFx0fSkoc2VsZik7XG5cblx0XHQvKiogQHB1YmxpYyAqLyBnZXRXcmFwcGVyLnN1cGVyID0gc2VsZjtcblxuXHRcdHJldHVybiBnZXRXcmFwcGVyO1xuXG5cdH07IC8vIGNvbnN0cnVjdG9yIHRvIGV4cG9ydHMgfX19MVxuXG5cdC8qKlxuXHQgKiBAcHVibGljXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcblx0ICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBbdmFsX05dIC0gQ2hpbGQga2V5IG5hbWUgb3Iga2V5LXZhbHVlIG9iamVjdCB0byByZXBsYWNlIChtdXN0IGJlIGEgbGFzdCBhcmd1bWVudClcblx0ICogQGV4YW1wbGUgZ2V0TG9jYWxUZXh0KCdGSVJTVF9MRVZFTCcsICdTRUNPTkRfTEVWRUwnLCAnS0VZX09GX1ZBTFVFJylcblx0ICogQGV4YW1wbGUgZ2V0TG9jYWxUZXh0KCdGSVJTVF9MRVZFTCcsICdTRUNPTkRfTEVWRUwnLCAnS0VZX09GX1ZBTFVFJywgeyAnI1VSTCMnOiAnaHR0cDovL2RvbWFpbi5vcmcvcGF0aG5hbWUvJyB9KVxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSAtIExvY2FsaXplZCBhbmQgcHJlcHJvY2Vzc2VkIHRleHRcblx0ICovXG5cdGV4cG9ydHMucHJvdG90eXBlLmdldCA9IC8vIHt7ezFcblx0ZnVuY3Rpb24gKC8qS0VZKF9MRVZFTF8xKVssIEtFWShfTEVWRUxfTildWywgVE9fUkVQTEFDRV9MSVNUXSovKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHR2YXIgYXJnc1NyYyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cdFx0dmFyIGFyZ3NMb2cgPSBhcmdzU3JjLnNsaWNlKDApO1xuXHRcdHZhciBjdXIgPSBzZWxmLl92YWx1ZXNbc2VsZi5fY3VyTG9jYWxdO1xuXG5cdFx0aWYgKGFyZ3NMb2cubGVuZ3RoID4gMSlcblx0XHRcdGlmICh0eXBlb2YgYXJnc0xvZ1thcmdzTG9nLmxlbmd0aC0xXSA9PT0gJ29iamVjdCcpXG5cdFx0XHRcdGFyZ3NMb2cgPSBhcmdzTG9nLnNsaWNlKDAsIC0xKTtcblxuXHRcdGZ1bmN0aW9uIHJlY3Vyc2l2ZSgpIHsgLy8ge3t7MlxuXG5cdFx0XHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cdFx0XHR2YXIgYXJnID0gYXJncy5zaGlmdCgpO1xuXG5cdFx0XHQvLyBvYmplY3QgYXQgbGFzdCBhcmd1bWVudFxuXHRcdFx0aWYgKHR5cGVvZiBhcmcgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGlmIChhcmdzLmxlbmd0aCA8IDEgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKVxuXHRcdFx0XHRcdFx0Y3VyID0gY3VyLnJlcGxhY2UobmV3IFJlZ0V4cChrZXksICdnJyksIGFyZ1trZXldKTtcblx0XHRcdFx0XHRyZXR1cm4gY3VyO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93IG5ldyBzZWxmLmV4Y2VwdGlvbnMuSW5jb3JyZWN0S2V5VHlwZShcblx0XHRcdFx0XHRcdG51bGwsIHR5cGVvZihhcmcpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYXJncy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGlmIChjdXJbYXJnXSkge1xuXHRcdFx0XHRcdGN1ciA9IGN1clthcmddO1xuXHRcdFx0XHRcdHJldHVybiByZWN1cnNpdmUuYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IHNlbGYuZXhjZXB0aW9ucy5Ob3RGb3VuZChudWxsLCBhcmdzTG9nLmpvaW4oJy4nKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgY3VyW2FyZ10gPT09ICd1bmRlZmluZWQnKVxuXHRcdFx0XHRcdHRocm93IG5ldyBzZWxmLmV4Y2VwdGlvbnMuTm90Rm91bmQobnVsbCwgYXJnc0xvZy5qb2luKCcuJykpO1xuXG5cdFx0XHRcdGlmICh0eXBlb2YgY3VyW2FyZ10gPT09ICdzdHJpbmcnKVxuXHRcdFx0XHRcdHJldHVybiBjdXJbYXJnXTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRocm93IG5ldyBzZWxmLmV4Y2VwdGlvbnMuSW5jb3JyZWN0RGVzdGluYXRpb24obnVsbCwgYXJnc0xvZy5qb2luKCcuJykpO1xuXHRcdFx0fVxuXG5cdFx0fSAvLyByZWN1cnNpdmUoKSB9fX0yXG5cblx0XHRyZXR1cm4gcmVjdXJzaXZlLmFwcGx5KHNlbGYsIGFyZ3NTcmMpO1xuXG5cdH07IC8vIFwiZ2V0XCIgbWV0aG9kIH19fTFcblxuXHQvKipcblx0ICogQHB1YmxpY1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWwgLSBMb2NhbGl6YXRpb24gc2hvcnQgbmFtZSAoZXhhbXBsZTogJ2VuJyBvciAncnUnKVxuXHQgKi9cblx0ZXhwb3J0cy5wcm90b3R5cGUuc2V0Q3VyTG9jYWwgPSBmdW5jdGlvbiAobG9jYWwpIHsgLy8ge3t7MVxuXG5cdFx0Ly8gXCJsb2NhbFwiIGFyZ3VtZW50IHZhbGlkYXRpb25cblx0XHRpZiAodHlwZW9mIGxvY2FsICE9PSAnc3RyaW5nJylcblx0XHRcdHRocm93IG5ldyB0aGlzLmV4Y2VwdGlvbnMuSW5jb3JyZWN0QXJndW1lbnQoXG5cdFx0XHRcdG51bGwsICdsb2NhbCcsIHR5cGVvZihsb2NhbCksICdzdHJpbmcnKTtcblxuXHRcdGlmICghdGhpcy5fdmFsdWVzW2xvY2FsXSlcblx0XHRcdHRocm93IG5ldyB0aGlzLmV4Y2VwdGlvbnMuVW5rbm93bkxvY2FsaXphdGlvbihudWxsLCBsb2NhbCk7XG5cblx0XHR0aGlzLl9jdXJMb2NhbCA9IGxvY2FsO1xuXG5cdH07IC8vIFwic2V0Q3VyTG9jYWxcIiBtZXRob2QgfX19MVxuXG5cdC8qIGV4Y2VwdGlvbnMge3t7MSAqL1xuXG5cdC8qKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdGV4cG9ydHMuZXhjZXB0aW9ucyA9IGV4cG9ydHMucHJvdG90eXBlLmV4Y2VwdGlvbnMgPSB7fTtcblxuXHRleHBvcnRzLmV4Y2VwdGlvbnMuSW5jb3JyZWN0QXJndW1lbnQgPSAvLyB7e3syXG5cdGZ1bmN0aW9uIChtZXNzYWdlLCBuYW1lLCB0eXBlLCBtdXN0QmUpIHtcblx0XHRFcnJvci5jYWxsKHRoaXMpO1xuXHRcdHRoaXMubmFtZSA9ICdJbmNvcnJlY3RBcmd1bWVudCc7XG5cdFx0aWYgKG1lc3NhZ2UpIHtcblx0XHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubWVzc2FnZSA9ICdJbmNvcnJlY3QnO1xuXHRcdFx0aWYgKG5hbWUpIHRoaXMubWVzc2FnZSArPSAnIFwiJysgbmFtZSArJ1wiJztcblx0XHRcdHRoaXMubWVzc2FnZSArPSAnIGFyZ3VtZW50IHR5cGUnO1xuXHRcdFx0aWYgKHR5cGUpIHRoaXMubWVzc2FnZSArPSAnOiBcIicrIHR5cGUgKydcIic7XG5cdFx0XHRpZiAobXVzdEJlKSB0aGlzLm1lc3NhZ2UgKz0gJywgbXVzdCBiZSBhKG4pIFwiJysgbXVzdEJlICsnXCInO1xuXHRcdH1cblx0fTsgLy8gfX19MlxuXG5cdGV4cG9ydHMuZXhjZXB0aW9ucy5JbmNvcnJlY3RLZXlUeXBlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHR5cGUpIHsgLy8ge3t7MlxuXHRcdEVycm9yLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5uYW1lID0gJ0luY29ycmVjdEtleVR5cGUnO1xuXHRcdGlmIChtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSAnSW5jb3JyZWN0IGtleSB0eXBlJztcblx0XHRcdGlmICh0eXBlKSB0aGlzLm1lc3NhZ2UgKz0gJyAoXCInKyB0eXBlICsnXCIpJztcblx0XHRcdHRoaXMubWVzc2FnZSArPSAnLCBtdXN0IGJlIGEgc3RyaW5nJyArXG5cdFx0XHRcdCcgb3Iga2V5LXZhbHVlIG9iamVjdCAoYXQgbGFzdCBhcmd1bWVudCknO1xuXHRcdH1cblx0fTsgLy8gfX19MlxuXG5cdGV4cG9ydHMuZXhjZXB0aW9ucy5Ob3RGb3VuZCA9IGZ1bmN0aW9uIChtZXNzYWdlLCBrZXlQYXRoKSB7IC8vIHt7ezJcblx0XHRFcnJvci5jYWxsKHRoaXMpO1xuXHRcdHRoaXMubmFtZSA9ICdOb3RGb3VuZCc7XG5cdFx0aWYgKG1lc3NhZ2UpIHtcblx0XHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubWVzc2FnZSA9ICdMb2NhbGl6ZWQgdGV4dCBub3QgZm91bmQgYnkga2V5LXBhdGgnO1xuXHRcdFx0aWYgKGtleVBhdGgpIHRoaXMubWVzc2FnZSArPSAnOiBcIicrIGtleVBhdGggKydcIic7XG5cdFx0fVxuXHR9OyAvLyB9fX0yXG5cblx0ZXhwb3J0cy5leGNlcHRpb25zLkluY29ycmVjdERlc3RpbmF0aW9uID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGtleVBhdGgpIHsgLy8ge3t7MlxuXHRcdEVycm9yLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5uYW1lID0gJ0luY29ycmVjdERlc3RpbmF0aW9uJztcblx0XHRpZiAobWVzc2FnZSkge1xuXHRcdFx0dGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5tZXNzYWdlID0gJ0luY29ycmVjdCBkZXN0aW5hdGlvbiBieSBrZXktcGF0aCc7XG5cdFx0XHRpZiAoa2V5UGF0aCkgdGhpcy5tZXNzYWdlICs9ICc6IFwiJysga2V5UGF0aCArJ1wiJztcblx0XHR9XG5cdH07IC8vIH19fTJcblxuXHRleHBvcnRzLmV4Y2VwdGlvbnMuVW5rbm93bkxvY2FsaXphdGlvbiA9IGZ1bmN0aW9uIChtZXNzYWdlLCBsb2NhbCkgeyAvLyB7e3syXG5cdFx0RXJyb3IuY2FsbCh0aGlzKTtcblx0XHR0aGlzLm5hbWUgPSAnVW5rbm93bkxvY2FsaXphdGlvbic7XG5cdFx0aWYgKG1lc3NhZ2UpIHtcblx0XHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubWVzc2FnZSA9ICdVbmtub3duIGxvY2FsaXphdGlvbic7XG5cdFx0XHRpZiAobG9jYWwpIHRoaXMubWVzc2FnZSArPSAnOiBcIicrIGxvY2FsICsnXCInO1xuXHRcdH1cblx0fTsgLy8gfX19MlxuXG5cdGZvciAodmFyIGtleSBpbiBleHBvcnRzLmV4Y2VwdGlvbnMpXG5cdFx0ZXhwb3J0cy5leGNlcHRpb25zW2tleV0ucHJvdG90eXBlID0gaW5oZXJpdChFcnJvci5wcm90b3R5cGUpO1xuXG5cdC8qIGV4Y2VwdGlvbnMgfX19MSAqL1xuXG5cdHJldHVybiBleHBvcnRzO1xuXG59KTsgLy8gZmFjdG9yeSgpXG5cbn0pLmNhbGwoZ2xvYmFsLCBtb2R1bGUsIHVuZGVmaW5lZCk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuKGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZGVmaW5lKSB7XG4vKipcbiAqIER5bmFtaWMgbG9hZGluZyBpbWFnZXMgYWJzdHJhY3Rpb24gY2xhc3NcbiAqXG4gKiBAbW9kdWxlIGxvYWRfaW1nXG4gKiBAcmVxdWlyZXMganF1ZXJ5XG4gKlxuICogQHZlcnNpb24gcjRcbiAqIEBhdXRob3IgVmlhY2hlc2xhdiBMb3RzbWFub3ZcbiAqIEBsaWNlbnNlIEdOVS9HUEx2MyBieSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24gKGh0dHBzOi8vZ2l0aHViLmNvbS91bmNsZWNodS9qcy11c2VmdWwtYW1kLWNvbW1vbmpzLW1vZHVsZXMvYmxvYi9tYXN0ZXIvR1BMdjMtTElDRU5TRSlcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS91bmNsZWNodS9qcy11c2VmdWwtYW1kLWNvbW1vbmpzLW1vZHVsZXMvfEdpdEh1Yn1cbiAqL1xuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRCAoUmVxdWlyZUpTKVxuXHRcdGRlZmluZShbJ2pxdWVyeSddLCBmdW5jdGlvbiAoJCkgeyBmYWN0b3J5KCQpOyB9KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0Ly8gQ29tbW9uSlMgKEJyb3dzZXJpZnkpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGFyY2hpdGVjdHVyZScpO1xuXHR9XG59KShmdW5jdGlvbiAoJCwgdW5kZWZpbmVkKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8vIGhlbHBlcnMge3t7MVxuXG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAaW5uZXJcblx0ICovXG5cdGZ1bmN0aW9uIGluaGVyaXQocHJvdG8pIHtcblx0XHRpZiAoT2JqZWN0LmNyZWF0ZSkgcmV0dXJuIE9iamVjdC5jcmVhdGUocHJvdG8pO1xuXHRcdGZ1bmN0aW9uIEYoKSB7fVxuXHRcdEYucHJvdG90eXBlID0gcHJvdG87XG5cdFx0cmV0dXJuIG5ldyBGKCk7XG5cdH1cblxuXHQvLyBoZWxwZXJzIH19fTFcblxuXHQvKipcblx0ICogQGNsYXNzXG5cdCAqIEBwdWJsaWNcblx0ICogQHBhcmFtIHtOdW1iZXJ8RmxvYXR9IFtsb2FkSW1nVGltZW91dD0yMF0gLSBMb2FkaW5nIGltYWdlIHRpbWVvdXQgaW4gc2Vjb25kc1xuXHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259IGxvYWRJbWdXcmFwcGVyXG5cdCAqL1xuXHR2YXIgZXhwb3J0cyA9IGZ1bmN0aW9uIChsb2FkSW1nVGltZW91dCkgeyAvLyB7e3sxXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0Ly8gdmFsaWRhdGlvbiBvZiBhcmd1bWVudHMge3t7MlxuXG5cdFx0aWYgKGxvYWRJbWdUaW1lb3V0ICYmICh0eXBlb2YgbG9hZEltZ1RpbWVvdXQgIT09ICdudW1iZXInKSlcblx0XHRcdHRocm93IG5ldyBzZWxmLmV4Y2VwdGlvbnMuSW5jb3JyZWN0QXJndW1lbnQoXG5cdFx0XHRcdG51bGwsICdsb2FkSW1nVGltZW91dCcsIHR5cGVvZihsb2FkSW1nVGltZW91dCksXG5cdFx0XHRcdFsnbnVtYmVyJywgJ2Zsb2F0J10pO1xuXG5cdFx0Ly8gdmFsaWRhdGlvbiBvZiBhcmd1bWVudHMgfX19MlxuXG5cdFx0LyoqIEBwcml2YXRlICovIHNlbGYuX2xvYWRJbWdUaW1lb3V0ID0gKGxvYWRJbWdUaW1lb3V0IHx8IDIwKTtcblxuXHRcdC8qKiBAcHVibGljICovXG5cdFx0dmFyIGxvYWRJbWdXcmFwcGVyID0gKGZ1bmN0aW9uIChzZWxmKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQvLyBkZWxlZ2F0ZSB0byBcImxvYWRJbWdcIiBtZXRob2Rcblx0XHRcdFx0cmV0dXJuIHNlbGYubG9hZEltZy5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHRcdFx0fTtcblx0XHR9KShzZWxmKTtcblxuXHRcdC8qKiBAcHVibGljICovIGxvYWRJbWdXcmFwcGVyLnN1cGVyID0gc2VsZjtcblxuXHRcdHJldHVybiBsb2FkSW1nV3JhcHBlcjtcblx0fTsgLy8gY29uc3RydWN0b3IgdG8gZXhwb3J0cyB9fX0xXG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBpbm5lclxuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSB7RXJyb3J9IGVyclxuXHQgKi9cblx0ZnVuY3Rpb24gbWFrZUVycm9yKGVyciwgY2IpIHsgLy8ge3t7MVxuXHRcdGlmIChjYilcblx0XHRcdHNldFRpbWVvdXQoJC5wcm94eShjYiwgbnVsbCwgZXJyKSwgMCk7XG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgZXJyO1xuXHR9IC8vIG1ha2VFcnJvcigpIH19fTFcblxuXHQvKipcblx0ICogQHB1YmxpY1xuXHQgKiBAZXhhbXBsZVxuXHQgKiAgIGxvYWRJbWcoJy9pbWFnZXMvcGljdHVyZS5wbmcnLCBmdW5jdGlvbiAoZXJyLCBpbWcpIHtcblx0ICogICAgIGlmIChlcnIpIHJldHVybiBhbGVydChlcnIudG9TdHJpbmcoKSk7XG5cdCAqICAgICAkKCdib2R5JykuYXBwZW5kKCc8aW1nIGFsdD1cIlwiIHNyYz1cIicrIGltZy5zcmMgKydcIiB3aWR0aD1cIicrIGltZy53aWR0aCArJ1wiIGhlaWdodD1cIicrIGltZy5oZWlnaHQgKydcIiAvPicpO1xuXHQgKiAgIH0pO1xuXHQgKi9cblx0ZXhwb3J0cy5wcm90b3R5cGUubG9hZEltZyA9IGZ1bmN0aW9uIGxvYWRJbWcobGluaywgY2FsbGJhY2spIHsgLy8ge3t7MVxuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0Ly8gdmFsaWRhdGlvbiBvZiBhcmd1bWVudHMge3t7MlxuXG5cdFx0aWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcblx0XHRcdHJldHVybiBtYWtlRXJyb3IobmV3IHNlbGYuZXhjZXB0aW9ucy5JbmNvcnJlY3RBcmd1bWVudChcblx0XHRcdFx0bnVsbCwgJ2NhbGxiYWNrJywgdHlwZW9mKGNhbGxiYWNrKSwgJ2Z1bmN0aW9uJyksIG51bGwpO1xuXG5cdFx0aWYgKHR5cGVvZiBsaW5rICE9PSAnc3RyaW5nJylcblx0XHRcdHJldHVybiBtYWtlRXJyb3IobmV3IHNlbGYuZXhjZXB0aW9ucy5JbmNvcnJlY3RMaW5rKFxuXHRcdFx0XHRudWxsLCB0eXBlb2YobGluaykpLCBjYWxsYmFjayk7XG5cblx0XHQvLyB2YWxpZGF0aW9uIG9mIGFyZ3VtZW50cyB9fX0yXG5cblx0XHR2YXIgJGltZyA9ICQoJzxpbWcvPicpO1xuXHRcdHZhciB0aW1lcklkO1xuXHRcdHZhciBsb2FkZWQgPSBmYWxzZTtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdGZ1bmN0aW9uIGRlc3Ryb3koKSB7IC8vIHt7ezJcblx0XHRcdGtpbGxUaW1lcigpO1xuXHRcdFx0JGltZy5vZmYoJ2xvYWQnKTtcblx0XHRcdCRpbWcgPSB1bmRlZmluZWQ7XG5cdFx0fSAvLyBkZXN0cm95KCkgfX19MlxuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0ZnVuY3Rpb24gdGltZW91dCgpIHsgLy8ge3t7MlxuXHRcdFx0aWYgKGxvYWRlZCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0XHRkZXN0cm95KCk7XG5cdFx0XHRtYWtlRXJyb3IobmV3IHNlbGYuZXhjZXB0aW9ucy5UaW1lb3V0KCksIGNhbGxiYWNrKTtcblx0XHR9IC8vIHRpbWVvdXQoKSB9fX0yXG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHRmdW5jdGlvbiBraWxsVGltZXIoKSB7IC8vIHt7ezJcblx0XHRcdGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuXHRcdFx0XHR0aW1lcklkID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH0gLy8ga2lsbFRpbWVyKCkgfX19MlxuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0ZnVuY3Rpb24gbG9hZEhhbmRsZXIoaW1nKSB7IC8vIHt7ezJcblx0XHRcdGxvYWRlZCA9IHRydWU7XG5cdFx0XHRraWxsVGltZXIoKTtcblxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGNhbGxiYWNrKG51bGwsIHtcblx0XHRcdFx0XHRzcmM6IGltZy5zcmMsXG5cdFx0XHRcdFx0d2lkdGg6IGltZy53aWR0aCxcblx0XHRcdFx0XHRoZWlnaHQ6IGltZy5oZWlnaHRcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGRlc3Ryb3koKTtcblx0XHRcdH0sIDApO1xuXHRcdH0gLy8gbG9hZEhhbmRsZXIoKSB9fX0yXG5cblx0XHQkaW1nLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkgeyBsb2FkSGFuZGxlcih0aGlzKTsgfSkuYXR0cignc3JjJywgbGluayk7XG5cblx0XHR0aW1lcklkID0gc2V0VGltZW91dCh0aW1lb3V0LCBNYXRoLnJvdW5kKHNlbGYuX2xvYWRJbWdUaW1lb3V0ICogMTAwMCkpO1xuXG5cdH07IC8vIGxvYWRJbWcoKSB9fX0xXG5cblx0LyogZXhjZXB0aW9ucyB7e3sgKi9cblxuXHQvKipcblx0ICogQHN0YXRpY1xuXHQgKiBAcHVibGljXG5cdCAqL1xuXHR2YXIgZXhjZXB0aW9ucyA9IGV4cG9ydHMuZXhjZXB0aW9ucyA9IGV4cG9ydHMucHJvdG90eXBlLmV4Y2VwdGlvbnMgPSB7fTtcblxuXHRleGNlcHRpb25zLkluY29ycmVjdEFyZ3VtZW50ID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG5hbWUsIHR5cGUsIG11c3RCZSkgeyAvLyB7e3syXG5cdFx0RXJyb3IuY2FsbCh0aGlzKTtcblx0XHR0aGlzLm5hbWUgPSAnSW5jb3JyZWN0QXJndW1lbnQnO1xuXHRcdGlmIChtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSAnSW5jb3JyZWN0Jztcblx0XHRcdGlmIChuYW1lKSB0aGlzLm1lc3NhZ2UgKz0gJyBcIicrIG5hbWUgKydcIic7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgKz0gJyBhcmd1bWVudCB0eXBlJztcblx0XHRcdGlmICh0eXBlKSB0aGlzLm1lc3NhZ2UgKz0gJzogXCInKyB0eXBlICsnXCInO1xuXHRcdFx0aWYgKHR5cGVvZiBtdXN0QmUgPT09ICdvYmplY3QnICYmIG11c3RCZS5sZW5ndGgpIHtcblx0XHRcdFx0dGhpcy5tZXNzYWdlICs9ICcsIG11c3QgYmUgYShuKSc7XG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaTxtdXN0QmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHR0aGlzLm1lc3NhZ2UgKz0gJyAnO1xuXHRcdFx0XHRcdGlmIChpPjApIHRoaXMubWVzc2FnZSArPSAnb3IgJztcblx0XHRcdFx0XHR0aGlzLm1lc3NhZ2UgKz0gJ1wiJysgbXVzdEJlW2ldICsnXCInO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBtdXN0QmUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHRoaXMubWVzc2FnZSArPSAnLCBtdXN0IGJlIGEobikgXCInKyBtdXN0QmUgKydcIic7XG5cdFx0XHR9XG5cdFx0fVxuXHR9OyAvLyB9fX0yXG5cblx0ZXhjZXB0aW9ucy5JbmNvcnJlY3RMaW5rID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHR5cGUpIHsgLy8ge3t7MlxuXHRcdEVycm9yLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5uYW1lID0gJ0luY29ycmVjdExpbmsnO1xuXHRcdGlmIChtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSAnSW5jb3JyZWN0IFwibGlua1wiIGFyZ3VtZW50Jztcblx0XHRcdGlmICh0eXBlKSB0aGlzLm1lc3NhZ2UgKz0gJyAoXCInKyB0eXBlICsnXCIpJztcblx0XHRcdHRoaXMubWVzc2FnZSArPSAnLCBtdXN0IGJlIGEgXCJzdHJpbmdcIic7XG5cdFx0fVxuXHR9OyAvLyB9fX0yXG5cblx0ZXhjZXB0aW9ucy5UaW1lb3V0ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsgLy8ge3t7MlxuXHRcdEVycm9yLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5uYW1lID0gJ1RpbWVvdXQnO1xuXHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgJ0xvYWRpbmcgaW1hZ2UgdGltZW91dCc7XG5cdH07IC8vIH19fTJcblxuXHRmb3IgKHZhciBrZXkgaW4gZXhjZXB0aW9ucylcblx0XHRleGNlcHRpb25zW2tleV0ucHJvdG90eXBlID0gaW5oZXJpdChFcnJvci5wcm90b3R5cGUpO1xuXG5cdC8qIGV4Y2VwdGlvbnMgfX19ICovXG5cblx0cmV0dXJuIGV4cG9ydHM7XG5cbn0pOyAvLyBmYWN0b3J5KClcblxufSkuY2FsbChnbG9iYWwsIG1vZHVsZSwgdW5kZWZpbmVkKTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSkiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4oZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBkZWZpbmUpIHtcbi8qKlxuICogQ2FsY3VsYXRlIHJlbGF0aXZlIG51bWJlciBieSByZWxhdGl2ZSBtaW4gYW5kIG1heCBzb3VyY2VzXG4gKlxuICogQHZlcnNpb24gcjJcbiAqIEBhdXRob3IgVmlhY2hlc2xhdiBMb3RzbWFub3ZcbiAqIEBsaWNlbnNlIEdOVS9HUEx2MyBieSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24gKGh0dHBzOi8vZ2l0aHViLmNvbS91bmNsZWNodS9qcy11c2VmdWwtYW1kLW1vZHVsZXMvYmxvYi9tYXN0ZXIvR1BMdjMtTElDRU5TRSlcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS91bmNsZWNodS9qcy11c2VmdWwtYW1kLW1vZHVsZXMvfEdpdEh1Yn1cbiAqL1xuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRCAoUmVxdWlyZUpTKVxuXHRcdGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0Ly8gQ29tbW9uSlMgKEJyb3dzZXJpZnkpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGFyY2hpdGVjdHVyZScpO1xuXHR9XG59KShmdW5jdGlvbiAoJCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgZXhwb3J0cztcblxuXHQvLyBoZWxwZXJzIHt7ezFcblxuXHRmdW5jdGlvbiBpbmhlcml0KHByb3RvKSB7XG5cdFx0aWYgKE9iamVjdC5jcmVhdGUpIHJldHVybiBPYmplY3QuY3JlYXRlKHByb3RvKTtcblx0XHRmdW5jdGlvbiBGKCkge31cblx0XHRGLnByb3RvdHlwZSA9IHByb3RvO1xuXHRcdHJldHVybiBuZXcgRigpO1xuXHR9XG5cblx0Ly8gaGVscGVycyB9fX0xXG5cblx0LyoqXG5cdCAqIEB0eXBlZGVmIHBhcmFtc1xuXHQgKiBAdHlwZSB7T2JqZWN0LjxOdW1iZXJ8RmxvYXR8Qm9vbGVhbj59XG5cdCAqIEBwcm9wIHtOdW1iZXJ8RmxvYXR9IHJlbFZhbCAtIEN1cnJlbnQgcmVsYXRpdmUgdmFsdWVcblx0ICogQHByb3Age051bWJlcnxGbG9hdH0gcmVsTWluIC0gUmVsYXRpdmUgbWluaW11bSB2YWx1ZVxuXHQgKiBAcHJvcCB7TnVtYmVyfEZsb2F0fSByZWxNYXggLSBSZWxhdGl2ZSBtYXhpbXVtIHZhbHVlXG5cdCAqIEBwcm9wIHtOdW1iZXJ8RmxvYXR9IG1pbiAtIE1pbmltdW0gdmFsdWUgZm9yIGNhbGN1bGF0aW5nIGJ5IFwicmVsTWluXCJcblx0ICogQHByb3Age051bWJlcnxGbG9hdH0gbWF4IC0gbWF4aW11bSB2YWx1ZSBmb3IgY2FsY3VsYXRpbmcgYnkgXCJyZWxNYXhcIlxuXHQgKiBAcHJvcCB7Qm9vbGVhbn0gW2xpbWl0TWluPXRydWVdIC0gTGltaXQgXCJyZWxWYWxcIiBieSBcInJlbE1pblwiXG5cdCAqIEBwcm9wIHtCb29sZWFufSBbbGltaXRNYXg9dHJ1ZV0gLSBMaW1pdCBcInJlbFZhbFwiIGJ5IFwicmVsTWF4XCJcblx0ICovXG5cdHZhciBkZWZhdWx0UGFyYW1zID0geyAvLyB7e3sxXG5cdFx0cmVsVmFsOiBudWxsLFxuXHRcdHJlbE1pbjogbnVsbCxcblx0XHRyZWxNYXg6IG51bGwsXG5cdFx0bWluOiBudWxsLFxuXHRcdG1heDogbnVsbCxcblx0XHRsaW1pdE1pbjogdHJ1ZSxcblx0XHRsaW1pdE1heDogdHJ1ZSxcblx0fTsgLy8gZGVmYXVsdFBhcmFtcyB9fX0xXG5cblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBpbm5lclxuXHQgKiBAcGFyYW0ge3BhcmFtc30gcGFyYW1zXG5cdCAqIEByZXR1cm4gQ2FsY3VsYXRlZCB2YWx1ZVxuXHQgKi9cblx0ZnVuY3Rpb24gbW9kZWwocGFyYW1zKSB7IC8vIHt7ezFcblxuXHRcdHZhciByZXN1bHQgPSAwO1xuXHRcdHZhciByZWxWYWwgPSBwYXJhbXMucmVsVmFsO1xuXG5cdFx0aWYgKHBhcmFtcy5saW1pdE1pbiAmJiByZWxWYWwgPCBwYXJhbXMucmVsTWluKVxuXHRcdFx0cmVsVmFsID0gcGFyYW1zLnJlbE1pbjtcblx0XHRlbHNlIGlmIChwYXJhbXMubGltaXRNYXggJiYgcmVsVmFsID4gcGFyYW1zLnJlbE1heClcblx0XHRcdHJlbFZhbCA9IHBhcmFtcy5yZWxNYXg7XG5cblx0XHR2YXIgcmVsVmFsTG93ID0gcmVsVmFsIC0gcGFyYW1zLnJlbE1pbjtcblx0XHR2YXIgcmVsTWF4TG93ID0gcGFyYW1zLnJlbE1heCAtIHBhcmFtcy5yZWxNaW47XG5cdFx0dmFyIG1heExvdyA9IHBhcmFtcy5tYXggLSBwYXJhbXMubWluO1xuXG5cdFx0cmVzdWx0ID0gcmVsVmFsTG93ICogKG1heExvdykgLyByZWxNYXhMb3c7XG5cdFx0cmVzdWx0ICs9IHBhcmFtcy5taW47XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXG5cdH0gLy8gbW9kZWwoKSB9fX0xXG5cblx0LyoqXG5cdCAqIEBwdWJsaWNcblx0ICogQHN0YXRpY1xuXHQgKiBAcGFyYW0ge3BhcmFtc30gcGFyYW1zXG5cdCAqIEByZXR1cm4gQ2FsY3VsYXRlZCB2YWx1ZVxuXHQgKiBAdGhyb3dzIHtFcnJvcn0gSW5jb3JyZWN0UGFyYW1zVHlwZVxuXHQgKiBAdGhyb3dzIHtFcnJvcn0gUmVxdWlyZWRQYXJhbVxuXHQgKiBAdGhyb3dzIHtFcnJvcn0gVW5rbm93blBhcmFtXG5cdCAqIEB0aHJvd3Mge0Vycm9yfSBJbmNvcnJlY3RQYXJhbVZhbHVlXG5cdCAqL1xuXHRleHBvcnRzID0gZnVuY3Rpb24gY29udHJvbGxlcihwYXJhbXMpIHsgLy8ge3t7MVxuXG5cdFx0dmFyIGtleTtcblxuXHRcdC8vIHZhbGlkYXRlIHBhcmFtcyB7e3syXG5cblx0XHQvLyBjaGVjayBmb3IgY29ycmVjdCBwYXJhbXMgdHlwZVxuXHRcdGlmICghJC5pc1BsYWluT2JqZWN0KHBhcmFtcykpXG5cdFx0XHR0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbmNvcnJlY3RQYXJhbXNUeXBlKG51bGwsICQudHlwZShwYXJhbXMpKTtcblxuXHRcdC8vIGNoZWNrIGZvciByZXF1aXJlZCBwYXJhbXNcblx0XHRmb3IgKGtleSBpbiBkZWZhdWx0UGFyYW1zKSB7XG5cdFx0XHRpZiAoa2V5ID09PSAnbGltaXRNaW4nIHx8IGtleSA9PT0gJ2xpbWl0TWF4Jylcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRlbHNlIGlmICghKGtleSBpbiBwYXJhbXMpKVxuXHRcdFx0XHR0aHJvdyBuZXcgZXhjZXB0aW9ucy5SZXF1aXJlZFBhcmFtKG51bGwsIGtleSk7XG5cdFx0fVxuXG5cdFx0Ly8gY2hlY2sgZm9yIHVua25vd24gcGFyYW1zXG5cdFx0Zm9yIChrZXkgaW4gcGFyYW1zKVxuXHRcdFx0aWYgKCEoa2V5IGluIGRlZmF1bHRQYXJhbXMpKVxuXHRcdFx0XHR0aHJvdyBuZXcgZXhjZXB0aW9ucy5Vbmtub3duUGFyYW0obnVsbCwga2V5KTtcblxuXHRcdC8vIGNoZWNrIGZvciBjb3JyZWN0IHBhcmFtcyB0eXBlXG5cdFx0Zm9yIChrZXkgaW4gZGVmYXVsdFBhcmFtcykge1xuXHRcdFx0aWYgKGtleSA9PT0gJ2xpbWl0TWluJyB8fCBrZXkgPT09ICdsaW1pdE1heCcpIHtcblx0XHRcdFx0aWYgKGtleSBpbiBwYXJhbXMgJiYgJC50eXBlKHBhcmFtc1trZXldKSAhPT0gJ2Jvb2xlYW4nKVxuXHRcdFx0XHRcdHRocm93IG5ldyBleGNlcHRpb25zLkluY29ycmVjdFBhcmFtVmFsdWUoXG5cdFx0XHRcdFx0XHRudWxsLCBrZXksICQudHlwZShwYXJhbXNba2V5XSksICdib29sZWFuJyk7XG5cdFx0XHR9IGVsc2UgaWYgKCQudHlwZShwYXJhbXNba2V5XSkgIT09ICdudW1iZXInKSB7XG5cdFx0XHRcdHRocm93IG5ldyBleGNlcHRpb25zLkluY29ycmVjdFBhcmFtVmFsdWUoXG5cdFx0XHRcdFx0bnVsbCwga2V5LCAkLnR5cGUocGFyYW1zW2tleV0pLCAnbnVtYmVyJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gdmFsaWRhdGUgcGFyYW1zIH19fTJcblxuXHRcdHBhcmFtcyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0UGFyYW1zLCBwYXJhbXMpO1xuXG5cdFx0cmV0dXJuIG1vZGVsKHBhcmFtcyk7XG5cblx0fTsgLy8gZXhwb3J0cygpID0gY29udHJvbGxlcigpIH19fTFcblxuXHQvKiBleGNlcHRpb25zIHt7ezEgKi9cblxuXHQvKipcblx0ICogQHB1YmxpY1xuXHQgKiBAc3RhdGljXG5cdCAqIEByZWFkT25seVxuXHQgKiBAdHlwZSB7T2JqZWN0LjxFcnJvcj59XG5cdCAqIEBwcm9wIHtFcnJvcn0gSW5jb3JyZWN0UGFyYW1zVHlwZVxuXHQgKiBAcHJvcCB7RXJyb3J9IFJlcXVpcmVkUGFyYW1cblx0ICogQHByb3Age0Vycm9yfSBVbmtub3duUGFyYW1cblx0ICogQHByb3Age0Vycm9yfSBJbmNvcnJlY3RQYXJhbVZhbHVlXG5cdCAqL1xuXHR2YXIgZXhjZXB0aW9ucyA9IGV4cG9ydHMuZXhjZXB0aW9ucyA9IHt9O1xuXG5cdC8qKiBAdHlwZWRlZiB7RXJyb3J9IEluY29ycmVjdFBhcmFtc1R5cGUgKi9cblx0ZXhjZXB0aW9ucy5JbmNvcnJlY3RQYXJhbXNUeXBlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHBhcmFtc1R5cGUpIHsgLy8ge3t7MlxuXHRcdEVycm9yLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5uYW1lID0gJ0luY29ycmVjdFBhcmFtc1R5cGUnO1xuXHRcdGlmIChtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSAnUGFyYW1zIG11c3QgYmUgYSBwbGFpbiBvYmplY3QnO1xuXHRcdFx0aWYgKHBhcmFtc1R5cGUpIHRoaXMubWVzc2FnZSArPSAnIChub3cgaXMgXCInKyBwYXJhbXNUeXBlICsnXCIpJztcblx0XHR9XG5cdH07IC8vIH19fTJcblxuXHQvKiogQHR5cGVkZWYge0Vycm9yfSBSZXF1aXJlZFBhcmFtICovXG5cdGV4Y2VwdGlvbnMuUmVxdWlyZWRQYXJhbSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBwYXJhbU5hbWUpIHsgLy8ge3t7MlxuXHRcdEVycm9yLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5uYW1lID0gJ1JlcXVpcmVkUGFyYW0nO1xuXHRcdGlmIChtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSAnUmVxdWlyZWQgcGFyYW0nO1xuXHRcdFx0aWYgKHBhcmFtTmFtZSkgdGhpcy5tZXNzYWdlICs9ICcgXCInKyBwYXJhbU5hbWUgKydcIic7XG5cdFx0fVxuXHR9OyAvLyB9fX0yXG5cblx0LyoqIEB0eXBlZGVmIHtFcnJvcn0gVW5rbm93blBhcmFtICovXG5cdGV4Y2VwdGlvbnMuVW5rbm93blBhcmFtID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHBhcmFtTmFtZSkgeyAvLyB7e3syXG5cdFx0RXJyb3IuY2FsbCh0aGlzKTtcblx0XHR0aGlzLm5hbWUgPSAnVW5rbm93blBhcmFtJztcblx0XHRpZiAobWVzc2FnZSkge1xuXHRcdFx0dGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5tZXNzYWdlID0gJ1Vua25vd24gcGFyYW0nO1xuXHRcdFx0aWYgKHBhcmFtTmFtZSkgdGhpcy5tZXNzYWdlICs9ICcgXCInKyBwYXJhbU5hbWUgKydcIic7XG5cdFx0fVxuXHR9OyAvLyB9fX0yXG5cblx0LyoqIEB0eXBlZGVmIHtFcnJvcn0gSW5jb3JyZWN0UGFyYW1WYWx1ZSAqL1xuXHRleGNlcHRpb25zLkluY29ycmVjdFBhcmFtVmFsdWUgPSAvLyB7e3syXG5cdGZ1bmN0aW9uIChtZXNzYWdlLCBwYXJhbU5hbWUsIHBhcmFtVHlwZSwgbXVzdEJlVHlwZSkge1xuXHRcdEVycm9yLmNhbGwodGhpcyk7XG5cdFx0dGhpcy5uYW1lID0gJ0luY29ycmVjdFBhcmFtVmFsdWUnO1xuXHRcdGlmIChtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLm1lc3NhZ2UgPSAnSW5jb3JyZWN0Jztcblx0XHRcdGlmIChwYXJhbU5hbWUpIHRoaXMubWVzc2FnZSArPSAnIFwiJysgcGFyYW1OYW1lICsnXCInO1xuXHRcdFx0dGhpcy5tZXNzYWdlICs9ICcgcGFyYW0gdmFsdWUgdHlwZSc7XG5cdFx0XHRpZiAocGFyYW1UeXBlKSB0aGlzLm1lc3NhZ2UgKz0gJzogXCInKyBwYXJhbVR5cGUgKydcIic7XG5cdFx0XHRpZiAobXVzdEJlVHlwZSkgdGhpcy5tZXNzYWdlICs9ICcsIG11c3QgYmUgYSBcIicrIG11c3RCZVR5cGUgKydcIic7XG5cdFx0fVxuXHR9OyAvLyB9fX0yXG5cblx0Zm9yICh2YXIga2V5IGluIGV4Y2VwdGlvbnMpXG5cdFx0ZXhjZXB0aW9uc1trZXldLnByb3RvdHlwZSA9IGluaGVyaXQoRXJyb3IucHJvdG90eXBlKTtcblxuXHQvKiBleGNlcHRpb25zIH19fTEgKi9cblxuXHRyZXR1cm4gZXhwb3J0cztcblxufSk7IC8vIGZhY3RvcnkoKVxuXG59KS5jYWxsKGdsb2JhbCwgbW9kdWxlLCB1bmRlZmluZWQpO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMi4wXG52YXIgYXBwbHksIGN1cnJ5LCBmbGlwLCBmaXgsIG92ZXI7XG5hcHBseSA9IGN1cnJ5JChmdW5jdGlvbihmLCBsaXN0KXtcbiAgcmV0dXJuIGYuYXBwbHkobnVsbCwgbGlzdCk7XG59KTtcbmN1cnJ5ID0gZnVuY3Rpb24oZil7XG4gIHJldHVybiBjdXJyeSQoZik7XG59O1xuZmxpcCA9IGN1cnJ5JChmdW5jdGlvbihmLCB4LCB5KXtcbiAgcmV0dXJuIGYoeSwgeCk7XG59KTtcbmZpeCA9IGZ1bmN0aW9uKGYpe1xuICByZXR1cm4gZnVuY3Rpb24oZyl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZihnKGcpKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0oZnVuY3Rpb24oZyl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZihnKGcpKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0pO1xufTtcbm92ZXIgPSBjdXJyeSQoZnVuY3Rpb24oZiwgZywgeCwgeSl7XG4gIHJldHVybiBmKGcoeCksIGcoeSkpO1xufSk7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3Vycnk6IGN1cnJ5LFxuICBmbGlwOiBmbGlwLFxuICBmaXg6IGZpeCxcbiAgYXBwbHk6IGFwcGx5LFxuICBvdmVyOiBvdmVyXG59O1xuZnVuY3Rpb24gY3VycnkkKGYsIGJvdW5kKXtcbiAgdmFyIGNvbnRleHQsXG4gIF9jdXJyeSA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICByZXR1cm4gZi5sZW5ndGggPiAxID8gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBwYXJhbXMgPSBhcmdzID8gYXJncy5jb25jYXQoKSA6IFtdO1xuICAgICAgY29udGV4dCA9IGJvdW5kID8gY29udGV4dCB8fCB0aGlzIDogdGhpcztcbiAgICAgIHJldHVybiBwYXJhbXMucHVzaC5hcHBseShwYXJhbXMsIGFyZ3VtZW50cykgPFxuICAgICAgICAgIGYubGVuZ3RoICYmIGFyZ3VtZW50cy5sZW5ndGggP1xuICAgICAgICBfY3VycnkuY2FsbChjb250ZXh0LCBwYXJhbXMpIDogZi5hcHBseShjb250ZXh0LCBwYXJhbXMpO1xuICAgIH0gOiBmO1xuICB9O1xuICByZXR1cm4gX2N1cnJ5KCk7XG59IiwiLy8gR2VuZXJhdGVkIGJ5IExpdmVTY3JpcHQgMS4yLjBcbnZhciBlYWNoLCBtYXAsIGNvbXBhY3QsIGZpbHRlciwgcmVqZWN0LCBwYXJ0aXRpb24sIGZpbmQsIGhlYWQsIGZpcnN0LCB0YWlsLCBsYXN0LCBpbml0aWFsLCBlbXB0eSwgcmV2ZXJzZSwgdW5pcXVlLCB1bmlxdWVCeSwgZm9sZCwgZm9sZGwsIGZvbGQxLCBmb2xkbDEsIGZvbGRyLCBmb2xkcjEsIHVuZm9sZHIsIGNvbmNhdCwgY29uY2F0TWFwLCBmbGF0dGVuLCBkaWZmZXJlbmNlLCBpbnRlcnNlY3Rpb24sIHVuaW9uLCBjb3VudEJ5LCBncm91cEJ5LCBhbmRMaXN0LCBvckxpc3QsIGFueSwgYWxsLCBzb3J0LCBzb3J0V2l0aCwgc29ydEJ5LCBzdW0sIHByb2R1Y3QsIG1lYW4sIGF2ZXJhZ2UsIG1heGltdW0sIG1pbmltdW0sIG1heGltdW1CeSwgbWluaW11bUJ5LCBzY2FuLCBzY2FubCwgc2NhbjEsIHNjYW5sMSwgc2NhbnIsIHNjYW5yMSwgc2xpY2UsIHRha2UsIGRyb3AsIHNwbGl0QXQsIHRha2VXaGlsZSwgZHJvcFdoaWxlLCBzcGFuLCBicmVha0xpc3QsIHppcCwgemlwV2l0aCwgemlwQWxsLCB6aXBBbGxXaXRoLCBhdCwgZWxlbUluZGV4LCBlbGVtSW5kaWNlcywgZmluZEluZGV4LCBmaW5kSW5kaWNlcywgdG9TdHJpbmckID0ge30udG9TdHJpbmcsIHNsaWNlJCA9IFtdLnNsaWNlO1xuZWFjaCA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciBpJCwgbGVuJCwgeDtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgZih4KTtcbiAgfVxuICByZXR1cm4geHM7XG59KTtcbm1hcCA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciBpJCwgbGVuJCwgeCwgcmVzdWx0cyQgPSBbXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgcmVzdWx0cyQucHVzaChmKHgpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59KTtcbmNvbXBhY3QgPSBmdW5jdGlvbih4cyl7XG4gIHZhciBpJCwgbGVuJCwgeCwgcmVzdWx0cyQgPSBbXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgaWYgKHgpIHtcbiAgICAgIHJlc3VsdHMkLnB1c2goeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn07XG5maWx0ZXIgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIHgsIHJlc3VsdHMkID0gW107XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmIChmKHgpKSB7XG4gICAgICByZXN1bHRzJC5wdXNoKHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59KTtcbnJlamVjdCA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciBpJCwgbGVuJCwgeCwgcmVzdWx0cyQgPSBbXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgaWYgKCFmKHgpKSB7XG4gICAgICByZXN1bHRzJC5wdXNoKHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59KTtcbnBhcnRpdGlvbiA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciBwYXNzZWQsIGZhaWxlZCwgaSQsIGxlbiQsIHg7XG4gIHBhc3NlZCA9IFtdO1xuICBmYWlsZWQgPSBbXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgKGYoeCkgPyBwYXNzZWQgOiBmYWlsZWQpLnB1c2goeCk7XG4gIH1cbiAgcmV0dXJuIFtwYXNzZWQsIGZhaWxlZF07XG59KTtcbmZpbmQgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIHg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmIChmKHgpKSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9XG4gIH1cbn0pO1xuaGVhZCA9IGZpcnN0ID0gZnVuY3Rpb24oeHMpe1xuICByZXR1cm4geHNbMF07XG59O1xudGFpbCA9IGZ1bmN0aW9uKHhzKXtcbiAgaWYgKCF4cy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIHhzLnNsaWNlKDEpO1xufTtcbmxhc3QgPSBmdW5jdGlvbih4cyl7XG4gIHJldHVybiB4c1t4cy5sZW5ndGggLSAxXTtcbn07XG5pbml0aWFsID0gZnVuY3Rpb24oeHMpe1xuICBpZiAoIXhzLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4geHMuc2xpY2UoMCwgLTEpO1xufTtcbmVtcHR5ID0gZnVuY3Rpb24oeHMpe1xuICByZXR1cm4gIXhzLmxlbmd0aDtcbn07XG5yZXZlcnNlID0gZnVuY3Rpb24oeHMpe1xuICByZXR1cm4geHMuY29uY2F0KCkucmV2ZXJzZSgpO1xufTtcbnVuaXF1ZSA9IGZ1bmN0aW9uKHhzKXtcbiAgdmFyIHJlc3VsdCwgaSQsIGxlbiQsIHg7XG4gIHJlc3VsdCA9IFtdO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoIWluJCh4LCByZXN1bHQpKSB7XG4gICAgICByZXN1bHQucHVzaCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG51bmlxdWVCeSA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciBzZWVuLCBpJCwgbGVuJCwgeCwgdmFsLCByZXN1bHRzJCA9IFtdO1xuICBzZWVuID0gW107XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIHZhbCA9IGYoeCk7XG4gICAgaWYgKGluJCh2YWwsIHNlZW4pKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgc2Vlbi5wdXNoKHZhbCk7XG4gICAgcmVzdWx0cyQucHVzaCh4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59KTtcbmZvbGQgPSBmb2xkbCA9IGN1cnJ5JChmdW5jdGlvbihmLCBtZW1vLCB4cyl7XG4gIHZhciBpJCwgbGVuJCwgeDtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgbWVtbyA9IGYobWVtbywgeCk7XG4gIH1cbiAgcmV0dXJuIG1lbW87XG59KTtcbmZvbGQxID0gZm9sZGwxID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgcmV0dXJuIGZvbGQoZiwgeHNbMF0sIHhzLnNsaWNlKDEpKTtcbn0pO1xuZm9sZHIgPSBjdXJyeSQoZnVuY3Rpb24oZiwgbWVtbywgeHMpe1xuICB2YXIgaSQsIHg7XG4gIGZvciAoaSQgPSB4cy5sZW5ndGggLSAxOyBpJCA+PSAwOyAtLWkkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBtZW1vID0gZih4LCBtZW1vKTtcbiAgfVxuICByZXR1cm4gbWVtbztcbn0pO1xuZm9sZHIxID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgcmV0dXJuIGZvbGRyKGYsIHhzW3hzLmxlbmd0aCAtIDFdLCB4cy5zbGljZSgwLCAtMSkpO1xufSk7XG51bmZvbGRyID0gY3VycnkkKGZ1bmN0aW9uKGYsIGIpe1xuICB2YXIgcmVzdWx0LCB4LCB0aGF0O1xuICByZXN1bHQgPSBbXTtcbiAgeCA9IGI7XG4gIHdoaWxlICgodGhhdCA9IGYoeCkpICE9IG51bGwpIHtcbiAgICByZXN1bHQucHVzaCh0aGF0WzBdKTtcbiAgICB4ID0gdGhhdFsxXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSk7XG5jb25jYXQgPSBmdW5jdGlvbih4c3Mpe1xuICByZXR1cm4gW10uY29uY2F0LmFwcGx5KFtdLCB4c3MpO1xufTtcbmNvbmNhdE1hcCA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciB4O1xuICByZXR1cm4gW10uY29uY2F0LmFwcGx5KFtdLCAoZnVuY3Rpb24oKXtcbiAgICB2YXIgaSQsIHJlZiQsIGxlbiQsIHJlc3VsdHMkID0gW107XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHhzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgeCA9IHJlZiRbaSRdO1xuICAgICAgcmVzdWx0cyQucHVzaChmKHgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHMkO1xuICB9KCkpKTtcbn0pO1xuZmxhdHRlbiA9IGZ1bmN0aW9uKHhzKXtcbiAgdmFyIHg7XG4gIHJldHVybiBbXS5jb25jYXQuYXBwbHkoW10sIChmdW5jdGlvbigpe1xuICAgIHZhciBpJCwgcmVmJCwgbGVuJCwgcmVzdWx0cyQgPSBbXTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0geHMpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgICB4ID0gcmVmJFtpJF07XG4gICAgICBpZiAodG9TdHJpbmckLmNhbGwoeCkuc2xpY2UoOCwgLTEpID09PSAnQXJyYXknKSB7XG4gICAgICAgIHJlc3VsdHMkLnB1c2goZmxhdHRlbih4KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRzJC5wdXNoKHgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cyQ7XG4gIH0oKSkpO1xufTtcbmRpZmZlcmVuY2UgPSBmdW5jdGlvbih4cyl7XG4gIHZhciB5c3MsIHJlc3VsdHMsIGkkLCBsZW4kLCB4LCBqJCwgbGVuMSQsIHlzO1xuICB5c3MgPSBzbGljZSQuY2FsbChhcmd1bWVudHMsIDEpO1xuICByZXN1bHRzID0gW107XG4gIG91dGVyOiBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBmb3IgKGokID0gMCwgbGVuMSQgPSB5c3MubGVuZ3RoOyBqJCA8IGxlbjEkOyArK2okKSB7XG4gICAgICB5cyA9IHlzc1tqJF07XG4gICAgICBpZiAoaW4kKHgsIHlzKSkge1xuICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0cy5wdXNoKHgpO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufTtcbmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKHhzKXtcbiAgdmFyIHlzcywgcmVzdWx0cywgaSQsIGxlbiQsIHgsIGokLCBsZW4xJCwgeXM7XG4gIHlzcyA9IHNsaWNlJC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gIHJlc3VsdHMgPSBbXTtcbiAgb3V0ZXI6IGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGZvciAoaiQgPSAwLCBsZW4xJCA9IHlzcy5sZW5ndGg7IGokIDwgbGVuMSQ7ICsraiQpIHtcbiAgICAgIHlzID0geXNzW2okXTtcbiAgICAgIGlmICghaW4kKHgsIHlzKSkge1xuICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0cy5wdXNoKHgpO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufTtcbnVuaW9uID0gZnVuY3Rpb24oKXtcbiAgdmFyIHhzcywgcmVzdWx0cywgaSQsIGxlbiQsIHhzLCBqJCwgbGVuMSQsIHg7XG4gIHhzcyA9IHNsaWNlJC5jYWxsKGFyZ3VtZW50cyk7XG4gIHJlc3VsdHMgPSBbXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4c3MubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4cyA9IHhzc1tpJF07XG4gICAgZm9yIChqJCA9IDAsIGxlbjEkID0geHMubGVuZ3RoOyBqJCA8IGxlbjEkOyArK2okKSB7XG4gICAgICB4ID0geHNbaiRdO1xuICAgICAgaWYgKCFpbiQoeCwgcmVzdWx0cykpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn07XG5jb3VudEJ5ID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgdmFyIHJlc3VsdHMsIGkkLCBsZW4kLCB4LCBrZXk7XG4gIHJlc3VsdHMgPSB7fTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAga2V5ID0gZih4KTtcbiAgICBpZiAoa2V5IGluIHJlc3VsdHMpIHtcbiAgICAgIHJlc3VsdHNba2V5XSArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRzW2tleV0gPSAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn0pO1xuZ3JvdXBCeSA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciByZXN1bHRzLCBpJCwgbGVuJCwgeCwga2V5O1xuICByZXN1bHRzID0ge307XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGtleSA9IGYoeCk7XG4gICAgaWYgKGtleSBpbiByZXN1bHRzKSB7XG4gICAgICByZXN1bHRzW2tleV0ucHVzaCh4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0c1trZXldID0gW3hdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn0pO1xuYW5kTGlzdCA9IGZ1bmN0aW9uKHhzKXtcbiAgdmFyIGkkLCBsZW4kLCB4O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoIXgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xub3JMaXN0ID0gZnVuY3Rpb24oeHMpe1xuICB2YXIgaSQsIGxlbiQsIHg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmICh4KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbmFueSA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciBpJCwgbGVuJCwgeDtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgaWYgKGYoeCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59KTtcbmFsbCA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciBpJCwgbGVuJCwgeDtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgaWYgKCFmKHgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufSk7XG5zb3J0ID0gZnVuY3Rpb24oeHMpe1xuICByZXR1cm4geHMuY29uY2F0KCkuc29ydChmdW5jdGlvbih4LCB5KXtcbiAgICBpZiAoeCA+IHkpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoeCA8IHkpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9KTtcbn07XG5zb3J0V2l0aCA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHJldHVybiB4cy5jb25jYXQoKS5zb3J0KGYpO1xufSk7XG5zb3J0QnkgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICByZXR1cm4geHMuY29uY2F0KCkuc29ydChmdW5jdGlvbih4LCB5KXtcbiAgICBpZiAoZih4KSA+IGYoeSkpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZih4KSA8IGYoeSkpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9KTtcbn0pO1xuc3VtID0gZnVuY3Rpb24oeHMpe1xuICB2YXIgcmVzdWx0LCBpJCwgbGVuJCwgeDtcbiAgcmVzdWx0ID0gMDtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgcmVzdWx0ICs9IHg7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5wcm9kdWN0ID0gZnVuY3Rpb24oeHMpe1xuICB2YXIgcmVzdWx0LCBpJCwgbGVuJCwgeDtcbiAgcmVzdWx0ID0gMTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSB4c1tpJF07XG4gICAgcmVzdWx0ICo9IHg7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5tZWFuID0gYXZlcmFnZSA9IGZ1bmN0aW9uKHhzKXtcbiAgdmFyIHN1bSwgaSQsIGxlbiQsIHg7XG4gIHN1bSA9IDA7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0geHNbaSRdO1xuICAgIHN1bSArPSB4O1xuICB9XG4gIHJldHVybiBzdW0gLyB4cy5sZW5ndGg7XG59O1xubWF4aW11bSA9IGZ1bmN0aW9uKHhzKXtcbiAgdmFyIG1heCwgaSQsIHJlZiQsIGxlbiQsIHg7XG4gIG1heCA9IHhzWzBdO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0geHMuc2xpY2UoMSkpLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IHJlZiRbaSRdO1xuICAgIGlmICh4ID4gbWF4KSB7XG4gICAgICBtYXggPSB4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWF4O1xufTtcbm1pbmltdW0gPSBmdW5jdGlvbih4cyl7XG4gIHZhciBtaW4sIGkkLCByZWYkLCBsZW4kLCB4O1xuICBtaW4gPSB4c1swXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHhzLnNsaWNlKDEpKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSByZWYkW2kkXTtcbiAgICBpZiAoeCA8IG1pbikge1xuICAgICAgbWluID0geDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1pbjtcbn07XG5tYXhpbXVtQnkgPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgbWF4LCBpJCwgcmVmJCwgbGVuJCwgeDtcbiAgbWF4ID0geHNbMF07XG4gIGZvciAoaSQgPSAwLCBsZW4kID0gKHJlZiQgPSB4cy5zbGljZSgxKSkubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4ID0gcmVmJFtpJF07XG4gICAgaWYgKGYoeCkgPiBmKG1heCkpIHtcbiAgICAgIG1heCA9IHg7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXg7XG59KTtcbm1pbmltdW1CeSA9IGN1cnJ5JChmdW5jdGlvbihmLCB4cyl7XG4gIHZhciBtaW4sIGkkLCByZWYkLCBsZW4kLCB4O1xuICBtaW4gPSB4c1swXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHhzLnNsaWNlKDEpKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHggPSByZWYkW2kkXTtcbiAgICBpZiAoZih4KSA8IGYobWluKSkge1xuICAgICAgbWluID0geDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1pbjtcbn0pO1xuc2NhbiA9IHNjYW5sID0gY3VycnkkKGZ1bmN0aW9uKGYsIG1lbW8sIHhzKXtcbiAgdmFyIGxhc3QsIHg7XG4gIGxhc3QgPSBtZW1vO1xuICByZXR1cm4gW21lbW9dLmNvbmNhdCgoZnVuY3Rpb24oKXtcbiAgICB2YXIgaSQsIHJlZiQsIGxlbiQsIHJlc3VsdHMkID0gW107XG4gICAgZm9yIChpJCA9IDAsIGxlbiQgPSAocmVmJCA9IHhzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgeCA9IHJlZiRbaSRdO1xuICAgICAgcmVzdWx0cyQucHVzaChsYXN0ID0gZihsYXN0LCB4KSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzJDtcbiAgfSgpKSk7XG59KTtcbnNjYW4xID0gc2NhbmwxID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgaWYgKCF4cy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIHNjYW4oZiwgeHNbMF0sIHhzLnNsaWNlKDEpKTtcbn0pO1xuc2NhbnIgPSBjdXJyeSQoZnVuY3Rpb24oZiwgbWVtbywgeHMpe1xuICB4cyA9IHhzLmNvbmNhdCgpLnJldmVyc2UoKTtcbiAgcmV0dXJuIHNjYW4oZiwgbWVtbywgeHMpLnJldmVyc2UoKTtcbn0pO1xuc2NhbnIxID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgaWYgKCF4cy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgeHMgPSB4cy5jb25jYXQoKS5yZXZlcnNlKCk7XG4gIHJldHVybiBzY2FuKGYsIHhzWzBdLCB4cy5zbGljZSgxKSkucmV2ZXJzZSgpO1xufSk7XG5zbGljZSA9IGN1cnJ5JChmdW5jdGlvbih4LCB5LCB4cyl7XG4gIHJldHVybiB4cy5zbGljZSh4LCB5KTtcbn0pO1xudGFrZSA9IGN1cnJ5JChmdW5jdGlvbihuLCB4cyl7XG4gIGlmIChuIDw9IDApIHtcbiAgICByZXR1cm4geHMuc2xpY2UoMCwgMCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHhzLnNsaWNlKDAsIG4pO1xuICB9XG59KTtcbmRyb3AgPSBjdXJyeSQoZnVuY3Rpb24obiwgeHMpe1xuICBpZiAobiA8PSAwKSB7XG4gICAgcmV0dXJuIHhzO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB4cy5zbGljZShuKTtcbiAgfVxufSk7XG5zcGxpdEF0ID0gY3VycnkkKGZ1bmN0aW9uKG4sIHhzKXtcbiAgcmV0dXJuIFt0YWtlKG4sIHhzKSwgZHJvcChuLCB4cyldO1xufSk7XG50YWtlV2hpbGUgPSBjdXJyeSQoZnVuY3Rpb24ocCwgeHMpe1xuICB2YXIgbGVuLCBpO1xuICBsZW4gPSB4cy5sZW5ndGg7XG4gIGlmICghbGVuKSB7XG4gICAgcmV0dXJuIHhzO1xuICB9XG4gIGkgPSAwO1xuICB3aGlsZSAoaSA8IGxlbiAmJiBwKHhzW2ldKSkge1xuICAgIGkgKz0gMTtcbiAgfVxuICByZXR1cm4geHMuc2xpY2UoMCwgaSk7XG59KTtcbmRyb3BXaGlsZSA9IGN1cnJ5JChmdW5jdGlvbihwLCB4cyl7XG4gIHZhciBsZW4sIGk7XG4gIGxlbiA9IHhzLmxlbmd0aDtcbiAgaWYgKCFsZW4pIHtcbiAgICByZXR1cm4geHM7XG4gIH1cbiAgaSA9IDA7XG4gIHdoaWxlIChpIDwgbGVuICYmIHAoeHNbaV0pKSB7XG4gICAgaSArPSAxO1xuICB9XG4gIHJldHVybiB4cy5zbGljZShpKTtcbn0pO1xuc3BhbiA9IGN1cnJ5JChmdW5jdGlvbihwLCB4cyl7XG4gIHJldHVybiBbdGFrZVdoaWxlKHAsIHhzKSwgZHJvcFdoaWxlKHAsIHhzKV07XG59KTtcbmJyZWFrTGlzdCA9IGN1cnJ5JChmdW5jdGlvbihwLCB4cyl7XG4gIHJldHVybiBzcGFuKGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIG5vdCQocC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfSwgeHMpO1xufSk7XG56aXAgPSBjdXJyeSQoZnVuY3Rpb24oeHMsIHlzKXtcbiAgdmFyIHJlc3VsdCwgbGVuLCBpJCwgbGVuJCwgaSwgeDtcbiAgcmVzdWx0ID0gW107XG4gIGxlbiA9IHlzLmxlbmd0aDtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIGkgPSBpJDtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmIChpID09PSBsZW4pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXN1bHQucHVzaChbeCwgeXNbaV1dKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufSk7XG56aXBXaXRoID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzLCB5cyl7XG4gIHZhciByZXN1bHQsIGxlbiwgaSQsIGxlbiQsIGksIHg7XG4gIHJlc3VsdCA9IFtdO1xuICBsZW4gPSB5cy5sZW5ndGg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoaSA9PT0gbGVuKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgcmVzdWx0LnB1c2goZih4LCB5c1tpXSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59KTtcbnppcEFsbCA9IGZ1bmN0aW9uKCl7XG4gIHZhciB4c3MsIG1pbkxlbmd0aCwgaSQsIGxlbiQsIHhzLCByZWYkLCBpLCBscmVzdWx0JCwgaiQsIHJlc3VsdHMkID0gW107XG4gIHhzcyA9IHNsaWNlJC5jYWxsKGFyZ3VtZW50cyk7XG4gIG1pbkxlbmd0aCA9IDllOTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4c3MubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICB4cyA9IHhzc1tpJF07XG4gICAgbWluTGVuZ3RoIDw9IChyZWYkID0geHMubGVuZ3RoKSB8fCAobWluTGVuZ3RoID0gcmVmJCk7XG4gIH1cbiAgZm9yIChpJCA9IDA7IGkkIDwgbWluTGVuZ3RoOyArK2kkKSB7XG4gICAgaSA9IGkkO1xuICAgIGxyZXN1bHQkID0gW107XG4gICAgZm9yIChqJCA9IDAsIGxlbiQgPSB4c3MubGVuZ3RoOyBqJCA8IGxlbiQ7ICsraiQpIHtcbiAgICAgIHhzID0geHNzW2okXTtcbiAgICAgIGxyZXN1bHQkLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXN1bHRzJC5wdXNoKGxyZXN1bHQkKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59O1xuemlwQWxsV2l0aCA9IGZ1bmN0aW9uKGYpe1xuICB2YXIgeHNzLCBtaW5MZW5ndGgsIGkkLCBsZW4kLCB4cywgcmVmJCwgaSwgcmVzdWx0cyQgPSBbXTtcbiAgeHNzID0gc2xpY2UkLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgbWluTGVuZ3RoID0gOWU5O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzcy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIHhzID0geHNzW2kkXTtcbiAgICBtaW5MZW5ndGggPD0gKHJlZiQgPSB4cy5sZW5ndGgpIHx8IChtaW5MZW5ndGggPSByZWYkKTtcbiAgfVxuICBmb3IgKGkkID0gMDsgaSQgPCBtaW5MZW5ndGg7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgcmVzdWx0cyQucHVzaChmLmFwcGx5KG51bGwsIChmbiQoKSkpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG4gIGZ1bmN0aW9uIGZuJCgpe1xuICAgIHZhciBpJCwgcmVmJCwgbGVuJCwgcmVzdWx0cyQgPSBbXTtcbiAgICBmb3IgKGkkID0gMCwgbGVuJCA9IChyZWYkID0geHNzKS5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgICAgeHMgPSByZWYkW2kkXTtcbiAgICAgIHJlc3VsdHMkLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cyQ7XG4gIH1cbn07XG5hdCA9IGN1cnJ5JChmdW5jdGlvbihuLCB4cyl7XG4gIGlmIChuIDwgMCkge1xuICAgIHJldHVybiB4c1t4cy5sZW5ndGggKyBuXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geHNbbl07XG4gIH1cbn0pO1xuZWxlbUluZGV4ID0gY3VycnkkKGZ1bmN0aW9uKGVsLCB4cyl7XG4gIHZhciBpJCwgbGVuJCwgaSwgeDtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIGkgPSBpJDtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmICh4ID09PSBlbCkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG59KTtcbmVsZW1JbmRpY2VzID0gY3VycnkkKGZ1bmN0aW9uKGVsLCB4cyl7XG4gIHZhciBpJCwgbGVuJCwgaSwgeCwgcmVzdWx0cyQgPSBbXTtcbiAgZm9yIChpJCA9IDAsIGxlbiQgPSB4cy5sZW5ndGg7IGkkIDwgbGVuJDsgKytpJCkge1xuICAgIGkgPSBpJDtcbiAgICB4ID0geHNbaSRdO1xuICAgIGlmICh4ID09PSBlbCkge1xuICAgICAgcmVzdWx0cyQucHVzaChpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufSk7XG5maW5kSW5kZXggPSBjdXJyeSQoZnVuY3Rpb24oZiwgeHMpe1xuICB2YXIgaSQsIGxlbiQsIGksIHg7XG4gIGZvciAoaSQgPSAwLCBsZW4kID0geHMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAgeCA9IHhzW2kkXTtcbiAgICBpZiAoZih4KSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG59KTtcbmZpbmRJbmRpY2VzID0gY3VycnkkKGZ1bmN0aW9uKGYsIHhzKXtcbiAgdmFyIGkkLCBsZW4kLCBpLCB4LCByZXN1bHRzJCA9IFtdO1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IHhzLmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgaSA9IGkkO1xuICAgIHggPSB4c1tpJF07XG4gICAgaWYgKGYoeCkpIHtcbiAgICAgIHJlc3VsdHMkLnB1c2goaSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGVhY2g6IGVhY2gsXG4gIG1hcDogbWFwLFxuICBmaWx0ZXI6IGZpbHRlcixcbiAgY29tcGFjdDogY29tcGFjdCxcbiAgcmVqZWN0OiByZWplY3QsXG4gIHBhcnRpdGlvbjogcGFydGl0aW9uLFxuICBmaW5kOiBmaW5kLFxuICBoZWFkOiBoZWFkLFxuICBmaXJzdDogZmlyc3QsXG4gIHRhaWw6IHRhaWwsXG4gIGxhc3Q6IGxhc3QsXG4gIGluaXRpYWw6IGluaXRpYWwsXG4gIGVtcHR5OiBlbXB0eSxcbiAgcmV2ZXJzZTogcmV2ZXJzZSxcbiAgZGlmZmVyZW5jZTogZGlmZmVyZW5jZSxcbiAgaW50ZXJzZWN0aW9uOiBpbnRlcnNlY3Rpb24sXG4gIHVuaW9uOiB1bmlvbixcbiAgY291bnRCeTogY291bnRCeSxcbiAgZ3JvdXBCeTogZ3JvdXBCeSxcbiAgZm9sZDogZm9sZCxcbiAgZm9sZDE6IGZvbGQxLFxuICBmb2xkbDogZm9sZGwsXG4gIGZvbGRsMTogZm9sZGwxLFxuICBmb2xkcjogZm9sZHIsXG4gIGZvbGRyMTogZm9sZHIxLFxuICB1bmZvbGRyOiB1bmZvbGRyLFxuICBhbmRMaXN0OiBhbmRMaXN0LFxuICBvckxpc3Q6IG9yTGlzdCxcbiAgYW55OiBhbnksXG4gIGFsbDogYWxsLFxuICB1bmlxdWU6IHVuaXF1ZSxcbiAgdW5pcXVlQnk6IHVuaXF1ZUJ5LFxuICBzb3J0OiBzb3J0LFxuICBzb3J0V2l0aDogc29ydFdpdGgsXG4gIHNvcnRCeTogc29ydEJ5LFxuICBzdW06IHN1bSxcbiAgcHJvZHVjdDogcHJvZHVjdCxcbiAgbWVhbjogbWVhbixcbiAgYXZlcmFnZTogYXZlcmFnZSxcbiAgY29uY2F0OiBjb25jYXQsXG4gIGNvbmNhdE1hcDogY29uY2F0TWFwLFxuICBmbGF0dGVuOiBmbGF0dGVuLFxuICBtYXhpbXVtOiBtYXhpbXVtLFxuICBtaW5pbXVtOiBtaW5pbXVtLFxuICBtYXhpbXVtQnk6IG1heGltdW1CeSxcbiAgbWluaW11bUJ5OiBtaW5pbXVtQnksXG4gIHNjYW46IHNjYW4sXG4gIHNjYW4xOiBzY2FuMSxcbiAgc2Nhbmw6IHNjYW5sLFxuICBzY2FubDE6IHNjYW5sMSxcbiAgc2NhbnI6IHNjYW5yLFxuICBzY2FucjE6IHNjYW5yMSxcbiAgc2xpY2U6IHNsaWNlLFxuICB0YWtlOiB0YWtlLFxuICBkcm9wOiBkcm9wLFxuICBzcGxpdEF0OiBzcGxpdEF0LFxuICB0YWtlV2hpbGU6IHRha2VXaGlsZSxcbiAgZHJvcFdoaWxlOiBkcm9wV2hpbGUsXG4gIHNwYW46IHNwYW4sXG4gIGJyZWFrTGlzdDogYnJlYWtMaXN0LFxuICB6aXA6IHppcCxcbiAgemlwV2l0aDogemlwV2l0aCxcbiAgemlwQWxsOiB6aXBBbGwsXG4gIHppcEFsbFdpdGg6IHppcEFsbFdpdGgsXG4gIGF0OiBhdCxcbiAgZWxlbUluZGV4OiBlbGVtSW5kZXgsXG4gIGVsZW1JbmRpY2VzOiBlbGVtSW5kaWNlcyxcbiAgZmluZEluZGV4OiBmaW5kSW5kZXgsXG4gIGZpbmRJbmRpY2VzOiBmaW5kSW5kaWNlc1xufTtcbmZ1bmN0aW9uIGN1cnJ5JChmLCBib3VuZCl7XG4gIHZhciBjb250ZXh0LFxuICBfY3VycnkgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGYubGVuZ3RoID4gMSA/IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgcGFyYW1zID0gYXJncyA/IGFyZ3MuY29uY2F0KCkgOiBbXTtcbiAgICAgIGNvbnRleHQgPSBib3VuZCA/IGNvbnRleHQgfHwgdGhpcyA6IHRoaXM7XG4gICAgICByZXR1cm4gcGFyYW1zLnB1c2guYXBwbHkocGFyYW1zLCBhcmd1bWVudHMpIDxcbiAgICAgICAgICBmLmxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID9cbiAgICAgICAgX2N1cnJ5LmNhbGwoY29udGV4dCwgcGFyYW1zKSA6IGYuYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcbiAgICB9IDogZjtcbiAgfTtcbiAgcmV0dXJuIF9jdXJyeSgpO1xufVxuZnVuY3Rpb24gaW4kKHgsIHhzKXtcbiAgdmFyIGkgPSAtMSwgbCA9IHhzLmxlbmd0aCA+Pj4gMDtcbiAgd2hpbGUgKCsraSA8IGwpIGlmICh4ID09PSB4c1tpXSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG5vdCQoeCl7IHJldHVybiAheDsgfSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMi4wXG52YXIgbWF4LCBtaW4sIG5lZ2F0ZSwgYWJzLCBzaWdudW0sIHF1b3QsIHJlbSwgZGl2LCBtb2QsIHJlY2lwLCBwaSwgdGF1LCBleHAsIHNxcnQsIGxuLCBwb3csIHNpbiwgdGFuLCBjb3MsIGFzaW4sIGFjb3MsIGF0YW4sIGF0YW4yLCB0cnVuY2F0ZSwgcm91bmQsIGNlaWxpbmcsIGZsb29yLCBpc0l0TmFOLCBldmVuLCBvZGQsIGdjZCwgbGNtO1xubWF4ID0gY3VycnkkKGZ1bmN0aW9uKHgkLCB5JCl7XG4gIHJldHVybiB4JCA+IHkkID8geCQgOiB5JDtcbn0pO1xubWluID0gY3VycnkkKGZ1bmN0aW9uKHgkLCB5JCl7XG4gIHJldHVybiB4JCA8IHkkID8geCQgOiB5JDtcbn0pO1xubmVnYXRlID0gZnVuY3Rpb24oeCl7XG4gIHJldHVybiAteDtcbn07XG5hYnMgPSBNYXRoLmFicztcbnNpZ251bSA9IGZ1bmN0aW9uKHgpe1xuICBpZiAoeCA8IDApIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAoeCA+IDApIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcbnF1b3QgPSBjdXJyeSQoZnVuY3Rpb24oeCwgeSl7XG4gIHJldHVybiB+fih4IC8geSk7XG59KTtcbnJlbSA9IGN1cnJ5JChmdW5jdGlvbih4JCwgeSQpe1xuICByZXR1cm4geCQgJSB5JDtcbn0pO1xuZGl2ID0gY3VycnkkKGZ1bmN0aW9uKHgsIHkpe1xuICByZXR1cm4gTWF0aC5mbG9vcih4IC8geSk7XG59KTtcbm1vZCA9IGN1cnJ5JChmdW5jdGlvbih4JCwgeSQpe1xuICB2YXIgcmVmJDtcbiAgcmV0dXJuICgoeCQpICUgKHJlZiQgPSB5JCkgKyByZWYkKSAlIHJlZiQ7XG59KTtcbnJlY2lwID0gKGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIDEgLyBpdDtcbn0pO1xucGkgPSBNYXRoLlBJO1xudGF1ID0gcGkgKiAyO1xuZXhwID0gTWF0aC5leHA7XG5zcXJ0ID0gTWF0aC5zcXJ0O1xubG4gPSBNYXRoLmxvZztcbnBvdyA9IGN1cnJ5JChmdW5jdGlvbih4JCwgeSQpe1xuICByZXR1cm4gTWF0aC5wb3coeCQsIHkkKTtcbn0pO1xuc2luID0gTWF0aC5zaW47XG50YW4gPSBNYXRoLnRhbjtcbmNvcyA9IE1hdGguY29zO1xuYXNpbiA9IE1hdGguYXNpbjtcbmFjb3MgPSBNYXRoLmFjb3M7XG5hdGFuID0gTWF0aC5hdGFuO1xuYXRhbjIgPSBjdXJyeSQoZnVuY3Rpb24oeCwgeSl7XG4gIHJldHVybiBNYXRoLmF0YW4yKHgsIHkpO1xufSk7XG50cnVuY2F0ZSA9IGZ1bmN0aW9uKHgpe1xuICByZXR1cm4gfn54O1xufTtcbnJvdW5kID0gTWF0aC5yb3VuZDtcbmNlaWxpbmcgPSBNYXRoLmNlaWw7XG5mbG9vciA9IE1hdGguZmxvb3I7XG5pc0l0TmFOID0gZnVuY3Rpb24oeCl7XG4gIHJldHVybiB4ICE9PSB4O1xufTtcbmV2ZW4gPSBmdW5jdGlvbih4KXtcbiAgcmV0dXJuIHggJSAyID09PSAwO1xufTtcbm9kZCA9IGZ1bmN0aW9uKHgpe1xuICByZXR1cm4geCAlIDIgIT09IDA7XG59O1xuZ2NkID0gY3VycnkkKGZ1bmN0aW9uKHgsIHkpe1xuICB2YXIgejtcbiAgeCA9IE1hdGguYWJzKHgpO1xuICB5ID0gTWF0aC5hYnMoeSk7XG4gIHdoaWxlICh5ICE9PSAwKSB7XG4gICAgeiA9IHggJSB5O1xuICAgIHggPSB5O1xuICAgIHkgPSB6O1xuICB9XG4gIHJldHVybiB4O1xufSk7XG5sY20gPSBjdXJyeSQoZnVuY3Rpb24oeCwgeSl7XG4gIHJldHVybiBNYXRoLmFicyhNYXRoLmZsb29yKHggLyBnY2QoeCwgeSkgKiB5KSk7XG59KTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBtYXg6IG1heCxcbiAgbWluOiBtaW4sXG4gIG5lZ2F0ZTogbmVnYXRlLFxuICBhYnM6IGFicyxcbiAgc2lnbnVtOiBzaWdudW0sXG4gIHF1b3Q6IHF1b3QsXG4gIHJlbTogcmVtLFxuICBkaXY6IGRpdixcbiAgbW9kOiBtb2QsXG4gIHJlY2lwOiByZWNpcCxcbiAgcGk6IHBpLFxuICB0YXU6IHRhdSxcbiAgZXhwOiBleHAsXG4gIHNxcnQ6IHNxcnQsXG4gIGxuOiBsbixcbiAgcG93OiBwb3csXG4gIHNpbjogc2luLFxuICB0YW46IHRhbixcbiAgY29zOiBjb3MsXG4gIGFjb3M6IGFjb3MsXG4gIGFzaW46IGFzaW4sXG4gIGF0YW46IGF0YW4sXG4gIGF0YW4yOiBhdGFuMixcbiAgdHJ1bmNhdGU6IHRydW5jYXRlLFxuICByb3VuZDogcm91bmQsXG4gIGNlaWxpbmc6IGNlaWxpbmcsXG4gIGZsb29yOiBmbG9vcixcbiAgaXNJdE5hTjogaXNJdE5hTixcbiAgZXZlbjogZXZlbixcbiAgb2RkOiBvZGQsXG4gIGdjZDogZ2NkLFxuICBsY206IGxjbVxufTtcbmZ1bmN0aW9uIGN1cnJ5JChmLCBib3VuZCl7XG4gIHZhciBjb250ZXh0LFxuICBfY3VycnkgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGYubGVuZ3RoID4gMSA/IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgcGFyYW1zID0gYXJncyA/IGFyZ3MuY29uY2F0KCkgOiBbXTtcbiAgICAgIGNvbnRleHQgPSBib3VuZCA/IGNvbnRleHQgfHwgdGhpcyA6IHRoaXM7XG4gICAgICByZXR1cm4gcGFyYW1zLnB1c2guYXBwbHkocGFyYW1zLCBhcmd1bWVudHMpIDxcbiAgICAgICAgICBmLmxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID9cbiAgICAgICAgX2N1cnJ5LmNhbGwoY29udGV4dCwgcGFyYW1zKSA6IGYuYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcbiAgICB9IDogZjtcbiAgfTtcbiAgcmV0dXJuIF9jdXJyeSgpO1xufSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMi4wXG52YXIgdmFsdWVzLCBrZXlzLCBwYWlyc1RvT2JqLCBvYmpUb1BhaXJzLCBsaXN0c1RvT2JqLCBvYmpUb0xpc3RzLCBlbXB0eSwgZWFjaCwgbWFwLCBjb21wYWN0LCBmaWx0ZXIsIHJlamVjdCwgcGFydGl0aW9uLCBmaW5kO1xudmFsdWVzID0gZnVuY3Rpb24ob2JqZWN0KXtcbiAgdmFyIGkkLCB4LCByZXN1bHRzJCA9IFtdO1xuICBmb3IgKGkkIGluIG9iamVjdCkge1xuICAgIHggPSBvYmplY3RbaSRdO1xuICAgIHJlc3VsdHMkLnB1c2goeCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufTtcbmtleXMgPSBmdW5jdGlvbihvYmplY3Qpe1xuICB2YXIgeCwgcmVzdWx0cyQgPSBbXTtcbiAgZm9yICh4IGluIG9iamVjdCkge1xuICAgIHJlc3VsdHMkLnB1c2goeCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufTtcbnBhaXJzVG9PYmogPSBmdW5jdGlvbihvYmplY3Qpe1xuICB2YXIgaSQsIGxlbiQsIHgsIHJlc3VsdHMkID0ge307XG4gIGZvciAoaSQgPSAwLCBsZW4kID0gb2JqZWN0Lmxlbmd0aDsgaSQgPCBsZW4kOyArK2kkKSB7XG4gICAgeCA9IG9iamVjdFtpJF07XG4gICAgcmVzdWx0cyRbeFswXV0gPSB4WzFdO1xuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn07XG5vYmpUb1BhaXJzID0gZnVuY3Rpb24ob2JqZWN0KXtcbiAgdmFyIGtleSwgdmFsdWUsIHJlc3VsdHMkID0gW107XG4gIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgcmVzdWx0cyQucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn07XG5saXN0c1RvT2JqID0gY3VycnkkKGZ1bmN0aW9uKGtleXMsIHZhbHVlcyl7XG4gIHZhciBpJCwgbGVuJCwgaSwga2V5LCByZXN1bHRzJCA9IHt9O1xuICBmb3IgKGkkID0gMCwgbGVuJCA9IGtleXMubGVuZ3RoOyBpJCA8IGxlbiQ7ICsraSQpIHtcbiAgICBpID0gaSQ7XG4gICAga2V5ID0ga2V5c1tpJF07XG4gICAgcmVzdWx0cyRba2V5XSA9IHZhbHVlc1tpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59KTtcbm9ialRvTGlzdHMgPSBmdW5jdGlvbihvYmplY3Qpe1xuICB2YXIga2V5cywgdmFsdWVzLCBrZXksIHZhbHVlO1xuICBrZXlzID0gW107XG4gIHZhbHVlcyA9IFtdO1xuICBmb3IgKGtleSBpbiBvYmplY3QpIHtcbiAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuICAgIGtleXMucHVzaChrZXkpO1xuICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gW2tleXMsIHZhbHVlc107XG59O1xuZW1wdHkgPSBmdW5jdGlvbihvYmplY3Qpe1xuICB2YXIgeDtcbiAgZm9yICh4IGluIG9iamVjdCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5lYWNoID0gY3VycnkkKGZ1bmN0aW9uKGYsIG9iamVjdCl7XG4gIHZhciBpJCwgeDtcbiAgZm9yIChpJCBpbiBvYmplY3QpIHtcbiAgICB4ID0gb2JqZWN0W2kkXTtcbiAgICBmKHgpO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59KTtcbm1hcCA9IGN1cnJ5JChmdW5jdGlvbihmLCBvYmplY3Qpe1xuICB2YXIgaywgeCwgcmVzdWx0cyQgPSB7fTtcbiAgZm9yIChrIGluIG9iamVjdCkge1xuICAgIHggPSBvYmplY3Rba107XG4gICAgcmVzdWx0cyRba10gPSBmKHgpO1xuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn0pO1xuY29tcGFjdCA9IGZ1bmN0aW9uKG9iamVjdCl7XG4gIHZhciBrLCB4LCByZXN1bHRzJCA9IHt9O1xuICBmb3IgKGsgaW4gb2JqZWN0KSB7XG4gICAgeCA9IG9iamVjdFtrXTtcbmlmICh4KSB7XG4gICAgICByZXN1bHRzJFtrXSA9IHg7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn07XG5maWx0ZXIgPSBjdXJyeSQoZnVuY3Rpb24oZiwgb2JqZWN0KXtcbiAgdmFyIGssIHgsIHJlc3VsdHMkID0ge307XG4gIGZvciAoayBpbiBvYmplY3QpIHtcbiAgICB4ID0gb2JqZWN0W2tdO1xuaWYgKGYoeCkpIHtcbiAgICAgIHJlc3VsdHMkW2tdID0geDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHMkO1xufSk7XG5yZWplY3QgPSBjdXJyeSQoZnVuY3Rpb24oZiwgb2JqZWN0KXtcbiAgdmFyIGssIHgsIHJlc3VsdHMkID0ge307XG4gIGZvciAoayBpbiBvYmplY3QpIHtcbiAgICB4ID0gb2JqZWN0W2tdO1xuaWYgKCFmKHgpKSB7XG4gICAgICByZXN1bHRzJFtrXSA9IHg7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRzJDtcbn0pO1xucGFydGl0aW9uID0gY3VycnkkKGZ1bmN0aW9uKGYsIG9iamVjdCl7XG4gIHZhciBwYXNzZWQsIGZhaWxlZCwgaywgeDtcbiAgcGFzc2VkID0ge307XG4gIGZhaWxlZCA9IHt9O1xuICBmb3IgKGsgaW4gb2JqZWN0KSB7XG4gICAgeCA9IG9iamVjdFtrXTtcbiAgICAoZih4KSA/IHBhc3NlZCA6IGZhaWxlZClba10gPSB4O1xuICB9XG4gIHJldHVybiBbcGFzc2VkLCBmYWlsZWRdO1xufSk7XG5maW5kID0gY3VycnkkKGZ1bmN0aW9uKGYsIG9iamVjdCl7XG4gIHZhciBpJCwgeDtcbiAgZm9yIChpJCBpbiBvYmplY3QpIHtcbiAgICB4ID0gb2JqZWN0W2kkXTtcbiAgICBpZiAoZih4KSkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9XG59KTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICB2YWx1ZXM6IHZhbHVlcyxcbiAga2V5czoga2V5cyxcbiAgcGFpcnNUb09iajogcGFpcnNUb09iaixcbiAgb2JqVG9QYWlyczogb2JqVG9QYWlycyxcbiAgbGlzdHNUb09iajogbGlzdHNUb09iaixcbiAgb2JqVG9MaXN0czogb2JqVG9MaXN0cyxcbiAgZW1wdHk6IGVtcHR5LFxuICBlYWNoOiBlYWNoLFxuICBtYXA6IG1hcCxcbiAgZmlsdGVyOiBmaWx0ZXIsXG4gIGNvbXBhY3Q6IGNvbXBhY3QsXG4gIHJlamVjdDogcmVqZWN0LFxuICBwYXJ0aXRpb246IHBhcnRpdGlvbixcbiAgZmluZDogZmluZFxufTtcbmZ1bmN0aW9uIGN1cnJ5JChmLCBib3VuZCl7XG4gIHZhciBjb250ZXh0LFxuICBfY3VycnkgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGYubGVuZ3RoID4gMSA/IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgcGFyYW1zID0gYXJncyA/IGFyZ3MuY29uY2F0KCkgOiBbXTtcbiAgICAgIGNvbnRleHQgPSBib3VuZCA/IGNvbnRleHQgfHwgdGhpcyA6IHRoaXM7XG4gICAgICByZXR1cm4gcGFyYW1zLnB1c2guYXBwbHkocGFyYW1zLCBhcmd1bWVudHMpIDxcbiAgICAgICAgICBmLmxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoID9cbiAgICAgICAgX2N1cnJ5LmNhbGwoY29udGV4dCwgcGFyYW1zKSA6IGYuYXBwbHkoY29udGV4dCwgcGFyYW1zKTtcbiAgICB9IDogZjtcbiAgfTtcbiAgcmV0dXJuIF9jdXJyeSgpO1xufSIsIi8vIEdlbmVyYXRlZCBieSBMaXZlU2NyaXB0IDEuMi4wXG52YXIgc3BsaXQsIGpvaW4sIGxpbmVzLCB1bmxpbmVzLCB3b3JkcywgdW53b3JkcywgY2hhcnMsIHVuY2hhcnMsIHJldmVyc2UsIHJlcGVhdCwgY2FwaXRhbGl6ZSwgY2FtZWxpemUsIGRhc2hlcml6ZTtcbnNwbGl0ID0gY3VycnkkKGZ1bmN0aW9uKHNlcCwgc3RyKXtcbiAgcmV0dXJuIHN0ci5zcGxpdChzZXApO1xufSk7XG5qb2luID0gY3VycnkkKGZ1bmN0aW9uKHNlcCwgeHMpe1xuICByZXR1cm4geHMuam9pbihzZXApO1xufSk7XG5saW5lcyA9IGZ1bmN0aW9uKHN0cil7XG4gIGlmICghc3RyLmxlbmd0aCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICByZXR1cm4gc3RyLnNwbGl0KCdcXG4nKTtcbn07XG51bmxpbmVzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQuam9pbignXFxuJyk7XG59O1xud29yZHMgPSBmdW5jdGlvbihzdHIpe1xuICBpZiAoIXN0ci5sZW5ndGgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgcmV0dXJuIHN0ci5zcGxpdCgvWyBdKy8pO1xufTtcbnVud29yZHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdC5qb2luKCcgJyk7XG59O1xuY2hhcnMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdC5zcGxpdCgnJyk7XG59O1xudW5jaGFycyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGl0LmpvaW4oJycpO1xufTtcbnJldmVyc2UgPSBmdW5jdGlvbihzdHIpe1xuICByZXR1cm4gc3RyLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XG59O1xucmVwZWF0ID0gY3VycnkkKGZ1bmN0aW9uKG4sIHN0cil7XG4gIHZhciByZXN1bHQsIGkkO1xuICByZXN1bHQgPSAnJztcbiAgZm9yIChpJCA9IDA7IGkkIDwgbjsgKytpJCkge1xuICAgIHJlc3VsdCArPSBzdHI7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uKHN0cil7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59O1xuY2FtZWxpemUgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdC5yZXBsYWNlKC9bLV9dKyguKT8vZywgZnVuY3Rpb24oYXJnJCwgYyl7XG4gICAgcmV0dXJuIChjICE9IG51bGwgPyBjIDogJycpLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufTtcbmRhc2hlcml6ZSA9IGZ1bmN0aW9uKHN0cil7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFteLUEtWl0pKFtBLVpdKykvZywgZnVuY3Rpb24oYXJnJCwgbG93ZXIsIHVwcGVyKXtcbiAgICByZXR1cm4gbG93ZXIgKyBcIi1cIiArICh1cHBlci5sZW5ndGggPiAxXG4gICAgICA/IHVwcGVyXG4gICAgICA6IHVwcGVyLnRvTG93ZXJDYXNlKCkpO1xuICB9KS5yZXBsYWNlKC9eKFtBLVpdKykvLCBmdW5jdGlvbihhcmckLCB1cHBlcil7XG4gICAgaWYgKHVwcGVyLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiB1cHBlciArIFwiLVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdXBwZXIudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gIH0pO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzcGxpdDogc3BsaXQsXG4gIGpvaW46IGpvaW4sXG4gIGxpbmVzOiBsaW5lcyxcbiAgdW5saW5lczogdW5saW5lcyxcbiAgd29yZHM6IHdvcmRzLFxuICB1bndvcmRzOiB1bndvcmRzLFxuICBjaGFyczogY2hhcnMsXG4gIHVuY2hhcnM6IHVuY2hhcnMsXG4gIHJldmVyc2U6IHJldmVyc2UsXG4gIHJlcGVhdDogcmVwZWF0LFxuICBjYXBpdGFsaXplOiBjYXBpdGFsaXplLFxuICBjYW1lbGl6ZTogY2FtZWxpemUsXG4gIGRhc2hlcml6ZTogZGFzaGVyaXplXG59O1xuZnVuY3Rpb24gY3VycnkkKGYsIGJvdW5kKXtcbiAgdmFyIGNvbnRleHQsXG4gIF9jdXJyeSA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICByZXR1cm4gZi5sZW5ndGggPiAxID8gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBwYXJhbXMgPSBhcmdzID8gYXJncy5jb25jYXQoKSA6IFtdO1xuICAgICAgY29udGV4dCA9IGJvdW5kID8gY29udGV4dCB8fCB0aGlzIDogdGhpcztcbiAgICAgIHJldHVybiBwYXJhbXMucHVzaC5hcHBseShwYXJhbXMsIGFyZ3VtZW50cykgPFxuICAgICAgICAgIGYubGVuZ3RoICYmIGFyZ3VtZW50cy5sZW5ndGggP1xuICAgICAgICBfY3VycnkuY2FsbChjb250ZXh0LCBwYXJhbXMpIDogZi5hcHBseShjb250ZXh0LCBwYXJhbXMpO1xuICAgIH0gOiBmO1xuICB9O1xuICByZXR1cm4gX2N1cnJ5KCk7XG59IiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xuKGZ1bmN0aW9uIGJyb3dzZXJpZnlTaGltKG1vZHVsZSwgZGVmaW5lKSB7XG4vLyBHZW5lcmF0ZWQgYnkgTGl2ZVNjcmlwdCAxLjIuMFxudmFyIEZ1bmMsIExpc3QsIE9iaiwgU3RyLCBOdW0sIGlkLCBpc1R5cGUsIHJlcGxpY2F0ZSwgcHJlbHVkZSwgdG9TdHJpbmckID0ge30udG9TdHJpbmc7XG5GdW5jID0gcmVxdWlyZSgnLi9GdW5jLmpzJyk7XG5MaXN0ID0gcmVxdWlyZSgnLi9MaXN0LmpzJyk7XG5PYmogPSByZXF1aXJlKCcuL09iai5qcycpO1xuU3RyID0gcmVxdWlyZSgnLi9TdHIuanMnKTtcbk51bSA9IHJlcXVpcmUoJy4vTnVtLmpzJyk7XG5pZCA9IGZ1bmN0aW9uKHgpe1xuICByZXR1cm4geDtcbn07XG5pc1R5cGUgPSBjdXJyeSQoZnVuY3Rpb24odHlwZSwgeCl7XG4gIHJldHVybiB0b1N0cmluZyQuY2FsbCh4KS5zbGljZSg4LCAtMSkgPT09IHR5cGU7XG59KTtcbnJlcGxpY2F0ZSA9IGN1cnJ5JChmdW5jdGlvbihuLCB4KXtcbiAgdmFyIGkkLCByZXN1bHRzJCA9IFtdO1xuICBmb3IgKGkkID0gMDsgaSQgPCBuOyArK2kkKSB7XG4gICAgcmVzdWx0cyQucHVzaCh4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cyQ7XG59KTtcblN0ci5lbXB0eSA9IExpc3QuZW1wdHk7XG5TdHIuc2xpY2UgPSBMaXN0LnNsaWNlO1xuU3RyLnRha2UgPSBMaXN0LnRha2U7XG5TdHIuZHJvcCA9IExpc3QuZHJvcDtcblN0ci5zcGxpdEF0ID0gTGlzdC5zcGxpdEF0O1xuU3RyLnRha2VXaGlsZSA9IExpc3QudGFrZVdoaWxlO1xuU3RyLmRyb3BXaGlsZSA9IExpc3QuZHJvcFdoaWxlO1xuU3RyLnNwYW4gPSBMaXN0LnNwYW47XG5TdHIuYnJlYWtTdHIgPSBMaXN0LmJyZWFrTGlzdDtcbnByZWx1ZGUgPSB7XG4gIEZ1bmM6IEZ1bmMsXG4gIExpc3Q6IExpc3QsXG4gIE9iajogT2JqLFxuICBTdHI6IFN0cixcbiAgTnVtOiBOdW0sXG4gIGlkOiBpZCxcbiAgaXNUeXBlOiBpc1R5cGUsXG4gIHJlcGxpY2F0ZTogcmVwbGljYXRlXG59O1xucHJlbHVkZS5lYWNoID0gTGlzdC5lYWNoO1xucHJlbHVkZS5tYXAgPSBMaXN0Lm1hcDtcbnByZWx1ZGUuZmlsdGVyID0gTGlzdC5maWx0ZXI7XG5wcmVsdWRlLmNvbXBhY3QgPSBMaXN0LmNvbXBhY3Q7XG5wcmVsdWRlLnJlamVjdCA9IExpc3QucmVqZWN0O1xucHJlbHVkZS5wYXJ0aXRpb24gPSBMaXN0LnBhcnRpdGlvbjtcbnByZWx1ZGUuZmluZCA9IExpc3QuZmluZDtcbnByZWx1ZGUuaGVhZCA9IExpc3QuaGVhZDtcbnByZWx1ZGUuZmlyc3QgPSBMaXN0LmZpcnN0O1xucHJlbHVkZS50YWlsID0gTGlzdC50YWlsO1xucHJlbHVkZS5sYXN0ID0gTGlzdC5sYXN0O1xucHJlbHVkZS5pbml0aWFsID0gTGlzdC5pbml0aWFsO1xucHJlbHVkZS5lbXB0eSA9IExpc3QuZW1wdHk7XG5wcmVsdWRlLnJldmVyc2UgPSBMaXN0LnJldmVyc2U7XG5wcmVsdWRlLmRpZmZlcmVuY2UgPSBMaXN0LmRpZmZlcmVuY2U7XG5wcmVsdWRlLmludGVyc2VjdGlvbiA9IExpc3QuaW50ZXJzZWN0aW9uO1xucHJlbHVkZS51bmlvbiA9IExpc3QudW5pb247XG5wcmVsdWRlLmNvdW50QnkgPSBMaXN0LmNvdW50Qnk7XG5wcmVsdWRlLmdyb3VwQnkgPSBMaXN0Lmdyb3VwQnk7XG5wcmVsdWRlLmZvbGQgPSBMaXN0LmZvbGQ7XG5wcmVsdWRlLmZvbGRsID0gTGlzdC5mb2xkbDtcbnByZWx1ZGUuZm9sZDEgPSBMaXN0LmZvbGQxO1xucHJlbHVkZS5mb2xkbDEgPSBMaXN0LmZvbGRsMTtcbnByZWx1ZGUuZm9sZHIgPSBMaXN0LmZvbGRyO1xucHJlbHVkZS5mb2xkcjEgPSBMaXN0LmZvbGRyMTtcbnByZWx1ZGUudW5mb2xkciA9IExpc3QudW5mb2xkcjtcbnByZWx1ZGUuYW5kTGlzdCA9IExpc3QuYW5kTGlzdDtcbnByZWx1ZGUub3JMaXN0ID0gTGlzdC5vckxpc3Q7XG5wcmVsdWRlLmFueSA9IExpc3QuYW55O1xucHJlbHVkZS5hbGwgPSBMaXN0LmFsbDtcbnByZWx1ZGUudW5pcXVlID0gTGlzdC51bmlxdWU7XG5wcmVsdWRlLnVuaXF1ZUJ5ID0gTGlzdC51bmlxdWVCeTtcbnByZWx1ZGUuc29ydCA9IExpc3Quc29ydDtcbnByZWx1ZGUuc29ydFdpdGggPSBMaXN0LnNvcnRXaXRoO1xucHJlbHVkZS5zb3J0QnkgPSBMaXN0LnNvcnRCeTtcbnByZWx1ZGUuc3VtID0gTGlzdC5zdW07XG5wcmVsdWRlLnByb2R1Y3QgPSBMaXN0LnByb2R1Y3Q7XG5wcmVsdWRlLm1lYW4gPSBMaXN0Lm1lYW47XG5wcmVsdWRlLmF2ZXJhZ2UgPSBMaXN0LmF2ZXJhZ2U7XG5wcmVsdWRlLmNvbmNhdCA9IExpc3QuY29uY2F0O1xucHJlbHVkZS5jb25jYXRNYXAgPSBMaXN0LmNvbmNhdE1hcDtcbnByZWx1ZGUuZmxhdHRlbiA9IExpc3QuZmxhdHRlbjtcbnByZWx1ZGUubWF4aW11bSA9IExpc3QubWF4aW11bTtcbnByZWx1ZGUubWluaW11bSA9IExpc3QubWluaW11bTtcbnByZWx1ZGUubWF4aW11bUJ5ID0gTGlzdC5tYXhpbXVtQnk7XG5wcmVsdWRlLm1pbmltdW1CeSA9IExpc3QubWluaW11bUJ5O1xucHJlbHVkZS5zY2FuID0gTGlzdC5zY2FuO1xucHJlbHVkZS5zY2FubCA9IExpc3Quc2Nhbmw7XG5wcmVsdWRlLnNjYW4xID0gTGlzdC5zY2FuMTtcbnByZWx1ZGUuc2NhbmwxID0gTGlzdC5zY2FubDE7XG5wcmVsdWRlLnNjYW5yID0gTGlzdC5zY2FucjtcbnByZWx1ZGUuc2NhbnIxID0gTGlzdC5zY2FucjE7XG5wcmVsdWRlLnNsaWNlID0gTGlzdC5zbGljZTtcbnByZWx1ZGUudGFrZSA9IExpc3QudGFrZTtcbnByZWx1ZGUuZHJvcCA9IExpc3QuZHJvcDtcbnByZWx1ZGUuc3BsaXRBdCA9IExpc3Quc3BsaXRBdDtcbnByZWx1ZGUudGFrZVdoaWxlID0gTGlzdC50YWtlV2hpbGU7XG5wcmVsdWRlLmRyb3BXaGlsZSA9IExpc3QuZHJvcFdoaWxlO1xucHJlbHVkZS5zcGFuID0gTGlzdC5zcGFuO1xucHJlbHVkZS5icmVha0xpc3QgPSBMaXN0LmJyZWFrTGlzdDtcbnByZWx1ZGUuemlwID0gTGlzdC56aXA7XG5wcmVsdWRlLnppcFdpdGggPSBMaXN0LnppcFdpdGg7XG5wcmVsdWRlLnppcEFsbCA9IExpc3QuemlwQWxsO1xucHJlbHVkZS56aXBBbGxXaXRoID0gTGlzdC56aXBBbGxXaXRoO1xucHJlbHVkZS5hdCA9IExpc3QuYXQ7XG5wcmVsdWRlLmVsZW1JbmRleCA9IExpc3QuZWxlbUluZGV4O1xucHJlbHVkZS5lbGVtSW5kaWNlcyA9IExpc3QuZWxlbUluZGljZXM7XG5wcmVsdWRlLmZpbmRJbmRleCA9IExpc3QuZmluZEluZGV4O1xucHJlbHVkZS5maW5kSW5kaWNlcyA9IExpc3QuZmluZEluZGljZXM7XG5wcmVsdWRlLmFwcGx5ID0gRnVuYy5hcHBseTtcbnByZWx1ZGUuY3VycnkgPSBGdW5jLmN1cnJ5O1xucHJlbHVkZS5mbGlwID0gRnVuYy5mbGlwO1xucHJlbHVkZS5maXggPSBGdW5jLmZpeDtcbnByZWx1ZGUub3ZlciA9IEZ1bmMub3ZlcjtcbnByZWx1ZGUuc3BsaXQgPSBTdHIuc3BsaXQ7XG5wcmVsdWRlLmpvaW4gPSBTdHIuam9pbjtcbnByZWx1ZGUubGluZXMgPSBTdHIubGluZXM7XG5wcmVsdWRlLnVubGluZXMgPSBTdHIudW5saW5lcztcbnByZWx1ZGUud29yZHMgPSBTdHIud29yZHM7XG5wcmVsdWRlLnVud29yZHMgPSBTdHIudW53b3JkcztcbnByZWx1ZGUuY2hhcnMgPSBTdHIuY2hhcnM7XG5wcmVsdWRlLnVuY2hhcnMgPSBTdHIudW5jaGFycztcbnByZWx1ZGUucmVwZWF0ID0gU3RyLnJlcGVhdDtcbnByZWx1ZGUuY2FwaXRhbGl6ZSA9IFN0ci5jYXBpdGFsaXplO1xucHJlbHVkZS5jYW1lbGl6ZSA9IFN0ci5jYW1lbGl6ZTtcbnByZWx1ZGUuZGFzaGVyaXplID0gU3RyLmRhc2hlcml6ZTtcbnByZWx1ZGUudmFsdWVzID0gT2JqLnZhbHVlcztcbnByZWx1ZGUua2V5cyA9IE9iai5rZXlzO1xucHJlbHVkZS5wYWlyc1RvT2JqID0gT2JqLnBhaXJzVG9PYmo7XG5wcmVsdWRlLm9ialRvUGFpcnMgPSBPYmoub2JqVG9QYWlycztcbnByZWx1ZGUubGlzdHNUb09iaiA9IE9iai5saXN0c1RvT2JqO1xucHJlbHVkZS5vYmpUb0xpc3RzID0gT2JqLm9ialRvTGlzdHM7XG5wcmVsdWRlLm1heCA9IE51bS5tYXg7XG5wcmVsdWRlLm1pbiA9IE51bS5taW47XG5wcmVsdWRlLm5lZ2F0ZSA9IE51bS5uZWdhdGU7XG5wcmVsdWRlLmFicyA9IE51bS5hYnM7XG5wcmVsdWRlLnNpZ251bSA9IE51bS5zaWdudW07XG5wcmVsdWRlLnF1b3QgPSBOdW0ucXVvdDtcbnByZWx1ZGUucmVtID0gTnVtLnJlbTtcbnByZWx1ZGUuZGl2ID0gTnVtLmRpdjtcbnByZWx1ZGUubW9kID0gTnVtLm1vZDtcbnByZWx1ZGUucmVjaXAgPSBOdW0ucmVjaXA7XG5wcmVsdWRlLnBpID0gTnVtLnBpO1xucHJlbHVkZS50YXUgPSBOdW0udGF1O1xucHJlbHVkZS5leHAgPSBOdW0uZXhwO1xucHJlbHVkZS5zcXJ0ID0gTnVtLnNxcnQ7XG5wcmVsdWRlLmxuID0gTnVtLmxuO1xucHJlbHVkZS5wb3cgPSBOdW0ucG93O1xucHJlbHVkZS5zaW4gPSBOdW0uc2luO1xucHJlbHVkZS50YW4gPSBOdW0udGFuO1xucHJlbHVkZS5jb3MgPSBOdW0uY29zO1xucHJlbHVkZS5hY29zID0gTnVtLmFjb3M7XG5wcmVsdWRlLmFzaW4gPSBOdW0uYXNpbjtcbnByZWx1ZGUuYXRhbiA9IE51bS5hdGFuO1xucHJlbHVkZS5hdGFuMiA9IE51bS5hdGFuMjtcbnByZWx1ZGUudHJ1bmNhdGUgPSBOdW0udHJ1bmNhdGU7XG5wcmVsdWRlLnJvdW5kID0gTnVtLnJvdW5kO1xucHJlbHVkZS5jZWlsaW5nID0gTnVtLmNlaWxpbmc7XG5wcmVsdWRlLmZsb29yID0gTnVtLmZsb29yO1xucHJlbHVkZS5pc0l0TmFOID0gTnVtLmlzSXROYU47XG5wcmVsdWRlLmV2ZW4gPSBOdW0uZXZlbjtcbnByZWx1ZGUub2RkID0gTnVtLm9kZDtcbnByZWx1ZGUuZ2NkID0gTnVtLmdjZDtcbnByZWx1ZGUubGNtID0gTnVtLmxjbTtcbnByZWx1ZGUuVkVSU0lPTiA9ICcxLjEuMSc7XG5tb2R1bGUuZXhwb3J0cyA9IHByZWx1ZGU7XG5mdW5jdGlvbiBjdXJyeSQoZiwgYm91bmQpe1xuICB2YXIgY29udGV4dCxcbiAgX2N1cnJ5ID0gZnVuY3Rpb24oYXJncykge1xuICAgIHJldHVybiBmLmxlbmd0aCA+IDEgPyBmdW5jdGlvbigpe1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3MgPyBhcmdzLmNvbmNhdCgpIDogW107XG4gICAgICBjb250ZXh0ID0gYm91bmQgPyBjb250ZXh0IHx8IHRoaXMgOiB0aGlzO1xuICAgICAgcmV0dXJuIHBhcmFtcy5wdXNoLmFwcGx5KHBhcmFtcywgYXJndW1lbnRzKSA8XG4gICAgICAgICAgZi5sZW5ndGggJiYgYXJndW1lbnRzLmxlbmd0aCA/XG4gICAgICAgIF9jdXJyeS5jYWxsKGNvbnRleHQsIHBhcmFtcykgOiBmLmFwcGx5KGNvbnRleHQsIHBhcmFtcyk7XG4gICAgfSA6IGY7XG4gIH07XG4gIHJldHVybiBfY3VycnkoKTtcbn1cbn0pLmNhbGwoZ2xvYmFsLCBtb2R1bGUsIHVuZGVmaW5lZCk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIl19
